IssueLabelID,Title,Description,Title_Description,Label,Assignee,CreatedAt,ClosedAt
39405,ChangedText.WithChanges crashes when new deletion larger than old,"Do we also need to handle the case where the new deletion is larger than the old? It looks like the following fails with or without this PR:
```C#
var original = SourceText.From(""01234"");
var change1 = original.WithChanges(new TextChange(new TextSpan(1 3) ""aa""));
var change2 = change1.WithChanges(new TextChange(new TextSpan(1 3) ""bb""));

var changes = change2.GetTextChanges(original);
Assert.Equal(""0aa4"" change1.ToString());
Assert.Equal(""0bb"" change2.ToString());
```
We can log a bug for this case and handle it separately.

_Originally posted by @cston in https://github.com/dotnet/roslyn/pull/39258_

/cc @ashmind","ChangedText.WithChanges crashes when new deletion larger than old Do we also need to handle the case where the new deletion is larger than the old? It looks like the following fails with or without this PR:
```C#
var original = SourceText.From(""01234"");
var change1 = original.WithChanges(new TextChange(new TextSpan(1 3) ""aa""));
var change2 = change1.WithChanges(new TextChange(new TextSpan(1 3) ""bb""));

var changes = change2.GetTextChanges(original);
Assert.Equal(""0aa4"" change1.ToString());
Assert.Equal(""0bb"" change2.ToString());
```
We can log a bug for this case and handle it separately.

_Originally posted by @cston in https://github.com/dotnet/roslyn/pull/39258_

/cc @ashmind",Area-Compilers|Bug|help wanted,RikkiGibson|ashmind|cston,20/10/2019 13:23,
39403,Merge master to features/static-lambdas,"
This is an automatically generated pull request from master into features/static-lambdas.

``` bash
git fetch --all
git checkout merges/master-to-features/static-lambdas
git reset --hard upstream/features/static-lambdas
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-features/static-lambdas --force
```
Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge master to features/static-lambdas 
This is an automatically generated pull request from master into features/static-lambdas.

``` bash
git fetch --all
git checkout merges/master-to-features/static-lambdas
git reset --hard upstream/features/static-lambdas
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-features/static-lambdas --force
```
Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot,19/10/2019 23:03,
39402,Merge master to release/dev16.5-preview1,"
This is an automatically generated pull request from master into release/dev16.5-preview1.

``` bash
git fetch --all
git checkout merges/master-to-release/dev16.5-preview1
git reset --hard upstream/release/dev16.5-preview1
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-release/dev16.5-preview1 --force
```
Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge master to release/dev16.5-preview1 
This is an automatically generated pull request from master into release/dev16.5-preview1.

``` bash
git fetch --all
git checkout merges/master-to-release/dev16.5-preview1
git reset --hard upstream/release/dev16.5-preview1
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-release/dev16.5-preview1 --force
```
Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot,19/10/2019 23:02,
39401,Completion: support local language identifiers and en-us keywords,"Fixes https://github.com/dotnet/roslyn/issues/29938

Tests borrowed from https://github.com/dotnet/roslyn/pull/30391
Idea of implementation is suggested by @jasonmalinowski ","Completion: support local language identifiers and en-us keywords Fixes https://github.com/dotnet/roslyn/issues/29938

Tests borrowed from https://github.com/dotnet/roslyn/pull/30391
Idea of implementation is suggested by @jasonmalinowski ",Area-IDE|IDE-IntelliSense,ivanbasov|jasonmalinowski,19/10/2019 11:11,
39400,Merge master to features/static-lambdas,"
This is an automatically generated pull request from master into features/static-lambdas.

``` bash
git fetch --all
git checkout merges/master-to-features/static-lambdas
git reset --hard upstream/features/static-lambdas
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-features/static-lambdas --force
```
Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge master to features/static-lambdas 
This is an automatically generated pull request from master into features/static-lambdas.

``` bash
git fetch --all
git checkout merges/master-to-features/static-lambdas
git reset --hard upstream/features/static-lambdas
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-features/static-lambdas --force
```
Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|dibarbet,19/10/2019 11:04,19/10/2019 13:32
39399,Merge master to features/local-function-attributes,"
This is an automatically generated pull request from master into features/local-function-attributes.

``` bash
git fetch --all
git checkout merges/master-to-features/local-function-attributes
git reset --hard upstream/features/local-function-attributes
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-features/local-function-attributes --force
```
Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge master to features/local-function-attributes 
This is an automatically generated pull request from master into features/local-function-attributes.

``` bash
git fetch --all
git checkout merges/master-to-features/local-function-attributes
git reset --hard upstream/features/local-function-attributes
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-features/local-function-attributes --force
```
Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot,19/10/2019 11:04,
39398,Merge master to release/dev16.5-preview1,"
This is an automatically generated pull request from master into release/dev16.5-preview1.

``` bash
git fetch --all
git checkout merges/master-to-release/dev16.5-preview1
git reset --hard upstream/release/dev16.5-preview1
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-release/dev16.5-preview1 --force
```
Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge master to release/dev16.5-preview1 
This is an automatically generated pull request from master into release/dev16.5-preview1.

``` bash
git fetch --all
git checkout merges/master-to-release/dev16.5-preview1
git reset --hard upstream/release/dev16.5-preview1
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-release/dev16.5-preview1 --force
```
Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|dibarbet,19/10/2019 11:02,19/10/2019 13:33
39395,Performance fix in analyzer driver for CFG based analyzers,"We expose public APIs on IOperation related analysis contexts to allow flow based analyzers to fetch ControlFlowGraph for the operation block. Additionally the analyzer driver caches the CFGs for operation block (when first requested by some flow based analyzer) to allow sharing CFGs between flow based analyzers. However we were holding onto these for the entire lifetime of the compilation. This change fixes that by removing the CFG entry once a particular operation block has been fully analyzed.

Fixes VSFeedback issue [#998181](https://dev.azure.com/devdiv/DevDiv/_workitems/edit/998181)

Verified no performance regression in benchmarks:

1. Before this commit:
```
|                      Method | UnrollFactor |        Mean |    Error |   StdDev |      Median |         Min |         Max |       Gen 0 |      Gen 1 |     Gen 2 |  Allocated |
|---------------------------- |------------- |------------:|---------:|---------:|------------:|------------:|------------:|------------:|-----------:|----------:|-----------:|
|       CompileMethodsAndEmit |           16 |  4950.5 ms | 26.68 ms | 24.96 ms |  4942.9 ms |  4912.7 ms |  4996.9 ms |  83000.0000 | 24000.0000 |         - |  506.23 MB |
|           SerializeMetadata |           16 |    294.6 ms |  2.77 ms |  2.72 ms |    294.0 ms |    289.5 ms |    298.8 ms |   3000.0000 |  1000.0000 |         - |   33.21 MB |
|              GetDiagnostics |            1 |  3661.5 ms | 15.32 ms | 12.79 ms |  3659.7 ms |  3642.0 ms |  3679.7 ms |  78000.0000 | 21000.0000 |         - |  389.27 MB |
| GetDiagnosticsWithAnalyzers |            1 | 13329.6 ms | 78.06 ms | 73.02 ms | 13296.6 ms | 13219.2 ms | 13459.5 ms | 232000.0000 | 63000.0000 | 2000.0000 | 1399.55 MB |
```

2. After this commit:
```
|                      Method | UnrollFactor |        Mean |    Error |   StdDev |      Median |         Min |         Max |       Gen 0 |      Gen 1 |     Gen 2 |  Allocated |
|---------------------------- |------------- |------------:|---------:|---------:|------------:|------------:|------------:|------------:|-----------:|----------:|-----------:|
|       CompileMethodsAndEmit |           16 |  4957.1 ms | 45.94 ms | 40.72 ms |  4945.3 ms |  4911.2 ms |  5061.0 ms |  83000.0000 | 22000.0000 |         - |  506.41 MB |
|           SerializeMetadata |           16 |    289.0 ms |  3.66 ms | 10.02 ms |    287.8 ms |    273.5 ms |    318.1 ms |   3000.0000 |          - |         - |   33.21 MB |
|              GetDiagnostics |            1 |  3659.9 ms | 14.19 ms | 12.57 ms |  3656.7 ms |  3644.3 ms |  3686.5 ms |  78000.0000 | 21000.0000 |         - |  389.26 MB |
| GetDiagnosticsWithAnalyzers |            1 | 13408.3 ms | 75.15 ms | 58.67 ms | 13411.2 ms | 13295.4 ms | 13498.3 ms | 234000.0000 | 63000.0000 | 3000.0000 | 1409.24 MB |
```","Performance fix in analyzer driver for CFG based analyzers We expose public APIs on IOperation related analysis contexts to allow flow based analyzers to fetch ControlFlowGraph for the operation block. Additionally the analyzer driver caches the CFGs for operation block (when first requested by some flow based analyzer) to allow sharing CFGs between flow based analyzers. However we were holding onto these for the entire lifetime of the compilation. This change fixes that by removing the CFG entry once a particular operation block has been fully analyzed.

Fixes VSFeedback issue [#998181](https://dev.azure.com/devdiv/DevDiv/_workitems/edit/998181)

Verified no performance regression in benchmarks:

1. Before this commit:
```
|                      Method | UnrollFactor |        Mean |    Error |   StdDev |      Median |         Min |         Max |       Gen 0 |      Gen 1 |     Gen 2 |  Allocated |
|---------------------------- |------------- |------------:|---------:|---------:|------------:|------------:|------------:|------------:|-----------:|----------:|-----------:|
|       CompileMethodsAndEmit |           16 |  4950.5 ms | 26.68 ms | 24.96 ms |  4942.9 ms |  4912.7 ms |  4996.9 ms |  83000.0000 | 24000.0000 |         - |  506.23 MB |
|           SerializeMetadata |           16 |    294.6 ms |  2.77 ms |  2.72 ms |    294.0 ms |    289.5 ms |    298.8 ms |   3000.0000 |  1000.0000 |         - |   33.21 MB |
|              GetDiagnostics |            1 |  3661.5 ms | 15.32 ms | 12.79 ms |  3659.7 ms |  3642.0 ms |  3679.7 ms |  78000.0000 | 21000.0000 |         - |  389.27 MB |
| GetDiagnosticsWithAnalyzers |            1 | 13329.6 ms | 78.06 ms | 73.02 ms | 13296.6 ms | 13219.2 ms | 13459.5 ms | 232000.0000 | 63000.0000 | 2000.0000 | 1399.55 MB |
```

2. After this commit:
```
|                      Method | UnrollFactor |        Mean |    Error |   StdDev |      Median |         Min |         Max |       Gen 0 |      Gen 1 |     Gen 2 |  Allocated |
|---------------------------- |------------- |------------:|---------:|---------:|------------:|------------:|------------:|------------:|-----------:|----------:|-----------:|
|       CompileMethodsAndEmit |           16 |  4957.1 ms | 45.94 ms | 40.72 ms |  4945.3 ms |  4911.2 ms |  5061.0 ms |  83000.0000 | 22000.0000 |         - |  506.41 MB |
|           SerializeMetadata |           16 |    289.0 ms |  3.66 ms | 10.02 ms |    287.8 ms |    273.5 ms |    318.1 ms |   3000.0000 |          - |         - |   33.21 MB |
|              GetDiagnostics |            1 |  3659.9 ms | 14.19 ms | 12.57 ms |  3656.7 ms |  3644.3 ms |  3686.5 ms |  78000.0000 | 21000.0000 |         - |  389.26 MB |
| GetDiagnosticsWithAnalyzers |            1 | 13408.3 ms | 75.15 ms | 58.67 ms | 13411.2 ms | 13295.4 ms | 13498.3 ms | 234000.0000 | 63000.0000 | 3000.0000 | 1409.24 MB |
```",Area-Analyzers|Area-Compilers,mavasani,19/10/2019 8:40,
39394,Re-use semantic model when attempting to compute suppress message att…,"…ribute based suppressions

Current implementation always creates a new semantic model for decoding local suppress message attributes (applied to each symbol). This change attempts to re-use the cached semantic models held by the analyzer driver to avoid rebinding cost.

Fixes VSFeedback issue [#973445](https://dev.azure.com/devdiv/DevDiv/_workitems/edit/973445)

Verified no regression in perf benchmarks:

Before this change:
```
|                      Method | UnrollFactor |        Mean |     Error |    StdDev |      Median |         Min |         Max |       Gen 0 |      Gen 1 |     Gen 2 |  Allocated |
|---------------------------- |------------- |------------:|----------:|----------:|------------:|------------:|------------:|------------:|-----------:|----------:|-----------:|
|       CompileMethodsAndEmit |           16 |  4857.7 ms |  10.11 ms |   7.89 ms |  4859.1 ms |  4841.8 ms |  4868.6 ms |  83000.0000 | 24000.0000 |         - |  505.41 MB |
|           SerializeMetadata |           16 |    280.2 ms |   2.79 ms |   4.09 ms |    280.1 ms |    273.4 ms |    289.3 ms |   3000.0000 |  1000.0000 |         - |    33.2 MB |
|              GetDiagnostics |            1 |  3580.0 ms |   6.14 ms |   5.13 ms |  3580.2 ms |  3572.5 ms |  3592.2 ms |  78000.0000 | 22000.0000 |         - |  388.35 MB |
| GetDiagnosticsWithAnalyzers |            1 | 13022.7 ms | 128.31 ms | 157.58 ms | 12990.0 ms | 12846.8 ms | 13534.0 ms | 254000.0000 | 68000.0000 | 3000.0000 | 1523.64 MB |
```

After this change:
```
|                      Method | UnrollFactor |        Mean |    Error |   StdDev |      Median |         Min |         Max |       Gen 0 |      Gen 1 |     Gen 2 |  Allocated |
|---------------------------- |------------- |------------:|---------:|---------:|------------:|------------:|------------:|------------:|-----------:|----------:|-----------:|
|       CompileMethodsAndEmit |           16 |  4864.4 ms | 33.31 ms | 31.15 ms |  4850.4 ms |  4836.0 ms |  4928.2 ms |  83000.0000 | 22000.0000 |         - |   505.5 MB |
|           SerializeMetadata |           16 |    284.4 ms |  2.31 ms |  2.05 ms |    284.7 ms |    279.9 ms |    286.9 ms |   3000.0000 |          - |         - |   33.21 MB |
|              GetDiagnostics |            1 |  3603.0 ms | 17.84 ms | 14.90 ms |  3601.8 ms |  3586.8 ms |  3640.6 ms |  77000.0000 | 18000.0000 |         - |  388.32 MB |
| GetDiagnosticsWithAnalyzers |            1 | 13003.7 ms | 68.14 ms | 63.74 ms | 13002.5 ms | 12857.8 ms | 13124.9 ms | 255000.0000 | 68000.0000 | 3000.0000 | 1524.79 MB |
```","Re-use semantic model when attempting to compute suppress message att… …ribute based suppressions

Current implementation always creates a new semantic model for decoding local suppress message attributes (applied to each symbol). This change attempts to re-use the cached semantic models held by the analyzer driver to avoid rebinding cost.

Fixes VSFeedback issue [#973445](https://dev.azure.com/devdiv/DevDiv/_workitems/edit/973445)

Verified no regression in perf benchmarks:

Before this change:
```
|                      Method | UnrollFactor |        Mean |     Error |    StdDev |      Median |         Min |         Max |       Gen 0 |      Gen 1 |     Gen 2 |  Allocated |
|---------------------------- |------------- |------------:|----------:|----------:|------------:|------------:|------------:|------------:|-----------:|----------:|-----------:|
|       CompileMethodsAndEmit |           16 |  4857.7 ms |  10.11 ms |   7.89 ms |  4859.1 ms |  4841.8 ms |  4868.6 ms |  83000.0000 | 24000.0000 |         - |  505.41 MB |
|           SerializeMetadata |           16 |    280.2 ms |   2.79 ms |   4.09 ms |    280.1 ms |    273.4 ms |    289.3 ms |   3000.0000 |  1000.0000 |         - |    33.2 MB |
|              GetDiagnostics |            1 |  3580.0 ms |   6.14 ms |   5.13 ms |  3580.2 ms |  3572.5 ms |  3592.2 ms |  78000.0000 | 22000.0000 |         - |  388.35 MB |
| GetDiagnosticsWithAnalyzers |            1 | 13022.7 ms | 128.31 ms | 157.58 ms | 12990.0 ms | 12846.8 ms | 13534.0 ms | 254000.0000 | 68000.0000 | 3000.0000 | 1523.64 MB |
```

After this change:
```
|                      Method | UnrollFactor |        Mean |    Error |   StdDev |      Median |         Min |         Max |       Gen 0 |      Gen 1 |     Gen 2 |  Allocated |
|---------------------------- |------------- |------------:|---------:|---------:|------------:|------------:|------------:|------------:|-----------:|----------:|-----------:|
|       CompileMethodsAndEmit |           16 |  4864.4 ms | 33.31 ms | 31.15 ms |  4850.4 ms |  4836.0 ms |  4928.2 ms |  83000.0000 | 22000.0000 |         - |   505.5 MB |
|           SerializeMetadata |           16 |    284.4 ms |  2.31 ms |  2.05 ms |    284.7 ms |    279.9 ms |    286.9 ms |   3000.0000 |          - |         - |   33.21 MB |
|              GetDiagnostics |            1 |  3603.0 ms | 17.84 ms | 14.90 ms |  3601.8 ms |  3586.8 ms |  3640.6 ms |  77000.0000 | 18000.0000 |         - |  388.32 MB |
| GetDiagnosticsWithAnalyzers |            1 | 13003.7 ms | 68.14 ms | 63.74 ms | 13002.5 ms | 12857.8 ms | 13124.9 ms | 255000.0000 | 68000.0000 | 3000.0000 | 1524.79 MB |
```",Area-Analyzers|Area-Compilers,mavasani,19/10/2019 6:56,
39393,Fix switch expression conversion creates broken code due to unspecific var return,"Fixes #38771 and fixes #39363 

Also changed the result of an existing test that seems to result in a compiler error.","Fix switch expression conversion creates broken code due to unspecific var return Fixes #38771 and fixes #39363 

Also changed the result of an existing test that seems to result in a compiler error.",Area-IDE,allisonchou,19/10/2019 6:32,
39392,Extern local functions,,Extern local functions ,PR For Personal Review Only,RikkiGibson,19/10/2019 6:31,
39391,C# Intellisense: Disable most recently used members,"_This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/741677/c-intellisense-disable-most-recently-used-members.html)._

---
I'd like to be able to disable this feature: https://docs.microsoft.com/en-us/visualstudio/ide/visual-csharp-intellisense?view=vs-2019#most-recently-used-members

If I have a type **DateTime** and a variable **dateTime** and I've _most recently_ typed **DateTime** then typing **datet.. ** doesn't autocomplete to **dateTime** but **DateTime**.

Which ends up happening a lot eg:

&gt;var dateTime = DateTime.Now;
&gt;dateT [TAB] =&gt; DateTime.

It's also mentioned here: https://stackoverflow.com/questions/43922535/autocomplete-case-issue

PLEASE let me turn this off. :)

---
### Original Comments

#### Visual Studio Feedback System on 9/22/2019 07:52 PM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>

#### Visual Studio Feedback System on 10/17/2019 04:56 PM: 

<p>This issue is currently being investigated. Our team will get back to you if either more information is needed a workaround is available or the issue is resolved.</p>


---
### Original Solutions
(no solutions)","C# Intellisense: Disable most recently used members _This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/741677/c-intellisense-disable-most-recently-used-members.html)._

---
I'd like to be able to disable this feature: https://docs.microsoft.com/en-us/visualstudio/ide/visual-csharp-intellisense?view=vs-2019#most-recently-used-members

If I have a type **DateTime** and a variable **dateTime** and I've _most recently_ typed **DateTime** then typing **datet.. ** doesn't autocomplete to **dateTime** but **DateTime**.

Which ends up happening a lot eg:

&gt;var dateTime = DateTime.Now;
&gt;dateT [TAB] =&gt; DateTime.

It's also mentioned here: https://stackoverflow.com/questions/43922535/autocomplete-case-issue

PLEASE let me turn this off. :)

---
### Original Comments

#### Visual Studio Feedback System on 9/22/2019 07:52 PM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>

#### Visual Studio Feedback System on 10/17/2019 04:56 PM: 

<p>This issue is currently being investigated. Our team will get back to you if either more information is needed a workaround is available or the issue is resolved.</p>


---
### Original Solutions
(no solutions)",Area-IDE|IDE-IntelliSense|Need Design Review,ivanbasov|sharwell,19/10/2019 5:41,
39388,Lots of code refactoring providers crashes when entering [ before a function argument.,"_This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/778350/lots-of-code-refactoring-providers-crashes-when-en.html)._

---
The following refactoring providers crashes when I try to type a `[` before a function argument with almost the same stacktrace:

- **ReplacePropertyWithMethodsCodeRefactoringProvider**
- **ReplaceMethodWithPropertyCodeRefactoringProvider**
- **CSharpIntroduceUsingStatementCodeRefactoringProvider**
- **CSharpConvertAnonymousTypeToClassCodeRefactoringProvider**
- **CSharpInitializeMemberFromParameterCodeRefactoringProvider**
- **CSharpAddParameterCheckCodeRefactoringProvider**

Stacktrace (I just put one as an example since all are the same down to `at async Microsoft.CodeAnalysis.CodeRefactorings.CodeRefactoringContextExtensions.TryGetRelevantNodeAsync[TSyntaxNode](&lt;Unknown Parameters&gt;)`:

```
System.ArgumentOutOfRangeException : Specified argument was out of the range of valid values.
Parameter name: position
   at Microsoft.CodeAnalysis.SyntaxNode.FindTokenCore(Int32 positionBoolean findInsideTrivia)
   at Microsoft.CodeAnalysis.Shared.Extensions.SyntaxNodeExtensions.GetInitialToken(SyntaxNode rootInt32 positionBoolean includeSkippedBoolean includeDirectivesBoolean includeDocumentationComments)
   at Microsoft.CodeAnalysis.Shared.Extensions.SyntaxNodeExtensions.FindTokenOnRightOfPosition(SyntaxNode rootInt32 positionBoolean includeSkippedBoolean includeDirectivesBoolean includeDocumentationComments)
   at Microsoft.CodeAnalysis.LanguageServices.AbstractSyntaxFactsService.GetStartOfNodeExcludingAttributes(SyntaxNode node)
   at Microsoft.CodeAnalysis.LanguageServices.AbstractSyntaxFactsService.IsOnHeader[THoleSyntax](Int32 positionSyntaxNode ownerOfHeaderSyntaxNodeOrToken lastTokenOrNodeOfHeaderImmutableArray`1 holes)
   at Microsoft.CodeAnalysis.LanguageServices.AbstractSyntaxFactsService.IsOnHeader(Int32 positionSyntaxNode ownerOfHeaderSyntaxNodeOrToken lastTokenOrNodeOfHeader)
   at Microsoft.CodeAnalysis.CSharp.CSharpSyntaxFactsService.IsOnParameterHeader(SyntaxNode rootInt32 positionSyntaxNode&amp; parameter)
   at Microsoft.CodeAnalysis.CodeRefactorings.AbstractRefactoringHelpersService`2. &lt;ExtractNodesInHeader&gt;d__7.MoveNext()
   at System.Linq.Enumerable. &lt;OfTypeIterator&gt;d__95`1.MoveNext()
   at System.Linq.Enumerable.WhereEnumerableIterator`1.MoveNext()
   at Microsoft.CodeAnalysis.CodeRefactorings.AbstractRefactoringHelpersService`2.AddNonHiddenCorrectTypeNodes[TSyntaxNode](IEnumerable`1 nodesArrayBuilder`1 resultBuilderCancellationToken cancellationToken)
   at async Microsoft.CodeAnalysis.CodeRefactorings.AbstractRefactoringHelpersService`2.GetRelevantNodesAsync[TExpressionSyntaxTArgumentSyntaxTSyntaxNode](&lt;Unknown Parameters&gt;)
   at async Microsoft.CodeAnalysis.CodeRefactorings.CodeRefactoringContextExtensions.GetRelevantNodesAsync[TSyntaxNode](&lt;Unknown Parameters&gt;)
   at async Microsoft.CodeAnalysis.CodeRefactorings.CodeRefactoringContextExtensions.TryGetRelevantNodeAsync[TSyntaxNode](&lt;Unknown Parameters&gt;)
   at async Microsoft.CodeAnalysis.ReplacePropertyWithMethods.AbstractReplacePropertyWithMethodsService`5.GetPropertyDeclarationAsync[TIdentifierNameSyntaxTExpressionSyntaxTCrefSyntaxTStatementSyntaxTPropertySyntax]( &lt;Unknown Parameters&gt;)
   at async Microsoft.CodeAnalysis.ReplacePropertyWithMethods.ReplacePropertyWithMethodsCodeRefactoringProvider.ComputeRefactoringsAsync(&lt;Unknown Parameters&gt;)
   at async Microsoft.CodeAnalysis.CodeRefactorings.CodeRefactoringService.GetRefactoringFromProviderAsync(&lt;Unknown Parameters&gt;)
   at Microsoft.VisualStudio.Telemetry.WindowsErrorReporting.WatsonReport.GetClrWatsonExceptionInfo(Exception exceptionObject)
```

---
### Original Comments

#### Visual Studio Feedback System on 10/15/2019 11:25 PM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>

#### Visual Studio Feedback System on 10/18/2019 09:43 AM: 

<p>This issue is currently being investigated. Our team will get back to you if either more information is needed a workaround is available or the issue is resolved.</p>


---
### Original Solutions
(no solutions)","Lots of code refactoring providers crashes when entering [ before a function argument. _This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/778350/lots-of-code-refactoring-providers-crashes-when-en.html)._

---
The following refactoring providers crashes when I try to type a `[` before a function argument with almost the same stacktrace:

- **ReplacePropertyWithMethodsCodeRefactoringProvider**
- **ReplaceMethodWithPropertyCodeRefactoringProvider**
- **CSharpIntroduceUsingStatementCodeRefactoringProvider**
- **CSharpConvertAnonymousTypeToClassCodeRefactoringProvider**
- **CSharpInitializeMemberFromParameterCodeRefactoringProvider**
- **CSharpAddParameterCheckCodeRefactoringProvider**

Stacktrace (I just put one as an example since all are the same down to `at async Microsoft.CodeAnalysis.CodeRefactorings.CodeRefactoringContextExtensions.TryGetRelevantNodeAsync[TSyntaxNode](&lt;Unknown Parameters&gt;)`:

```
System.ArgumentOutOfRangeException : Specified argument was out of the range of valid values.
Parameter name: position
   at Microsoft.CodeAnalysis.SyntaxNode.FindTokenCore(Int32 positionBoolean findInsideTrivia)
   at Microsoft.CodeAnalysis.Shared.Extensions.SyntaxNodeExtensions.GetInitialToken(SyntaxNode rootInt32 positionBoolean includeSkippedBoolean includeDirectivesBoolean includeDocumentationComments)
   at Microsoft.CodeAnalysis.Shared.Extensions.SyntaxNodeExtensions.FindTokenOnRightOfPosition(SyntaxNode rootInt32 positionBoolean includeSkippedBoolean includeDirectivesBoolean includeDocumentationComments)
   at Microsoft.CodeAnalysis.LanguageServices.AbstractSyntaxFactsService.GetStartOfNodeExcludingAttributes(SyntaxNode node)
   at Microsoft.CodeAnalysis.LanguageServices.AbstractSyntaxFactsService.IsOnHeader[THoleSyntax](Int32 positionSyntaxNode ownerOfHeaderSyntaxNodeOrToken lastTokenOrNodeOfHeaderImmutableArray`1 holes)
   at Microsoft.CodeAnalysis.LanguageServices.AbstractSyntaxFactsService.IsOnHeader(Int32 positionSyntaxNode ownerOfHeaderSyntaxNodeOrToken lastTokenOrNodeOfHeader)
   at Microsoft.CodeAnalysis.CSharp.CSharpSyntaxFactsService.IsOnParameterHeader(SyntaxNode rootInt32 positionSyntaxNode&amp; parameter)
   at Microsoft.CodeAnalysis.CodeRefactorings.AbstractRefactoringHelpersService`2. &lt;ExtractNodesInHeader&gt;d__7.MoveNext()
   at System.Linq.Enumerable. &lt;OfTypeIterator&gt;d__95`1.MoveNext()
   at System.Linq.Enumerable.WhereEnumerableIterator`1.MoveNext()
   at Microsoft.CodeAnalysis.CodeRefactorings.AbstractRefactoringHelpersService`2.AddNonHiddenCorrectTypeNodes[TSyntaxNode](IEnumerable`1 nodesArrayBuilder`1 resultBuilderCancellationToken cancellationToken)
   at async Microsoft.CodeAnalysis.CodeRefactorings.AbstractRefactoringHelpersService`2.GetRelevantNodesAsync[TExpressionSyntaxTArgumentSyntaxTSyntaxNode](&lt;Unknown Parameters&gt;)
   at async Microsoft.CodeAnalysis.CodeRefactorings.CodeRefactoringContextExtensions.GetRelevantNodesAsync[TSyntaxNode](&lt;Unknown Parameters&gt;)
   at async Microsoft.CodeAnalysis.CodeRefactorings.CodeRefactoringContextExtensions.TryGetRelevantNodeAsync[TSyntaxNode](&lt;Unknown Parameters&gt;)
   at async Microsoft.CodeAnalysis.ReplacePropertyWithMethods.AbstractReplacePropertyWithMethodsService`5.GetPropertyDeclarationAsync[TIdentifierNameSyntaxTExpressionSyntaxTCrefSyntaxTStatementSyntaxTPropertySyntax]( &lt;Unknown Parameters&gt;)
   at async Microsoft.CodeAnalysis.ReplacePropertyWithMethods.ReplacePropertyWithMethodsCodeRefactoringProvider.ComputeRefactoringsAsync(&lt;Unknown Parameters&gt;)
   at async Microsoft.CodeAnalysis.CodeRefactorings.CodeRefactoringService.GetRefactoringFromProviderAsync(&lt;Unknown Parameters&gt;)
   at Microsoft.VisualStudio.Telemetry.WindowsErrorReporting.WatsonReport.GetClrWatsonExceptionInfo(Exception exceptionObject)
```

---
### Original Comments

#### Visual Studio Feedback System on 10/15/2019 11:25 PM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>

#### Visual Studio Feedback System on 10/18/2019 09:43 AM: 

<p>This issue is currently being investigated. Our team will get back to you if either more information is needed a workaround is available or the issue is resolved.</p>


---
### Original Solutions
(no solutions)",Area-IDE|Bug|IDE-CodeStyle|help wanted,ryzngard,,
39387,Merge master to features/static-lambdas,"
This is an automatically generated pull request from master into features/static-lambdas.

``` bash
git fetch --all
git checkout merges/master-to-features/static-lambdas
git reset --hard upstream/features/static-lambdas
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-features/static-lambdas --force
```
Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge master to features/static-lambdas 
This is an automatically generated pull request from master into features/static-lambdas.

``` bash
git fetch --all
git checkout merges/master-to-features/static-lambdas
git reset --hard upstream/features/static-lambdas
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-features/static-lambdas --force
```
Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|RikkiGibson|msftbot[bot],18/10/2019 23:04,19/10/2019 6:49
39386,Merge master to features/local-function-attributes,"
This is an automatically generated pull request from master into features/local-function-attributes.

``` bash
git fetch --all
git checkout merges/master-to-features/local-function-attributes
git reset --hard upstream/features/local-function-attributes
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-features/local-function-attributes --force
```
Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge master to features/local-function-attributes 
This is an automatically generated pull request from master into features/local-function-attributes.

``` bash
git fetch --all
git checkout merges/master-to-features/local-function-attributes
git reset --hard upstream/features/local-function-attributes
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-features/local-function-attributes --force
```
Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|RikkiGibson|msftbot[bot],18/10/2019 23:03,19/10/2019 6:50
39385,Merge master to master-vs-deps,"
This is an automatically generated pull request from master into master-vs-deps.

``` bash
git fetch --all
git checkout merges/master-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-master-vs-deps --force
```
Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge master to master-vs-deps 
This is an automatically generated pull request from master into master-vs-deps.

``` bash
git fetch --all
git checkout merges/master-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-master-vs-deps --force
```
Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure,dotnet-bot|dibarbet,18/10/2019 23:03,
39384,Merge master to release/dev16.5-preview1,"
This is an automatically generated pull request from master into release/dev16.5-preview1.

``` bash
git fetch --all
git checkout merges/master-to-release/dev16.5-preview1
git reset --hard upstream/release/dev16.5-preview1
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-release/dev16.5-preview1 --force
```
Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge master to release/dev16.5-preview1 
This is an automatically generated pull request from master into release/dev16.5-preview1.

``` bash
git fetch --all
git checkout merges/master-to-release/dev16.5-preview1
git reset --hard upstream/release/dev16.5-preview1
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-release/dev16.5-preview1 --force
```
Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|dibarbet|msftbot[bot],18/10/2019 23:02,19/10/2019 7:36
39379,Merge master to features/static-lambdas,"
This is an automatically generated pull request from master into features/static-lambdas.

``` bash
git fetch --all
git checkout merges/master-to-features/static-lambdas
git reset --hard upstream/features/static-lambdas
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-features/static-lambdas --force
```
Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge master to features/static-lambdas 
This is an automatically generated pull request from master into features/static-lambdas.

``` bash
git fetch --all
git checkout merges/master-to-features/static-lambdas
git reset --hard upstream/features/static-lambdas
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-features/static-lambdas --force
```
Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|dibarbet,18/10/2019 11:04,18/10/2019 18:57
39378,Merge master to features/local-function-attributes,"
This is an automatically generated pull request from master into features/local-function-attributes.

``` bash
git fetch --all
git checkout merges/master-to-features/local-function-attributes
git reset --hard upstream/features/local-function-attributes
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-features/local-function-attributes --force
```
Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge master to features/local-function-attributes 
This is an automatically generated pull request from master into features/local-function-attributes.

``` bash
git fetch --all
git checkout merges/master-to-features/local-function-attributes
git reset --hard upstream/features/local-function-attributes
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-features/local-function-attributes --force
```
Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|dibarbet,18/10/2019 11:04,18/10/2019 18:57
39377,Merge master to master-vs-deps,"
This is an automatically generated pull request from master into master-vs-deps.

``` bash
git fetch --all
git checkout merges/master-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-master-vs-deps --force
```
Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge master to master-vs-deps 
This is an automatically generated pull request from master into master-vs-deps.

``` bash
git fetch --all
git checkout merges/master-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-master-vs-deps --force
```
Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|dibarbet|msftbot[bot],18/10/2019 11:04,18/10/2019 18:57
39376,Merge master to release/dev16.5-preview1,"
This is an automatically generated pull request from master into release/dev16.5-preview1.

``` bash
git fetch --all
git checkout merges/master-to-release/dev16.5-preview1
git reset --hard upstream/release/dev16.5-preview1
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-release/dev16.5-preview1 --force
```
Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge master to release/dev16.5-preview1 
This is an automatically generated pull request from master into release/dev16.5-preview1.

``` bash
git fetch --all
git checkout merges/master-to-release/dev16.5-preview1
git reset --hard upstream/release/dev16.5-preview1
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-release/dev16.5-preview1 --force
```
Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|dibarbet|msftbot[bot],18/10/2019 11:02,18/10/2019 18:57
39375,Find References doesnt show implicit cast operator reference,"_This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/729263/find-references-doesnt-show-implicit-cast-operator.html)._

---
When class contains implicit cast operator  it's reference is not shown .

---
### Original Comments

#### Visual Studio Feedback System on 9/11/2019 03:33 AM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>


---
### Original Solutions
(no solutions)","Find References doesnt show implicit cast operator reference _This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/729263/find-references-doesnt-show-implicit-cast-operator.html)._

---
When class contains implicit cast operator  it's reference is not shown .

---
### Original Comments

#### Visual Studio Feedback System on 9/11/2019 03:33 AM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>


---
### Original Solutions
(no solutions)",Area-IDE|Concept-Continuous Improvement|Developer Community|help wanted,vatsalyaagrawal,18/10/2019 10:26,
39374,Refactor error,"_This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/728995/refactor-error-1.html)._

---
I have this code

```
        Private Function HaveCalculationModeSetToInterpolation(ValidatedItem As Model.Form value As String) As Boolean  
            Try  
                Dim r As New Stimulsoft.Report.StiReport  
                r.LoadFromString(value)  
                Return r.CalculationMode = Stimulsoft.Report.StiCalculationMode.Interpretation  
            Catch ex As Exception  
                Return False  
            End Try  
        End Function
```
trying to introduce using statement on the r variable causes this error

```
System.InvalidCastException : Unable to cast object of type 'Microsoft.CodeAnalysis.VisualBasic.Syntax.CatchBlockSyntax' to type 'Microsoft.CodeAnalysis.VisualBasic.Syntax.StatementSyntax'.  
   at Microsoft.CodeAnalysis.IntroduceUsingStatement.AbstractIntroduceUsingStatementCodeRefactoringProvider`2.FindSiblingStatementContainingLastUsage(TStatementSyntax declarationSyntaxILocalSymbol localVariableSemanticModel semanticModelISyntaxFactsService syntaxFactsServiceCancellationToken cancellationToken)  
   at Microsoft.CodeAnalysis.IntroduceUsingStatement.AbstractIntroduceUsingStatementCodeRefactoringProvider`2.GetStatementsToSurround(TLocalDeclarationSyntax declarationStatementILocalSymbol localVariableSemanticModel semanticModelISyntaxFactsService syntaxFactsServiceCancellationToken cancellationToken)  
   at async Microsoft.CodeAnalysis.IntroduceUsingStatement.AbstractIntroduceUsingStatementCodeRefactoringProvider`2.IntroduceUsingStatementAsync[TStatementSyntaxTLocalDeclarationSyntax](&lt;Unknown Parameters&gt;)  
   at async Microsoft.CodeAnalysis.CodeActions.CodeAction.GetChangedSolutionAsync(&lt;Unknown Parameters&gt;)  
   at async Microsoft.CodeAnalysis.CodeActions.CodeAction.ComputeOperationsAsync(&lt;Unknown Parameters&gt;)  
   at async Microsoft.CodeAnalysis.CodeActions.CodeAction.GetPreviewOperationsAsync(&lt;Unknown Parameters&gt;)  
   at async Microsoft.CodeAnalysis.Editor.Implementation.Suggestions.SuggestedAction.GetPreviewResultAsync(&lt;Unknown Parameters&gt;)  
   at async Microsoft.CodeAnalysis.Editor.Implementation.Suggestions.SuggestedActionWithNestedFlavors.&lt;&gt;c__DisplayClass11_0. &lt;GetPreviewAsync&gt;b__0(&lt;Unknown Parameters&gt;)  
   at async Microsoft.CodeAnalysis.Extensions.IExtensionManagerExtensions.PerformFunctionAsync[T](&lt;Unknown Parameters&gt;)
```

---
### Original Comments

#### Visual Studio Feedback System on 9/10/2019 05:13 AM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>


---
### Original Solutions
(no solutions)","Refactor error _This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/728995/refactor-error-1.html)._

---
I have this code

```
        Private Function HaveCalculationModeSetToInterpolation(ValidatedItem As Model.Form value As String) As Boolean  
            Try  
                Dim r As New Stimulsoft.Report.StiReport  
                r.LoadFromString(value)  
                Return r.CalculationMode = Stimulsoft.Report.StiCalculationMode.Interpretation  
            Catch ex As Exception  
                Return False  
            End Try  
        End Function
```
trying to introduce using statement on the r variable causes this error

```
System.InvalidCastException : Unable to cast object of type 'Microsoft.CodeAnalysis.VisualBasic.Syntax.CatchBlockSyntax' to type 'Microsoft.CodeAnalysis.VisualBasic.Syntax.StatementSyntax'.  
   at Microsoft.CodeAnalysis.IntroduceUsingStatement.AbstractIntroduceUsingStatementCodeRefactoringProvider`2.FindSiblingStatementContainingLastUsage(TStatementSyntax declarationSyntaxILocalSymbol localVariableSemanticModel semanticModelISyntaxFactsService syntaxFactsServiceCancellationToken cancellationToken)  
   at Microsoft.CodeAnalysis.IntroduceUsingStatement.AbstractIntroduceUsingStatementCodeRefactoringProvider`2.GetStatementsToSurround(TLocalDeclarationSyntax declarationStatementILocalSymbol localVariableSemanticModel semanticModelISyntaxFactsService syntaxFactsServiceCancellationToken cancellationToken)  
   at async Microsoft.CodeAnalysis.IntroduceUsingStatement.AbstractIntroduceUsingStatementCodeRefactoringProvider`2.IntroduceUsingStatementAsync[TStatementSyntaxTLocalDeclarationSyntax](&lt;Unknown Parameters&gt;)  
   at async Microsoft.CodeAnalysis.CodeActions.CodeAction.GetChangedSolutionAsync(&lt;Unknown Parameters&gt;)  
   at async Microsoft.CodeAnalysis.CodeActions.CodeAction.ComputeOperationsAsync(&lt;Unknown Parameters&gt;)  
   at async Microsoft.CodeAnalysis.CodeActions.CodeAction.GetPreviewOperationsAsync(&lt;Unknown Parameters&gt;)  
   at async Microsoft.CodeAnalysis.Editor.Implementation.Suggestions.SuggestedAction.GetPreviewResultAsync(&lt;Unknown Parameters&gt;)  
   at async Microsoft.CodeAnalysis.Editor.Implementation.Suggestions.SuggestedActionWithNestedFlavors.&lt;&gt;c__DisplayClass11_0. &lt;GetPreviewAsync&gt;b__0(&lt;Unknown Parameters&gt;)  
   at async Microsoft.CodeAnalysis.Extensions.IExtensionManagerExtensions.PerformFunctionAsync[T](&lt;Unknown Parameters&gt;)
```

---
### Original Comments

#### Visual Studio Feedback System on 9/10/2019 05:13 AM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>


---
### Original Solutions
(no solutions)",Area-IDE|Bug|Developer Community|IDE-CodeStyle|help wanted,vatsalyaagrawal,18/10/2019 10:22,
39373,Minor using decl fixes,"Some minor cleanup for using declarations

Fixes https://github.com/dotnet/roslyn/issues/28892
Fixes https://github.com/dotnet/roslyn/issues/32318","Minor using decl fixes Some minor cleanup for using declarations

Fixes https://github.com/dotnet/roslyn/issues/28892
Fixes https://github.com/dotnet/roslyn/issues/32318",Area-Compilers|New Language Feature - enhanced using,chsienki,18/10/2019 10:16,19/10/2019 8:50
39372,UsingStatement should put the statement in a member body before parsing,"I found that writing parsing tests via `UsingStatement()` instead of `UsingTree()` can miss bugs because the test will not check `LanguageParser.IsPossibleStatement` (and probably other checks) before trying to parse. When the statement appears in real code (i.e. in a member body) the parser kicks out on parsing the statement probably because it guesses that the user forgot a closing brace on the block body.

We should either change UsingStatement to more closely mimic the context that `ParseStatementCore` is called in or just make UsingStatement put the statement in a simple member body before parsing so that these kinds of bugs can be caught more easily.","UsingStatement should put the statement in a member body before parsing I found that writing parsing tests via `UsingStatement()` instead of `UsingTree()` can miss bugs because the test will not check `LanguageParser.IsPossibleStatement` (and probably other checks) before trying to parse. When the statement appears in real code (i.e. in a member body) the parser kicks out on parsing the statement probably because it guesses that the user forgot a closing brace on the block body.

We should either change UsingStatement to more closely mimic the context that `ParseStatementCore` is called in or just make UsingStatement put the statement in a simple member body before parsing so that these kinds of bugs can be caught more easily.",Area-Compilers|Bug|Test,RikkiGibson,18/10/2019 9:58,
39370,Remove dedicated tuple type symbol,Fixes https://github.com/dotnet/roslyn/issues/20648,Remove dedicated tuple type symbol Fixes https://github.com/dotnet/roslyn/issues/20648,Area-Compilers,jcouv,,
39369,MonoGlobalAssemblyCache: faster resolves + resolve facade assemblies,"
### Summary

Overall this PR improves assembly resolution in `csi` when running on Mono by resolving facade assemblies like `netstandard.dll`. It also employs a few tricks to reduce resolution time (~4.5x faster according to `Stopwatch` on my machine across 50 iterations before and after).

### Details

1. Don't special case `mscorlib.dll` - we already will have a reference to it and the changes in (2) allow it to still resolve. Remove `GetCorlibPaths`.

2. Have `GetCacAssemblyPaths` bail early if it finds an assembly that lives alongside `mscorlib.dll` or in the `Facades` directory. This These assemblies in Mono are considered ""core"" and will always symlink directly to the GAC. Resolve facade assemblies as well now. The Mono distribution of `csi` has shipped with a response file that explicitly referenced `Facades/netstandard.dll` and `Facades/System.Runtime.dll` and this change obsoletes that. As a consequence local builds of `csi.exe` now work.

3. Minor perf work around converting a public key token to a string by deferring that conversion until only necessary and use `byte.ToString` instead of `StringBuilder.AppendFormat`. Also use a `PooledStringBuilder`.

4. `Tuple` ? `ValueTuple`","MonoGlobalAssemblyCache: faster resolves + resolve facade assemblies 
### Summary

Overall this PR improves assembly resolution in `csi` when running on Mono by resolving facade assemblies like `netstandard.dll`. It also employs a few tricks to reduce resolution time (~4.5x faster according to `Stopwatch` on my machine across 50 iterations before and after).

### Details

1. Don't special case `mscorlib.dll` - we already will have a reference to it and the changes in (2) allow it to still resolve. Remove `GetCorlibPaths`.

2. Have `GetCacAssemblyPaths` bail early if it finds an assembly that lives alongside `mscorlib.dll` or in the `Facades` directory. This These assemblies in Mono are considered ""core"" and will always symlink directly to the GAC. Resolve facade assemblies as well now. The Mono distribution of `csi` has shipped with a response file that explicitly referenced `Facades/netstandard.dll` and `Facades/System.Runtime.dll` and this change obsoletes that. As a consequence local builds of `csi.exe` now work.

3. Minor perf work around converting a public key token to a string by deferring that conversion until only necessary and use `byte.ToString` instead of `StringBuilder.AppendFormat`. Also use a `PooledStringBuilder`.

4. `Tuple` ? `ValueTuple`",Area-Compilers|Community,abock|sharwell,18/10/2019 8:06,
39366,QuickInfo cut off in 16.4p2,"![image](https://user-images.githubusercontent.com/4564579/67043125-2f640200-f0de-11e9-99d6-139f106918e8.png)

That's the quick info for:

```c#
        //
        // Summary:
        //     Gets the TValue associated with the specified key.
        //
        // Parameters:
        //   key:
        //     The type of the key.
        //
        // Returns:
        //     The value associated with the specified key. If no results are found the operation
        //     throws an exception.
```

Note the cutoff after ""If no...""","QuickInfo cut off in 16.4p2 ![image](https://user-images.githubusercontent.com/4564579/67043125-2f640200-f0de-11e9-99d6-139f106918e8.png)

That's the quick info for:

```c#
        //
        // Summary:
        //     Gets the TValue associated with the specified key.
        //
        // Parameters:
        //   key:
        //     The type of the key.
        //
        // Returns:
        //     The value associated with the specified key. If no results are found the operation
        //     throws an exception.
```

Note the cutoff after ""If no...""",Area-External,jasonmalinowski|jinujoseph|CyrusNajmabadi,18/10/2019 7:01,18/10/2019 8:15
39365,Add test for #34921,"Adds a missing test to cover #34921 

Fixes #34921","Add test for #34921 Adds a missing test to cover #34921 

Fixes #34921",Area-Compilers|New Language Feature - Nullable Reference Types|Test,chsienki|jcouv,18/10/2019 6:43,18/10/2019 10:11
39363,IDE0047 Remove unnecessary parentheses fails to appear for switch expressions,"**Version Used**: 16.4.0 P1

**Steps to Reproduce**:
1. Have a switch expression that contains unnecessary parentheses.
2. Pull up code fixes menu.

![switchbug](https://user-images.githubusercontent.com/16968319/67036612-c88c1c00-f0d0-11e9-8f15-333bcb19aabc.png)

![switchbug2](https://user-images.githubusercontent.com/16968319/67036734-fcffd800-f0d0-11e9-80df-067aaa6700e7.png)

**Expected Behavior**: Code fix option IDE0047 appears to remove unnecessary parentheses.

**Actual Behavior**: No code fix shown. IDE0047 does appear for the local variable declaration on line 16 so this seems to be an issue specific to switch expressions.
","IDE0047 Remove unnecessary parentheses fails to appear for switch expressions **Version Used**: 16.4.0 P1

**Steps to Reproduce**:
1. Have a switch expression that contains unnecessary parentheses.
2. Pull up code fixes menu.

![switchbug](https://user-images.githubusercontent.com/16968319/67036612-c88c1c00-f0d0-11e9-8f15-333bcb19aabc.png)

![switchbug2](https://user-images.githubusercontent.com/16968319/67036734-fcffd800-f0d0-11e9-80df-067aaa6700e7.png)

**Expected Behavior**: Code fix option IDE0047 appears to remove unnecessary parentheses.

**Actual Behavior**: No code fix shown. IDE0047 does appear for the local variable declaration on line 16 so this seems to be an issue specific to switch expressions.
",IDE-CodeStyle,allisonchou,,
39362,'CS8602 Dereference of a possibly null reference' in a local function,"**Version Used**: New in VS 16.4p2 not present in 16.4p1 or 16.3.5

The local function is never called from a point where `value` might be null:

```cs
class C
{
    void M()
    {
        string? value = null;
        value = ""Hi"";

        LocalFunction();

        void LocalFunction()
        {
            // CS8602 Dereference of a possibly null reference.
            // ?
            value.ToString();
        }
    }
}
```
","'CS8602 Dereference of a possibly null reference' in a local function **Version Used**: New in VS 16.4p2 not present in 16.4p1 or 16.3.5

The local function is never called from a point where `value` might be null:

```cs
class C
{
    void M()
    {
        string? value = null;
        value = ""Hi"";

        LocalFunction();

        void LocalFunction()
        {
            // CS8602 Dereference of a possibly null reference.
            // ?
            value.ToString();
        }
    }
}
```
",Area-Compilers|Bug|New Language Feature - Nullable Reference Types|Resolution-Duplicate,RikkiGibson|agocke|jnm2,18/10/2019 6:04,18/10/2019 7:57
39361,Incorrect 'CS8629 Nullable value type may be null' on implicitly-cast operand of lifted operator,"**Version Used**: New in VS 16.4p2 not present in 16.4p1 or 16.3.5

No warning should be shown because the operator is lifted and therefore expects nulls:

```cs
#nullable enable

struct Foo
{
    public static implicit operator DateTime?(Foo? value) => default;

    bool M(Foo? x DateTime y)
    {
        // CS8629 Nullable value type may be null.
        //     ?
        return x == y;
    }
}
```

The other operators also trigger this bug.
","Incorrect 'CS8629 Nullable value type may be null' on implicitly-cast operand of lifted operator **Version Used**: New in VS 16.4p2 not present in 16.4p1 or 16.3.5

No warning should be shown because the operator is lifted and therefore expects nulls:

```cs
#nullable enable

struct Foo
{
    public static implicit operator DateTime?(Foo? value) => default;

    bool M(Foo? x DateTime y)
    {
        // CS8629 Nullable value type may be null.
        //     ?
        return x == y;
    }
}
```

The other operators also trigger this bug.
",Area-Compilers|Bug|New Language Feature - Nullable Reference Types,jnm2|RikkiGibson,18/10/2019 5:52,
39351,Roslyn Formatter adds newline following block comment,"Originally reported - https://github.com/dotnet/format/issues/362

In a C# project create a file named Test.cs

**Test.cs**
```csharp
using System;

/**/
```

Ensure there is no newline following the block comment and invoke the formatter (Ctrl+K+D). 

*Expected Result*

No change to the file.

*Actual Result*

There is now a newline following the block comment.","Roslyn Formatter adds newline following block comment Originally reported - https://github.com/dotnet/format/issues/362

In a C# project create a file named Test.cs

**Test.cs**
```csharp
using System;

/**/
```

Ensure there is no newline following the block comment and invoke the formatter (Ctrl+K+D). 

*Expected Result*

No change to the file.

*Actual Result*

There is now a newline following the block comment.",Area-IDE|IDE-Formatter,JoeRobich,18/10/2019 4:14,
39350,Switch expression that returns lambda crashes VS right after typing open brace,"_This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/761865/switch-expression-that-returns-lambda-crashes-vs-r.html)._

---
<p>Paste following code to crash VS:<br>
<code>var x = ((Func&lt;int decimal&gt;)(0 switch { 0 =&gt; _ =&gt; {}}))(0);</code></p>

---
### Original Comments

#### Visual Studio Feedback System on 10/7/2019 01:08 AM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>

#### Visual Studio Feedback System on 10/8/2019 02:45 PM: 

<p>This issue is currently being investigated. Our team will get back to you if either more information is needed a workaround is available or the issue is resolved.</p>

#### Visual Studio Feedback System on 10/9/2019 11:22 AM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>


---
### Original Solutions
(no solutions)","Switch expression that returns lambda crashes VS right after typing open brace _This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/761865/switch-expression-that-returns-lambda-crashes-vs-r.html)._

---
<p>Paste following code to crash VS:<br>
<code>var x = ((Func&lt;int decimal&gt;)(0 switch { 0 =&gt; _ =&gt; {}}))(0);</code></p>

---
### Original Comments

#### Visual Studio Feedback System on 10/7/2019 01:08 AM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>

#### Visual Studio Feedback System on 10/8/2019 02:45 PM: 

<p>This issue is currently being investigated. Our team will get back to you if either more information is needed a workaround is available or the issue is resolved.</p>

#### Visual Studio Feedback System on 10/9/2019 11:22 AM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>


---
### Original Solutions
(no solutions)",Area-Compilers|Bug,gafter,,
39349,Merge master to features/static-lambdas,"
This is an automatically generated pull request from master into features/static-lambdas.

``` bash
git fetch --all
git checkout merges/master-to-features/static-lambdas
git reset --hard upstream/features/static-lambdas
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-features/static-lambdas --force
```
Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge master to features/static-lambdas 
This is an automatically generated pull request from master into features/static-lambdas.

``` bash
git fetch --all
git checkout merges/master-to-features/static-lambdas
git reset --hard upstream/features/static-lambdas
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-features/static-lambdas --force
```
Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|dibarbet|msftbot[bot],17/10/2019 23:04,18/10/2019 4:41
39348,Merge master to features/local-function-attributes,"
This is an automatically generated pull request from master into features/local-function-attributes.

``` bash
git fetch --all
git checkout merges/master-to-features/local-function-attributes
git reset --hard upstream/features/local-function-attributes
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-features/local-function-attributes --force
```
Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge master to features/local-function-attributes 
This is an automatically generated pull request from master into features/local-function-attributes.

``` bash
git fetch --all
git checkout merges/master-to-features/local-function-attributes
git reset --hard upstream/features/local-function-attributes
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-features/local-function-attributes --force
```
Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|dibarbet|msftbot[bot],17/10/2019 23:04,18/10/2019 4:40
39347,Merge master to master-vs-deps,"
This is an automatically generated pull request from master into master-vs-deps.

``` bash
git fetch --all
git checkout merges/master-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-master-vs-deps --force
```
Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge master to master-vs-deps 
This is an automatically generated pull request from master into master-vs-deps.

``` bash
git fetch --all
git checkout merges/master-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-master-vs-deps --force
```
Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|dibarbet|msftbot[bot],17/10/2019 23:03,18/10/2019 4:41
39346,Merge master to release/dev16.5-preview1,"
This is an automatically generated pull request from master into release/dev16.5-preview1.

``` bash
git fetch --all
git checkout merges/master-to-release/dev16.5-preview1
git reset --hard upstream/release/dev16.5-preview1
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-release/dev16.5-preview1 --force
```
Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge master to release/dev16.5-preview1 
This is an automatically generated pull request from master into release/dev16.5-preview1.

``` bash
git fetch --all
git checkout merges/master-to-release/dev16.5-preview1
git reset --hard upstream/release/dev16.5-preview1
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-release/dev16.5-preview1 --force
```
Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|dibarbet|msftbot[bot],17/10/2019 23:02,18/10/2019 4:41
39345,"""Make field readonly"" doesn't consider designer writes","**Version Used**: Version 16.4.0 Preview 3.0 [29416.158.master]

**Steps to Reproduce**:

## `C.cs`

```c#
partial class C
{
    private object _foo; // IDE0044 Add readonly modifier

    public C()
    {
        _foo = new object();
    }

    public int O() => _foo.GetHashCode();
}
```

## `C.Designer.cs`

```c#
partial class C
{
    void M()
    {
        _foo = null;
    }
}
```

**Expected Behavior**:

Do not suggest adding `readonly` modifier when field has writes from designer files.

**Actual Behavior**:

Adding `readonly` is suggested.","""Make field readonly"" doesn't consider designer writes **Version Used**: Version 16.4.0 Preview 3.0 [29416.158.master]

**Steps to Reproduce**:

## `C.cs`

```c#
partial class C
{
    private object _foo; // IDE0044 Add readonly modifier

    public C()
    {
        _foo = new object();
    }

    public int O() => _foo.GetHashCode();
}
```

## `C.Designer.cs`

```c#
partial class C
{
    void M()
    {
        _foo = null;
    }
}
```

**Expected Behavior**:

Do not suggest adding `readonly` modifier when field has writes from designer files.

**Actual Behavior**:

Adding `readonly` is suggested.",Area-Analyzers|Resolution-Duplicate,RikkiGibson,17/10/2019 21:07,18/10/2019 5:03
39339,Merge master to features/static-lambdas,"
This is an automatically generated pull request from master into features/static-lambdas.

``` bash
git fetch --all
git checkout merges/master-to-features/static-lambdas
git reset --hard upstream/features/static-lambdas
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-features/static-lambdas --force
```
Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge master to features/static-lambdas 
This is an automatically generated pull request from master into features/static-lambdas.

``` bash
git fetch --all
git checkout merges/master-to-features/static-lambdas
git reset --hard upstream/features/static-lambdas
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-features/static-lambdas --force
```
Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|dibarbet,17/10/2019 11:03,17/10/2019 18:46
39338,Merge master to features/local-function-attributes,"
This is an automatically generated pull request from master into features/local-function-attributes.

``` bash
git fetch --all
git checkout merges/master-to-features/local-function-attributes
git reset --hard upstream/features/local-function-attributes
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-features/local-function-attributes --force
```
Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge master to features/local-function-attributes 
This is an automatically generated pull request from master into features/local-function-attributes.

``` bash
git fetch --all
git checkout merges/master-to-features/local-function-attributes
git reset --hard upstream/features/local-function-attributes
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-features/local-function-attributes --force
```
Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|dibarbet,17/10/2019 11:03,17/10/2019 18:47
39337,Merge master to master-vs-deps,"
This is an automatically generated pull request from master into master-vs-deps.

``` bash
git fetch --all
git checkout merges/master-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-master-vs-deps --force
```
Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge master to master-vs-deps 
This is an automatically generated pull request from master into master-vs-deps.

``` bash
git fetch --all
git checkout merges/master-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-master-vs-deps --force
```
Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|dibarbet|msftbot[bot],17/10/2019 11:03,17/10/2019 18:45
39336,Merge master to release/dev16.5-preview1,"
This is an automatically generated pull request from master into release/dev16.5-preview1.

``` bash
git fetch --all
git checkout merges/master-to-release/dev16.5-preview1
git reset --hard upstream/release/dev16.5-preview1
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-release/dev16.5-preview1 --force
```
Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge master to release/dev16.5-preview1 
This is an automatically generated pull request from master into release/dev16.5-preview1.

``` bash
git fetch --all
git checkout merges/master-to-release/dev16.5-preview1
git reset --hard upstream/release/dev16.5-preview1
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-release/dev16.5-preview1 --force
```
Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|dibarbet,17/10/2019 11:02,17/10/2019 18:46
39335,Use ConstructWithNullability in InferTypeInAwaitExpression,"The inferred type may include nullability information and will fail to be recognized as a symbol without using the correct construct call. 

Fixes #39333 ","Use ConstructWithNullability in InferTypeInAwaitExpression The inferred type may include nullability information and will fail to be recognized as a symbol without using the correct construct call. 

Fixes #39333 ",Area-IDE|New Language Feature - Nullable Reference Types,ryzngard|jasonmalinowski,17/10/2019 9:33,18/10/2019 5:02
39334,follow up for Go to base: support metadata references and bug fixes,Addressing feedback at https://github.com/dotnet/roslyn/pull/39055#pullrequestreview-302246824,follow up for Go to base: support metadata references and bug fixes Addressing feedback at https://github.com/dotnet/roslyn/pull/39055#pullrequestreview-302246824,Area-IDE|Concept-Continuous Improvement,ivanbasov|jasonmalinowski,17/10/2019 9:22,
39333,VB.NET Return Await causes code fix providers to crash in 16.3.4,"_This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/776481/vbnet-return-await-causes-code-fix-providers-to-cr.html)._

---
I am able to reproduce in a new VB.NET console application targetting .NET Framework 4.7.2 and typing the following into the default Module1.vb module - how fast you type varies when exactly the errors show.  This seems to be triggered by `Return Await` since just `Return something` doesn't seem to cause the errors.

```
Module Module1

    Sub Main()

    End Sub

End Module

Class Testing

    Private Async Function WaitForIt() As Task(Of Boolean)
        Return Await tas  '&lt;-- crashes here was starting to type Task.Delay(1000)
    End Function

End Class
```

I first see an exception message at the top:

An exception of type ArgumentException has been encountered.  This may be cause by an extension.

Log file attached for that.  Then several code fix providers crash.

'GenerateParameterizedMemberCodeFixProvider' encountered an error and has been disabled.
'VisualBasicGenerateVariableCodeFixProvider' encountered an error and has been disabled.
'VisualBasicSpellCheckCodeFixProvider' encountered an error and has been disabled.

Stack traces in the order listed above...

```
System.ArgumentException : Not a VB symbol.
Parameter name: typeArguments
   at Microsoft.CodeAnalysis.VisualBasic.Symbols.SymbolExtensions.EnsureVbSymbolOrNothing[TSourceTDestination](TSource symbolString paramName)
   at Microsoft.CodeAnalysis.VisualBasic.Symbol.ConstructTypeArguments(ITypeSymbol[] typeArguments)
   at Microsoft.CodeAnalysis.VisualBasic.Symbols.NamedTypeSymbol.INamedTypeSymbol_Construct(ITypeSymbol[] typeArguments)
   at Microsoft.CodeAnalysis.VisualBasic.VisualBasicTypeInferenceService.TypeInferrer._Closure$__19-0._Lambda$__0(TypeInferenceInfo t)
   at System.Linq.Enumerable.WhereSelectArrayIterator`2.MoveNext()
   at System.Linq.Enumerable.WhereEnumerableIterator`1.MoveNext()
   at System.Linq.Enumerable.&lt;DistinctIterator&gt;d__64`1.MoveNext()
   at System.Linq.Buffer`1..ctor(IEnumerable`1 source)
   at System.Linq.Enumerable.ToArray[TSource](IEnumerable`1 source)
   at System.Collections.Immutable.ImmutableArray.CreateRange[T](IEnumerable`1 items)
   at System.Collections.Immutable.ImmutableArray.ToImmutableArray[TSource](IEnumerable`1 items)
   at Microsoft.CodeAnalysis.LanguageServices.TypeInferenceService.AbstractTypeInferenceService.AbstractTypeInferrer.Filter(IEnumerable`1 typesBoolean filterUnusable)
   at Microsoft.CodeAnalysis.LanguageServices.TypeInferenceService.AbstractTypeInferenceService.AbstractTypeInferrer.InferTypes(SyntaxNode expressionBoolean filterUnusable)
   at Microsoft.CodeAnalysis.LanguageServices.TypeInferenceService.AbstractTypeInferenceService.InferTypes(SemanticModel semanticModelSyntaxNode expressionString nameOptCancellationToken cancellationToken)
   at Microsoft.CodeAnalysis.Shared.Extensions.ITypeInferenceServiceExtensions.InferTypes(ITypeInferenceService serviceSemanticModel semanticModelSyntaxNode expressionCancellationToken cancellationToken)
   at Microsoft.CodeAnalysis.GenerateMember.GenerateParameterizedMember.AbstractGenerateMethodService`4.State.TryInitializeSimpleName(TService serviceSemanticDocument semanticDocumentTSimpleNameSyntax simpleNameCancellationToken cancellationToken)
   at Microsoft.CodeAnalysis.GenerateMember.GenerateParameterizedMember.AbstractGenerateMethodService`4.State.TryInitializeMethodAsync(TService serviceSemanticDocument documentSyntaxNode nodeCancellationToken cancellationToken)
   at async Microsoft.CodeAnalysis.GenerateMember.GenerateParameterizedMember.AbstractGenerateMethodService`4.State.GenerateMethodStateAsync[TServiceTSimpleNameSyntaxTExpressionSyntaxTInvocationExpressionSyntax](&lt;Unknown Parameters&gt;)
   at async Microsoft.CodeAnalysis.GenerateMember.GenerateParameterizedMember.AbstractGenerateMethodService`4.GenerateMethodAsync[TServiceTSimpleNameSyntaxTExpressionSyntaxTInvocationExpressionSyntax](&lt;Unknown Parameters&gt;)
   at async Microsoft.CodeAnalysis.CodeFixes.GenerateMember.AbstractGenerateMemberCodeFixProvider.RegisterCodeFixesAsync(&lt;Unknown Parameters&gt;)
   at async Microsoft.CodeAnalysis.Extensions.IExtensionManagerExtensions.PerformActionAsync(&lt;Unknown Parameters&gt;)
   at Microsoft.VisualStudio.Telemetry.WindowsErrorReporting.WatsonReport.GetClrWatsonExceptionInfo(Exception exceptionObject)
```

```
System.ArgumentException : Not a VB symbol.
Parameter name: typeArguments
   at Microsoft.CodeAnalysis.VisualBasic.Symbols.SymbolExtensions.EnsureVbSymbolOrNothing[TSourceTDestination](TSource symbolString paramName)
   at Microsoft.CodeAnalysis.VisualBasic.Symbol.ConstructTypeArguments(ITypeSymbol[] typeArguments)
   at Microsoft.CodeAnalysis.VisualBasic.Symbols.NamedTypeSymbol.INamedTypeSymbol_Construct(ITypeSymbol[] typeArguments)
   at Microsoft.CodeAnalysis.VisualBasic.VisualBasicTypeInferenceService.TypeInferrer._Closure$__19-0._Lambda$__0(TypeInferenceInfo t)
   at System.Linq.Enumerable.WhereSelectArrayIterator`2.MoveNext()
   at System.Linq.Enumerable.WhereEnumerableIterator`1.MoveNext()
   at System.Linq.Enumerable.&lt;DistinctIterator&gt;d__64`1.MoveNext()
   at System.Linq.Buffer`1..ctor(IEnumerable`1 source)
   at System.Linq.Enumerable.ToArray[TSource](IEnumerable`1 source)
   at System.Collections.Immutable.ImmutableArray.CreateRange[T](IEnumerable`1 items)
   at System.Collections.Immutable.ImmutableArray.ToImmutableArray[TSource](IEnumerable`1 items)
   at Microsoft.CodeAnalysis.LanguageServices.TypeInferenceService.AbstractTypeInferenceService.AbstractTypeInferrer.Filter(IEnumerable`1 typesBoolean filterUnusable)
   at Microsoft.CodeAnalysis.LanguageServices.TypeInferenceService.AbstractTypeInferenceService.AbstractTypeInferrer.InferTypes(SyntaxNode expressionBoolean filterUnusable)
   at Microsoft.CodeAnalysis.LanguageServices.TypeInferenceService.AbstractTypeInferenceService.InferTypes(SemanticModel semanticModelSyntaxNode expressionString nameOptCancellationToken cancellationToken)
   at Microsoft.CodeAnalysis.GenerateMember.GenerateVariable.AbstractGenerateVariableService`3.State.DetermineFieldType(SemanticDocument semanticDocumentCancellationToken cancellationToken)
   at Microsoft.CodeAnalysis.GenerateMember.GenerateVariable.AbstractGenerateVariableService`3.State.TryInitializeSimpleName(TService serviceSemanticDocument semanticDocumentTSimpleNameSyntax simpleNameCancellationToken cancellationToken)
   at async Microsoft.CodeAnalysis.GenerateMember.GenerateVariable.AbstractGenerateVariableService`3.State.TryInitializeAsync[TServiceTSimpleNameSyntaxTExpressionSyntax](&lt;Unknown Parameters&gt;)
   at async Microsoft.CodeAnalysis.GenerateMember.GenerateVariable.AbstractGenerateVariableService`3.State.GenerateAsync[TServiceTSimpleNameSyntaxTExpressionSyntax](&lt;Unknown Parameters&gt;)
   at async Microsoft.CodeAnalysis.GenerateMember.GenerateVariable.AbstractGenerateVariableService`3.GenerateVariableAsync[TServiceTSimpleNameSyntaxTExpressionSyntax](&lt;Unknown Parameters&gt;)
   at async Microsoft.CodeAnalysis.CodeFixes.GenerateMember.AbstractGenerateMemberCodeFixProvider.RegisterCodeFixesAsync(&lt;Unknown Parameters&gt;)
   at async Microsoft.CodeAnalysis.Extensions.IExtensionManagerExtensions.PerformActionAsync(&lt;Unknown Parameters&gt;)
   at Microsoft.VisualStudio.Telemetry.WindowsErrorReporting.WatsonReport.GetClrWatsonExceptionInfo(Exception exceptionObject)
```

```
System.ArgumentException : Not a VB symbol.
Parameter name: typeArguments
   at Microsoft.CodeAnalysis.VisualBasic.Symbols.SymbolExtensions.EnsureVbSymbolOrNothing[TSourceTDestination](TSource symbolString paramName)
   at Microsoft.CodeAnalysis.VisualBasic.Symbol.ConstructTypeArguments(ITypeSymbol[] typeArguments)
   at Microsoft.CodeAnalysis.VisualBasic.Symbols.NamedTypeSymbol.INamedTypeSymbol_Construct(ITypeSymbol[] typeArguments)
   at Microsoft.CodeAnalysis.VisualBasic.VisualBasicTypeInferenceService.TypeInferrer._Closure$__19-0._Lambda$__0(TypeInferenceInfo t)
   at System.Linq.Enumerable.WhereSelectArrayIterator`2.MoveNext()
   at System.Linq.Enumerable.WhereEnumerableIterator`1.MoveNext()
   at System.Linq.Enumerable.&lt;DistinctIterator&gt;d__64`1.MoveNext()
   at System.Linq.Buffer`1..ctor(IEnumerable`1 source)
   at System.Linq.Enumerable.ToArray[TSource](IEnumerable`1 source)
   at System.Collections.Immutable.ImmutableArray.CreateRange[T](IEnumerable`1 items)
   at System.Collections.Immutable.ImmutableArray.ToImmutableArray[TSource](IEnumerable`1 items)
   at Microsoft.CodeAnalysis.LanguageServices.TypeInferenceService.AbstractTypeInferenceService.InferTypes(SemanticModel semanticModelInt32 positionString nameOptCancellationToken cancellationToken)
   at Microsoft.CodeAnalysis.Shared.Extensions.ContextQuery.SyntaxContext.ComputeInferredTypes(Workspace workspaceSemanticModel semanticModelInt32 positionCancellationToken cancellationToken)
   at Microsoft.CodeAnalysis.Shared.Extensions.ContextQuery.SyntaxContext..ctor(Workspace workspaceSemanticModel semanticModelInt32 positionSyntaxToken leftTokenSyntaxToken targetTokenBoolean isTypeContextBoolean isNamespaceContextBoolean isNamespaceDeclarationNameContextBoolean isPreProcessorDirectiveContextBoolean isRightOfNameSeparatorBoolean isStatementContextBoolean isAnyExpressionContextBoolean isAttributeNameContextBoolean isEnumTypeMemberAccessContextBoolean isNameOfContextBoolean isInQueryBoolean isInImportsDirectiveBoolean isWithinAsyncMethodBoolean isPossibleTupleContextBoolean isPatternContextBoolean isRightSideOfNumericTypeCancellationToken cancellationToken)
   at Microsoft.CodeAnalysis.VisualBasic.Extensions.ContextQuery.VisualBasicSyntaxContext..ctor(Workspace workspaceSemanticModel semanticModelInt32 positionSyntaxToken leftTokenSyntaxToken targetTokenSyntaxToken touchingTokenBoolean isTypeContextBoolean isNamespaceContextBoolean isNamespaceDeclarationNameContextBoolean isPreProcessorDirectiveContextBoolean isRightOfNameSeparatorBoolean isSingleLineStatementContextBoolean isExpressionContextBoolean isAttributeNameContextBoolean isEnumTypeMemberAccessContextBoolean isNameOfContextBoolean isInLambdaBoolean isInQueryBoolean isInImportsDirectiveBoolean isCustomEventContextBoolean isPossibleTupleContextCancellationToken cancellationToken)
   at async Microsoft.CodeAnalysis.VisualBasic.Extensions.ContextQuery.VisualBasicSyntaxContext.VB$StateMachine_19_CreateContextAsync(&lt;Unknown Parameters&gt;)
   at async Microsoft.CodeAnalysis.VisualBasic.Completion.Providers.KeywordCompletionProvider.VB$StateMachine_2_CreateContextAsync(&lt;Unknown Parameters&gt;)
   at async Microsoft.CodeAnalysis.Completion.Providers.AbstractKeywordCompletionProvider`1.RecommendCompletionItemsAsync[TContext](&lt;Unknown Parameters&gt;)
   at async Microsoft.CodeAnalysis.Shared.Extensions.DocumentExtensions.GetUnionItemsFromDocumentAndLinkedDocumentsAsync[T](&lt;Unknown Parameters&gt;)
   at async Microsoft.CodeAnalysis.Completion.Providers.AbstractKeywordCompletionProvider`1.ProvideCompletionsAsync[TContext](&lt;Unknown Parameters&gt;)
   at async Microsoft.CodeAnalysis.Completion.CompletionServiceWithProviders.GetContextAsync(&lt;Unknown Parameters&gt;)
   at async Microsoft.CodeAnalysis.Completion.CompletionServiceWithProviders.ComputeNonEmptyCompletionContextsAsync(&lt;Unknown Parameters&gt;)
   at async Microsoft.CodeAnalysis.Completion.CompletionServiceWithProviders.GetCompletionsWithAvailabilityOfExpandedItemsAsync(&lt;Unknown Parameters&gt;)
   at async Microsoft.CodeAnalysis.Completion.CompletionServiceWithProviders.GetCompletionsAsync(&lt;Unknown Parameters&gt;)
   at async Microsoft.CodeAnalysis.SpellCheck.AbstractSpellCheckCodeFixProvider`1.CreateSpellCheckCodeIssueAsync[TSimpleName](&lt;Unknown Parameters&gt;)
   at async Microsoft.CodeAnalysis.SpellCheck.AbstractSpellCheckCodeFixProvider`1.CheckNodeAsync[TSimpleName](&lt;Unknown Parameters&gt;)
   at async Microsoft.CodeAnalysis.SpellCheck.AbstractSpellCheckCodeFixProvider`1.RegisterCodeFixesAsync[TSimpleName](&lt;Unknown Parameters&gt;)
   at async Microsoft.CodeAnalysis.Extensions.IExtensionManagerExtensions.PerformActionAsync(&lt;Unknown Parameters&gt;)
   at Microsoft.VisualStudio.Telemetry.WindowsErrorReporting.WatsonReport.GetClrWatsonExceptionInfo(Exception exceptionObject)
```

---
### Original Comments

#### Visual Studio Feedback System on 10/14/2019 11:32 PM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>


---
### Original Solutions
(no solutions)","VB.NET Return Await causes code fix providers to crash in 16.3.4 _This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/776481/vbnet-return-await-causes-code-fix-providers-to-cr.html)._

---
I am able to reproduce in a new VB.NET console application targetting .NET Framework 4.7.2 and typing the following into the default Module1.vb module - how fast you type varies when exactly the errors show.  This seems to be triggered by `Return Await` since just `Return something` doesn't seem to cause the errors.

```
Module Module1

    Sub Main()

    End Sub

End Module

Class Testing

    Private Async Function WaitForIt() As Task(Of Boolean)
        Return Await tas  '&lt;-- crashes here was starting to type Task.Delay(1000)
    End Function

End Class
```

I first see an exception message at the top:

An exception of type ArgumentException has been encountered.  This may be cause by an extension.

Log file attached for that.  Then several code fix providers crash.

'GenerateParameterizedMemberCodeFixProvider' encountered an error and has been disabled.
'VisualBasicGenerateVariableCodeFixProvider' encountered an error and has been disabled.
'VisualBasicSpellCheckCodeFixProvider' encountered an error and has been disabled.

Stack traces in the order listed above...

```
System.ArgumentException : Not a VB symbol.
Parameter name: typeArguments
   at Microsoft.CodeAnalysis.VisualBasic.Symbols.SymbolExtensions.EnsureVbSymbolOrNothing[TSourceTDestination](TSource symbolString paramName)
   at Microsoft.CodeAnalysis.VisualBasic.Symbol.ConstructTypeArguments(ITypeSymbol[] typeArguments)
   at Microsoft.CodeAnalysis.VisualBasic.Symbols.NamedTypeSymbol.INamedTypeSymbol_Construct(ITypeSymbol[] typeArguments)
   at Microsoft.CodeAnalysis.VisualBasic.VisualBasicTypeInferenceService.TypeInferrer._Closure$__19-0._Lambda$__0(TypeInferenceInfo t)
   at System.Linq.Enumerable.WhereSelectArrayIterator`2.MoveNext()
   at System.Linq.Enumerable.WhereEnumerableIterator`1.MoveNext()
   at System.Linq.Enumerable.&lt;DistinctIterator&gt;d__64`1.MoveNext()
   at System.Linq.Buffer`1..ctor(IEnumerable`1 source)
   at System.Linq.Enumerable.ToArray[TSource](IEnumerable`1 source)
   at System.Collections.Immutable.ImmutableArray.CreateRange[T](IEnumerable`1 items)
   at System.Collections.Immutable.ImmutableArray.ToImmutableArray[TSource](IEnumerable`1 items)
   at Microsoft.CodeAnalysis.LanguageServices.TypeInferenceService.AbstractTypeInferenceService.AbstractTypeInferrer.Filter(IEnumerable`1 typesBoolean filterUnusable)
   at Microsoft.CodeAnalysis.LanguageServices.TypeInferenceService.AbstractTypeInferenceService.AbstractTypeInferrer.InferTypes(SyntaxNode expressionBoolean filterUnusable)
   at Microsoft.CodeAnalysis.LanguageServices.TypeInferenceService.AbstractTypeInferenceService.InferTypes(SemanticModel semanticModelSyntaxNode expressionString nameOptCancellationToken cancellationToken)
   at Microsoft.CodeAnalysis.Shared.Extensions.ITypeInferenceServiceExtensions.InferTypes(ITypeInferenceService serviceSemanticModel semanticModelSyntaxNode expressionCancellationToken cancellationToken)
   at Microsoft.CodeAnalysis.GenerateMember.GenerateParameterizedMember.AbstractGenerateMethodService`4.State.TryInitializeSimpleName(TService serviceSemanticDocument semanticDocumentTSimpleNameSyntax simpleNameCancellationToken cancellationToken)
   at Microsoft.CodeAnalysis.GenerateMember.GenerateParameterizedMember.AbstractGenerateMethodService`4.State.TryInitializeMethodAsync(TService serviceSemanticDocument documentSyntaxNode nodeCancellationToken cancellationToken)
   at async Microsoft.CodeAnalysis.GenerateMember.GenerateParameterizedMember.AbstractGenerateMethodService`4.State.GenerateMethodStateAsync[TServiceTSimpleNameSyntaxTExpressionSyntaxTInvocationExpressionSyntax](&lt;Unknown Parameters&gt;)
   at async Microsoft.CodeAnalysis.GenerateMember.GenerateParameterizedMember.AbstractGenerateMethodService`4.GenerateMethodAsync[TServiceTSimpleNameSyntaxTExpressionSyntaxTInvocationExpressionSyntax](&lt;Unknown Parameters&gt;)
   at async Microsoft.CodeAnalysis.CodeFixes.GenerateMember.AbstractGenerateMemberCodeFixProvider.RegisterCodeFixesAsync(&lt;Unknown Parameters&gt;)
   at async Microsoft.CodeAnalysis.Extensions.IExtensionManagerExtensions.PerformActionAsync(&lt;Unknown Parameters&gt;)
   at Microsoft.VisualStudio.Telemetry.WindowsErrorReporting.WatsonReport.GetClrWatsonExceptionInfo(Exception exceptionObject)
```

```
System.ArgumentException : Not a VB symbol.
Parameter name: typeArguments
   at Microsoft.CodeAnalysis.VisualBasic.Symbols.SymbolExtensions.EnsureVbSymbolOrNothing[TSourceTDestination](TSource symbolString paramName)
   at Microsoft.CodeAnalysis.VisualBasic.Symbol.ConstructTypeArguments(ITypeSymbol[] typeArguments)
   at Microsoft.CodeAnalysis.VisualBasic.Symbols.NamedTypeSymbol.INamedTypeSymbol_Construct(ITypeSymbol[] typeArguments)
   at Microsoft.CodeAnalysis.VisualBasic.VisualBasicTypeInferenceService.TypeInferrer._Closure$__19-0._Lambda$__0(TypeInferenceInfo t)
   at System.Linq.Enumerable.WhereSelectArrayIterator`2.MoveNext()
   at System.Linq.Enumerable.WhereEnumerableIterator`1.MoveNext()
   at System.Linq.Enumerable.&lt;DistinctIterator&gt;d__64`1.MoveNext()
   at System.Linq.Buffer`1..ctor(IEnumerable`1 source)
   at System.Linq.Enumerable.ToArray[TSource](IEnumerable`1 source)
   at System.Collections.Immutable.ImmutableArray.CreateRange[T](IEnumerable`1 items)
   at System.Collections.Immutable.ImmutableArray.ToImmutableArray[TSource](IEnumerable`1 items)
   at Microsoft.CodeAnalysis.LanguageServices.TypeInferenceService.AbstractTypeInferenceService.AbstractTypeInferrer.Filter(IEnumerable`1 typesBoolean filterUnusable)
   at Microsoft.CodeAnalysis.LanguageServices.TypeInferenceService.AbstractTypeInferenceService.AbstractTypeInferrer.InferTypes(SyntaxNode expressionBoolean filterUnusable)
   at Microsoft.CodeAnalysis.LanguageServices.TypeInferenceService.AbstractTypeInferenceService.InferTypes(SemanticModel semanticModelSyntaxNode expressionString nameOptCancellationToken cancellationToken)
   at Microsoft.CodeAnalysis.GenerateMember.GenerateVariable.AbstractGenerateVariableService`3.State.DetermineFieldType(SemanticDocument semanticDocumentCancellationToken cancellationToken)
   at Microsoft.CodeAnalysis.GenerateMember.GenerateVariable.AbstractGenerateVariableService`3.State.TryInitializeSimpleName(TService serviceSemanticDocument semanticDocumentTSimpleNameSyntax simpleNameCancellationToken cancellationToken)
   at async Microsoft.CodeAnalysis.GenerateMember.GenerateVariable.AbstractGenerateVariableService`3.State.TryInitializeAsync[TServiceTSimpleNameSyntaxTExpressionSyntax](&lt;Unknown Parameters&gt;)
   at async Microsoft.CodeAnalysis.GenerateMember.GenerateVariable.AbstractGenerateVariableService`3.State.GenerateAsync[TServiceTSimpleNameSyntaxTExpressionSyntax](&lt;Unknown Parameters&gt;)
   at async Microsoft.CodeAnalysis.GenerateMember.GenerateVariable.AbstractGenerateVariableService`3.GenerateVariableAsync[TServiceTSimpleNameSyntaxTExpressionSyntax](&lt;Unknown Parameters&gt;)
   at async Microsoft.CodeAnalysis.CodeFixes.GenerateMember.AbstractGenerateMemberCodeFixProvider.RegisterCodeFixesAsync(&lt;Unknown Parameters&gt;)
   at async Microsoft.CodeAnalysis.Extensions.IExtensionManagerExtensions.PerformActionAsync(&lt;Unknown Parameters&gt;)
   at Microsoft.VisualStudio.Telemetry.WindowsErrorReporting.WatsonReport.GetClrWatsonExceptionInfo(Exception exceptionObject)
```

```
System.ArgumentException : Not a VB symbol.
Parameter name: typeArguments
   at Microsoft.CodeAnalysis.VisualBasic.Symbols.SymbolExtensions.EnsureVbSymbolOrNothing[TSourceTDestination](TSource symbolString paramName)
   at Microsoft.CodeAnalysis.VisualBasic.Symbol.ConstructTypeArguments(ITypeSymbol[] typeArguments)
   at Microsoft.CodeAnalysis.VisualBasic.Symbols.NamedTypeSymbol.INamedTypeSymbol_Construct(ITypeSymbol[] typeArguments)
   at Microsoft.CodeAnalysis.VisualBasic.VisualBasicTypeInferenceService.TypeInferrer._Closure$__19-0._Lambda$__0(TypeInferenceInfo t)
   at System.Linq.Enumerable.WhereSelectArrayIterator`2.MoveNext()
   at System.Linq.Enumerable.WhereEnumerableIterator`1.MoveNext()
   at System.Linq.Enumerable.&lt;DistinctIterator&gt;d__64`1.MoveNext()
   at System.Linq.Buffer`1..ctor(IEnumerable`1 source)
   at System.Linq.Enumerable.ToArray[TSource](IEnumerable`1 source)
   at System.Collections.Immutable.ImmutableArray.CreateRange[T](IEnumerable`1 items)
   at System.Collections.Immutable.ImmutableArray.ToImmutableArray[TSource](IEnumerable`1 items)
   at Microsoft.CodeAnalysis.LanguageServices.TypeInferenceService.AbstractTypeInferenceService.InferTypes(SemanticModel semanticModelInt32 positionString nameOptCancellationToken cancellationToken)
   at Microsoft.CodeAnalysis.Shared.Extensions.ContextQuery.SyntaxContext.ComputeInferredTypes(Workspace workspaceSemanticModel semanticModelInt32 positionCancellationToken cancellationToken)
   at Microsoft.CodeAnalysis.Shared.Extensions.ContextQuery.SyntaxContext..ctor(Workspace workspaceSemanticModel semanticModelInt32 positionSyntaxToken leftTokenSyntaxToken targetTokenBoolean isTypeContextBoolean isNamespaceContextBoolean isNamespaceDeclarationNameContextBoolean isPreProcessorDirectiveContextBoolean isRightOfNameSeparatorBoolean isStatementContextBoolean isAnyExpressionContextBoolean isAttributeNameContextBoolean isEnumTypeMemberAccessContextBoolean isNameOfContextBoolean isInQueryBoolean isInImportsDirectiveBoolean isWithinAsyncMethodBoolean isPossibleTupleContextBoolean isPatternContextBoolean isRightSideOfNumericTypeCancellationToken cancellationToken)
   at Microsoft.CodeAnalysis.VisualBasic.Extensions.ContextQuery.VisualBasicSyntaxContext..ctor(Workspace workspaceSemanticModel semanticModelInt32 positionSyntaxToken leftTokenSyntaxToken targetTokenSyntaxToken touchingTokenBoolean isTypeContextBoolean isNamespaceContextBoolean isNamespaceDeclarationNameContextBoolean isPreProcessorDirectiveContextBoolean isRightOfNameSeparatorBoolean isSingleLineStatementContextBoolean isExpressionContextBoolean isAttributeNameContextBoolean isEnumTypeMemberAccessContextBoolean isNameOfContextBoolean isInLambdaBoolean isInQueryBoolean isInImportsDirectiveBoolean isCustomEventContextBoolean isPossibleTupleContextCancellationToken cancellationToken)
   at async Microsoft.CodeAnalysis.VisualBasic.Extensions.ContextQuery.VisualBasicSyntaxContext.VB$StateMachine_19_CreateContextAsync(&lt;Unknown Parameters&gt;)
   at async Microsoft.CodeAnalysis.VisualBasic.Completion.Providers.KeywordCompletionProvider.VB$StateMachine_2_CreateContextAsync(&lt;Unknown Parameters&gt;)
   at async Microsoft.CodeAnalysis.Completion.Providers.AbstractKeywordCompletionProvider`1.RecommendCompletionItemsAsync[TContext](&lt;Unknown Parameters&gt;)
   at async Microsoft.CodeAnalysis.Shared.Extensions.DocumentExtensions.GetUnionItemsFromDocumentAndLinkedDocumentsAsync[T](&lt;Unknown Parameters&gt;)
   at async Microsoft.CodeAnalysis.Completion.Providers.AbstractKeywordCompletionProvider`1.ProvideCompletionsAsync[TContext](&lt;Unknown Parameters&gt;)
   at async Microsoft.CodeAnalysis.Completion.CompletionServiceWithProviders.GetContextAsync(&lt;Unknown Parameters&gt;)
   at async Microsoft.CodeAnalysis.Completion.CompletionServiceWithProviders.ComputeNonEmptyCompletionContextsAsync(&lt;Unknown Parameters&gt;)
   at async Microsoft.CodeAnalysis.Completion.CompletionServiceWithProviders.GetCompletionsWithAvailabilityOfExpandedItemsAsync(&lt;Unknown Parameters&gt;)
   at async Microsoft.CodeAnalysis.Completion.CompletionServiceWithProviders.GetCompletionsAsync(&lt;Unknown Parameters&gt;)
   at async Microsoft.CodeAnalysis.SpellCheck.AbstractSpellCheckCodeFixProvider`1.CreateSpellCheckCodeIssueAsync[TSimpleName](&lt;Unknown Parameters&gt;)
   at async Microsoft.CodeAnalysis.SpellCheck.AbstractSpellCheckCodeFixProvider`1.CheckNodeAsync[TSimpleName](&lt;Unknown Parameters&gt;)
   at async Microsoft.CodeAnalysis.SpellCheck.AbstractSpellCheckCodeFixProvider`1.RegisterCodeFixesAsync[TSimpleName](&lt;Unknown Parameters&gt;)
   at async Microsoft.CodeAnalysis.Extensions.IExtensionManagerExtensions.PerformActionAsync(&lt;Unknown Parameters&gt;)
   at Microsoft.VisualStudio.Telemetry.WindowsErrorReporting.WatsonReport.GetClrWatsonExceptionInfo(Exception exceptionObject)
```

---
### Original Comments

#### Visual Studio Feedback System on 10/14/2019 11:32 PM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>


---
### Original Solutions
(no solutions)",Area-IDE|Bug|Developer Community,ryzngard,,
39331,Add a special diagnostic for when the parser is not making progress in loops,"See `IsMakingProgress(ref int)`:

https://github.com/dotnet/roslyn/blob/1ccaa91e9ea9fbfccbdf47afc938644af927f425/src/Compilers/CSharp/Portable/Parser/SyntaxParser.cs#L1107

This method Debug.Asserts so that we know there's an infinite loop bug in the parser in debug mode. In release mode it just returns 'false' so that the related loop terminates and compilation finishes (expected to finish with syntax errors.)

I think we should consider making it so this method also adds a special diagnostic which requests the user to report an issue so that when users inadvertently put the parser into an unexpected no-progress state we can find out about it and address any underlying issues.

/cc @jcouv","Add a special diagnostic for when the parser is not making progress in loops See `IsMakingProgress(ref int)`:

https://github.com/dotnet/roslyn/blob/1ccaa91e9ea9fbfccbdf47afc938644af927f425/src/Compilers/CSharp/Portable/Parser/SyntaxParser.cs#L1107

This method Debug.Asserts so that we know there's an infinite loop bug in the parser in debug mode. In release mode it just returns 'false' so that the related loop terminates and compilation finishes (expected to finish with syntax errors.)

I think we should consider making it so this method also adds a special diagnostic which requests the user to report an issue so that when users inadvertently put the parser into an unexpected no-progress state we can find out about it and address any underlying issues.

/cc @jcouv",Area-Compilers,RikkiGibson|jcouv,17/10/2019 7:23,
39330,Skip RenamingEscapedIdentifiers,"Related to #29483

flaky build (see attempt 1): https://dev.azure.com/dnceng/public/_build/results?buildId=390082&view=ms.vss-test-web.build-test-results-tab&runId=12097348&resultId=138635&paneView=debug","Skip RenamingEscapedIdentifiers Related to #29483

flaky build (see attempt 1): https://dev.azure.com/dnceng/public/_build/results?buildId=390082&view=ms.vss-test-web.build-test-results-tab&runId=12097348&resultId=138635&paneView=debug",Area-Infrastructure,RikkiGibson,17/10/2019 6:40,17/10/2019 8:22
39328,ExtractInterfaceCodeRefactoringProvider encountered an error and has been disabled,"_This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/547144/extractinterfacecoderefactoringprovider-encountere.html)._

---
This happens everytime. The class that I am trying to extract interface from is defined in a shared project (shproj).

The stack trace:
```
System.AggregateException : One or more errors occurred. ---&gt; Files and folders cannot be:
- Empty strings 
- System reserved names including 'CON' 'AUX' PRN' 'COM1' or 'LPT2' 
- contain only '.'
- have any of the following characters: / ? : &amp; \ * &quot; &lt; &gt; | # %
   at System.Threading.Tasks.Task.ThrowIfExceptional(Boolean includeTaskCanceledExceptions)
   at System.Threading.Tasks.Task.Wait(Int32 millisecondsTimeoutCancellationToken cancellationToken)
   at Microsoft.CodeAnalysis.Editor.Implementation.Suggestions.SuggestedAction.InvokeWorker(Func`1 getFromDocumentIProgressTracker progressTrackerCancellationToken cancellationToken)
   at Microsoft.CodeAnalysis.Editor.Implementation.Suggestions.SuggestedAction.&lt;&gt;c__DisplayClass18_0.&lt;InvokeCore&gt;b__0()
   at Microsoft.CodeAnalysis.Extensions.IExtensionManagerExtensions.PerformAction(IExtensionManager extensionManagerObject extensionAction action)
---&gt; (Inner Exception #0) System.InvalidOperationException : Files and folders cannot be:
- Empty strings 
- System reserved names including 'CON' 'AUX' PRN' 'COM1' or 'LPT2' 
- contain only '.'
- have any of the following characters: / ? : &amp; \ * &quot; &lt; &gt; | # %
   at Microsoft.VisualStudio.ProjectSystem.VS.Implementation.Package.Utilities.ValidateFileName(IServiceProvider serviceProviderString filePath)
   at async Microsoft.VisualStudio.ProjectSystem.VS.Implementation.Package.Automation.OAProjectItems.&lt;&gt;c__DisplayClass2_0.&lt;AddFolder&gt;b__0(&lt;Unknown Parameters&gt;)
   at async Microsoft.VisualStudio.ProjectSystem.VS.Implementation.Package.Automation.OAProject.&lt;&gt;c__DisplayClass68_0`1.&lt;Mutate&gt;b__0[T](&lt;Unknown Parameters&gt;)
   at async Microsoft.VisualStudio.ProjectSystem.VS.Implementation.Package.ProjectNode.&lt;&gt;c__DisplayClass569_0.&lt;Mutate&gt;b__0(&lt;Unknown Parameters&gt;)
   at Microsoft.VisualStudio.Threading.JoinableTask.CompleteOnCurrentThread()
   at Microsoft.VisualStudio.ProjectSystem.ProjectMultiThreadedService.ExecuteSynchronously(Func`1 asyncAction)
   at Microsoft.VisualStudio.ProjectSystem.VS.Implementation.Package.ProjectNode.Mutate(Func`1 asyncActionBoolean includesFileSystemChangeString telemetryActivity)
   at Microsoft.VisualStudio.ProjectSystem.VS.Implementation.Package.Automation.OAProject.Mutate[T](Func`1 asyncActionBoolean includesFileSystemChangeString telemetryActivity)
   at Microsoft.VisualStudio.ProjectSystem.VS.Implementation.Package.Automation.OAProjectItems.AddFolder(String nameString kind)
   at Microsoft.VisualStudio.LanguageServices.Implementation.ProjectSystem.Extensions.ProjectExtensions.CreateFolder(ProjectItems currentItemsString container)
   at Microsoft.VisualStudio.LanguageServices.Implementation.ProjectSystem.Extensions.ProjectExtensions.FindOrCreateFolder(Project projectIEnumerable`1 containers)
   at Microsoft.VisualStudio.LanguageServices.Implementation.ProjectSystem.VisualStudioWorkspaceImpl.AddDocumentToFolder(AbstractProject hostProjectProject projectDocumentId documentIdIEnumerable`1 foldersString documentName SourceCodeKind sourceCodeKindSourceText initialTextString filePathBoolean isAdditionalDocument)
   at Microsoft.VisualStudio.LanguageServices.Implementation.ProjectSystem.VisualStudioWorkspaceImpl.AddDocumentCore(DocumentInfo infoSourceText initialTextBoolean isAdditionalDocument)
   at Microsoft.VisualStudio.LanguageServices.Implementation.ProjectSystem.VisualStudioWorkspaceImpl.ApplyDocumentAdded(DocumentInfo infoSourceText text)
   at Microsoft.CodeAnalysis.Workspace.ApplyProjectChanges(ProjectChanges projectChanges)
   at Microsoft.CodeAnalysis.Workspace.TryApplyChanges(Solution newSolutionIProgressTracker progressTracker)
   at Microsoft.VisualStudio.LanguageServices.Implementation.ProjectSystem.VisualStudioWorkspaceImpl.TryApplyChanges(Solution newSolutionIProgressTracker progressTracker)
   at Microsoft.CodeAnalysis.CodeActions.ApplyChangesOperation.TryApply(Workspace workspaceIProgressTracker progressTrackerCancellationToken cancellationToken)
   at Microsoft.CodeAnalysis.Editor.Implementation.CodeActions.CodeActionEditHandlerService.ProcessOperations(Workspace workspaceImmutableArray`1 operationsIProgressTracker progressTrackerCancellationToken cancellationToken)
   at async Microsoft.CodeAnalysis.Editor.Implementation.CodeActions.CodeActionEditHandlerService.ApplyAsync(&lt;Unknown Parameters&gt;)
   at Microsoft.VisualStudio.Telemetry.WindowsErrorReporting.WatsonReport.GetClrWatsonExceptionInfo(Exception exceptionObject)&lt;---
```

---
### Original Comments

#### Visual Studio Feedback System on 4/26/2019 00:29 AM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>

#### Visual Studio Feedback System on 5/6/2019 04:37 PM: 

<p>This issue is currently being investigated. Our team will get back to you if either more information is needed a workaround is available or the issue is resolved.</p>


---
### Original Solutions
(no solutions)","ExtractInterfaceCodeRefactoringProvider encountered an error and has been disabled _This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/547144/extractinterfacecoderefactoringprovider-encountere.html)._

---
This happens everytime. The class that I am trying to extract interface from is defined in a shared project (shproj).

The stack trace:
```
System.AggregateException : One or more errors occurred. ---&gt; Files and folders cannot be:
- Empty strings 
- System reserved names including 'CON' 'AUX' PRN' 'COM1' or 'LPT2' 
- contain only '.'
- have any of the following characters: / ? : &amp; \ * &quot; &lt; &gt; | # %
   at System.Threading.Tasks.Task.ThrowIfExceptional(Boolean includeTaskCanceledExceptions)
   at System.Threading.Tasks.Task.Wait(Int32 millisecondsTimeoutCancellationToken cancellationToken)
   at Microsoft.CodeAnalysis.Editor.Implementation.Suggestions.SuggestedAction.InvokeWorker(Func`1 getFromDocumentIProgressTracker progressTrackerCancellationToken cancellationToken)
   at Microsoft.CodeAnalysis.Editor.Implementation.Suggestions.SuggestedAction.&lt;&gt;c__DisplayClass18_0.&lt;InvokeCore&gt;b__0()
   at Microsoft.CodeAnalysis.Extensions.IExtensionManagerExtensions.PerformAction(IExtensionManager extensionManagerObject extensionAction action)
---&gt; (Inner Exception #0) System.InvalidOperationException : Files and folders cannot be:
- Empty strings 
- System reserved names including 'CON' 'AUX' PRN' 'COM1' or 'LPT2' 
- contain only '.'
- have any of the following characters: / ? : &amp; \ * &quot; &lt; &gt; | # %
   at Microsoft.VisualStudio.ProjectSystem.VS.Implementation.Package.Utilities.ValidateFileName(IServiceProvider serviceProviderString filePath)
   at async Microsoft.VisualStudio.ProjectSystem.VS.Implementation.Package.Automation.OAProjectItems.&lt;&gt;c__DisplayClass2_0.&lt;AddFolder&gt;b__0(&lt;Unknown Parameters&gt;)
   at async Microsoft.VisualStudio.ProjectSystem.VS.Implementation.Package.Automation.OAProject.&lt;&gt;c__DisplayClass68_0`1.&lt;Mutate&gt;b__0[T](&lt;Unknown Parameters&gt;)
   at async Microsoft.VisualStudio.ProjectSystem.VS.Implementation.Package.ProjectNode.&lt;&gt;c__DisplayClass569_0.&lt;Mutate&gt;b__0(&lt;Unknown Parameters&gt;)
   at Microsoft.VisualStudio.Threading.JoinableTask.CompleteOnCurrentThread()
   at Microsoft.VisualStudio.ProjectSystem.ProjectMultiThreadedService.ExecuteSynchronously(Func`1 asyncAction)
   at Microsoft.VisualStudio.ProjectSystem.VS.Implementation.Package.ProjectNode.Mutate(Func`1 asyncActionBoolean includesFileSystemChangeString telemetryActivity)
   at Microsoft.VisualStudio.ProjectSystem.VS.Implementation.Package.Automation.OAProject.Mutate[T](Func`1 asyncActionBoolean includesFileSystemChangeString telemetryActivity)
   at Microsoft.VisualStudio.ProjectSystem.VS.Implementation.Package.Automation.OAProjectItems.AddFolder(String nameString kind)
   at Microsoft.VisualStudio.LanguageServices.Implementation.ProjectSystem.Extensions.ProjectExtensions.CreateFolder(ProjectItems currentItemsString container)
   at Microsoft.VisualStudio.LanguageServices.Implementation.ProjectSystem.Extensions.ProjectExtensions.FindOrCreateFolder(Project projectIEnumerable`1 containers)
   at Microsoft.VisualStudio.LanguageServices.Implementation.ProjectSystem.VisualStudioWorkspaceImpl.AddDocumentToFolder(AbstractProject hostProjectProject projectDocumentId documentIdIEnumerable`1 foldersString documentName SourceCodeKind sourceCodeKindSourceText initialTextString filePathBoolean isAdditionalDocument)
   at Microsoft.VisualStudio.LanguageServices.Implementation.ProjectSystem.VisualStudioWorkspaceImpl.AddDocumentCore(DocumentInfo infoSourceText initialTextBoolean isAdditionalDocument)
   at Microsoft.VisualStudio.LanguageServices.Implementation.ProjectSystem.VisualStudioWorkspaceImpl.ApplyDocumentAdded(DocumentInfo infoSourceText text)
   at Microsoft.CodeAnalysis.Workspace.ApplyProjectChanges(ProjectChanges projectChanges)
   at Microsoft.CodeAnalysis.Workspace.TryApplyChanges(Solution newSolutionIProgressTracker progressTracker)
   at Microsoft.VisualStudio.LanguageServices.Implementation.ProjectSystem.VisualStudioWorkspaceImpl.TryApplyChanges(Solution newSolutionIProgressTracker progressTracker)
   at Microsoft.CodeAnalysis.CodeActions.ApplyChangesOperation.TryApply(Workspace workspaceIProgressTracker progressTrackerCancellationToken cancellationToken)
   at Microsoft.CodeAnalysis.Editor.Implementation.CodeActions.CodeActionEditHandlerService.ProcessOperations(Workspace workspaceImmutableArray`1 operationsIProgressTracker progressTrackerCancellationToken cancellationToken)
   at async Microsoft.CodeAnalysis.Editor.Implementation.CodeActions.CodeActionEditHandlerService.ApplyAsync(&lt;Unknown Parameters&gt;)
   at Microsoft.VisualStudio.Telemetry.WindowsErrorReporting.WatsonReport.GetClrWatsonExceptionInfo(Exception exceptionObject)&lt;---
```

---
### Original Comments

#### Visual Studio Feedback System on 4/26/2019 00:29 AM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>

#### Visual Studio Feedback System on 5/6/2019 04:37 PM: 

<p>This issue is currently being investigated. Our team will get back to you if either more information is needed a workaround is available or the issue is resolved.</p>


---
### Original Solutions
(no solutions)",Area-IDE|Bug,ryzngard,,
39327,C# Rename file to match class name unexpectedly fails to trigger,"_This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/761952/c-rename-file-to-match-class-name-unexpectedly-fai.html)._

---
I have Ctrl-W mapped to Edit.ExpandSelection.

Prerequisite: Have a class in a .cs file where filename and class name don't match.

Repro actions:
- Place the cursor (using kbd) somewhere in the middle of the class name in the definition of the class.
- Ctrl-W to select the whole class name.
- Engage `EditorContextMenus.CodeWindow.QuickActionsForPosition` (defaultmapped to Ctrl-'.' I believe).

Result: You are not even presented with the choices to rename neither the file nor the class.

Expected: Whether no selection is active or exacly _one_ selection is active where the classname is partially or fully included in a selection together with zero or more leading and/or trailing whitespace the refactoring should be suggested.

From the behavior it seems the bug is the refactoring fails to even understand the cursor is on a class name if a selection is active.

Feel free to replace &quot;class name&quot; with &quot;typename&quot; as it seems likely this bug should affect all kinds of non-predefined typenames.

---
### Original Comments

#### Visual Studio Feedback System on 10/7/2019 00:55 AM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>

#### Visual Studio Feedback System on 10/8/2019 01:57 PM: 

<p>This issue is currently being investigated. Our team will get back to you if either more information is needed a workaround is available or the issue is resolved.</p>


---
### Original Solutions
(no solutions)","C#, Rename file to match class name unexpectedly fails to trigger _This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/761952/c-rename-file-to-match-class-name-unexpectedly-fai.html)._

---
I have Ctrl-W mapped to Edit.ExpandSelection.

Prerequisite: Have a class in a .cs file where filename and class name don't match.

Repro actions:
- Place the cursor (using kbd) somewhere in the middle of the class name in the definition of the class.
- Ctrl-W to select the whole class name.
- Engage `EditorContextMenus.CodeWindow.QuickActionsForPosition` (defaultmapped to Ctrl-'.' I believe).

Result: You are not even presented with the choices to rename neither the file nor the class.

Expected: Whether no selection is active or exacly _one_ selection is active where the classname is partially or fully included in a selection together with zero or more leading and/or trailing whitespace the refactoring should be suggested.

From the behavior it seems the bug is the refactoring fails to even understand the cursor is on a class name if a selection is active.

Feel free to replace &quot;class name&quot; with &quot;typename&quot; as it seems likely this bug should affect all kinds of non-predefined typenames.

---
### Original Comments

#### Visual Studio Feedback System on 10/7/2019 00:55 AM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>

#### Visual Studio Feedback System on 10/8/2019 01:57 PM: 

<p>This issue is currently being investigated. Our team will get back to you if either more information is needed a workaround is available or the issue is resolved.</p>


---
### Original Solutions
(no solutions)",Area-IDE|Bug,ryzngard,,
39326,Duplication word  when rename property,"_This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/761897/duplication-word-when-rename-property.html)._

---
Note: VS 2019 Community 16.3.1

**Act**
We have two members for excample:

```
private const string _sidSearchFilter = &quot;(&amp;(objectClass=user)(objectClass=person)(objectGUID={0}))&quot;;
private const string _emailAttribute = &quot;mail&quot;;
```

**Arrange**
Rename them click &quot;Ctrl+R&quot;

**Assert**
1) For `_sidSearchFilter` rename preview will be as `_sidSearchFilter` - _**ok**_;
2) For `_emailAttribute` rename preview will be as `_emailAttributeAttribute` - _**Is it ok?**_;

---
### Original Comments

#### Visual Studio Feedback System on 10/7/2019 01:03 AM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>

#### Visual Studio Feedback System on 10/8/2019 01:57 PM: 

<p>This issue is currently being investigated. Our team will get back to you if either more information is needed a workaround is available or the issue is resolved.</p>


---
### Original Solutions
(no solutions)","Duplication word  when rename property _This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/761897/duplication-word-when-rename-property.html)._

---
Note: VS 2019 Community 16.3.1

**Act**
We have two members for excample:

```
private const string _sidSearchFilter = &quot;(&amp;(objectClass=user)(objectClass=person)(objectGUID={0}))&quot;;
private const string _emailAttribute = &quot;mail&quot;;
```

**Arrange**
Rename them click &quot;Ctrl+R&quot;

**Assert**
1) For `_sidSearchFilter` rename preview will be as `_sidSearchFilter` - _**ok**_;
2) For `_emailAttribute` rename preview will be as `_emailAttributeAttribute` - _**Is it ok?**_;

---
### Original Comments

#### Visual Studio Feedback System on 10/7/2019 01:03 AM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>

#### Visual Studio Feedback System on 10/8/2019 01:57 PM: 

<p>This issue is currently being investigated. Our team will get back to you if either more information is needed a workaround is available or the issue is resolved.</p>


---
### Original Solutions
(no solutions)",Area-IDE|Bug,ryzngard,,
39325,Go to implementation throws AggregateException,"_This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/745946/go-to-implementation-throws-aggregateexception.html)._

---
<p>[regression] [worked-in:16.2.3]<br>
After upgrading to 16.3 the Go to Implementation command (Ctrl+F12 in the default shortcuts) no longer work and throws an AggregateException.</p><p>Update: this works properly on a dotnet core solution. The project where this fails is a larger (50+ csproj) legacy dotnet framework solution. The main project type is ASP.NET.</p><p>I tried disabling all plugins but the error persists.</p><p>Please see the attached logs/recording for more details.</p><p>This is the stack trace for the error:</p>
<pre>System.AggregateException: One or more errors occurred. ---&gt; System.AggregateException: One or more errors occurred. ---&gt; System.AggregateException: One or more errors occurred. ---&gt; System.NullReferenceException: Object reference not set to an instance of an object.at Microsoft.CodeAnalysis.FindSymbols.DependentTypeFinder.ProjectIndex.&lt;CreateIndexAsync&gt;d__8.MoveNext() --- End of stack trace from previous location where exception was thrown --- at Microsoft.VisualStudio.Telemetry.WindowsErrorReporting.WatsonReport.GetClrWatsonExceptionInfo(Exception exceptionObject) --- End of inner exception stack trace --- at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)at Microsoft.CodeAnalysis.FindSymbols.DependentTypeFinder.&lt;AddSourceTypesInProjectAsync&gt;d__30.MoveNext() --- End of stack trace from previous location where exception was thrown --- at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)at Microsoft.CodeAnalysis.FindSymbols.DependentTypeFinder.&lt;FindTypesInProjectAsync&gt;d__20.MoveNext() --- End of stack trace from previous location where exception was thrown --- at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)at Microsoft.CodeAnalysis.FindSymbols.DependentTypeFinder.&lt;FindTypesAsync&gt;d__18.MoveNext() --- End of stack trace from previous location where exception was thrown --- at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)at Microsoft.CodeAnalysis.FindSymbols.DependentTypeFinder.&lt;&gt;c__DisplayClass9_0.&lt;&lt;FindTypesFromCacheOrComputeAsync&gt;b__0&gt;d.MoveNext() --- End of inner exception stack trace --- at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)at System.Runtime.CompilerServices.TaskAwaiter.ValidateEnd(Task task)at Microsoft.CodeAnalysis.FindSymbols.DependentTypeFinder.&lt;FindTypesFromCacheOrComputeAsync&gt;d__9.MoveNext() --- End of stack trace from previous location where exception was thrown --- at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)at Microsoft.CodeAnalysis.FindSymbols.DependentTypeFinder.&lt;FindTransitivelyImplementingStructuresAndClassesAsync&gt;d__13.MoveNext() --- End of stack trace from previous location where exception was thrown --- at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)at Microsoft.CodeAnalysis.FindSymbols.SymbolFinder.&lt;FindImplementationsAsync&gt;d__50.MoveNext() --- End of stack trace from previous location where exception was thrown --- at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)at Microsoft.CodeAnalysis.FindSymbols.SymbolFinder.&lt;FindImplementationsAsync&gt;d__49.MoveNext() --- End of stack trace from previous location where exception was thrown --- at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)at Microsoft.CodeAnalysis.Editor.FindUsages.FindUsagesHelpers.&lt;FindImplementationsWorkerAsync&gt;d__4.MoveNext() --- End of stack trace from previous location where exception was thrown --- at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)at Microsoft.CodeAnalysis.Editor.FindUsages.FindUsagesHelpers.&lt;FindImplementationsAsync&gt;d__3.MoveNext() --- End of stack trace from previous location where exception was thrown --- at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)at Microsoft.CodeAnalysis.Editor.FindUsages.FindUsagesHelpers.&lt;FindImplementationsAsync&gt;d__2.MoveNext() --- End of stack trace from previous location where exception was thrown --- at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)at Microsoft.CodeAnalysis.Editor.FindUsages.AbstractFindUsagesService.&lt;FindImplementationsAsync&gt;d__2.MoveNext() --- End of inner exception stack trace --- at System.Threading.Tasks.Task.ThrowIfExceptional(Boolean includeTaskCanceledExceptions)at System.Threading.Tasks.Task.Wait(Int32 millisecondsTimeout CancellationToken cancellationToken)at Microsoft.CodeAnalysis.Editor.GoToImplementation.GoToImplementationCommandHandler.StreamingGoToImplementation(Document document Int32 caretPosition IFindUsagesService findUsagesService IStreamingFindUsagesPresenter streamingPresenter CancellationToken cancellationToken String&amp; messageToShow)at Microsoft.CodeAnalysis.Editor.GoToImplementation.GoToImplementationCommandHandler.ExecuteCommand(Document document Int32 caretPosition IFindUsagesService streamingService CommandExecutionContext context)at Microsoft.CodeAnalysis.Editor.GoToImplementation.GoToImplementationCommandHandler.ExecuteCommand(GoToImplementationCommandArgs args CommandExecutionContext context)at Microsoft.VisualStudio.Commanding.CommandHandlerExtensions.ExecuteCommand[T](ICommandHandler commandHandler T args Action nextCommandHandler CommandExecutionContext executionContext)at Microsoft.VisualStudio.UI.Text.Commanding.Implementation.EditorCommandHandlerService.&lt;&gt;c__DisplayClass13_1`1.&lt;&lt;span class=&quot;hljs-selector-tag&quot;&gt;Execute&lt;/span&gt;&gt;&lt;span class=&quot;hljs-selector-tag&quot;&gt;b__1&lt;/span&gt;()&lt;span class=&quot;hljs-selector-tag&quot;&gt;at&lt;/span&gt; &lt;span class=&quot;hljs-selector-tag&quot;&gt;Microsoft&lt;/span&gt;&lt;span class=&quot;hljs-selector-class&quot;&gt;.VisualStudio&lt;/span&gt;&lt;span class=&quot;hljs-selector-class&quot;&gt;.Text&lt;/span&gt;&lt;span class=&quot;hljs-selector-class&quot;&gt;.Utilities&lt;/span&gt;&lt;span class=&quot;hljs-selector-class&quot;&gt;.GuardedOperations&lt;/span&gt;&lt;span class=&quot;hljs-selector-class&quot;&gt;.CallExtensionPoint&lt;/span&gt;(&lt;span class=&quot;hljs-selector-tag&quot;&gt;Object&lt;/span&gt; &lt;span class=&quot;hljs-selector-tag&quot;&gt;errorSource&lt;/span&gt; &lt;span class=&quot;hljs-selector-tag&quot;&gt;Action&lt;/span&gt; &lt;span class=&quot;hljs-selector-tag&quot;&gt;call&lt;/span&gt; &lt;span class=&quot;hljs-selector-tag&quot;&gt;Predicate&lt;/span&gt;`1 exceptionFilter) ---&gt; (Inner Exception #0) System.AggregateException: One or more errors occurred. ---&gt; System.AggregateException: One or more errors occurred. ---&gt; System.NullReferenceException: Object reference not set to an instance of an object.at Microsoft.CodeAnalysis.FindSymbols.DependentTypeFinder.ProjectIndex.&lt;CreateIndexAsync&gt;d__8.MoveNext() --- End of stack trace from previous location where exception was thrown --- at Microsoft.VisualStudio.Telemetry.WindowsErrorReporting.WatsonReport.GetClrWatsonExceptionInfo(Exception exceptionObject) --- End of inner exception stack trace --- at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)at Microsoft.CodeAnalysis.FindSymbols.DependentTypeFinder.&lt;AddSourceTypesInProjectAsync&gt;d__30.MoveNext() --- End of stack trace from previous location where exception was thrown --- at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)at Microsoft.CodeAnalysis.FindSymbols.DependentTypeFinder.&lt;FindTypesInProjectAsync&gt;d__20.MoveNext() --- End of stack trace from previous location where exception was thrown --- at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)at Microsoft.CodeAnalysis.FindSymbols.DependentTypeFinder.&lt;FindTypesAsync&gt;d__18.MoveNext() --- End of stack trace from previous location where exception was thrown --- at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)at Microsoft.CodeAnalysis.FindSymbols.DependentTypeFinder.&lt;&gt;c__DisplayClass9_0.&lt;&lt;FindTypesFromCacheOrComputeAsync&gt;b__0&gt;d.MoveNext() --- End of inner exception stack trace --- at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)at System.Runtime.CompilerServices.TaskAwaiter.ValidateEnd(Task task)at Microsoft.CodeAnalysis.FindSymbols.DependentTypeFinder.&lt;FindTypesFromCacheOrComputeAsync&gt;d__9.MoveNext() --- End of stack trace from previous location where exception was thrown --- at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)at Microsoft.CodeAnalysis.FindSymbols.DependentTypeFinder.&lt;FindTransitivelyImplementingStructuresAndClassesAsync&gt;d__13.MoveNext() --- End of stack trace from previous location where exception was thrown --- at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)at Microsoft.CodeAnalysis.FindSymbols.SymbolFinder.&lt;FindImplementationsAsync&gt;d__50.MoveNext() --- End of stack trace from previous location where exception was thrown --- at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)at Microsoft.CodeAnalysis.FindSymbols.SymbolFinder.&lt;FindImplementationsAsync&gt;d__49.MoveNext() --- End of stack trace from previous location where exception was thrown --- at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)at Microsoft.CodeAnalysis.Editor.FindUsages.FindUsagesHelpers.&lt;FindImplementationsWorkerAsync&gt;d__4.MoveNext() --- End of stack trace from previous location where exception was thrown --- at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)at Microsoft.CodeAnalysis.Editor.FindUsages.FindUsagesHelpers.&lt;FindImplementationsAsync&gt;d__3.MoveNext() --- End of stack trace from previous location where exception was thrown --- at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)at Microsoft.CodeAnalysis.Editor.FindUsages.FindUsagesHelpers.&lt;FindImplementationsAsync&gt;d__2.MoveNext() --- End of stack trace from previous location where exception was thrown --- at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)at Microsoft.CodeAnalysis.Editor.FindUsages.AbstractFindUsagesService.&lt;FindImplementationsAsync&gt;d__2.MoveNext() ---&gt; (Inner Exception #0) System.AggregateException: One or more errors occurred. ---&gt; System.NullReferenceException: Object reference not set to an instance of an object.at Microsoft.CodeAnalysis.FindSymbols.DependentTypeFinder.ProjectIndex.&lt;CreateIndexAsync&gt;d__8.MoveNext() --- End of stack trace from previous location where exception was thrown --- at Microsoft.VisualStudio.Telemetry.WindowsErrorReporting.WatsonReport.GetClrWatsonExceptionInfo(Exception exceptionObject) --- End of inner exception stack trace --- at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)at Microsoft.CodeAnalysis.FindSymbols.DependentTypeFinder.&lt;AddSourceTypesInProjectAsync&gt;d__30.MoveNext() --- End of stack trace from previous location where exception was thrown --- at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)at Microsoft.CodeAnalysis.FindSymbols.DependentTypeFinder.&lt;FindTypesInProjectAsync&gt;d__20.MoveNext() --- End of stack trace from previous location where exception was thrown --- at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)at Microsoft.CodeAnalysis.FindSymbols.DependentTypeFinder.&lt;FindTypesAsync&gt;d__18.MoveNext() --- End of stack trace from previous location where exception was thrown --- at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)at Microsoft.CodeAnalysis.FindSymbols.DependentTypeFinder.&lt;&gt;c__DisplayClass9_0.&lt;&lt;FindTypesFromCacheOrComputeAsync&gt;b__0&gt;d.MoveNext() ---&gt; (Inner Exception #0) System.NullReferenceException: Object reference not set to an instance of an object.at Microsoft.CodeAnalysis.FindSymbols.DependentTypeFinder.ProjectIndex.&lt;CreateIndexAsync&gt;d__8.MoveNext() --- End of stack trace from previous location where exception was thrown --- at Microsoft.VisualStudio.Telemetry.WindowsErrorReporting.WatsonReport.GetClrWatsonExceptionInfo(Exception exceptionObject)&lt;--- &lt;--- &lt;--- 
</pre>

---
### Original Comments

#### Visual Studio Feedback System on 9/24/2019 11:19 AM: 

<p>This issue is currently being investigated. Our team will get back to you if either more information is needed a workaround is available or the issue is resolved.</p>


---
### Original Solutions
(no solutions)","Go to implementation throws AggregateException _This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/745946/go-to-implementation-throws-aggregateexception.html)._

---
<p>[regression] [worked-in:16.2.3]<br>
After upgrading to 16.3 the Go to Implementation command (Ctrl+F12 in the default shortcuts) no longer work and throws an AggregateException.</p><p>Update: this works properly on a dotnet core solution. The project where this fails is a larger (50+ csproj) legacy dotnet framework solution. The main project type is ASP.NET.</p><p>I tried disabling all plugins but the error persists.</p><p>Please see the attached logs/recording for more details.</p><p>This is the stack trace for the error:</p>
<pre>System.AggregateException: One or more errors occurred. ---&gt; System.AggregateException: One or more errors occurred. ---&gt; System.AggregateException: One or more errors occurred. ---&gt; System.NullReferenceException: Object reference not set to an instance of an object.at Microsoft.CodeAnalysis.FindSymbols.DependentTypeFinder.ProjectIndex.&lt;CreateIndexAsync&gt;d__8.MoveNext() --- End of stack trace from previous location where exception was thrown --- at Microsoft.VisualStudio.Telemetry.WindowsErrorReporting.WatsonReport.GetClrWatsonExceptionInfo(Exception exceptionObject) --- End of inner exception stack trace --- at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)at Microsoft.CodeAnalysis.FindSymbols.DependentTypeFinder.&lt;AddSourceTypesInProjectAsync&gt;d__30.MoveNext() --- End of stack trace from previous location where exception was thrown --- at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)at Microsoft.CodeAnalysis.FindSymbols.DependentTypeFinder.&lt;FindTypesInProjectAsync&gt;d__20.MoveNext() --- End of stack trace from previous location where exception was thrown --- at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)at Microsoft.CodeAnalysis.FindSymbols.DependentTypeFinder.&lt;FindTypesAsync&gt;d__18.MoveNext() --- End of stack trace from previous location where exception was thrown --- at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)at Microsoft.CodeAnalysis.FindSymbols.DependentTypeFinder.&lt;&gt;c__DisplayClass9_0.&lt;&lt;FindTypesFromCacheOrComputeAsync&gt;b__0&gt;d.MoveNext() --- End of inner exception stack trace --- at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)at System.Runtime.CompilerServices.TaskAwaiter.ValidateEnd(Task task)at Microsoft.CodeAnalysis.FindSymbols.DependentTypeFinder.&lt;FindTypesFromCacheOrComputeAsync&gt;d__9.MoveNext() --- End of stack trace from previous location where exception was thrown --- at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)at Microsoft.CodeAnalysis.FindSymbols.DependentTypeFinder.&lt;FindTransitivelyImplementingStructuresAndClassesAsync&gt;d__13.MoveNext() --- End of stack trace from previous location where exception was thrown --- at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)at Microsoft.CodeAnalysis.FindSymbols.SymbolFinder.&lt;FindImplementationsAsync&gt;d__50.MoveNext() --- End of stack trace from previous location where exception was thrown --- at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)at Microsoft.CodeAnalysis.FindSymbols.SymbolFinder.&lt;FindImplementationsAsync&gt;d__49.MoveNext() --- End of stack trace from previous location where exception was thrown --- at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)at Microsoft.CodeAnalysis.Editor.FindUsages.FindUsagesHelpers.&lt;FindImplementationsWorkerAsync&gt;d__4.MoveNext() --- End of stack trace from previous location where exception was thrown --- at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)at Microsoft.CodeAnalysis.Editor.FindUsages.FindUsagesHelpers.&lt;FindImplementationsAsync&gt;d__3.MoveNext() --- End of stack trace from previous location where exception was thrown --- at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)at Microsoft.CodeAnalysis.Editor.FindUsages.FindUsagesHelpers.&lt;FindImplementationsAsync&gt;d__2.MoveNext() --- End of stack trace from previous location where exception was thrown --- at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)at Microsoft.CodeAnalysis.Editor.FindUsages.AbstractFindUsagesService.&lt;FindImplementationsAsync&gt;d__2.MoveNext() --- End of inner exception stack trace --- at System.Threading.Tasks.Task.ThrowIfExceptional(Boolean includeTaskCanceledExceptions)at System.Threading.Tasks.Task.Wait(Int32 millisecondsTimeout CancellationToken cancellationToken)at Microsoft.CodeAnalysis.Editor.GoToImplementation.GoToImplementationCommandHandler.StreamingGoToImplementation(Document document Int32 caretPosition IFindUsagesService findUsagesService IStreamingFindUsagesPresenter streamingPresenter CancellationToken cancellationToken String&amp; messageToShow)at Microsoft.CodeAnalysis.Editor.GoToImplementation.GoToImplementationCommandHandler.ExecuteCommand(Document document Int32 caretPosition IFindUsagesService streamingService CommandExecutionContext context)at Microsoft.CodeAnalysis.Editor.GoToImplementation.GoToImplementationCommandHandler.ExecuteCommand(GoToImplementationCommandArgs args CommandExecutionContext context)at Microsoft.VisualStudio.Commanding.CommandHandlerExtensions.ExecuteCommand[T](ICommandHandler commandHandler T args Action nextCommandHandler CommandExecutionContext executionContext)at Microsoft.VisualStudio.UI.Text.Commanding.Implementation.EditorCommandHandlerService.&lt;&gt;c__DisplayClass13_1`1.&lt;&lt;span class=&quot;hljs-selector-tag&quot;&gt;Execute&lt;/span&gt;&gt;&lt;span class=&quot;hljs-selector-tag&quot;&gt;b__1&lt;/span&gt;()&lt;span class=&quot;hljs-selector-tag&quot;&gt;at&lt;/span&gt; &lt;span class=&quot;hljs-selector-tag&quot;&gt;Microsoft&lt;/span&gt;&lt;span class=&quot;hljs-selector-class&quot;&gt;.VisualStudio&lt;/span&gt;&lt;span class=&quot;hljs-selector-class&quot;&gt;.Text&lt;/span&gt;&lt;span class=&quot;hljs-selector-class&quot;&gt;.Utilities&lt;/span&gt;&lt;span class=&quot;hljs-selector-class&quot;&gt;.GuardedOperations&lt;/span&gt;&lt;span class=&quot;hljs-selector-class&quot;&gt;.CallExtensionPoint&lt;/span&gt;(&lt;span class=&quot;hljs-selector-tag&quot;&gt;Object&lt;/span&gt; &lt;span class=&quot;hljs-selector-tag&quot;&gt;errorSource&lt;/span&gt; &lt;span class=&quot;hljs-selector-tag&quot;&gt;Action&lt;/span&gt; &lt;span class=&quot;hljs-selector-tag&quot;&gt;call&lt;/span&gt; &lt;span class=&quot;hljs-selector-tag&quot;&gt;Predicate&lt;/span&gt;`1 exceptionFilter) ---&gt; (Inner Exception #0) System.AggregateException: One or more errors occurred. ---&gt; System.AggregateException: One or more errors occurred. ---&gt; System.NullReferenceException: Object reference not set to an instance of an object.at Microsoft.CodeAnalysis.FindSymbols.DependentTypeFinder.ProjectIndex.&lt;CreateIndexAsync&gt;d__8.MoveNext() --- End of stack trace from previous location where exception was thrown --- at Microsoft.VisualStudio.Telemetry.WindowsErrorReporting.WatsonReport.GetClrWatsonExceptionInfo(Exception exceptionObject) --- End of inner exception stack trace --- at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)at Microsoft.CodeAnalysis.FindSymbols.DependentTypeFinder.&lt;AddSourceTypesInProjectAsync&gt;d__30.MoveNext() --- End of stack trace from previous location where exception was thrown --- at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)at Microsoft.CodeAnalysis.FindSymbols.DependentTypeFinder.&lt;FindTypesInProjectAsync&gt;d__20.MoveNext() --- End of stack trace from previous location where exception was thrown --- at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)at Microsoft.CodeAnalysis.FindSymbols.DependentTypeFinder.&lt;FindTypesAsync&gt;d__18.MoveNext() --- End of stack trace from previous location where exception was thrown --- at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)at Microsoft.CodeAnalysis.FindSymbols.DependentTypeFinder.&lt;&gt;c__DisplayClass9_0.&lt;&lt;FindTypesFromCacheOrComputeAsync&gt;b__0&gt;d.MoveNext() --- End of inner exception stack trace --- at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)at System.Runtime.CompilerServices.TaskAwaiter.ValidateEnd(Task task)at Microsoft.CodeAnalysis.FindSymbols.DependentTypeFinder.&lt;FindTypesFromCacheOrComputeAsync&gt;d__9.MoveNext() --- End of stack trace from previous location where exception was thrown --- at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)at Microsoft.CodeAnalysis.FindSymbols.DependentTypeFinder.&lt;FindTransitivelyImplementingStructuresAndClassesAsync&gt;d__13.MoveNext() --- End of stack trace from previous location where exception was thrown --- at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)at Microsoft.CodeAnalysis.FindSymbols.SymbolFinder.&lt;FindImplementationsAsync&gt;d__50.MoveNext() --- End of stack trace from previous location where exception was thrown --- at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)at Microsoft.CodeAnalysis.FindSymbols.SymbolFinder.&lt;FindImplementationsAsync&gt;d__49.MoveNext() --- End of stack trace from previous location where exception was thrown --- at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)at Microsoft.CodeAnalysis.Editor.FindUsages.FindUsagesHelpers.&lt;FindImplementationsWorkerAsync&gt;d__4.MoveNext() --- End of stack trace from previous location where exception was thrown --- at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)at Microsoft.CodeAnalysis.Editor.FindUsages.FindUsagesHelpers.&lt;FindImplementationsAsync&gt;d__3.MoveNext() --- End of stack trace from previous location where exception was thrown --- at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)at Microsoft.CodeAnalysis.Editor.FindUsages.FindUsagesHelpers.&lt;FindImplementationsAsync&gt;d__2.MoveNext() --- End of stack trace from previous location where exception was thrown --- at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)at Microsoft.CodeAnalysis.Editor.FindUsages.AbstractFindUsagesService.&lt;FindImplementationsAsync&gt;d__2.MoveNext() ---&gt; (Inner Exception #0) System.AggregateException: One or more errors occurred. ---&gt; System.NullReferenceException: Object reference not set to an instance of an object.at Microsoft.CodeAnalysis.FindSymbols.DependentTypeFinder.ProjectIndex.&lt;CreateIndexAsync&gt;d__8.MoveNext() --- End of stack trace from previous location where exception was thrown --- at Microsoft.VisualStudio.Telemetry.WindowsErrorReporting.WatsonReport.GetClrWatsonExceptionInfo(Exception exceptionObject) --- End of inner exception stack trace --- at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)at Microsoft.CodeAnalysis.FindSymbols.DependentTypeFinder.&lt;AddSourceTypesInProjectAsync&gt;d__30.MoveNext() --- End of stack trace from previous location where exception was thrown --- at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)at Microsoft.CodeAnalysis.FindSymbols.DependentTypeFinder.&lt;FindTypesInProjectAsync&gt;d__20.MoveNext() --- End of stack trace from previous location where exception was thrown --- at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)at Microsoft.CodeAnalysis.FindSymbols.DependentTypeFinder.&lt;FindTypesAsync&gt;d__18.MoveNext() --- End of stack trace from previous location where exception was thrown --- at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)at Microsoft.CodeAnalysis.FindSymbols.DependentTypeFinder.&lt;&gt;c__DisplayClass9_0.&lt;&lt;FindTypesFromCacheOrComputeAsync&gt;b__0&gt;d.MoveNext() ---&gt; (Inner Exception #0) System.NullReferenceException: Object reference not set to an instance of an object.at Microsoft.CodeAnalysis.FindSymbols.DependentTypeFinder.ProjectIndex.&lt;CreateIndexAsync&gt;d__8.MoveNext() --- End of stack trace from previous location where exception was thrown --- at Microsoft.VisualStudio.Telemetry.WindowsErrorReporting.WatsonReport.GetClrWatsonExceptionInfo(Exception exceptionObject)&lt;--- &lt;--- &lt;--- 
</pre>

---
### Original Comments

#### Visual Studio Feedback System on 9/24/2019 11:19 AM: 

<p>This issue is currently being investigated. Our team will get back to you if either more information is needed a workaround is available or the issue is resolved.</p>


---
### Original Solutions
(no solutions)",Area-IDE|Bug,ryzngard,,
39324,Remove analyzer workarounds for using declarations,"Remove workarounds introduced introduced in https://github.com/dotnet/roslyn/pull/36734 as #32100 is now implemented.
","Remove analyzer workarounds for using declarations Remove workarounds introduced introduced in https://github.com/dotnet/roslyn/pull/36734 as #32100 is now implemented.
",Area-Analyzers|Area-Compilers,chsienki,17/10/2019 5:53,17/10/2019 7:43
39323,"C# formatter's ""Make private fields readonly"" option fails to consider separated partial classes","VS Enterprise 16.3.5

**Steps to Reproduce**:
using the following code - using separate files - If used in the same file behavior is as expected.
Apply code-cleanup - including ""Make private fields readonly when possible""
```
	partial class MyTest : Form
	{
		private bool _disposed;
	}

	partial class MyTest
	{
		protected override void Dispose(bool disposing)
		{
			if(!_disposed)
				base.Dispose(disposing);
                       _disposed = true;
		}
	}
```

**Expected Behavior**:
```
	internal partial class MyTest : Form
	{
		private bool _disposed;;
	}

	internal partial class MyTest
	{
		protected override void Dispose(bool disposing)
		{
			if (!_disposed)
			{
				base.Dispose(disposing);
			}
                       _disposed = true;
		}
	}
```
**Actual Behavior**:
```
	internal partial class MyTest : Form
	{
		private readonly bool _disposed = true;
	}

	internal partial class MyTest
	{
		protected override void Dispose(bool disposing)
		{
			if (!_disposed)
			{
				base.Dispose(disposing);
			}
			_disposed = true; // this line fails to compile 
		}
	}
```","C# formatter's ""Make private fields readonly"" option fails to consider separated partial classes VS Enterprise 16.3.5

**Steps to Reproduce**:
using the following code - using separate files - If used in the same file behavior is as expected.
Apply code-cleanup - including ""Make private fields readonly when possible""
```
	partial class MyTest : Form
	{
		private bool _disposed;
	}

	partial class MyTest
	{
		protected override void Dispose(bool disposing)
		{
			if(!_disposed)
				base.Dispose(disposing);
                       _disposed = true;
		}
	}
```

**Expected Behavior**:
```
	internal partial class MyTest : Form
	{
		private bool _disposed;;
	}

	internal partial class MyTest
	{
		protected override void Dispose(bool disposing)
		{
			if (!_disposed)
			{
				base.Dispose(disposing);
			}
                       _disposed = true;
		}
	}
```
**Actual Behavior**:
```
	internal partial class MyTest : Form
	{
		private readonly bool _disposed = true;
	}

	internal partial class MyTest
	{
		protected override void Dispose(bool disposing)
		{
			if (!_disposed)
			{
				base.Dispose(disposing);
			}
			_disposed = true; // this line fails to compile 
		}
	}
```",Area-Analyzers|Bug,mavasani,,
39320,Merge master to features/static-lambdas,"
This is an automatically generated pull request from master into features/static-lambdas.

``` bash
git fetch --all
git checkout merges/master-to-features/static-lambdas
git reset --hard upstream/features/static-lambdas
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-features/static-lambdas --force
```
Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge master to features/static-lambdas 
This is an automatically generated pull request from master into features/static-lambdas.

``` bash
git fetch --all
git checkout merges/master-to-features/static-lambdas
git reset --hard upstream/features/static-lambdas
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-features/static-lambdas --force
```
Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|dibarbet|msftbot[bot],17/10/2019 4:37,17/10/2019 7:43
39319,Merge master to master-vs-deps,"
This is an automatically generated pull request from master into master-vs-deps.

``` bash
git fetch --all
git checkout merges/master-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-master-vs-deps --force
```
Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge master to master-vs-deps 
This is an automatically generated pull request from master into master-vs-deps.

``` bash
git fetch --all
git checkout merges/master-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-master-vs-deps --force
```
Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|dibarbet|msftbot[bot],17/10/2019 4:37,17/10/2019 7:43
39318,Merge master to release/dev16.5-preview1,"
This is an automatically generated pull request from master into release/dev16.5-preview1.

``` bash
git fetch --all
git checkout merges/master-to-release/dev16.5-preview1
git reset --hard upstream/release/dev16.5-preview1
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-release/dev16.5-preview1 --force
```
Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge master to release/dev16.5-preview1 
This is an automatically generated pull request from master into release/dev16.5-preview1.

``` bash
git fetch --all
git checkout merges/master-to-release/dev16.5-preview1
git reset --hard upstream/release/dev16.5-preview1
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-release/dev16.5-preview1 --force
```
Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|dibarbet|msftbot[bot],17/10/2019 4:35,17/10/2019 7:44
39316,Enable virtual/override recommender on private protected members,Fixes #39263 ,Enable virtual/override recommender on private protected members Fixes #39263 ,Area-IDE|Community,ivanbasov,,
39315,VB implementation of WriteDocumentationCommentXml does not respect filterTree,"During review of [DevDiv 999063](https://dev.azure.com/devdiv/DevDiv/_workitems/edit/999063) I found that syntax trees were reconstituted 115603 times in less than 100 seconds including 217 cases for just **src/Compilers/VisualBasic/Portable/Lowering/Rewriter.vb**. CPU analysis suggests that the trees are being requested by this method:

```
Microsoft.CodeAnalysis.VisualBasic.VisualBasicCompilation+DocumentationCommentCompiler.WriteDocumentationCommentXml
```

I noticed that this block:

https://github.com/dotnet/roslyn/blob/1de29ff0ae5661a0ac4b8208ac42570bce4c9417/src/Compilers/CSharp/Portable/Compiler/DocumentationCommentCompiler.cs#L108-L113

is not present in the corresponding VB compiler method:

https://github.com/dotnet/roslyn/blob/1de29ff0ae5661a0ac4b8208ac42570bce4c9417/src/Compilers/VisualBasic/Portable/Compilation/DocumentationComments/DocumentationCommentCompiler.vb#L59-L65","VB implementation of WriteDocumentationCommentXml does not respect filterTree During review of [DevDiv 999063](https://dev.azure.com/devdiv/DevDiv/_workitems/edit/999063) I found that syntax trees were reconstituted 115603 times in less than 100 seconds including 217 cases for just **src/Compilers/VisualBasic/Portable/Lowering/Rewriter.vb**. CPU analysis suggests that the trees are being requested by this method:

```
Microsoft.CodeAnalysis.VisualBasic.VisualBasicCompilation+DocumentationCommentCompiler.WriteDocumentationCommentXml
```

I noticed that this block:

https://github.com/dotnet/roslyn/blob/1de29ff0ae5661a0ac4b8208ac42570bce4c9417/src/Compilers/CSharp/Portable/Compiler/DocumentationCommentCompiler.cs#L108-L113

is not present in the corresponding VB compiler method:

https://github.com/dotnet/roslyn/blob/1de29ff0ae5661a0ac4b8208ac42570bce4c9417/src/Compilers/VisualBasic/Portable/Compilation/DocumentationComments/DocumentationCommentCompiler.vb#L59-L65",Area-Compilers|Concept-Continuous Improvement|Tenet-Performance,agocke,,
39311,Bug: Null-forgiving operator suppresses CS8620 warning,"**Version Used**: 3.3.1

**Steps to Reproduce**:
```cs
List<string?> list = new List<string?>();
List<string> list1 = list.Where(x => x != null).ToList(); // warning CS8619
List<string> list2 = list.Where(x => x != null).ToList<string>(); // warning CS8620
List<string> list3 = list.Where(x => x != null)!.ToList(); // warning CS8619
List<string> list4 = list.Where(x => x != null)!.ToList<string>(); // no warning here (bug)
```

**Expected Behavior**:
`list1`: warning CS8619: Nullability of reference types in value of type 'List<string?>' doesn't match target type 'List<string>'.

`list2`: warning CS8620: Argument of type 'IEnumerable<string?>' cannot be used for parameter 'source' of type 'IEnumerable<string>' in 'List<string> Enumerable.ToList<string>(IEnumerable<string> source)' due to differences in the nullability of reference types.

`list3`: warning CS8619: Nullability of reference types in value of type 'List<string?>' doesn't match target type 'List<string>'.

**`list4`: warning CS8620: Argument of type 'IEnumerable<string?>' cannot be used for parameter 'source' of type 'IEnumerable<string>' in 'List<string> Enumerable.ToList<string>(IEnumerable<string> source)' due to differences in the nullability of reference types.**

**Actual Behavior**:
`list1`: warning CS8619: Nullability of reference types in value of type 'List<string?>' doesn't match target type 'List<string>'.

`list2`: warning CS8620: Argument of type 'IEnumerable<string?>' cannot be used for parameter 'source' of type 'IEnumerable<string>' in 'List<string> Enumerable.ToList<string>(IEnumerable<string> source)' due to differences in the nullability of reference types.

`list3`: warning CS8619: Nullability of reference types in value of type 'List<string?>' doesn't match target type 'List<string>'.

**`list4`: no warning**","Bug: Null-forgiving operator suppresses CS8620 warning **Version Used**: 3.3.1

**Steps to Reproduce**:
```cs
List<string?> list = new List<string?>();
List<string> list1 = list.Where(x => x != null).ToList(); // warning CS8619
List<string> list2 = list.Where(x => x != null).ToList<string>(); // warning CS8620
List<string> list3 = list.Where(x => x != null)!.ToList(); // warning CS8619
List<string> list4 = list.Where(x => x != null)!.ToList<string>(); // no warning here (bug)
```

**Expected Behavior**:
`list1`: warning CS8619: Nullability of reference types in value of type 'List<string?>' doesn't match target type 'List<string>'.

`list2`: warning CS8620: Argument of type 'IEnumerable<string?>' cannot be used for parameter 'source' of type 'IEnumerable<string>' in 'List<string> Enumerable.ToList<string>(IEnumerable<string> source)' due to differences in the nullability of reference types.

`list3`: warning CS8619: Nullability of reference types in value of type 'List<string?>' doesn't match target type 'List<string>'.

**`list4`: warning CS8620: Argument of type 'IEnumerable<string?>' cannot be used for parameter 'source' of type 'IEnumerable<string>' in 'List<string> Enumerable.ToList<string>(IEnumerable<string> source)' due to differences in the nullability of reference types.**

**Actual Behavior**:
`list1`: warning CS8619: Nullability of reference types in value of type 'List<string?>' doesn't match target type 'List<string>'.

`list2`: warning CS8620: Argument of type 'IEnumerable<string?>' cannot be used for parameter 'source' of type 'IEnumerable<string>' in 'List<string> Enumerable.ToList<string>(IEnumerable<string> source)' due to differences in the nullability of reference types.

`list3`: warning CS8619: Nullability of reference types in value of type 'List<string?>' doesn't match target type 'List<string>'.

**`list4`: no warning**",Area-Compilers|New Language Feature - Nullable Reference Types,RikkiGibson,16/10/2019 21:46,18/10/2019 8:07
39309,msft bot not merging PRs,"Creating this issue to keep track of PRs that don't get automerged.

https://github.com/dotnet/roslyn/pull/39303
https://github.com/dotnet/roslyn/pull/39304
https://github.com/dotnet/roslyn/pull/39306
(automerged after I deleted and re-added the auto-merge label)
","msft bot not merging PRs Creating this issue to keep track of PRs that don't get automerged.

https://github.com/dotnet/roslyn/pull/39303
https://github.com/dotnet/roslyn/pull/39304
https://github.com/dotnet/roslyn/pull/39306
(automerged after I deleted and re-added the auto-merge label)
",Area-Infrastructure,dibarbet,16/10/2019 13:44,
39308,Updating dotnet/versions occasionally errors with 'Update is not a fast forward',"Example builds:
https://devdiv.visualstudio.com/DevDiv/_build/results?buildId=3145509 
https://devdiv.visualstudio.com/DevDiv/_build/results?buildId=3143639

When publishing build info updates to dotnet/version in quick succession as done here
https://github.com/dotnet/roslyn/blob/master/eng/publish-assets.ps1#L122
it will sometimes fail with
```
Publishing E:\A\_work\3542\s\artifacts\packages\Release\NonShipping to channel dev16.4
Error updating versions: Could not update dotnet/versions 'heads/master' to '4e2d35b8002d79592594d73903d830f8db1ed632': Update is not a fast forward
   at Microsoft.DotNet.VersionTools.Automation.GitHubApi.GitHubClient.<PatchReferenceAsync>d__24.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.DotNet.VersionTools.Automation.GitHubVersionsRepoUpdater.<UpdateBuildInfoAsync>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at RoslynPublish.Program.<Go>d__1.MoveNext() in /_/src/Tools/RoslynPublish/Program.cs:line 64
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at RoslynPublish.Program.Main(String[] args) in /_/src/Tools/RoslynPublish/Program.cs:line 19
```

The tool [queries ](https://github.com/dotnet/buildtools/blob/master/src/Microsoft.DotNet.VersionTools/Automation/GitHubVersionsRepoUpdater.cs#L81)the master branch for latest commits then applies a commit with the new build info.  When this happens multiple times in succession occasionally the query for the latest commits will not return the latest commit.

Example:
In [this build](https://devdiv.visualstudio.com/DevDiv/_build/results?buildId=3143639) we see
```
Publishing E:\A\_work\3542\s\artifacts\packages\Release\Shipping to channel dev16.4
Publishing E:\A\_work\3542\s\artifacts\packages\Release\NonShipping to channel dev16.4
Error updating versions: Could not update dotnet/versions 'heads/master' to '4e2d35b8002d79592594d73903d830f8db1ed632': Update is not a fast forward
```

Looking at the master branch log we see a successful [commit ](https://github.com/dotnet/versions/commit/8db4b41f383c084eb31ccd8f0de9da2824107c99) for the first dev16.4 channel publish but no further successful commits.  Looking at the [hash of the failed commit](https://github.com/dotnet/versions/commit/4e2d35b8002d79592594d73903d830f8db1ed632) we see that it's parent is actually `1dc94d9` which is the commit prior to applying the first successful commit.  The parent commit should be the id of the previous commit `8db4b4`

https://devdiv.visualstudio.com/DevDiv/_build/results?buildId=3145509 has a similar failure but it published two successful commits before failing.  

It seems like we need to add a delay in between attempts to publish to dotnet/versions to account for github delays in processing.
","Updating dotnet/versions occasionally errors with 'Update is not a fast forward' Example builds:
https://devdiv.visualstudio.com/DevDiv/_build/results?buildId=3145509 
https://devdiv.visualstudio.com/DevDiv/_build/results?buildId=3143639

When publishing build info updates to dotnet/version in quick succession as done here
https://github.com/dotnet/roslyn/blob/master/eng/publish-assets.ps1#L122
it will sometimes fail with
```
Publishing E:\A\_work\3542\s\artifacts\packages\Release\NonShipping to channel dev16.4
Error updating versions: Could not update dotnet/versions 'heads/master' to '4e2d35b8002d79592594d73903d830f8db1ed632': Update is not a fast forward
   at Microsoft.DotNet.VersionTools.Automation.GitHubApi.GitHubClient.<PatchReferenceAsync>d__24.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.DotNet.VersionTools.Automation.GitHubVersionsRepoUpdater.<UpdateBuildInfoAsync>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at RoslynPublish.Program.<Go>d__1.MoveNext() in /_/src/Tools/RoslynPublish/Program.cs:line 64
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at RoslynPublish.Program.Main(String[] args) in /_/src/Tools/RoslynPublish/Program.cs:line 19
```

The tool [queries ](https://github.com/dotnet/buildtools/blob/master/src/Microsoft.DotNet.VersionTools/Automation/GitHubVersionsRepoUpdater.cs#L81)the master branch for latest commits then applies a commit with the new build info.  When this happens multiple times in succession occasionally the query for the latest commits will not return the latest commit.

Example:
In [this build](https://devdiv.visualstudio.com/DevDiv/_build/results?buildId=3143639) we see
```
Publishing E:\A\_work\3542\s\artifacts\packages\Release\Shipping to channel dev16.4
Publishing E:\A\_work\3542\s\artifacts\packages\Release\NonShipping to channel dev16.4
Error updating versions: Could not update dotnet/versions 'heads/master' to '4e2d35b8002d79592594d73903d830f8db1ed632': Update is not a fast forward
```

Looking at the master branch log we see a successful [commit ](https://github.com/dotnet/versions/commit/8db4b41f383c084eb31ccd8f0de9da2824107c99) for the first dev16.4 channel publish but no further successful commits.  Looking at the [hash of the failed commit](https://github.com/dotnet/versions/commit/4e2d35b8002d79592594d73903d830f8db1ed632) we see that it's parent is actually `1dc94d9` which is the commit prior to applying the first successful commit.  The parent commit should be the id of the previous commit `8db4b4`

https://devdiv.visualstudio.com/DevDiv/_build/results?buildId=3145509 has a similar failure but it published two successful commits before failing.  

It seems like we need to add a delay in between attempts to publish to dotnet/versions to account for github delays in processing.
",Area-Infrastructure,dibarbet,,
39307,Move much of local function data flow to AbstractFlowPass,"Our design for local function flow analysis is now pretty well decided
-- local functions are assumed to preserve state transitions through
calls within the method.

For definite assignment this means that variables which are definitely
assigned inside the local function are assigned on calls to the local
function. This functionality has mostly been moved to AbstractFlowPass.

The remaining functionality namely producing diagnostics based on the
flow state is analysis-specific so I've refactored this to remain in
definite assignment but use stubs that are present in AbstractFlowPass.

This is the first of a few PRs that should eventually address #38548. My plan is:

1. Move a lot of the local function machinery into flow analysis.
2. Add support for non-monotonic transfer functions to local function analysis.
3. Use (1) and (2) to implement nullable analysis over local functions.","Move much of local function data flow to AbstractFlowPass Our design for local function flow analysis is now pretty well decided
-- local functions are assumed to preserve state transitions through
calls within the method.

For definite assignment this means that variables which are definitely
assigned inside the local function are assigned on calls to the local
function. This functionality has mostly been moved to AbstractFlowPass.

The remaining functionality namely producing diagnostics based on the
flow state is analysis-specific so I've refactored this to remain in
definite assignment but use stubs that are present in AbstractFlowPass.

This is the first of a few PRs that should eventually address #38548. My plan is:

1. Move a lot of the local function machinery into flow analysis.
2. Add support for non-monotonic transfer functions to local function analysis.
3. Use (1) and (2) to implement nullable analysis over local functions.",Area-Compilers,agocke,16/10/2019 11:05,
39306,Merge master to features/static-lambdas,"
This is an automatically generated pull request from master into features/static-lambdas.

``` bash
git fetch --all
git checkout merges/master-to-features/static-lambdas
git reset --hard upstream/features/static-lambdas
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-features/static-lambdas --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge master to features/static-lambdas 
This is an automatically generated pull request from master into features/static-lambdas.

``` bash
git fetch --all
git checkout merges/master-to-features/static-lambdas
git reset --hard upstream/features/static-lambdas
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-features/static-lambdas --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|dibarbet|msftbot[bot],16/10/2019 11:01,16/10/2019 13:44
39305,Merge master to features/local-function-attributes,"
This is an automatically generated pull request from master into features/local-function-attributes.

``` bash
git fetch --all
git checkout merges/master-to-features/local-function-attributes
git reset --hard upstream/features/local-function-attributes
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-features/local-function-attributes --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge master to features/local-function-attributes 
This is an automatically generated pull request from master into features/local-function-attributes.

``` bash
git fetch --all
git checkout merges/master-to-features/local-function-attributes
git reset --hard upstream/features/local-function-attributes
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-features/local-function-attributes --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|RikkiGibson|msftbot[bot],16/10/2019 11:01,17/10/2019 10:20
39304,Merge master to master-vs-deps,"
This is an automatically generated pull request from master into master-vs-deps.

``` bash
git fetch --all
git checkout merges/master-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge master to master-vs-deps 
This is an automatically generated pull request from master into master-vs-deps.

``` bash
git fetch --all
git checkout merges/master-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|dibarbet|msftbot[bot],16/10/2019 11:01,16/10/2019 13:42
39303,Merge master to release/dev16.5-preview1,"
This is an automatically generated pull request from master into release/dev16.5-preview1.

``` bash
git fetch --all
git checkout merges/master-to-release/dev16.5-preview1
git reset --hard upstream/release/dev16.5-preview1
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-release/dev16.5-preview1 --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge master to release/dev16.5-preview1 
This is an automatically generated pull request from master into release/dev16.5-preview1.

``` bash
git fetch --all
git checkout merges/master-to-release/dev16.5-preview1
git reset --hard upstream/release/dev16.5-preview1
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-release/dev16.5-preview1 --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|dibarbet|msftbot[bot],16/10/2019 11:00,16/10/2019 13:42
39302,Ignore await in completion when triggers completion between two dots,"Fixes https://github.com/dotnet/roslyn/issues/39150

We already provide completion between two dots which also can be treated as a range expression. However if there is the `await` keyword before the expression we are in stuck. ","Ignore await in completion when triggers completion between two dots Fixes https://github.com/dotnet/roslyn/issues/39150

We already provide completion between two dots which also can be treated as a range expression. However if there is the `await` keyword before the expression we are in stuck. ",Area-IDE|IDE-IntelliSense,ivanbasov|CyrusNajmabadi,16/10/2019 9:46,
39301,DRAFT changes.  On hold pending #20648,"Address issues with flow analysis slot container types and changing types during inference in the nullable walker
Fixes #39220
Fixes #39297
Fixes #33428","DRAFT changes.  On hold pending #20648 Address issues with flow analysis slot container types and changing types during inference in the nullable walker
Fixes #39220
Fixes #39297
Fixes #33428",Area-Compilers|Bug|PR For Personal Review Only,gafter,,
39300,Avoid leave.s opcode jumping out of a finally block,"There were two problems with the original implementation:
- within a `try` statement we should only jump to the `finallyEntry` label for disposal when we're inside the `try` or a `catch` block but not if we're inside that `finally` block.
- even with that fixed we were still producing a `leave.s` to jump out of a `finally` which is illegal. So we now jump to the end of the current finally instead.

``` csharp
try
{
}
finally
{
    try
    {
    }
    finally
    {
    }
    // disposal code inserted after finally to jump to next relevant finally should not straight jump to ""exit"" label (invalid leave.s instruction) but instead to the end of the enclosing finally ""finallyExit""
    ...
    finallyExit:
}
exit:
```

This is illustrated by the commits in this PR.

Fixes https://github.com/dotnet/roslyn/issues/38961
FYI @stephentoub ","Avoid leave.s opcode jumping out of a finally block There were two problems with the original implementation:
- within a `try` statement we should only jump to the `finallyEntry` label for disposal when we're inside the `try` or a `catch` block but not if we're inside that `finally` block.
- even with that fixed we were still producing a `leave.s` to jump out of a `finally` which is illegal. So we now jump to the end of the current finally instead.

``` csharp
try
{
}
finally
{
    try
    {
    }
    finally
    {
    }
    // disposal code inserted after finally to jump to next relevant finally should not straight jump to ""exit"" label (invalid leave.s instruction) but instead to the end of the enclosing finally ""finallyExit""
    ...
    finallyExit:
}
exit:
```

This is illustrated by the commits in this PR.

Fixes https://github.com/dotnet/roslyn/issues/38961
FYI @stephentoub ",Area-Compilers,jcouv,,
39299,Regression: #r completion in Interactive Window is broken,"**Version Used**: 
Version 16.4.0 Preview 3.0 [29415.53.master]

**Steps to Reproduce**:

1. create `C:\Temp` directory and add files `a.dll` `b.dll` to it.
2. In Interactive Window type:

```
> #r ""c:\Temp\a.d
```

and hit `Tab`. 

**Expected Behavior**:

```
> #r ""c:\Temp\a.dll
```

**Actual Behavior**:

```
> #r ""c:\Temp\a.a.dll
```

The pre-selection is also broken:
![image](https://user-images.githubusercontent.com/41759/66867954-3dd0e300-ef51-11e9-8fb3-2257d6623624.png)

This works correctly in VS 2017.

Another odd behavior:

Type 

```
> #reset 32
```

hit Enter.

![image](https://user-images.githubusercontent.com/41759/66947416-b3978600-f007-11e9-82f9-6c3287be63f9.png)

The completion UI stays open.
","Regression: #r completion in Interactive Window is broken **Version Used**: 
Version 16.4.0 Preview 3.0 [29415.53.master]

**Steps to Reproduce**:

1. create `C:\Temp` directory and add files `a.dll` `b.dll` to it.
2. In Interactive Window type:

```
> #r ""c:\Temp\a.d
```

and hit `Tab`. 

**Expected Behavior**:

```
> #r ""c:\Temp\a.dll
```

**Actual Behavior**:

```
> #r ""c:\Temp\a.a.dll
```

The pre-selection is also broken:
![image](https://user-images.githubusercontent.com/41759/66867954-3dd0e300-ef51-11e9-8fb3-2257d6623624.png)

This works correctly in VS 2017.

Another odd behavior:

Type 

```
> #reset 32
```

hit Enter.

![image](https://user-images.githubusercontent.com/41759/66947416-b3978600-f007-11e9-82f9-6c3287be63f9.png)

The completion UI stays open.
",Area-IDE|Area-Interactive|Bug,ivanbasov,,
39298,Roslyn doesn't understand 'string.IsNullOrWhiteSpace(x) == false' null check,"**Version Used**: 
.NET Core SDK 3.0.100

**Steps to Reproduce**:
Compile the following code:

```cs
#nullable enable
class C
{
    string? field;

    void M1(C c)
    {
        if (!string.IsNullOrWhiteSpace(c.field))
        {
            c.field.ToString();
        }
    }

    void M2(C c)
    {
        if (string.IsNullOrWhiteSpace(c.field) == false)
        {
            c.field.ToString(); // incorrect CS8602
        }
    }
}
```

**Expected Behavior**:
Both methods report no warnings

**Actual Behavior**:
`M2` has an incorrect warning `CS8602: Dereference of a possibly null reference` reported for `c.field.ToString()`

Might be related to #39264 ?","Roslyn doesn't understand 'string.IsNullOrWhiteSpace(x) == false' null check **Version Used**: 
.NET Core SDK 3.0.100

**Steps to Reproduce**:
Compile the following code:

```cs
#nullable enable
class C
{
    string? field;

    void M1(C c)
    {
        if (!string.IsNullOrWhiteSpace(c.field))
        {
            c.field.ToString();
        }
    }

    void M2(C c)
    {
        if (string.IsNullOrWhiteSpace(c.field) == false)
        {
            c.field.ToString(); // incorrect CS8602
        }
    }
}
```

**Expected Behavior**:
Both methods report no warnings

**Actual Behavior**:
`M2` has an incorrect warning `CS8602: Dereference of a possibly null reference` reported for `c.field.ToString()`

Might be related to #39264 ?",Area-Compilers|Bug|New Language Feature - Nullable Reference Types,RikkiGibson,16/10/2019 7:32,
39297,NullableWalker violates invariants of slot and slot parents,"I tried adding the following assertion

``` c#
                HashSet<DiagnosticInfo> discardedUseSiteDiagnostics = null;
                Debug.Assert(
                    symbol.Kind != SymbolKind.Field || // we only check fields but the NullableWalker also works with properties
                    containingSlot == 0 && !symbol.RequiresInstanceReceiver() ||
                    symbol.ContainingType.Equals(variableBySlot[containingSlot].Symbol.GetTypeOrReturnType().Type TypeCompareKind.AllIgnoreOptions) ||
                    compilation.Conversions.IsBaseClass(variableBySlot[containingSlot].Symbol.GetTypeOrReturnType().Type symbol.ContainingType ref discardedUseSiteDiagnostics));
```

before the following line in `LocalDataFlowPass.cs`

``` c#
                variableBySlot[slot] = identifier;
```

but there are a number of failures (of this assertion) in `NullableWalker`.  It is possible that some of these are symptoms of https://github.com/dotnet/roslyn/issues/20648 but I believe at least the failure in `NullableReferenceTypesTests.Conversions_TupleConversions_03` and two other tests is a deeper problem.  I am skipping those tests to make progress on https://github.com/dotnet/roslyn/issues/39220 and I removing the assertion for now.  The assertion should be readded after https://github.com/dotnet/roslyn/issues/20648 has been fixed and any issues causing the assertion to fail should be reevaluated.

","NullableWalker violates invariants of slot and slot parents I tried adding the following assertion

``` c#
                HashSet<DiagnosticInfo> discardedUseSiteDiagnostics = null;
                Debug.Assert(
                    symbol.Kind != SymbolKind.Field || // we only check fields but the NullableWalker also works with properties
                    containingSlot == 0 && !symbol.RequiresInstanceReceiver() ||
                    symbol.ContainingType.Equals(variableBySlot[containingSlot].Symbol.GetTypeOrReturnType().Type TypeCompareKind.AllIgnoreOptions) ||
                    compilation.Conversions.IsBaseClass(variableBySlot[containingSlot].Symbol.GetTypeOrReturnType().Type symbol.ContainingType ref discardedUseSiteDiagnostics));
```

before the following line in `LocalDataFlowPass.cs`

``` c#
                variableBySlot[slot] = identifier;
```

but there are a number of failures (of this assertion) in `NullableWalker`.  It is possible that some of these are symptoms of https://github.com/dotnet/roslyn/issues/20648 but I believe at least the failure in `NullableReferenceTypesTests.Conversions_TupleConversions_03` and two other tests is a deeper problem.  I am skipping those tests to make progress on https://github.com/dotnet/roslyn/issues/39220 and I removing the assertion for now.  The assertion should be readded after https://github.com/dotnet/roslyn/issues/20648 has been fixed and any issues causing the assertion to fail should be reevaluated.

",Area-Compilers|Bug|Disabled Test|New Language Feature - Nullable Reference Types,gafter,,
39296,Editor: syntax node is not within syntax tree,"**[Happens in 16.4.0-preview-3.0-[29409.185.master]**

_This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/774122/editor-syntax-node-is-not-within-syntax-tree.html)._

---
[regression] [worked-in:Not sure about prev 16.3 works for sure]
1. Get latest Int Preview Visual Studio. 
1. git clone https://github.com/NuGet/NuGet.Client
1. Follow the instructions up to configure.ps1
1. Open NuGet.sln in Visual Studio. 

After the solution was fully loaded the moment I started type a yellow bar popped with 
an error occured see log file. Clicking on that opens the activity log in the default xml viewer. 

In there I found the below. 
Note that there could be other problems but this error was related to types of issues I was seeing. 

```
&lt;entry&gt;
    &lt;record&gt;2738&lt;/record&gt;
    &lt;time&gt;2019/10/11 18:15:44.663&lt;/time&gt;
    &lt;type&gt;Error&lt;/type&gt;
    &lt;source&gt;Editor or Editor Extension&lt;/source&gt;
    &lt;description&gt;System.AggregateException: One or more errors occurred. ---&amp;gt; System.ArgumentException: Syntax node is not within syntax tree&amp;#x000D;&amp;#x000A;   at Microsoft.CodeAnalysis.CSharp.CSharpSemanticModel.CheckSyntaxNode(CSharpSyntaxNode syntax)&amp;#x000D;&amp;#x000A;   at Microsoft.CodeAnalysis.CSharp.CSharpSemanticModel.GetSymbolInfo(ExpressionSyntax expression CancellationToken cancellationToken)&amp;#x000D;&amp;#x000A;   at Microsoft.CodeAnalysis.CSharp.CSharpSemanticModel.GetSymbolInfoFromNode(SyntaxNode node CancellationToken cancellationToken)&amp;#x000D;&amp;#x000A;   at Microsoft.CodeAnalysis.CSharp.CSharpSemanticModel.GetSymbolInfoCore(SyntaxNode node CancellationToken cancellationToken)&amp;#x000D;&amp;#x000A;   at SyntaxTree.VisualStudio.Unity.Documentation.UnityQuickInfoSource.&amp;lt;GetRelatedFieldSymbolAsync&amp;gt;d__7.MoveNext()&amp;#x000D;&amp;#x000A;--- End of stack trace from previous location where exception was thrown ---&amp;#x000D;&amp;#x000A;   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)&amp;#x000D;&amp;#x000A;   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)&amp;#x000D;&amp;#x000A;   at SyntaxTree.VisualStudio.Unity.Documentation.UnityQuickInfoSource.&amp;lt;GetDocumentationFromSymbolAsync&amp;gt;d__5.MoveNext()&amp;#x000D;&amp;#x000A;--- End of stack trace from previous location where exception was thrown ---&amp;#x000D;&amp;#x000A;   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)&amp;#x000D;&amp;#x000A;   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)&amp;#x000D;&amp;#x000A;   at SyntaxTree.VisualStudio.Unity.Documentation.UnityQuickInfoSource.&amp;lt;GetQuickInfoItemAsync&amp;gt;d__4.MoveNext()&amp;#x000D;&amp;#x000A;--- End of stack trace from previous location where exception was thrown ---&amp;#x000D;&amp;#x000A;   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)&amp;#x000D;&amp;#x000A;   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)&amp;#x000D;&amp;#x000A;   at Microsoft.VisualStudio.Language.Intellisense.Implementation.AsyncQuickInfoSession.&amp;lt;ComputeSourceContentAsync&amp;gt;d__39.MoveNext()&amp;#x000D;&amp;#x000A;--- End of stack trace from previous location where exception was thrown ---&amp;#x000D;&amp;#x000A;   at Microsoft.VisualStudio.Telemetry.WindowsErrorReporting.WatsonReport.GetClrWatsonExceptionInfo(Exception exceptionObject)&amp;#x000D;&amp;#x000A;   --- End of inner exception stack trace ---&amp;#x000D;&amp;#x000A;   at Microsoft.VisualStudio.Language.Intellisense.Implementation.AsyncQuickInfoSession.&amp;lt;UpdateAsync&amp;gt;d__32.MoveNext()&amp;#x000D;&amp;#x000A;--- End of stack trace from previous location where exception was thrown ---&amp;#x000D;&amp;#x000A;   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)&amp;#x000D;&amp;#x000A;   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)&amp;#x000D;&amp;#x000A;   at Microsoft.VisualStudio.Language.Intellisense.Implementation.AsyncQuickInfoPresentationSession.&amp;lt;UpdateAsync&amp;gt;d__5.MoveNext()&amp;#x000D;&amp;#x000A;---&amp;gt; (Inner Exception #0) System.ArgumentException: Syntax node is not within syntax tree&amp;#x000D;&amp;#x000A;   at Microsoft.CodeAnalysis.CSharp.CSharpSemanticModel.CheckSyntaxNode(CSharpSyntaxNode syntax)&amp;#x000D;&amp;#x000A;   at Microsoft.CodeAnalysis.CSharp.CSharpSemanticModel.GetSymbolInfo(ExpressionSyntax expression CancellationToken cancellationToken)&amp;#x000D;&amp;#x000A;   at Microsoft.CodeAnalysis.CSharp.CSharpSemanticModel.GetSymbolInfoFromNode(SyntaxNode node CancellationToken cancellationToken)&amp;#x000D;&amp;#x000A;   at Microsoft.CodeAnalysis.CSharp.CSharpSemanticModel.GetSymbolInfoCore(SyntaxNode node CancellationToken cancellationToken)&amp;#x000D;&amp;#x000A;   at SyntaxTree.VisualStudio.Unity.Documentation.UnityQuickInfoSource.&amp;lt;GetRelatedFieldSymbolAsync&amp;gt;d__7.MoveNext()&amp;#x000D;&amp;#x000A;--- End of stack trace from previous location where exception was thrown ---&amp;#x000D;&amp;#x000A;   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)&amp;#x000D;&amp;#x000A;   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)&amp;#x000D;&amp;#x000A;   at SyntaxTree.VisualStudio.Unity.Documentation.UnityQuickInfoSource.&amp;lt;GetDocumentationFromSymbolAsync&amp;gt;d__5.MoveNext()&amp;#x000D;&amp;#x000A;--- End of stack trace from previous location where exception was thrown ---&amp;#x000D;&amp;#x000A;   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)&amp;#x000D;&amp;#x000A;   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)&amp;#x000D;&amp;#x000A;   at SyntaxTree.VisualStudio.Unity.Documentation.UnityQuickInfoSource.&amp;lt;GetQuickInfoItemAsync&amp;gt;d__4.MoveNext()&amp;#x000D;&amp;#x000A;--- End of stack trace from previous location where exception was thrown ---&amp;#x000D;&amp;#x000A;   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)&amp;#x000D;&amp;#x000A;   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)&amp;#x000D;&amp;#x000A;   at Microsoft.VisualStudio.Language.Intellisense.Implementation.AsyncQuickInfoSession.&amp;lt;ComputeSourceContentAsync&amp;gt;d__39.MoveNext()&amp;#x000D;&amp;#x000A;--- End of stack trace from previous location where exception was thrown ---&amp;#x000D;&amp;#x000A;   at Microsoft.VisualStudio.Telemetry.WindowsErrorReporting.WatsonReport.GetClrWatsonExceptionInfo(Exception exceptionObject)&amp;lt;---&amp;#x000D;&amp;#x000A;&lt;/description&gt;
  &lt;/entry&gt;
```

---
### Original Comments

#### Visual Studio Feedback System on 10/11/2019 08:09 PM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>

#### Visual Studio Feedback System on 10/15/2019 02:09 AM: 

<p>This issue is currently being investigated. Our team will get back to you if either more information is needed a workaround is available or the issue is resolved.</p>


---
### Original Solutions
(no solutions)","Editor: syntax node is not within syntax tree **[Happens in 16.4.0-preview-3.0-[29409.185.master]**

_This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/774122/editor-syntax-node-is-not-within-syntax-tree.html)._

---
[regression] [worked-in:Not sure about prev 16.3 works for sure]
1. Get latest Int Preview Visual Studio. 
1. git clone https://github.com/NuGet/NuGet.Client
1. Follow the instructions up to configure.ps1
1. Open NuGet.sln in Visual Studio. 

After the solution was fully loaded the moment I started type a yellow bar popped with 
an error occured see log file. Clicking on that opens the activity log in the default xml viewer. 

In there I found the below. 
Note that there could be other problems but this error was related to types of issues I was seeing. 

```
&lt;entry&gt;
    &lt;record&gt;2738&lt;/record&gt;
    &lt;time&gt;2019/10/11 18:15:44.663&lt;/time&gt;
    &lt;type&gt;Error&lt;/type&gt;
    &lt;source&gt;Editor or Editor Extension&lt;/source&gt;
    &lt;description&gt;System.AggregateException: One or more errors occurred. ---&amp;gt; System.ArgumentException: Syntax node is not within syntax tree&amp;#x000D;&amp;#x000A;   at Microsoft.CodeAnalysis.CSharp.CSharpSemanticModel.CheckSyntaxNode(CSharpSyntaxNode syntax)&amp;#x000D;&amp;#x000A;   at Microsoft.CodeAnalysis.CSharp.CSharpSemanticModel.GetSymbolInfo(ExpressionSyntax expression CancellationToken cancellationToken)&amp;#x000D;&amp;#x000A;   at Microsoft.CodeAnalysis.CSharp.CSharpSemanticModel.GetSymbolInfoFromNode(SyntaxNode node CancellationToken cancellationToken)&amp;#x000D;&amp;#x000A;   at Microsoft.CodeAnalysis.CSharp.CSharpSemanticModel.GetSymbolInfoCore(SyntaxNode node CancellationToken cancellationToken)&amp;#x000D;&amp;#x000A;   at SyntaxTree.VisualStudio.Unity.Documentation.UnityQuickInfoSource.&amp;lt;GetRelatedFieldSymbolAsync&amp;gt;d__7.MoveNext()&amp;#x000D;&amp;#x000A;--- End of stack trace from previous location where exception was thrown ---&amp;#x000D;&amp;#x000A;   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)&amp;#x000D;&amp;#x000A;   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)&amp;#x000D;&amp;#x000A;   at SyntaxTree.VisualStudio.Unity.Documentation.UnityQuickInfoSource.&amp;lt;GetDocumentationFromSymbolAsync&amp;gt;d__5.MoveNext()&amp;#x000D;&amp;#x000A;--- End of stack trace from previous location where exception was thrown ---&amp;#x000D;&amp;#x000A;   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)&amp;#x000D;&amp;#x000A;   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)&amp;#x000D;&amp;#x000A;   at SyntaxTree.VisualStudio.Unity.Documentation.UnityQuickInfoSource.&amp;lt;GetQuickInfoItemAsync&amp;gt;d__4.MoveNext()&amp;#x000D;&amp;#x000A;--- End of stack trace from previous location where exception was thrown ---&amp;#x000D;&amp;#x000A;   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)&amp;#x000D;&amp;#x000A;   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)&amp;#x000D;&amp;#x000A;   at Microsoft.VisualStudio.Language.Intellisense.Implementation.AsyncQuickInfoSession.&amp;lt;ComputeSourceContentAsync&amp;gt;d__39.MoveNext()&amp;#x000D;&amp;#x000A;--- End of stack trace from previous location where exception was thrown ---&amp;#x000D;&amp;#x000A;   at Microsoft.VisualStudio.Telemetry.WindowsErrorReporting.WatsonReport.GetClrWatsonExceptionInfo(Exception exceptionObject)&amp;#x000D;&amp;#x000A;   --- End of inner exception stack trace ---&amp;#x000D;&amp;#x000A;   at Microsoft.VisualStudio.Language.Intellisense.Implementation.AsyncQuickInfoSession.&amp;lt;UpdateAsync&amp;gt;d__32.MoveNext()&amp;#x000D;&amp;#x000A;--- End of stack trace from previous location where exception was thrown ---&amp;#x000D;&amp;#x000A;   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)&amp;#x000D;&amp;#x000A;   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)&amp;#x000D;&amp;#x000A;   at Microsoft.VisualStudio.Language.Intellisense.Implementation.AsyncQuickInfoPresentationSession.&amp;lt;UpdateAsync&amp;gt;d__5.MoveNext()&amp;#x000D;&amp;#x000A;---&amp;gt; (Inner Exception #0) System.ArgumentException: Syntax node is not within syntax tree&amp;#x000D;&amp;#x000A;   at Microsoft.CodeAnalysis.CSharp.CSharpSemanticModel.CheckSyntaxNode(CSharpSyntaxNode syntax)&amp;#x000D;&amp;#x000A;   at Microsoft.CodeAnalysis.CSharp.CSharpSemanticModel.GetSymbolInfo(ExpressionSyntax expression CancellationToken cancellationToken)&amp;#x000D;&amp;#x000A;   at Microsoft.CodeAnalysis.CSharp.CSharpSemanticModel.GetSymbolInfoFromNode(SyntaxNode node CancellationToken cancellationToken)&amp;#x000D;&amp;#x000A;   at Microsoft.CodeAnalysis.CSharp.CSharpSemanticModel.GetSymbolInfoCore(SyntaxNode node CancellationToken cancellationToken)&amp;#x000D;&amp;#x000A;   at SyntaxTree.VisualStudio.Unity.Documentation.UnityQuickInfoSource.&amp;lt;GetRelatedFieldSymbolAsync&amp;gt;d__7.MoveNext()&amp;#x000D;&amp;#x000A;--- End of stack trace from previous location where exception was thrown ---&amp;#x000D;&amp;#x000A;   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)&amp;#x000D;&amp;#x000A;   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)&amp;#x000D;&amp;#x000A;   at SyntaxTree.VisualStudio.Unity.Documentation.UnityQuickInfoSource.&amp;lt;GetDocumentationFromSymbolAsync&amp;gt;d__5.MoveNext()&amp;#x000D;&amp;#x000A;--- End of stack trace from previous location where exception was thrown ---&amp;#x000D;&amp;#x000A;   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)&amp;#x000D;&amp;#x000A;   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)&amp;#x000D;&amp;#x000A;   at SyntaxTree.VisualStudio.Unity.Documentation.UnityQuickInfoSource.&amp;lt;GetQuickInfoItemAsync&amp;gt;d__4.MoveNext()&amp;#x000D;&amp;#x000A;--- End of stack trace from previous location where exception was thrown ---&amp;#x000D;&amp;#x000A;   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)&amp;#x000D;&amp;#x000A;   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)&amp;#x000D;&amp;#x000A;   at Microsoft.VisualStudio.Language.Intellisense.Implementation.AsyncQuickInfoSession.&amp;lt;ComputeSourceContentAsync&amp;gt;d__39.MoveNext()&amp;#x000D;&amp;#x000A;--- End of stack trace from previous location where exception was thrown ---&amp;#x000D;&amp;#x000A;   at Microsoft.VisualStudio.Telemetry.WindowsErrorReporting.WatsonReport.GetClrWatsonExceptionInfo(Exception exceptionObject)&amp;lt;---&amp;#x000D;&amp;#x000A;&lt;/description&gt;
  &lt;/entry&gt;
```

---
### Original Comments

#### Visual Studio Feedback System on 10/11/2019 08:09 PM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>

#### Visual Studio Feedback System on 10/15/2019 02:09 AM: 

<p>This issue is currently being investigated. Our team will get back to you if either more information is needed a workaround is available or the issue is resolved.</p>


---
### Original Solutions
(no solutions)",Area-IDE|Bug|Developer Community,JoeRobich,,
39295,Rely on PDB document table for identification of design-time-only source files,"Use document list in PDB as the definitive indicator of whether a source file is design-time-only or not. This is now possible due to https://github.com/dotnet/roslyn/pull/39136.

Fixes https://github.com/dotnet/roslyn/issues/39271.
Fixes ADO [899910](https://dev.azure.com/devdiv/DevDiv/_workitems/edit/899910): Pop up a ""Edit and Continue"" dialog without ENC about C# uwp app","Rely on PDB document table for identification of design-time-only source files Use document list in PDB as the definitive indicator of whether a source file is design-time-only or not. This is now possible due to https://github.com/dotnet/roslyn/pull/39136.

Fixes https://github.com/dotnet/roslyn/issues/39271.
Fixes ADO [899910](https://dev.azure.com/devdiv/DevDiv/_workitems/edit/899910): Pop up a ""Edit and Continue"" dialog without ENC about C# uwp app",Area-IDE,tmat|ivanbasov|jinujoseph,16/10/2019 5:06,16/10/2019 6:52
39294,Blazor preview 5.  When using intellisense to create an override in the @functions block the entire block disappears.  ,"_This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/591477/blazor-preview-5-when-using-intellisense-to-create.html)._

---
Type my function and then 

```
@functions
{

OrganizationView[] oragnizations;
    override oni

}
```

At this point I have the overrides list up in intellisense so I hit tab.  After that I get this....

```
@functions
{}
```

And loose all that I typed before.

---
### Original Comments

#### Visual Studio Feedback System on 6/3/2019 02:32 AM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>

#### Robert Haken on 6/3/2019 04:25 PM: 

Same here.
#### Visual Studio Feedback System on 6/3/2019 10:31 PM: 

<p>Thank you for sharing your feedback! Our teams prioritize action on product issues with broad customer impact. See details at:  https://docs.microsoft.com/en-us/visualstudio/ide/report-a-problem?view=vs-2017#faq . In case you need answers to common questions or need assisted support be sure to use  https://visualstudio.microsoft.com/vs/support/ . We'll keep you posted on any updates to this feedback.</p>

#### Visual Studio Feedback System on 10/10/2019 10:15 PM: 

<p>This issue is currently being investigated. Our team will get back to you if either more information is needed a workaround is available or the issue is resolved.</p>


---
### Original Solutions
(no solutions)","Blazor preview 5.  When using intellisense to create an override in the @functions block the entire block disappears.   _This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/591477/blazor-preview-5-when-using-intellisense-to-create.html)._

---
Type my function and then 

```
@functions
{

OrganizationView[] oragnizations;
    override oni

}
```

At this point I have the overrides list up in intellisense so I hit tab.  After that I get this....

```
@functions
{}
```

And loose all that I typed before.

---
### Original Comments

#### Visual Studio Feedback System on 6/3/2019 02:32 AM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>

#### Robert Haken on 6/3/2019 04:25 PM: 

Same here.
#### Visual Studio Feedback System on 6/3/2019 10:31 PM: 

<p>Thank you for sharing your feedback! Our teams prioritize action on product issues with broad customer impact. See details at:  https://docs.microsoft.com/en-us/visualstudio/ide/report-a-problem?view=vs-2017#faq . In case you need answers to common questions or need assisted support be sure to use  https://visualstudio.microsoft.com/vs/support/ . We'll keep you posted on any updates to this feedback.</p>

#### Visual Studio Feedback System on 10/10/2019 10:15 PM: 

<p>This issue is currently being investigated. Our team will get back to you if either more information is needed a workaround is available or the issue is resolved.</p>


---
### Original Solutions
(no solutions)",Area-IDE|Developer Community,jasonmalinowski,,
39293,CodeRefactoringService IntroduceVariable fails with ArgumentOutOfRangeException,"**Version Used**: 
Version 16.4.0 Preview 3.0 [29409.185.master]

![image](https://user-images.githubusercontent.com/41759/66856739-b5dfde80-ef3a-11e9-8a5a-28f9e7a0654c.png)

while editing `src\EditorFeatures\Test\EditAndContinue\EditAndContinueWorkspaceServiceTests.cs` in Roslyn.sln.

```
System.ArgumentOutOfRangeException : Specified argument was out of the range of valid values.
Parameter name: position
   at Microsoft.CodeAnalysis.SyntaxNode.FindTokenCore(Int32 positionBoolean findInsideTrivia)
   at Microsoft.CodeAnalysis.CodeRefactoringHelpers.IsNodeUnderselected(SyntaxNode nodeTextSpan selection)
   at async Microsoft.CodeAnalysis.IntroduceVariable.AbstractIntroduceVariableService`6.State.TryInitializeAsync[TServiceTExpressionSyntaxTTypeSyntaxTTypeDeclarationSyntaxTQueryExpressionSyntaxTNameSyntax](<Unknown Parameters>)
   at async Microsoft.CodeAnalysis.IntroduceVariable.AbstractIntroduceVariableService`6.State.GenerateAsync[TServiceTExpressionSyntaxTTypeSyntaxTTypeDeclarationSyntaxTQueryExpressionSyntaxTNameSyntax](<Unknown Parameters>)
   at async Microsoft.CodeAnalysis.IntroduceVariable.AbstractIntroduceVariableService`6.IntroduceVariableAsync[TServiceTExpressionSyntaxTTypeSyntaxTTypeDeclarationSyntaxTQueryExpressionSyntaxTNameSyntax](<Unknown Parameters>)
   at async Microsoft.CodeAnalysis.IntroduceVariable.IntroduceVariableCodeRefactoringProvider.ComputeRefactoringsAsync(<Unknown Parameters>)
   at async Microsoft.CodeAnalysis.CodeRefactorings.CodeRefactoringService.GetRefactoringFromProviderAsync(<Unknown Parameters>)
   at Microsoft.VisualStudio.Telemetry.WindowsErrorReporting.WatsonReport.GetClrWatsonExceptionInfo(Exception exceptionObject)
```","CodeRefactoringService IntroduceVariable fails with ArgumentOutOfRangeException **Version Used**: 
Version 16.4.0 Preview 3.0 [29409.185.master]

![image](https://user-images.githubusercontent.com/41759/66856739-b5dfde80-ef3a-11e9-8a5a-28f9e7a0654c.png)

while editing `src\EditorFeatures\Test\EditAndContinue\EditAndContinueWorkspaceServiceTests.cs` in Roslyn.sln.

```
System.ArgumentOutOfRangeException : Specified argument was out of the range of valid values.
Parameter name: position
   at Microsoft.CodeAnalysis.SyntaxNode.FindTokenCore(Int32 positionBoolean findInsideTrivia)
   at Microsoft.CodeAnalysis.CodeRefactoringHelpers.IsNodeUnderselected(SyntaxNode nodeTextSpan selection)
   at async Microsoft.CodeAnalysis.IntroduceVariable.AbstractIntroduceVariableService`6.State.TryInitializeAsync[TServiceTExpressionSyntaxTTypeSyntaxTTypeDeclarationSyntaxTQueryExpressionSyntaxTNameSyntax](<Unknown Parameters>)
   at async Microsoft.CodeAnalysis.IntroduceVariable.AbstractIntroduceVariableService`6.State.GenerateAsync[TServiceTExpressionSyntaxTTypeSyntaxTTypeDeclarationSyntaxTQueryExpressionSyntaxTNameSyntax](<Unknown Parameters>)
   at async Microsoft.CodeAnalysis.IntroduceVariable.AbstractIntroduceVariableService`6.IntroduceVariableAsync[TServiceTExpressionSyntaxTTypeSyntaxTTypeDeclarationSyntaxTQueryExpressionSyntaxTNameSyntax](<Unknown Parameters>)
   at async Microsoft.CodeAnalysis.IntroduceVariable.IntroduceVariableCodeRefactoringProvider.ComputeRefactoringsAsync(<Unknown Parameters>)
   at async Microsoft.CodeAnalysis.CodeRefactorings.CodeRefactoringService.GetRefactoringFromProviderAsync(<Unknown Parameters>)
   at Microsoft.VisualStudio.Telemetry.WindowsErrorReporting.WatsonReport.GetClrWatsonExceptionInfo(Exception exceptionObject)
```",Area-IDE|Resolution-Duplicate,tmat|petrroll|jinujoseph,16/10/2019 4:59,16/10/2019 6:30
39292,Emit ldloca/ldflda instruction instead of ldloc/ldfld to inspect value types in Expression Evaluation,"**Version Used**: 
All

**Description**:
Currently while debugging Roslyn generates the following IL for locals during expression evaluation (Autos/Local/Watch windows)

Eg.
```
=> $0000: ldloc <index>
    $0001: ret 
```

For value types this ends up creating a copy of the local which has the following issues:

a)	It is expensive since the debugger's IL interpreter does a deep copy of all fields to push it on the stack
b)	In certain cases (such as using visualizers) we want to modify the local. Currently for these cases this is not possible since we are dealing with the returned copy.

The IL generated instead should be:

`ldloc a <index>`
or
`ldflda <field>`
ret

**Steps to Reproduce**:
Inspect a local that is a value type in watch window.","Emit ldloca/ldflda instruction instead of ldloc/ldfld to inspect value types in Expression Evaluation **Version Used**: 
All

**Description**:
Currently while debugging Roslyn generates the following IL for locals during expression evaluation (Autos/Local/Watch windows)

Eg.
```
=> $0000: ldloc <index>
    $0001: ret 
```

For value types this ends up creating a copy of the local which has the following issues:

a)	It is expensive since the debugger's IL interpreter does a deep copy of all fields to push it on the stack
b)	In certain cases (such as using visualizers) we want to modify the local. Currently for these cases this is not possible since we are dealing with the returned copy.

The IL generated instead should be:

`ldloc a <index>`
or
`ldflda <field>`
ret

**Steps to Reproduce**:
Inspect a local that is a value type in watch window.",Area-Interactive|Concept-Continuous Improvement,tmat|ivanbasov|cston|jinujoseph,16/10/2019 4:17,
39291,Non-nullable backing field of property marked uninitialized when property is assigned a value in constructor,"**Version Used**: 
dotnet 3.0.100

**Steps to Reproduce**:

1. Run `dotnet new console` in an empty directory.
2. Enable nullable reference types by specifying `<Nullable>enable</Nullable>` in the `.csproj` file.
3. In `Program.cs` paste in the following code:
```csharp
using System;

namespace ConsoleApp1
{
    internal static class Program
    {
        private static void Main()
        {
            var obj = new MyClass(""Some name"");
            Console.WriteLine(obj.Name);
        }
    }

    public class MyClass
    {
        private string _name;

        public MyClass(string name)
        {
            Name = name;
        }

        public string Name
        {
            get => _name;
            set
            {
                if (value == null)
                    throw new ArgumentNullException(nameof(value));
                if (value.Length > 10)
                    throw new ArgumentException(""Name is too long."");

                _name = value;
            }
        }
    }

}
```
3. Run `dotnet build`

**Expected Behavior**:
A build without warnings.

**Actual Behavior**:
The build ends with the following warning:
```
warning CS8618: Non-nullable field '_name' is uninitialized. Consider declaring the field as nullable.
```","Non-nullable backing field of property marked uninitialized when property is assigned a value in constructor **Version Used**: 
dotnet 3.0.100

**Steps to Reproduce**:

1. Run `dotnet new console` in an empty directory.
2. Enable nullable reference types by specifying `<Nullable>enable</Nullable>` in the `.csproj` file.
3. In `Program.cs` paste in the following code:
```csharp
using System;

namespace ConsoleApp1
{
    internal static class Program
    {
        private static void Main()
        {
            var obj = new MyClass(""Some name"");
            Console.WriteLine(obj.Name);
        }
    }

    public class MyClass
    {
        private string _name;

        public MyClass(string name)
        {
            Name = name;
        }

        public string Name
        {
            get => _name;
            set
            {
                if (value == null)
                    throw new ArgumentNullException(nameof(value));
                if (value.Length > 10)
                    throw new ArgumentException(""Name is too long."");

                _name = value;
            }
        }
    }

}
```
3. Run `dotnet build`

**Expected Behavior**:
A build without warnings.

**Actual Behavior**:
The build ends with the following warning:
```
warning CS8618: Non-nullable field '_name' is uninitialized. Consider declaring the field as nullable.
```",Area-Compilers|New Language Feature - Nullable Reference Types,ryzngard|jinujoseph|cston,16/10/2019 2:21,
39290,CS8602 No warning/error should be given when using string.IsNullOrEmpty and returning that same string within ?: operator,"**Version Used**: 
dotnet 3.0.100
Visual Studio 2019 version 16.3.4

**Steps to Reproduce**:
```C#
class Test
{
    public string? MyVar { get; set; }
    public string Computed => !string.IsNullOrEmpty(MyVar) ? MyVar : string.Empty;
}
```

**Expected Behavior**:
No warning/error should be given here as the NullOrEmpty check suggests that `null` is never returned.

**Actual Behavior**:
The compiler throws a warning (or error when WarningsAsErrors is enabled) that the condition is possibly returning null.","CS8602 No warning/error should be given when using string.IsNullOrEmpty and returning that same string within ?: operator **Version Used**: 
dotnet 3.0.100
Visual Studio 2019 version 16.3.4

**Steps to Reproduce**:
```C#
class Test
{
    public string? MyVar { get; set; }
    public string Computed => !string.IsNullOrEmpty(MyVar) ? MyVar : string.Empty;
}
```

**Expected Behavior**:
No warning/error should be given here as the NullOrEmpty check suggests that `null` is never returned.

**Actual Behavior**:
The compiler throws a warning (or error when WarningsAsErrors is enabled) that the condition is possibly returning null.",Area-Compilers|Resolution-Duplicate,sharwell,16/10/2019 1:45,16/10/2019 3:02
39289,Provide a hidden diagnostic for unnecessary suppression operator,"Correct implementation of the ""Unnecessary suppression operator"" analyzer would benefit from a hidden compiler diagnostic similar to the one reported for unnecessary using directives. This diagnostic would be available for _all_ unnecessary suppression operators (including ones in generated code). The IDE team would provide an analyzer that reported the locations which are not in generated code (similar to IDE0005).","Provide a hidden diagnostic for unnecessary suppression operator Correct implementation of the ""Unnecessary suppression operator"" analyzer would benefit from a hidden compiler diagnostic similar to the one reported for unnecessary using directives. This diagnostic would be available for _all_ unnecessary suppression operators (including ones in generated code). The IDE team would provide an analyzer that reported the locations which are not in generated code (similar to IDE0005).",Area-Compilers|Feature Request|New Language Feature - Nullable Reference Types|Resolution-Duplicate,sharwell,15/10/2019 23:55,15/10/2019 23:56
39288,Update AbstractEditAndContinueAnalyzer.HasBackingField for NRT changes,"The following exclusion was added in #39184.

https://github.com/dotnet/roslyn/blob/f2ce0fa23ef602861e00fdd9d44a9be9e9fce8fd/src/Features/Core/Portable/EditAndContinue/AbstractEditAndContinueAnalyzer.cs#L2699-L2705","Update AbstractEditAndContinueAnalyzer.HasBackingField for NRT changes The following exclusion was added in #39184.

https://github.com/dotnet/roslyn/blob/f2ce0fa23ef602861e00fdd9d44a9be9e9fce8fd/src/Features/Core/Portable/EditAndContinue/AbstractEditAndContinueAnalyzer.cs#L2699-L2705",Area-Interactive|Concept-Continuous Improvement|Interactive-EnC|New Language Feature - Nullable Reference Types|help wanted,tmat,,
39287,Merge master to release/dev16.5-preview1,"
This is an automatically generated pull request from master into release/dev16.5-preview1.

``` bash
git fetch --all
git checkout merges/master-to-release/dev16.5-preview1
git reset --hard upstream/release/dev16.5-preview1
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-release/dev16.5-preview1 --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge master to release/dev16.5-preview1 
This is an automatically generated pull request from master into release/dev16.5-preview1.

``` bash
git fetch --all
git checkout merges/master-to-release/dev16.5-preview1
git reset --hard upstream/release/dev16.5-preview1
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-release/dev16.5-preview1 --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|agocke|msftbot[bot],15/10/2019 23:00,16/10/2019 6:23
39286," [loc][Query][Roslyn] Localizability of 0; ""cmdidErrorListSetSeverityHidden|ButtonText""","Hi
please help localization team to answer question from translator.
In case translator is not sure about context/meaning/localizability of string we raise a question.

Source:
&Silent

File Name:
VisualStudio\Core\Def\xlf\Commands.vsct.xlf

==========================================
Query:
Is silent translatable in this context?
It seems to be a command (other strings):
Now interpreted as ""not logged"". Please confirm or advise. This concerns the following strings: 
Silent 0; ""cmdidErrorListSetSeverityHidden|LocCanonicalName""
Silent 0; ""cmdidSetSeverityHidden|LocCanonicalName""
0; ""cmdidErrorListSetSeverityHidden|ButtonText""
0; ""cmdidErrorListSetSeverityHidden|LocCanonicalName""
"," [loc][Query][Roslyn] Localizability of 0; ""cmdidErrorListSetSeverityHidden|ButtonText"" Hi
please help localization team to answer question from translator.
In case translator is not sure about context/meaning/localizability of string we raise a question.

Source:
&Silent

File Name:
VisualStudio\Core\Def\xlf\Commands.vsct.xlf

==========================================
Query:
Is silent translatable in this context?
It seems to be a command (other strings):
Now interpreted as ""not logged"". Please confirm or advise. This concerns the following strings: 
Silent 0; ""cmdidErrorListSetSeverityHidden|LocCanonicalName""
Silent 0; ""cmdidSetSeverityHidden|LocCanonicalName""
0; ""cmdidErrorListSetSeverityHidden|ButtonText""
0; ""cmdidErrorListSetSeverityHidden|LocCanonicalName""
",Area-IDE|Question,mavasani,,
39321,IAsyncEnumerable possible memory leak,"Following code creates ""Event"" objects. Looks like that no references to them are kept but last created (and returned) in each stream is not garbage collected. Is this incorrect usage or bug?

```c#
class Program
{
    static async Task Main(string[] args)
    {
        var counter = 0;
        while (true)
        {
            await Test(counter++);
            GC.Collect();
        }
    }

    static async Task Test(int counter)
    {
        await foreach (var e in CreateEventSource(counter))
        {
            Console.WriteLine(e);
        }
    }

    static async IAsyncEnumerable<Event> CreateEventSource(int counter)
    {
        for (var i = 0; i < 100; i++)
        {
            await Task.Delay(1); // this line can be commented and then ""Events"" 
            yield return new Event(counter i);
        }
    }
}

class Event
{
    private readonly int _counter;
    private readonly int _i;

    public Event(int counter int i)
    {
        _counter = counter;
        _i = i;
    }

    public override string ToString()
        => $""({_counter} {_i})"";
}
```

Using TargetFramework netcoreapp3.0

```
> dotnet --info
????? SDK ??? .NET Core (?????????? ????? global.json):
 Version:   3.0.100
 Commit:    04339c3a26

????? ??????????:
 OS Name:     Windows
 OS Version:  10.0.16299
 OS Platform: Windows
 RID:         win10-x64
 Base Path:   C:\Program Files\dotnet\sdk\3.0.100\

Host (useful for support):
  Version: 3.0.0
  Commit:  7d57652f33

.NET Core SDKs installed:
  2.1.104 [C:\Program Files\dotnet\sdk]
  2.1.201 [C:\Program Files\dotnet\sdk]
  2.1.202 [C:\Program Files\dotnet\sdk]
  2.1.300 [C:\Program Files\dotnet\sdk]
  2.1.302 [C:\Program Files\dotnet\sdk]
  2.1.503 [C:\Program Files\dotnet\sdk]
  2.1.504 [C:\Program Files\dotnet\sdk]
  2.1.602 [C:\Program Files\dotnet\sdk]
  2.2.105 [C:\Program Files\dotnet\sdk]
  3.0.100 [C:\Program Files\dotnet\sdk]

.NET Core runtimes installed:
  Microsoft.AspNetCore.All 2.1.0 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.All]
  Microsoft.AspNetCore.All 2.1.2 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.All]
  Microsoft.AspNetCore.All 2.1.7 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.All]
  Microsoft.AspNetCore.All 2.1.8 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.All]
  Microsoft.AspNetCore.All 2.1.9 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.All]
  Microsoft.AspNetCore.All 2.1.13 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.All]
  Microsoft.AspNetCore.All 2.2.3 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.All]
  Microsoft.AspNetCore.App 2.1.0 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App]
  Microsoft.AspNetCore.App 2.1.2 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App]
  Microsoft.AspNetCore.App 2.1.7 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App]
  Microsoft.AspNetCore.App 2.1.8 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App]
  Microsoft.AspNetCore.App 2.1.9 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App]
  Microsoft.AspNetCore.App 2.1.13 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App]
  Microsoft.AspNetCore.App 2.2.3 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App]
  Microsoft.AspNetCore.App 3.0.0 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App]
  Microsoft.NETCore.App 2.0.6 [C:\Program Files\dotnet\shared\Microsoft.NETCore.App]
  Microsoft.NETCore.App 2.0.7 [C:\Program Files\dotnet\shared\Microsoft.NETCore.App]
  Microsoft.NETCore.App 2.0.9 [C:\Program Files\dotnet\shared\Microsoft.NETCore.App]
  Microsoft.NETCore.App 2.1.0 [C:\Program Files\dotnet\shared\Microsoft.NETCore.App]
  Microsoft.NETCore.App 2.1.2 [C:\Program Files\dotnet\shared\Microsoft.NETCore.App]
  Microsoft.NETCore.App 2.1.7 [C:\Program Files\dotnet\shared\Microsoft.NETCore.App]
  Microsoft.NETCore.App 2.1.8 [C:\Program Files\dotnet\shared\Microsoft.NETCore.App]
  Microsoft.NETCore.App 2.1.9 [C:\Program Files\dotnet\shared\Microsoft.NETCore.App]
  Microsoft.NETCore.App 2.1.13 [C:\Program Files\dotnet\shared\Microsoft.NETCore.App]
  Microsoft.NETCore.App 2.2.3 [C:\Program Files\dotnet\shared\Microsoft.NETCore.App]
  Microsoft.NETCore.App 3.0.0 [C:\Program Files\dotnet\shared\Microsoft.NETCore.App]
  Microsoft.WindowsDesktop.App 3.0.0 [C:\Program Files\dotnet\shared\Microsoft.WindowsDesktop.App]
```","IAsyncEnumerable possible memory leak Following code creates ""Event"" objects. Looks like that no references to them are kept but last created (and returned) in each stream is not garbage collected. Is this incorrect usage or bug?

```c#
class Program
{
    static async Task Main(string[] args)
    {
        var counter = 0;
        while (true)
        {
            await Test(counter++);
            GC.Collect();
        }
    }

    static async Task Test(int counter)
    {
        await foreach (var e in CreateEventSource(counter))
        {
            Console.WriteLine(e);
        }
    }

    static async IAsyncEnumerable<Event> CreateEventSource(int counter)
    {
        for (var i = 0; i < 100; i++)
        {
            await Task.Delay(1); // this line can be commented and then ""Events"" 
            yield return new Event(counter i);
        }
    }
}

class Event
{
    private readonly int _counter;
    private readonly int _i;

    public Event(int counter int i)
    {
        _counter = counter;
        _i = i;
    }

    public override string ToString()
        => $""({_counter} {_i})"";
}
```

Using TargetFramework netcoreapp3.0

```
> dotnet --info
????? SDK ??? .NET Core (?????????? ????? global.json):
 Version:   3.0.100
 Commit:    04339c3a26

????? ??????????:
 OS Name:     Windows
 OS Version:  10.0.16299
 OS Platform: Windows
 RID:         win10-x64
 Base Path:   C:\Program Files\dotnet\sdk\3.0.100\

Host (useful for support):
  Version: 3.0.0
  Commit:  7d57652f33

.NET Core SDKs installed:
  2.1.104 [C:\Program Files\dotnet\sdk]
  2.1.201 [C:\Program Files\dotnet\sdk]
  2.1.202 [C:\Program Files\dotnet\sdk]
  2.1.300 [C:\Program Files\dotnet\sdk]
  2.1.302 [C:\Program Files\dotnet\sdk]
  2.1.503 [C:\Program Files\dotnet\sdk]
  2.1.504 [C:\Program Files\dotnet\sdk]
  2.1.602 [C:\Program Files\dotnet\sdk]
  2.2.105 [C:\Program Files\dotnet\sdk]
  3.0.100 [C:\Program Files\dotnet\sdk]

.NET Core runtimes installed:
  Microsoft.AspNetCore.All 2.1.0 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.All]
  Microsoft.AspNetCore.All 2.1.2 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.All]
  Microsoft.AspNetCore.All 2.1.7 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.All]
  Microsoft.AspNetCore.All 2.1.8 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.All]
  Microsoft.AspNetCore.All 2.1.9 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.All]
  Microsoft.AspNetCore.All 2.1.13 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.All]
  Microsoft.AspNetCore.All 2.2.3 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.All]
  Microsoft.AspNetCore.App 2.1.0 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App]
  Microsoft.AspNetCore.App 2.1.2 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App]
  Microsoft.AspNetCore.App 2.1.7 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App]
  Microsoft.AspNetCore.App 2.1.8 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App]
  Microsoft.AspNetCore.App 2.1.9 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App]
  Microsoft.AspNetCore.App 2.1.13 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App]
  Microsoft.AspNetCore.App 2.2.3 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App]
  Microsoft.AspNetCore.App 3.0.0 [C:\Program Files\dotnet\shared\Microsoft.AspNetCore.App]
  Microsoft.NETCore.App 2.0.6 [C:\Program Files\dotnet\shared\Microsoft.NETCore.App]
  Microsoft.NETCore.App 2.0.7 [C:\Program Files\dotnet\shared\Microsoft.NETCore.App]
  Microsoft.NETCore.App 2.0.9 [C:\Program Files\dotnet\shared\Microsoft.NETCore.App]
  Microsoft.NETCore.App 2.1.0 [C:\Program Files\dotnet\shared\Microsoft.NETCore.App]
  Microsoft.NETCore.App 2.1.2 [C:\Program Files\dotnet\shared\Microsoft.NETCore.App]
  Microsoft.NETCore.App 2.1.7 [C:\Program Files\dotnet\shared\Microsoft.NETCore.App]
  Microsoft.NETCore.App 2.1.8 [C:\Program Files\dotnet\shared\Microsoft.NETCore.App]
  Microsoft.NETCore.App 2.1.9 [C:\Program Files\dotnet\shared\Microsoft.NETCore.App]
  Microsoft.NETCore.App 2.1.13 [C:\Program Files\dotnet\shared\Microsoft.NETCore.App]
  Microsoft.NETCore.App 2.2.3 [C:\Program Files\dotnet\shared\Microsoft.NETCore.App]
  Microsoft.NETCore.App 3.0.0 [C:\Program Files\dotnet\shared\Microsoft.NETCore.App]
  Microsoft.WindowsDesktop.App 3.0.0 [C:\Program Files\dotnet\shared\Microsoft.WindowsDesktop.App]
```",Area-Compilers|New Feature - Async Streams,stephentoub,,
39284,Merge master to features/static-lambdas,"
This is an automatically generated pull request from master into features/static-lambdas.

``` bash
git fetch --all
git checkout merges/master-to-features/static-lambdas
git reset --hard upstream/features/static-lambdas
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-features/static-lambdas --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge master to features/static-lambdas 
This is an automatically generated pull request from master into features/static-lambdas.

``` bash
git fetch --all
git checkout merges/master-to-features/static-lambdas
git reset --hard upstream/features/static-lambdas
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-features/static-lambdas --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|agocke|RikkiGibson|msftbot[bot],15/10/2019 12:25,16/10/2019 10:32
39283,Merge master to features/local-function-attributes,"
This is an automatically generated pull request from master into features/local-function-attributes.

``` bash
git fetch --all
git checkout merges/master-to-features/local-function-attributes
git reset --hard upstream/features/local-function-attributes
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-features/local-function-attributes --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge master to features/local-function-attributes 
This is an automatically generated pull request from master into features/local-function-attributes.

``` bash
git fetch --all
git checkout merges/master-to-features/local-function-attributes
git reset --hard upstream/features/local-function-attributes
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-features/local-function-attributes --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|RikkiGibson|CyrusNajmabadi|msftbot[bot],15/10/2019 12:24,16/10/2019 10:33
39282,Merge master to master-vs-deps,"
This is an automatically generated pull request from master into master-vs-deps.

``` bash
git fetch --all
git checkout merges/master-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge master to master-vs-deps 
This is an automatically generated pull request from master into master-vs-deps.

``` bash
git fetch --all
git checkout merges/master-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|agocke|msftbot[bot],15/10/2019 12:24,15/10/2019 19:12
39281,Switch source writer entirely over to using interpolations.,,Switch source writer entirely over to using interpolations. ,Area-Compilers|Community,jcouv,,
39280,Roslyn C#/VB language server fails to start,"**Version Used**: 
Visual Studio 2019 16.3 and later

**Steps to Reproduce**:

This is an intermittent repro that appears to be the result of the Roslyn language server returning a null connection when its ILanguageClient is called.

1. Open a C# or VB solution
2. Attempt to search for code in Ctrl+Q search box

**Expected Behavior**:
Symbols appear in the box.

**Actual Behavior**:
Occasionally the language client fails to start due to a null connection being returned by Roslyn's language client.","Roslyn C#/VB language server fails to start **Version Used**: 
Visual Studio 2019 16.3 and later

**Steps to Reproduce**:

This is an intermittent repro that appears to be the result of the Roslyn language server returning a null connection when its ILanguageClient is called.

1. Open a C# or VB solution
2. Attempt to search for code in Ctrl+Q search box

**Expected Behavior**:
Symbols appear in the box.

**Actual Behavior**:
Occasionally the language client fails to start due to a null connection being returned by Roslyn's language client.",Area-IDE|Bug|Investigation Required,dibarbet,,
39279,Publish packages to Azure DevOps public feeds instead of MyGet,"**[dotnet5](https://dev.azure.com/dnceng/public/_packaging?_a=feed&feed=dotnet5)** feed

- Microsoft.CodeAnalysis.3.4.0-beta3-final.nupkg
- Microsoft.CodeAnalysis.Common.3.4.0-beta3-final.nupkg
- Microsoft.CodeAnalysis.Compilers.3.4.0-beta3-final.nupkg
- Microsoft.CodeAnalysis.Scripting.3.4.0-beta3-final.nupkg
- Microsoft.CodeAnalysis.Scripting.Common.3.4.0-beta3-final.nupkg
- Microsoft.CodeAnalysis.Workspaces.Common.3.4.0-beta3-final.nupkg
- Microsoft.CodeAnalysis.Workspaces.MSBuild.3.4.0-beta3-final.nupkg
- Microsoft.CodeAnalysis.CSharp.3.4.0-beta3-final.nupkg
- Microsoft.CodeAnalysis.CSharp.CodeStyle.3.4.0-beta3-final.nupkg
- Microsoft.CodeAnalysis.CSharp.Features.3.4.0-beta3-final.nupkg
- Microsoft.CodeAnalysis.CSharp.Scripting.3.4.0-beta3-final.nupkg
- Microsoft.CodeAnalysis.CSharp.Workspaces.3.4.0-beta3-final.nupkg
- Microsoft.CodeAnalysis.VisualBasic.3.4.0-beta3-final.nupkg
- Microsoft.CodeAnalysis.VisualBasic.CodeStyle.3.4.0-beta3-final.nupkg
- Microsoft.CodeAnalysis.VisualBasic.Features.3.4.0-beta3-final.nupkg
- Microsoft.CodeAnalysis.VisualBasic.Workspaces.3.4.0-beta3-final.nupkg
- Microsoft.CodeAnalysis.Build.Tasks.3.4.0-beta3-final.nupkg
- Microsoft.Net.Compilers.3.4.0-beta3-final.nupkg
- Microsoft.Net.Compilers.Toolset.3.4.0-beta3-final.nupkg
- Microsoft.NETCore.Compilers.3.4.0-beta3-final.nupkg
- Microsoft.CodeAnalysis.Debugging.3.4.0-beta3-final.nupkg
- Microsoft.CodeAnalysis.PooledObjects.3.4.0-beta3-final.nupkg
- Microsoft.CodeAnalysis.Features.3.4.0-beta3-final.nupkg

[**vssdk**](https://dev.azure.com/azure-public/vside/_packaging?_a=feed&feed=vssdk) feed

- Microsoft.CodeAnalysis.EditorFeatures.3.4.0-beta3-final.nupkg
- Microsoft.CodeAnalysis.EditorFeatures.Common.3.4.0-beta3-final.nupkg
- Microsoft.CodeAnalysis.EditorFeatures.Text.3.4.0-beta3-final.nupkg
- Microsoft.VisualStudio.LanguageServices.3.4.0-beta3-final.nupkg
- Microsoft.CodeAnalysis.CSharp.EditorFeatures.3.4.0-beta3-final.nupkg
- Microsoft.CodeAnalysis.InteractiveHost.3.4.0-beta3-final.nupkg
- Microsoft.CodeAnalysis.VisualBasic.EditorFeatures.3.4.0-beta3-final.nupkg
- Microsoft.CodeAnalysis.EditorFeatures.Wpf.3.4.0-beta3-final.nupkg

[**vs-impl**](https://dev.azure.com/azure-public/vside/_packaging?_a=feed&feed=vs-impl) feed

- Microsoft.VisualStudio.IntegrationTest.Utilities.3.4.0-beta3-19514-03.nupkg
- Microsoft.CodeAnalysis.LanguageServer.Protocol.3.4.0-beta3-final.nupkg
- Microsoft.CodeAnalysis.ExternalAccess.Apex.3.4.0-beta3-final.nupkg
- Microsoft.CodeAnalysis.ExternalAccess.CodeLens.3.4.0-beta3-final.nupkg
- Microsoft.CodeAnalysis.ExternalAccess.Debugger.3.4.0-beta3-final.nupkg
- Microsoft.CodeAnalysis.ExternalAccess.FSharp.3.4.0-beta3-final.nupkg
- Microsoft.CodeAnalysis.ExternalAccess.IntelliTrace.3.4.0-beta3-final.nupkg
- Microsoft.CodeAnalysis.ExternalAccess.ProjectSystem.3.4.0-beta3-final.nupkg
- Microsoft.CodeAnalysis.ExternalAccess.Razor.3.4.0-beta3-final.nupkg
- Microsoft.CodeAnalysis.ExternalAccess.TypeScript.3.4.0-beta3-final.nupkg
- Microsoft.CodeAnalysis.ExternalAccess.UnitTesting.3.4.0-beta3-final.nupkg
- Microsoft.CodeAnalysis.ExternalAccess.Xamarin.Remote.3.4.0-beta3-final.nupkg
- Microsoft.CodeAnalysis.Remote.Razor.ServiceHub.3.4.0-beta3-final.nupkg
- Microsoft.CodeAnalysis.Remote.ServiceHub.3.4.0-beta3-final.nupkg
- Microsoft.CodeAnalysis.Remote.Workspaces.3.4.0-beta3-final.nupkg
- Microsoft.VisualStudio.LanguageServices.LiveShare.3.4.0-beta3-final.nupkg
- Microsoft.VisualStudio.LanguageServices.Razor.RemoteClient.3.4.0-beta3-final.nupkg

TODO:
- Should Feetures/EditorFeatures be published to `dotnet-core` or `vssdk` feed?
","Publish packages to Azure DevOps public feeds instead of MyGet **[dotnet5](https://dev.azure.com/dnceng/public/_packaging?_a=feed&feed=dotnet5)** feed

- Microsoft.CodeAnalysis.3.4.0-beta3-final.nupkg
- Microsoft.CodeAnalysis.Common.3.4.0-beta3-final.nupkg
- Microsoft.CodeAnalysis.Compilers.3.4.0-beta3-final.nupkg
- Microsoft.CodeAnalysis.Scripting.3.4.0-beta3-final.nupkg
- Microsoft.CodeAnalysis.Scripting.Common.3.4.0-beta3-final.nupkg
- Microsoft.CodeAnalysis.Workspaces.Common.3.4.0-beta3-final.nupkg
- Microsoft.CodeAnalysis.Workspaces.MSBuild.3.4.0-beta3-final.nupkg
- Microsoft.CodeAnalysis.CSharp.3.4.0-beta3-final.nupkg
- Microsoft.CodeAnalysis.CSharp.CodeStyle.3.4.0-beta3-final.nupkg
- Microsoft.CodeAnalysis.CSharp.Features.3.4.0-beta3-final.nupkg
- Microsoft.CodeAnalysis.CSharp.Scripting.3.4.0-beta3-final.nupkg
- Microsoft.CodeAnalysis.CSharp.Workspaces.3.4.0-beta3-final.nupkg
- Microsoft.CodeAnalysis.VisualBasic.3.4.0-beta3-final.nupkg
- Microsoft.CodeAnalysis.VisualBasic.CodeStyle.3.4.0-beta3-final.nupkg
- Microsoft.CodeAnalysis.VisualBasic.Features.3.4.0-beta3-final.nupkg
- Microsoft.CodeAnalysis.VisualBasic.Workspaces.3.4.0-beta3-final.nupkg
- Microsoft.CodeAnalysis.Build.Tasks.3.4.0-beta3-final.nupkg
- Microsoft.Net.Compilers.3.4.0-beta3-final.nupkg
- Microsoft.Net.Compilers.Toolset.3.4.0-beta3-final.nupkg
- Microsoft.NETCore.Compilers.3.4.0-beta3-final.nupkg
- Microsoft.CodeAnalysis.Debugging.3.4.0-beta3-final.nupkg
- Microsoft.CodeAnalysis.PooledObjects.3.4.0-beta3-final.nupkg
- Microsoft.CodeAnalysis.Features.3.4.0-beta3-final.nupkg

[**vssdk**](https://dev.azure.com/azure-public/vside/_packaging?_a=feed&feed=vssdk) feed

- Microsoft.CodeAnalysis.EditorFeatures.3.4.0-beta3-final.nupkg
- Microsoft.CodeAnalysis.EditorFeatures.Common.3.4.0-beta3-final.nupkg
- Microsoft.CodeAnalysis.EditorFeatures.Text.3.4.0-beta3-final.nupkg
- Microsoft.VisualStudio.LanguageServices.3.4.0-beta3-final.nupkg
- Microsoft.CodeAnalysis.CSharp.EditorFeatures.3.4.0-beta3-final.nupkg
- Microsoft.CodeAnalysis.InteractiveHost.3.4.0-beta3-final.nupkg
- Microsoft.CodeAnalysis.VisualBasic.EditorFeatures.3.4.0-beta3-final.nupkg
- Microsoft.CodeAnalysis.EditorFeatures.Wpf.3.4.0-beta3-final.nupkg

[**vs-impl**](https://dev.azure.com/azure-public/vside/_packaging?_a=feed&feed=vs-impl) feed

- Microsoft.VisualStudio.IntegrationTest.Utilities.3.4.0-beta3-19514-03.nupkg
- Microsoft.CodeAnalysis.LanguageServer.Protocol.3.4.0-beta3-final.nupkg
- Microsoft.CodeAnalysis.ExternalAccess.Apex.3.4.0-beta3-final.nupkg
- Microsoft.CodeAnalysis.ExternalAccess.CodeLens.3.4.0-beta3-final.nupkg
- Microsoft.CodeAnalysis.ExternalAccess.Debugger.3.4.0-beta3-final.nupkg
- Microsoft.CodeAnalysis.ExternalAccess.FSharp.3.4.0-beta3-final.nupkg
- Microsoft.CodeAnalysis.ExternalAccess.IntelliTrace.3.4.0-beta3-final.nupkg
- Microsoft.CodeAnalysis.ExternalAccess.ProjectSystem.3.4.0-beta3-final.nupkg
- Microsoft.CodeAnalysis.ExternalAccess.Razor.3.4.0-beta3-final.nupkg
- Microsoft.CodeAnalysis.ExternalAccess.TypeScript.3.4.0-beta3-final.nupkg
- Microsoft.CodeAnalysis.ExternalAccess.UnitTesting.3.4.0-beta3-final.nupkg
- Microsoft.CodeAnalysis.ExternalAccess.Xamarin.Remote.3.4.0-beta3-final.nupkg
- Microsoft.CodeAnalysis.Remote.Razor.ServiceHub.3.4.0-beta3-final.nupkg
- Microsoft.CodeAnalysis.Remote.ServiceHub.3.4.0-beta3-final.nupkg
- Microsoft.CodeAnalysis.Remote.Workspaces.3.4.0-beta3-final.nupkg
- Microsoft.VisualStudio.LanguageServices.LiveShare.3.4.0-beta3-final.nupkg
- Microsoft.VisualStudio.LanguageServices.Razor.RemoteClient.3.4.0-beta3-final.nupkg

TODO:
- Should Feetures/EditorFeatures be published to `dotnet-core` or `vssdk` feed?
",Area-Infrastructure,jaredpar|jasonmalinowski|tmat|davidwengier|jmarolf|jinujoseph,15/10/2019 11:02,
39278,Disable /warnAsError in non-Correctness runs,"I have had a few instances lately where my build is fine locally but I get warnings in CI due to nullability changes in the base branch. This means I have to merge the base branch in fix it locally and push back up before getting any test results.

It feels like we might as well put warnAsError in the Correctness build *only* so this kind of thing does not prevent developers from getting test results.

/cc @jaredpar @JoeRobich @dotnet/roslyn-infrastructure ","Disable /warnAsError in non-Correctness runs I have had a few instances lately where my build is fine locally but I get warnings in CI due to nullability changes in the base branch. This means I have to merge the base branch in fix it locally and push back up before getting any test results.

It feels like we might as well put warnAsError in the Correctness build *only* so this kind of thing does not prevent developers from getting test results.

/cc @jaredpar @JoeRobich @dotnet/roslyn-infrastructure ",Area-Infrastructure,RikkiGibson|jaredpar|JoeRobich|jasonmalinowski|dpoeschl|agocke|jinujoseph,15/10/2019 10:38,
39277,Test CI error messages,,Test CI error messages ,PR For Personal Review Only,RikkiGibson,15/10/2019 10:36,
39276,"error MSB6006: ""csc.dll"" exited with code 137","@khteh commented on [Thu Oct 10 2019](https://github.com/dotnet/cli/issues/12870)

## Steps to reproduce

![Screenshot from 2019-10-11 10-54-24](https://user-images.githubusercontent.com/3871483/66621543-3e970b80-ec17-11e9-925d-7a2ac8db224f.png)

## Expected  behavior


## Actual behavior


## Environment data
`dotnet --info` output:
```
$ dn --info
.NET Core SDK (reflecting any global.json):
 Version:   3.0.100
 Commit:    04339c3a26

Runtime Environment:
 OS Name:     ubuntu
 OS Version:  19.04
 OS Platform: Linux
 RID:         ubuntu.19.04-x64
 Base Path:   /usr/share/dotnet-3.0.100/sdk/3.0.100/

Host (useful for support):
  Version: 3.0.0
  Commit:  7d57652f33

.NET Core SDKs installed:
  3.0.100 [/usr/share/dotnet-3.0.100/sdk]

.NET Core runtimes installed:
  Microsoft.AspNetCore.App 3.0.0 [/usr/share/dotnet-3.0.100/shared/Microsoft.AspNetCore.App]
  Microsoft.NETCore.App 3.0.0 [/usr/share/dotnet-3.0.100/shared/Microsoft.NETCore.App]

To install additional .NET Core runtimes or SDKs:
  https://aka.ms/dotnet-download
```






","error MSB6006: ""csc.dll"" exited with code 137 @khteh commented on [Thu Oct 10 2019](https://github.com/dotnet/cli/issues/12870)

## Steps to reproduce

![Screenshot from 2019-10-11 10-54-24](https://user-images.githubusercontent.com/3871483/66621543-3e970b80-ec17-11e9-925d-7a2ac8db224f.png)

## Expected  behavior


## Actual behavior


## Environment data
`dotnet --info` output:
```
$ dn --info
.NET Core SDK (reflecting any global.json):
 Version:   3.0.100
 Commit:    04339c3a26

Runtime Environment:
 OS Name:     ubuntu
 OS Version:  19.04
 OS Platform: Linux
 RID:         ubuntu.19.04-x64
 Base Path:   /usr/share/dotnet-3.0.100/sdk/3.0.100/

Host (useful for support):
  Version: 3.0.0
  Commit:  7d57652f33

.NET Core SDKs installed:
  3.0.100 [/usr/share/dotnet-3.0.100/sdk]

.NET Core runtimes installed:
  Microsoft.AspNetCore.App 3.0.0 [/usr/share/dotnet-3.0.100/shared/Microsoft.AspNetCore.App]
  Microsoft.NETCore.App 3.0.0 [/usr/share/dotnet-3.0.100/shared/Microsoft.NETCore.App]

To install additional .NET Core runtimes or SDKs:
  https://aka.ms/dotnet-download
```






",Area-Compilers|Need More Info,gafter,15/10/2019 9:04,
39275,Fix multi-line error messages in Azure DevOps runs,"Example test failure message: https://dev.azure.com/dnceng/public/_build/results?buildId=381807&view=ms.vss-test-web.build-test-results-tab&runId=11806886&paneView=debug&resultId=122183

It appears as:
`\r\nExpected:\r\n                Diagnostic(ErrorCode.ERR_AttributesInLocalFuncDecl \""[EnumeratorCancellation]\"").WithLocation(13 70)\r\nActual:\r\n                // (1370): error CS8652: The feature 'local function attributes' is currently in Preview and *unsupported*. To use Preview features use the 'preview' language version.\r\n                //         async System.Collections.Generic.IAsyncEnumerable<int> local([EnumeratorCancellation] CancellationToken token)\r\n                Diagnostic(ErrorCode.ERR_FeatureInPreview \""[EnumeratorCancellation]\"").WithArguments(\""local function attributes\"").WithLocation(13 70)\r\nDiff:\r\n++>                 Diagnostic(ErrorCode.ERR_FeatureInPreview \""[EnumeratorCancellation]\"").WithArguments(\""local function attributes\"").WithLocation(13 70)\r\n-->                 Diagnostic(ErrorCode.ERR_AttributesInLocalFuncDecl \""[EnumeratorCancellation]\"").WithLocation(13 70)\r\nExpected: True\r\nActual:   False
`

But it's expected to render the line breaks like so:

```
Expected:
                Diagnostic(ErrorCode.ERR_AttributesInLocalFuncDecl ""[EnumeratorCancellation]"").WithLocation(13 70)
Actual:
                // (1370): error CS8652: The feature 'local function attributes' is currently in Preview and *unsupported*. To use Preview features use the 'preview' language version.
                //         async System.Collections.Generic.IAsyncEnumerable<int> local([EnumeratorCancellation] CancellationToken token)
                Diagnostic(ErrorCode.ERR_FeatureInPreview ""[EnumeratorCancellation]"").WithArguments(""local function attributes"").WithLocation(13 70)
Diff:
++>                 Diagnostic(ErrorCode.ERR_FeatureInPreview ""[EnumeratorCancellation]"").WithArguments(""local function attributes"").WithLocation(13 70)
-->                 Diagnostic(ErrorCode.ERR_AttributesInLocalFuncDecl ""[EnumeratorCancellation]"").WithLocation(13 70)
Expected: True
Actual:   False debugger eval code:1:9
```

Let's play with emitting some multiline error messages manually try different line endings maybe check that nothing is interfering/rewriting the error message such as a trace listener.","Fix multi-line error messages in Azure DevOps runs Example test failure message: https://dev.azure.com/dnceng/public/_build/results?buildId=381807&view=ms.vss-test-web.build-test-results-tab&runId=11806886&paneView=debug&resultId=122183

It appears as:
`\r\nExpected:\r\n                Diagnostic(ErrorCode.ERR_AttributesInLocalFuncDecl \""[EnumeratorCancellation]\"").WithLocation(13 70)\r\nActual:\r\n                // (1370): error CS8652: The feature 'local function attributes' is currently in Preview and *unsupported*. To use Preview features use the 'preview' language version.\r\n                //         async System.Collections.Generic.IAsyncEnumerable<int> local([EnumeratorCancellation] CancellationToken token)\r\n                Diagnostic(ErrorCode.ERR_FeatureInPreview \""[EnumeratorCancellation]\"").WithArguments(\""local function attributes\"").WithLocation(13 70)\r\nDiff:\r\n++>                 Diagnostic(ErrorCode.ERR_FeatureInPreview \""[EnumeratorCancellation]\"").WithArguments(\""local function attributes\"").WithLocation(13 70)\r\n-->                 Diagnostic(ErrorCode.ERR_AttributesInLocalFuncDecl \""[EnumeratorCancellation]\"").WithLocation(13 70)\r\nExpected: True\r\nActual:   False
`

But it's expected to render the line breaks like so:

```
Expected:
                Diagnostic(ErrorCode.ERR_AttributesInLocalFuncDecl ""[EnumeratorCancellation]"").WithLocation(13 70)
Actual:
                // (1370): error CS8652: The feature 'local function attributes' is currently in Preview and *unsupported*. To use Preview features use the 'preview' language version.
                //         async System.Collections.Generic.IAsyncEnumerable<int> local([EnumeratorCancellation] CancellationToken token)
                Diagnostic(ErrorCode.ERR_FeatureInPreview ""[EnumeratorCancellation]"").WithArguments(""local function attributes"").WithLocation(13 70)
Diff:
++>                 Diagnostic(ErrorCode.ERR_FeatureInPreview ""[EnumeratorCancellation]"").WithArguments(""local function attributes"").WithLocation(13 70)
-->                 Diagnostic(ErrorCode.ERR_AttributesInLocalFuncDecl ""[EnumeratorCancellation]"").WithLocation(13 70)
Expected: True
Actual:   False debugger eval code:1:9
```

Let's play with emitting some multiline error messages manually try different line endings maybe check that nothing is interfering/rewriting the error message such as a trace listener.",Area-Infrastructure,RikkiGibson,,
39274,Attempt to normalize Location paths before creating URIs,"The URI path parsing is not the same as Windows path parsing and
sometimes produces incorrect results. However a canonical Windows
path should produce an equivalent URI. This change uses GetFullPath
for absolute paths passed to the ErrorLogger to normalize the path
before passing it to URIs. For relative paths we try to normalize
the directory separators but there's no equivalent transformation
that guarantees correctness.

Fixes #37737","Attempt to normalize Location paths before creating URIs The URI path parsing is not the same as Windows path parsing and
sometimes produces incorrect results. However a canonical Windows
path should produce an equivalent URI. This change uses GetFullPath
for absolute paths passed to the ErrorLogger to normalize the path
before passing it to URIs. For relative paths we try to normalize
the directory separators but there's no equivalent transformation
that guarantees correctness.

Fixes #37737",Area-Compilers,agocke,15/10/2019 6:33,
39273,Disable optprof check for flow analysis assembly,,Disable optprof check for flow analysis assembly ,Area-Infrastructure,dibarbet|RikkiGibson,15/10/2019 6:08,15/10/2019 7:52
39272,Document compiler package usage,"Cleaning up the documentation on our compiler toolset packages to make
the supported use cases explicitly clear. Previously this information
was only avaliable in scattered issues throughout the repsitory
([example](https://github.com/dotnet/roslyn/issues/38312)).

The package description is likely the best place for this information.","Document compiler package usage Cleaning up the documentation on our compiler toolset packages to make
the supported use cases explicitly clear. Previously this information
was only avaliable in scattered issues throughout the repsitory
([example](https://github.com/dotnet/roslyn/issues/38312)).

The package description is likely the best place for this information.",Area-Compilers|Auto-Merge If Tests Pass,agocke,,
39271,EnC does not show diagnostic when editing files without method bodies,"After adding files without method bodies to PDBs (https://github.com/dotnet/roslyn/pull/39136) 
`BreakMode_RudeEdits_DocumentWithoutSequencePoints` fails with no diagnostics (rude edits) on editing a file without method bodies. It seems more work to be done with `CommitedSolution.cs`","EnC does not show diagnostic when editing files without method bodies After adding files without method bodies to PDBs (https://github.com/dotnet/roslyn/pull/39136) 
`BreakMode_RudeEdits_DocumentWithoutSequencePoints` fails with no diagnostics (rude edits) on editing a file without method bodies. It seems more work to be done with `CommitedSolution.cs`",Area-Interactive|Disabled Test|Interactive-EnC,ivanbasov|gafter|tmat,15/10/2019 5:43,16/10/2019 6:52
39270,'Add parameter to method' Quick Action can add wrong parameter,"_This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/772301/add-parameter-to-method-quick-action-can-add-wrong.html)._

---
The 'Add parameter' Quick Action can add the wrong parameter in specific situations.
For instance this will happen when an existing parameter accepts a base class of the passed argument type. 
Is this behaviour by design or can this be fixed/improved?

Here is some code sample to reproduce the problem:
```
class BaseClass { }

class MyClass : BaseClass
{
    void TestFunc()
    {
        MyClass param1 = new MyClass();
        int newparam = 1;

// The 'Add parameter' Quick Action on the following method call adds the wrong parameter.
        // It should add an 'int newparam' parameter.
        // But instead it adds a 'MyClass param11' parameter.
        MyFunc(param1 newparam);
    }

void MyFunc(BaseClass param1) { }
}

```

---
### Original Comments

#### Visual Studio Feedback System on 10/10/2019 08:06 PM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>


---
### Original Solutions
(no solutions)","'Add parameter to method' Quick Action can add wrong parameter _This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/772301/add-parameter-to-method-quick-action-can-add-wrong.html)._

---
The 'Add parameter' Quick Action can add the wrong parameter in specific situations.
For instance this will happen when an existing parameter accepts a base class of the passed argument type. 
Is this behaviour by design or can this be fixed/improved?

Here is some code sample to reproduce the problem:
```
class BaseClass { }

class MyClass : BaseClass
{
    void TestFunc()
    {
        MyClass param1 = new MyClass();
        int newparam = 1;

// The 'Add parameter' Quick Action on the following method call adds the wrong parameter.
        // It should add an 'int newparam' parameter.
        // But instead it adds a 'MyClass param11' parameter.
        MyFunc(param1 newparam);
    }

void MyFunc(BaseClass param1) { }
}

```

---
### Original Comments

#### Visual Studio Feedback System on 10/10/2019 08:06 PM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>


---
### Original Solutions
(no solutions)",Area-IDE|Bug,ivanbasov,,
39269,Merge master to features/static-lambdas,"
This is an automatically generated pull request from master into features/static-lambdas.

``` bash
git fetch --all
git checkout merges/master-to-features/static-lambdas
git reset --hard upstream/features/static-lambdas
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-features/static-lambdas --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge master to features/static-lambdas 
This is an automatically generated pull request from master into features/static-lambdas.

``` bash
git fetch --all
git checkout merges/master-to-features/static-lambdas
git reset --hard upstream/features/static-lambdas
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-features/static-lambdas --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|dibarbet,14/10/2019 23:02,15/10/2019 11:34
39268,Merge master to features/local-function-attributes,"
This is an automatically generated pull request from master into features/local-function-attributes.

``` bash
git fetch --all
git checkout merges/master-to-features/local-function-attributes
git reset --hard upstream/features/local-function-attributes
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-features/local-function-attributes --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge master to features/local-function-attributes 
This is an automatically generated pull request from master into features/local-function-attributes.

``` bash
git fetch --all
git checkout merges/master-to-features/local-function-attributes
git reset --hard upstream/features/local-function-attributes
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-features/local-function-attributes --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|dibarbet,14/10/2019 23:02,15/10/2019 11:34
39267,Merge master to master-vs-deps,"
This is an automatically generated pull request from master into master-vs-deps.

``` bash
git fetch --all
git checkout merges/master-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge master to master-vs-deps 
This is an automatically generated pull request from master into master-vs-deps.

``` bash
git fetch --all
git checkout merges/master-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|dibarbet,14/10/2019 23:02,15/10/2019 11:35
39266,Merge master to release/dev16.5-preview1,"
This is an automatically generated pull request from master into release/dev16.5-preview1.

``` bash
git fetch --all
git checkout merges/master-to-release/dev16.5-preview1
git reset --hard upstream/release/dev16.5-preview1
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-release/dev16.5-preview1 --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge master to release/dev16.5-preview1 
This is an automatically generated pull request from master into release/dev16.5-preview1.

``` bash
git fetch --all
git checkout merges/master-to-release/dev16.5-preview1
git reset --hard upstream/release/dev16.5-preview1
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-release/dev16.5-preview1 --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|dibarbet,14/10/2019 23:00,15/10/2019 11:35
39265,Keyword recommender doesn't know about struct's readonly members,"**Version Used**: 
VS 16.3.4

```csharp
struct S
{
    readonly $$
}
```
No `void` keyword here. A `readonly void` method could still modify global state using the value of instance state so still meaningful.

---

```csharp
struct S
{
    public $$ int X() => 1;
}
```
`readonly` presents here.

---

```csharp
struct S
{
    public int X
    {
        $$ get => 1;
    }
}
```
No `readonly` here.

---

```csharp
struct S
{
    public int X
    {
        $$
    }
}
```
No `readonly` here.

---

```csharp
struct S
{
    public int X
    {
        readonly $$
    }
}
```
Recommending types instead of accessor keywords.","Keyword recommender doesn't know about struct's readonly members **Version Used**: 
VS 16.3.4

```csharp
struct S
{
    readonly $$
}
```
No `void` keyword here. A `readonly void` method could still modify global state using the value of instance state so still meaningful.

---

```csharp
struct S
{
    public $$ int X() => 1;
}
```
`readonly` presents here.

---

```csharp
struct S
{
    public int X
    {
        $$ get => 1;
    }
}
```
No `readonly` here.

---

```csharp
struct S
{
    public int X
    {
        $$
    }
}
```
No `readonly` here.

---

```csharp
struct S
{
    public int X
    {
        readonly $$
    }
}
```
Recommending types instead of accessor keywords.",Area-IDE|Bug|IDE-IntelliSense|help wanted,jaredpar|agocke|333fred|gafter|RikkiGibson|VSadov|AlekseyTs|cston|jcouv|chsienki|fayrose|sharwell|huoyaoyuan,14/10/2019 22:44,
39264,Roslyn doesn't understand pattern-matching null check for properties,"**Version Used**: 

```
Branch master (23 Sep 2019)
Latest commit 89b4f60 by Charles Stoner:
Allow conversion of collection initializer Add extension method this arg (#38732)
```

**Steps to Reproduce**:

Compile the following code:
```cs
#nullable enable
class C
{
    string? field;

    void M1(C c)
    {
        if (c.field == null) return;
        
        c.field.ToString();
    }
    
    void M2(C c)
    {
        if (c is { field: null }) return;
        
        c.field.ToString(); // incorrect CS8602
    }
}
```

**Expected Behavior**:
Both methods report no warnings; If `c.field` is null method returns in both cases before using it.

**Actual Behavior**:
`M2` has an incorrect warning `CS8602: Dereference of a possibly null reference` reported for `c.field.ToString()`

**Notes**
It's actually even worse since such null checks makes Roslyn think that `field` is checked for null but does not update it to non-null on the false branch. Consequently Roslyn reports the warning even if `field` is declared as **non-nullable** `string`
i.e.
```
#nullable enable
class C
{
    string field;
    
    void M2(C c)
    {
        if (c is { field: null }) return;
        
        c.field.ToString(); // incorrect CS8602
    }
}
```

Note that current behavior is quite annoyting since it does not allow me to hande nulls hvia separate patterns in switches e.g.:
```cs
#nullable enable
class C
{
    string? field;
    
    void M2(C c)
    {
        switch (c)
        {
            case { field: null }: break;
            case var copy:
            {
              copy.field.ToString(); // CS8602
              c.field.ToString(); // CS8602
              break;
            }
        }
    }
}
```","Roslyn doesn't understand pattern-matching null check for properties **Version Used**: 

```
Branch master (23 Sep 2019)
Latest commit 89b4f60 by Charles Stoner:
Allow conversion of collection initializer Add extension method this arg (#38732)
```

**Steps to Reproduce**:

Compile the following code:
```cs
#nullable enable
class C
{
    string? field;

    void M1(C c)
    {
        if (c.field == null) return;
        
        c.field.ToString();
    }
    
    void M2(C c)
    {
        if (c is { field: null }) return;
        
        c.field.ToString(); // incorrect CS8602
    }
}
```

**Expected Behavior**:
Both methods report no warnings; If `c.field` is null method returns in both cases before using it.

**Actual Behavior**:
`M2` has an incorrect warning `CS8602: Dereference of a possibly null reference` reported for `c.field.ToString()`

**Notes**
It's actually even worse since such null checks makes Roslyn think that `field` is checked for null but does not update it to non-null on the false branch. Consequently Roslyn reports the warning even if `field` is declared as **non-nullable** `string`
i.e.
```
#nullable enable
class C
{
    string field;
    
    void M2(C c)
    {
        if (c is { field: null }) return;
        
        c.field.ToString(); // incorrect CS8602
    }
}
```

Note that current behavior is quite annoyting since it does not allow me to hande nulls hvia separate patterns in switches e.g.:
```cs
#nullable enable
class C
{
    string? field;
    
    void M2(C c)
    {
        switch (c)
        {
            case { field: null }: break;
            case var copy:
            {
              copy.field.ToString(); // CS8602
              c.field.ToString(); // CS8602
              break;
            }
        }
    }
}
```",Area-Compilers|Bug|New Language Feature - Nullable Reference Types|New Language Feature - Pattern Matching,gafter,,
39263,C# virtual keyword recommender does not support private protected members,"**Version Used**: Visual Studio 2019 Version 16.4

https://github.com/dotnet/roslyn/blob/7bc44488c661fd6bbb6c53f39512a6fe0cc5ef84/src/Features/CSharp/Portable/Completion/KeywordRecommenders/VirtualKeywordRecommender.cs#L12-L20","C# virtual keyword recommender does not support private protected members **Version Used**: Visual Studio 2019 Version 16.4

https://github.com/dotnet/roslyn/blob/7bc44488c661fd6bbb6c53f39512a6fe0cc5ef84/src/Features/CSharp/Portable/Completion/KeywordRecommenders/VirtualKeywordRecommender.cs#L12-L20",Area-IDE|Bug|IDE-IntelliSense|help wanted,sharwell|ivanbasov,14/10/2019 18:20,17/10/2019 6:21
39262,VB.NET code window doesn't scroll to the handler when selecting a control from the drop-down,"_This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/21762/vbnet-code-window-doesnt-scroll-to-the-handler-whe.html)._

---
In VS2013 in the VB.NET code window selecting a control from the controls list drop-down would cause the code window to auto-scroll to the handler for that control if that control only had one handler.

This behaviour is no longer present in VS2017 RC - you have to select the event from the events drop-down to make the code window scroll.

I've illustrated the problem in the following video:

https://youtu.be/PhGAI_jw9PY

I've also attached a test case.

As I explain in the video when a control has multiple handlers fair enough - it wouldn't know which section of the code to jump to.  But for buttons there's usually only one and for other controls too - combo boxes for instance often only have a SelectedIndexChanged event.

It would be great to put the auto-scroll behaviour from VS2013 back in - it's a small thing but makes a significant difference over time.

---
### Original Comments

#### Jane Wu [MSFT] on 8/9/2019 03:17 AM: 

After 90 days of no priority changing activity we’ve closed this report. We prioritize based on severity similar reports and the overall impact on users and scenarios. We've also learned that reports without fresh activity could indicate that the problem isn't a problem anymore. One of our goals is to give you more transparency around these decisions as resolving every problem that gets reported isn't always possible. Closing low priority tickets helps us manage our workload and focus on problems that impact most users. If you still face this issue in our latest version please report it as a new problem.

#### Paul Haffner on 10/9/2019 03:44 PM: 

<p>How are we meant to vote on this issue if it has been closed? This is a serious question because the issue I raised which is admittedly a duplicate of this one has just been answered with the seemingly ridiculous request that I could come to this issue and vote for it.</p>


---
### Original Solutions
(no solutions)","VB.NET code window doesn't scroll to the handler when selecting a control from the drop-down _This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/21762/vbnet-code-window-doesnt-scroll-to-the-handler-whe.html)._

---
In VS2013 in the VB.NET code window selecting a control from the controls list drop-down would cause the code window to auto-scroll to the handler for that control if that control only had one handler.

This behaviour is no longer present in VS2017 RC - you have to select the event from the events drop-down to make the code window scroll.

I've illustrated the problem in the following video:

https://youtu.be/PhGAI_jw9PY

I've also attached a test case.

As I explain in the video when a control has multiple handlers fair enough - it wouldn't know which section of the code to jump to.  But for buttons there's usually only one and for other controls too - combo boxes for instance often only have a SelectedIndexChanged event.

It would be great to put the auto-scroll behaviour from VS2013 back in - it's a small thing but makes a significant difference over time.

---
### Original Comments

#### Jane Wu [MSFT] on 8/9/2019 03:17 AM: 

After 90 days of no priority changing activity we’ve closed this report. We prioritize based on severity similar reports and the overall impact on users and scenarios. We've also learned that reports without fresh activity could indicate that the problem isn't a problem anymore. One of our goals is to give you more transparency around these decisions as resolving every problem that gets reported isn't always possible. Closing low priority tickets helps us manage our workload and focus on problems that impact most users. If you still face this issue in our latest version please report it as a new problem.

#### Paul Haffner on 10/9/2019 03:44 PM: 

<p>How are we meant to vote on this issue if it has been closed? This is a serious question because the issue I raised which is admittedly a duplicate of this one has just been answered with the seemingly ridiculous request that I could come to this issue and vote for it.</p>


---
### Original Solutions
(no solutions)",Area-IDE|Developer Community,gafter|jinujoseph,14/10/2019 16:44,
39261,Fix dead class diagram,"Is there anyone actually mentioning it? It hasn't changed for 4 years.
Visual editor in IDE always picks alphabetically first file for the partial classes.
Or we should get the outdated diagram removed instead?","Fix dead class diagram Is there anyone actually mentioning it? It hasn't changed for 4 years.
Visual editor in IDE always picks alphabetically first file for the partial classes.
Or we should get the outdated diagram removed instead?",Area-Compilers|Community,huoyaoyuan|jinujoseph|jaredpar|agocke|333fred|gafter|RikkiGibson|VSadov|AlekseyTs|cston|jcouv|chsienki|fayrose,13/10/2019 22:34,
39260,"The ""Convert to conditional expression"" refactoring is sometimes mislabeled","**Version Used**: VS 16.4.0 Preview 1.0

**Steps to Reproduce**:

Have code like the following:

```c#
if (AreSimilarCore(node1 node2))
{
    return true;
}

return false;
```

Invoke refactoring on the `if`.

**Actual Behavior**:

VS offers to simplify the code with the suggestion being labeled as ""Convert to conditional expression"" even though the refactored code does not contain the conditional expression:

![](https://user-images.githubusercontent.com/287848/66714599-bbadb680-edb8-11e9-80e5-3bec4d6d4164.png)

**Expected Behavior**:

The refactoring is labeled accurately e.g. with ""Simplify if statement"".","The ""Convert to conditional expression"" refactoring is sometimes mislabeled **Version Used**: VS 16.4.0 Preview 1.0

**Steps to Reproduce**:

Have code like the following:

```c#
if (AreSimilarCore(node1 node2))
{
    return true;
}

return false;
```

Invoke refactoring on the `if`.

**Actual Behavior**:

VS offers to simplify the code with the suggestion being labeled as ""Convert to conditional expression"" even though the refactored code does not contain the conditional expression:

![](https://user-images.githubusercontent.com/287848/66714599-bbadb680-edb8-11e9-80e5-3bec4d6d4164.png)

**Expected Behavior**:

The refactoring is labeled accurately e.g. with ""Simplify if statement"".",Area-IDE|Concept-Continuous Improvement|Need Design Review,svick|sharwell,13/10/2019 21:57,
39258,Fix SourceText.GetChanges exception on merging certain changes,"Closes #22289
Closes #26305

See #22289 for full details on the bug.

#### Summary
After certain `WithChanges` calls `SourceText.GetChanges` is no longer able to handle the `SourceText` state and throws `ArgumentOutOfRangeException` when called.

#### Notes
- Three of the new tests are failing without my change other tests added just in case.
- I didn't follow ""Hello World"" pattern in tests sorry. I found it a bit hard to remember the offsets when using actual words.
- Not fully confident in the change even though the tests pass. The flow is quite complicated and I feel the current coverage might be insufficient.","Fix SourceText.GetChanges exception on merging certain changes Closes #22289
Closes #26305

See #22289 for full details on the bug.

#### Summary
After certain `WithChanges` calls `SourceText.GetChanges` is no longer able to handle the `SourceText` state and throws `ArgumentOutOfRangeException` when called.

#### Notes
- Three of the new tests are failing without my change other tests added just in case.
- I didn't follow ""Hello World"" pattern in tests sorry. I found it a bit hard to remember the offsets when using actual words.
- Not fully confident in the change even though the tests pass. The flow is quite complicated and I feel the current coverage might be insufficient.",Area-Compilers|Community,RikkiGibson,,
39257,Include severity values when generating preferred modifier order EditorConfig options,"Currently severity values for `*_preferred_modifier_order` options are not written when generating EditorConfig files. This PR fixes that.

I also updated the `CodeStyleOption.NotificationOption` property to throw when it is assigned to null (it can't be made read-only since the setter is part of the shipped API). I'm not sure how much of a breaking change this is so please let me know if you want me to revert these changes.","Include severity values when generating preferred modifier order EditorConfig options Currently severity values for `*_preferred_modifier_order` options are not written when generating EditorConfig files. This PR fixes that.

I also updated the `CodeStyleOption.NotificationOption` property to throw when it is assigned to null (it can't be made read-only since the setter is part of the shipped API). I'm not sure how much of a breaking change this is so please let me know if you want me to revert these changes.",Area-IDE|Community,mavasani,,
39256,'Implement interface' doesn't handle NRT annotations when constructing a generic interface,"**Version Used**: VS 16.3.4

Using 'Implement interface` on classes A B C and D adds incorrect or redundant annotations:

```cs
interface IFoo<T>
{
    [return: NotNull]
    T Bar([DisallowNull] T bar);

    [return: MaybeNull]
    T Baz([AllowNull] T bar);
}

class A : IFoo<int>
{
    [return: NotNull]
    public int Bar([DisallowNull] int bar)
    {
        throw new NotImplementedException();
    }

    [return: MaybeNull]
    public int Baz([AllowNull] int bar)
    {
        throw new NotImplementedException();
    }
}

class B : IFoo<int?>
{
    [return: NotNull]
    public int? Bar([DisallowNull] int? bar)
    {
        throw new NotImplementedException();
    }

    [return: MaybeNull]
    public int? Baz([AllowNull] int? bar)
    {
        throw new NotImplementedException();
    }
}

class C : IFoo<string>
{
    [return: NotNull]
    public string Bar([DisallowNull] string bar)
    {
        throw new NotImplementedException();
    }

    [return: MaybeNull]
    public string Baz([AllowNull] string bar)
    {
        throw new NotImplementedException();
    }
}

class D : IFoo<string?>
{
    [return: NotNull]
    public string? Bar([DisallowNull] string? bar)
    {
        throw new NotImplementedException();
    }

    [return: MaybeNull]
    public string? Baz([AllowNull] string? bar)
    {
        throw new NotImplementedException();
    }
}
```

Expected:

```cs
class A : IFoo<int>
{
    public int Bar(int bar)
    {
        throw new NotImplementedException();
    }

    public int Baz(int bar)
    {
        throw new NotImplementedException();
    }
}

class B : IFoo<int?>
{
    [return: NotNull]
    public int? Bar([DisallowNull] int? bar)
    {
        throw new NotImplementedException();
    }

    public int? Baz(int? bar)
    {
        throw new NotImplementedException();
    }
}

class C : IFoo<string>
{
    public string Bar(string bar)
    {
        throw new NotImplementedException();
    }

    // Would be nice to replace attributes with `string?` but this causes ""CS8613 Nullability
    // of reference types in return type doesn't match implicitly implemented member.""
    // Point-in-time issue maybe?
    [return: MaybeNull]
    public string Baz([AllowNull] string bar)
    {
        throw new NotImplementedException();
    }
}

class D : IFoo<string?>
{
    // Would be nice to replace attributes with `string` but this causes ""CS8613 Nullability
    // of reference types in return type doesn't match implicitly implemented member.""
    // Point-in-time issue maybe?
    [return: NotNull]
    public string? Bar([DisallowNull] string? bar)
    {
        throw new NotImplementedException();
    }

    public string? Baz(string? bar)
    {
        throw new NotImplementedException();
    }
}
```","'Implement interface' doesn't handle NRT annotations when constructing a generic interface **Version Used**: VS 16.3.4

Using 'Implement interface` on classes A B C and D adds incorrect or redundant annotations:

```cs
interface IFoo<T>
{
    [return: NotNull]
    T Bar([DisallowNull] T bar);

    [return: MaybeNull]
    T Baz([AllowNull] T bar);
}

class A : IFoo<int>
{
    [return: NotNull]
    public int Bar([DisallowNull] int bar)
    {
        throw new NotImplementedException();
    }

    [return: MaybeNull]
    public int Baz([AllowNull] int bar)
    {
        throw new NotImplementedException();
    }
}

class B : IFoo<int?>
{
    [return: NotNull]
    public int? Bar([DisallowNull] int? bar)
    {
        throw new NotImplementedException();
    }

    [return: MaybeNull]
    public int? Baz([AllowNull] int? bar)
    {
        throw new NotImplementedException();
    }
}

class C : IFoo<string>
{
    [return: NotNull]
    public string Bar([DisallowNull] string bar)
    {
        throw new NotImplementedException();
    }

    [return: MaybeNull]
    public string Baz([AllowNull] string bar)
    {
        throw new NotImplementedException();
    }
}

class D : IFoo<string?>
{
    [return: NotNull]
    public string? Bar([DisallowNull] string? bar)
    {
        throw new NotImplementedException();
    }

    [return: MaybeNull]
    public string? Baz([AllowNull] string? bar)
    {
        throw new NotImplementedException();
    }
}
```

Expected:

```cs
class A : IFoo<int>
{
    public int Bar(int bar)
    {
        throw new NotImplementedException();
    }

    public int Baz(int bar)
    {
        throw new NotImplementedException();
    }
}

class B : IFoo<int?>
{
    [return: NotNull]
    public int? Bar([DisallowNull] int? bar)
    {
        throw new NotImplementedException();
    }

    public int? Baz(int? bar)
    {
        throw new NotImplementedException();
    }
}

class C : IFoo<string>
{
    public string Bar(string bar)
    {
        throw new NotImplementedException();
    }

    // Would be nice to replace attributes with `string?` but this causes ""CS8613 Nullability
    // of reference types in return type doesn't match implicitly implemented member.""
    // Point-in-time issue maybe?
    [return: MaybeNull]
    public string Baz([AllowNull] string bar)
    {
        throw new NotImplementedException();
    }
}

class D : IFoo<string?>
{
    // Would be nice to replace attributes with `string` but this causes ""CS8613 Nullability
    // of reference types in return type doesn't match implicitly implemented member.""
    // Point-in-time issue maybe?
    [return: NotNull]
    public string? Bar([DisallowNull] string? bar)
    {
        throw new NotImplementedException();
    }

    public string? Baz(string? bar)
    {
        throw new NotImplementedException();
    }
}
```",Area-IDE|Bug,ryzngard,,
39255,Signature help sometimes fails to wrap preventing the current parameter from being seen,"**Version Used**: VS 16.3.4

Repro:

```cs
public static class C
{
    public static void M()
    {
        var longVariableNameForSpacing = Method([||]
    }

    public static object Method(
        System.Collections.Generic.Dictionary<string string> a
        System.Collections.Generic.Dictionary<string string> b
        System.Collections.Generic.Dictionary<string string> c
        System.Collections.Generic.Dictionary<string string> d
        System.Collections.Generic.Dictionary<string string> e)
    {
        return null;
    }
}
```

![image](https://user-images.githubusercontent.com/8040367/66706586-8c3c7280-ed02-11e9-9962-00880c4d2de7.png)

Pixel density is at 125% for these monitors resolution 2560x1440.","Signature help sometimes fails to wrap, preventing the current parameter from being seen **Version Used**: VS 16.3.4

Repro:

```cs
public static class C
{
    public static void M()
    {
        var longVariableNameForSpacing = Method([||]
    }

    public static object Method(
        System.Collections.Generic.Dictionary<string string> a
        System.Collections.Generic.Dictionary<string string> b
        System.Collections.Generic.Dictionary<string string> c
        System.Collections.Generic.Dictionary<string string> d
        System.Collections.Generic.Dictionary<string string> e)
    {
        return null;
    }
}
```

![image](https://user-images.githubusercontent.com/8040367/66706586-8c3c7280-ed02-11e9-9962-00880c4d2de7.png)

Pixel density is at 125% for these monitors resolution 2560x1440.",Area-External,olegtk|jinujoseph|CyrusNajmabadi|gafter,13/10/2019 5:51,15/10/2019 11:49
39254,Parse test analyzer data using InvariantCulture,"Fixes #39248.

I quickly went over all other references to `EnsureEnglishUICulture.PreferredOrNull` and to my knowledge this is the only place where it is used to parse numeric data so I don't believe its behavior needs to be changed.","Parse test analyzer data using InvariantCulture Fixes #39248.

I quickly went over all other references to `EnsureEnglishUICulture.PreferredOrNull` and to my knowledge this is the only place where it is used to parse numeric data so I don't believe its behavior needs to be changed.",Area-Infrastructure|Community,castholm|sharwell|jinujoseph,13/10/2019 5:45,14/10/2019 16:46
39253,'Generate Equals' should use `is object` rather than `!= null`,"Mentioned by @sharwell at https://github.com/dotnet/roslyn/pull/39242#discussion_r334215178.  

My own awareness of `is object` began at https://twitter.com/jaredpar/status/1115019017297596416:

> Think developers should embrace `is object` as the canonical non-null test in C#. It works in every version won't compile when the expression type is a struct logical opposite of `is null` emits efficient IL ... the only fault you can say is the name isn't obvious.

https://twitter.com/jaredpar/status/1171474157667643400:

> Another developer converted to ""x is object"" as the canonical null check in C#. If I have to go dev by dev to achieve correctness then so be it.

(@jaredpar hope you don't mind me referencing your feed...)

After the 9.0 candidate https://github.com/dotnet/csharplang/issues/1350 makes it into the language I believe the canonical non-null test will be `is not null`.","'Generate Equals' should use `is object` rather than `!= null` Mentioned by @sharwell at https://github.com/dotnet/roslyn/pull/39242#discussion_r334215178.  

My own awareness of `is object` began at https://twitter.com/jaredpar/status/1115019017297596416:

> Think developers should embrace `is object` as the canonical non-null test in C#. It works in every version won't compile when the expression type is a struct logical opposite of `is null` emits efficient IL ... the only fault you can say is the name isn't obvious.

https://twitter.com/jaredpar/status/1171474157667643400:

> Another developer converted to ""x is object"" as the canonical null check in C#. If I have to go dev by dev to achieve correctness then so be it.

(@jaredpar hope you don't mind me referencing your feed...)

After the 9.0 candidate https://github.com/dotnet/csharplang/issues/1350 makes it into the language I believe the canonical non-null test will be `is not null`.",Area-IDE|Concept-Continuous Improvement|IDE-CodeStyle|help wanted,jaredpar|sharwell,13/10/2019 4:12,
39252,Update Windows Build Instructions To Enable .NET Core SDK Previews,"Updates the Windows build instructions to reflect the new location of the enable previews of the .NET Core SDK option in Visual Studio 16.3.4. (See Screenshot below).

![Preview](https://user-images.githubusercontent.com/4162227/66704763-0b3ba600-ed17-11e9-9960-2ae66be7ffd1.JPG)
","Update Windows Build Instructions To Enable .NET Core SDK Previews Updates the Windows build instructions to reflect the new location of the enable previews of the .NET Core SDK option in Visual Studio 16.3.4. (See Screenshot below).

![Preview](https://user-images.githubusercontent.com/4162227/66704763-0b3ba600-ed17-11e9-9960-2ae66be7ffd1.JPG)
",Area-IDE|Community,jasonmalinowski,,
39251,Move C#-specific shared code style options to CSharpCodeStyleOptions,"Fixes #30042.

Most changes are fairly straightfoward but one significant change is `GenerateConstructorFromMembersCodeRefactoringProvider` being made abstract and split into language-specific implementations.

To get around the issues of certain shared features depending on the now inaccessible PreferThrowExpression option I added abstract methods for retrieving the value of the option that are overridden by the language-specific implementations. I'm not sure if it's the best way of handling it but it minimizes the impact of the option being moved and was the solution I felt the most comfortable going with.","Move C#-specific shared code style options to CSharpCodeStyleOptions Fixes #30042.

Most changes are fairly straightfoward but one significant change is `GenerateConstructorFromMembersCodeRefactoringProvider` being made abstract and split into language-specific implementations.

To get around the issues of certain shared features depending on the now inaccessible PreferThrowExpression option I added abstract methods for retrieving the value of the option that are overridden by the language-specific implementations. I'm not sure if it's the best way of handling it but it minimizes the impact of the option being moved and was the solution I felt the most comfortable going with.",Area-IDE|Community,JoeRobich,,
39250,Implicit call to base constructor with optional parameter,"**Version Used**: 
C# 8 compiler

**Steps to Reproduce**:
Write this code:

```csharp
class Base
{
    public Base(int x = 0) { }
}

class Derived : Base { }
```

**Expected Behavior**:

I would expect this code to fail to compile. `Base` doesn't have a default constructor so `Derived` should be required to explicitly call a base constructor. The fact that the base class constructor has an optional parameter shouldn't change that.

**Actual Behavior**:

The code compiles. The compiler implicitly emits a call to `base(0)`:

```il
IL_0000:  ldarg.0     
IL_0001:  ldc.i4.0    
IL_0002:  call        Base..ctor
IL_0007:  ret         
```
---
Is this behavior intentional or is it a bug ?","Implicit call to base constructor with optional parameter **Version Used**: 
C# 8 compiler

**Steps to Reproduce**:
Write this code:

```csharp
class Base
{
    public Base(int x = 0) { }
}

class Derived : Base { }
```

**Expected Behavior**:

I would expect this code to fail to compile. `Base` doesn't have a default constructor so `Derived` should be required to explicitly call a base constructor. The fact that the base class constructor has an optional parameter shouldn't change that.

**Actual Behavior**:

The code compiles. The compiler implicitly emits a call to `base(0)`:

```il
IL_0000:  ldarg.0     
IL_0001:  ldc.i4.0    
IL_0002:  call        Base..ctor
IL_0007:  ret         
```
---
Is this behavior intentional or is it a bug ?",Area-Compilers|Resolution-By Design,sharwell|gafter,12/10/2019 23:55,15/10/2019 6:17
39249,Generate proper nullability annotation for IEquatable.Equals,"Fixes #39243 fixes #38069

If you take the first commit (adding tests) without the second commit (implementation change) you will actually get a debug assertion failure when the name simplifier tries to simplify the generated `[AllowNull]` name:

https://github.com/dotnet/roslyn/blob/97b75fcb5807881b0e768357b82c1a3476a3ec2c/src/Compilers/CSharp/Portable/Compilation/MemberSemanticModel.cs#L157-L162

I don't know how important this is.

Since `[AllowNull]` is no longer generated when generating the Equals method it isn't interfering with this PR.

Stack trace:

<details>

```
   at System.Diagnostics.Debug.Assert(Boolean condition)
   at Microsoft.CodeAnalysis.CSharp.MemberSemanticModel.GetRemappedSymbols() in C:\Users\Joseph\Source\Repos\roslyn\src\Compilers\CSharp\Portable\Compilation\MemberSemanticModel.cs:line 160
   at Microsoft.CodeAnalysis.CSharp.SyntaxTreeSemanticModel.CreateSpeculativeAttributeSemanticModel(Int32 position AttributeSyntax attribute Binder binder AliasSymbol aliasOpt NamedTypeSymbol attributeType) in C:\Users\Joseph\Source\Repos\roslyn\src\Compilers\CSharp\Portable\Compilation\SyntaxTreeSemanticModel.cs:line 746
   at Microsoft.CodeAnalysis.CSharp.CSharpSemanticModel.TryGetSpeculativeSemanticModel(Int32 position AttributeSyntax attribute SemanticModel& speculativeModel) in C:\Users\Joseph\Source\Repos\roslyn\src\Compilers\CSharp\Portable\Compilation\CSharpSemanticModel.cs:line 2554
   at Microsoft.CodeAnalysis.CSharp.CSharpExtensions.TryGetSpeculativeSemanticModel(SemanticModel semanticModel Int32 position AttributeSyntax attribute SemanticModel& speculativeModel) in C:\Users\Joseph\Source\Repos\roslyn\src\Compilers\CSharp\Portable\CSharpExtensions.cs:line 1136
   at Microsoft.CodeAnalysis.CSharp.Utilities.SpeculationAnalyzer.CreateSpeculativeSemanticModelForNode(SyntaxNode nodeToSpeculate SemanticModel semanticModel Int32 position Boolean isInNamespaceOrTypeContext) in C:\Users\Joseph\Source\Repos\roslyn\src\Workspaces\CSharp\Portable\Utilities\SpeculationAnalyzer.cs:line 142
   at Microsoft.CodeAnalysis.CSharp.Utilities.SpeculationAnalyzer.CreateSpeculativeSemanticModelForNode(SyntaxNode originalNode SyntaxNode nodeToSpeculate SemanticModel semanticModel) in C:\Users\Joseph\Source\Repos\roslyn\src\Workspaces\CSharp\Portable\Utilities\SpeculationAnalyzer.cs:line 103
   at Microsoft.CodeAnalysis.CSharp.Utilities.SpeculationAnalyzer.CreateSpeculativeSemanticModel(SyntaxNode originalNode SyntaxNode nodeToSpeculate SemanticModel semanticModel) in C:\Users\Joseph\Source\Repos\roslyn\src\Workspaces\CSharp\Portable\Utilities\SpeculationAnalyzer.cs:line 96
   at Microsoft.CodeAnalysis.Shared.Utilities.AbstractSpeculationAnalyzer`7.EnsureSpeculativeSemanticModel() in C:\Users\Joseph\Source\Repos\roslyn\src\Workspaces\Core\Portable\Utilities\AbstractSpeculationAnalyzer.cs:line 185
   at Microsoft.CodeAnalysis.Shared.Utilities.AbstractSpeculationAnalyzer`7.get_SpeculativeSemanticModel() in C:\Users\Joseph\Source\Repos\roslyn\src\Workspaces\Core\Portable\Utilities\AbstractSpeculationAnalyzer.cs:line 149
   at Microsoft.CodeAnalysis.Shared.Utilities.AbstractSpeculationAnalyzer`7.ReplacementChangesSemantics(SyntaxNode currentOriginalNode SyntaxNode currentReplacedNode SyntaxNode originalRoot Boolean skipVerificationForCurrentNode) in C:\Users\Joseph\Source\Repos\roslyn\src\Workspaces\Core\Portable\Utilities\AbstractSpeculationAnalyzer.cs:line 419
   at Microsoft.CodeAnalysis.Shared.Utilities.AbstractSpeculationAnalyzer`7.ReplacementChangesSemantics() in C:\Users\Joseph\Source\Repos\roslyn\src\Workspaces\Core\Portable\Utilities\AbstractSpeculationAnalyzer.cs:line 408
   at Microsoft.CodeAnalysis.CSharp.Extensions.ExpressionSyntaxExtensions.CanReplaceWithReducedName(NameSyntax name TypeSyntax reducedName SemanticModel semanticModel CancellationToken cancellationToken) in C:\Users\Joseph\Source\Repos\roslyn\src\Workspaces\CSharp\Portable\Extensions\ExpressionSyntaxExtensions.cs:line 2218
   at Microsoft.CodeAnalysis.CSharp.Extensions.ExpressionSyntaxExtensions.TryReduce(NameSyntax name SemanticModel semanticModel TypeSyntax& replacementNode TextSpan& issueSpan OptionSet optionSet CancellationToken cancellationToken) in C:\Users\Joseph\Source\Repos\roslyn\src\Workspaces\CSharp\Portable\Extensions\ExpressionSyntaxExtensions.cs:line 1774
   at Microsoft.CodeAnalysis.CSharp.Extensions.ExpressionSyntaxExtensions.TryReduceExplicitName(ExpressionSyntax expression SemanticModel semanticModel TypeSyntax& replacementNode TextSpan& issueSpan OptionSet optionSet CancellationToken cancellationToken) in C:\Users\Joseph\Source\Repos\roslyn\src\Workspaces\CSharp\Portable\Extensions\ExpressionSyntaxExtensions.cs:line 809
   at Microsoft.CodeAnalysis.CSharp.Extensions.ExpressionSyntaxExtensions.TryReduceOrSimplifyExplicitName(ExpressionSyntax expression SemanticModel semanticModel ExpressionSyntax& replacementNode TextSpan& issueSpan OptionSet optionSet CancellationToken cancellationToken) in C:\Users\Joseph\Source\Repos\roslyn\src\Workspaces\CSharp\Portable\Extensions\ExpressionSyntaxExtensions.cs:line 767
   at Microsoft.CodeAnalysis.CSharp.Simplification.CSharpNameReducer.SimplifyName(SyntaxNode node SemanticModel semanticModel OptionSet optionSet CancellationToken cancellationToken) in C:\Users\Joseph\Source\Repos\roslyn\src\Workspaces\CSharp\Portable\Simplification\Reducers\CSharpNameReducer.cs:line 48
   at Microsoft.CodeAnalysis.CSharp.Simplification.AbstractCSharpReducer.AbstractReductionRewriter.SimplifyNode[TNode](TNode node SyntaxNode newNode SyntaxNode parentNode Func`5 simplifier) in C:\Users\Joseph\Source\Repos\roslyn\src\Workspaces\CSharp\Portable\Simplification\Reducers\AbstractCSharpReducer.AbstractReductionRewriter.cs:line 125
   at Microsoft.CodeAnalysis.CSharp.Simplification.AbstractCSharpReducer.AbstractReductionRewriter.SimplifyExpression[TExpression](TExpression expression SyntaxNode newNode Func`5 simplifier) in C:\Users\Joseph\Source\Repos\roslyn\src\Workspaces\CSharp\Portable\Simplification\Reducers\AbstractCSharpReducer.AbstractReductionRewriter.cs:line 149
   at Microsoft.CodeAnalysis.CSharp.Simplification.CSharpNameReducer.Rewriter.VisitAliasQualifiedName(AliasQualifiedNameSyntax node) in C:\Users\Joseph\Source\Repos\roslyn\src\Workspaces\CSharp\Portable\Simplification\Reducers\CSharpNameReducer.Rewriter.cs:line 47
   at Microsoft.CodeAnalysis.CSharp.Syntax.AliasQualifiedNameSyntax.Accept[TResult](CSharpSyntaxVisitor`1 visitor) in C:\Users\Joseph\Source\Repos\roslyn\src\Compilers\CSharp\Portable\Generated\Syntax.xml.Syntax.Generated.cs:line 429
   at Microsoft.CodeAnalysis.CSharp.CSharpSyntaxRewriter.Visit(SyntaxNode node) in C:\Users\Joseph\Source\Repos\roslyn\src\Compilers\CSharp\Portable\Syntax\CSharpSyntaxRewriter.cs:line 39
   at Microsoft.CodeAnalysis.CSharp.CSharpSyntaxRewriter.VisitQualifiedName(QualifiedNameSyntax node) in C:\Users\Joseph\Source\Repos\roslyn\src\Compilers\CSharp\Portable\Generated\Syntax.xml.Main.Generated.cs:line 2615
   at Microsoft.CodeAnalysis.CSharp.Simplification.CSharpNameReducer.Rewriter.VisitQualifiedName(QualifiedNameSyntax node) in C:\Users\Joseph\Source\Repos\roslyn\src\Workspaces\CSharp\Portable\Simplification\Reducers\CSharpNameReducer.Rewriter.cs:line 65
   at Microsoft.CodeAnalysis.CSharp.Syntax.QualifiedNameSyntax.Accept[TResult](CSharpSyntaxVisitor`1 visitor) in C:\Users\Joseph\Source\Repos\roslyn\src\Compilers\CSharp\Portable\Generated\Syntax.xml.Syntax.Generated.cs:line 155
   at Microsoft.CodeAnalysis.CSharp.CSharpSyntaxRewriter.Visit(SyntaxNode node) in C:\Users\Joseph\Source\Repos\roslyn\src\Compilers\CSharp\Portable\Syntax\CSharpSyntaxRewriter.cs:line 39
   at Microsoft.CodeAnalysis.CSharp.CSharpSyntaxRewriter.VisitQualifiedName(QualifiedNameSyntax node) in C:\Users\Joseph\Source\Repos\roslyn\src\Compilers\CSharp\Portable\Generated\Syntax.xml.Main.Generated.cs:line 2615
   at Microsoft.CodeAnalysis.CSharp.Simplification.CSharpNameReducer.Rewriter.VisitQualifiedName(QualifiedNameSyntax node) in C:\Users\Joseph\Source\Repos\roslyn\src\Workspaces\CSharp\Portable\Simplification\Reducers\CSharpNameReducer.Rewriter.cs:line 65
   at Microsoft.CodeAnalysis.CSharp.Syntax.QualifiedNameSyntax.Accept[TResult](CSharpSyntaxVisitor`1 visitor) in C:\Users\Joseph\Source\Repos\roslyn\src\Compilers\CSharp\Portable\Generated\Syntax.xml.Syntax.Generated.cs:line 155
   at Microsoft.CodeAnalysis.CSharp.CSharpSyntaxRewriter.Visit(SyntaxNode node) in C:\Users\Joseph\Source\Repos\roslyn\src\Compilers\CSharp\Portable\Syntax\CSharpSyntaxRewriter.cs:line 39
   at Microsoft.CodeAnalysis.CSharp.CSharpSyntaxRewriter.VisitQualifiedName(QualifiedNameSyntax node) in C:\Users\Joseph\Source\Repos\roslyn\src\Compilers\CSharp\Portable\Generated\Syntax.xml.Main.Generated.cs:line 2615
   at Microsoft.CodeAnalysis.CSharp.Simplification.CSharpNameReducer.Rewriter.VisitQualifiedName(QualifiedNameSyntax node) in C:\Users\Joseph\Source\Repos\roslyn\src\Workspaces\CSharp\Portable\Simplification\Reducers\CSharpNameReducer.Rewriter.cs:line 65
   at Microsoft.CodeAnalysis.CSharp.Syntax.QualifiedNameSyntax.Accept[TResult](CSharpSyntaxVisitor`1 visitor) in C:\Users\Joseph\Source\Repos\roslyn\src\Compilers\CSharp\Portable\Generated\Syntax.xml.Syntax.Generated.cs:line 155
   at Microsoft.CodeAnalysis.CSharp.CSharpSyntaxRewriter.Visit(SyntaxNode node) in C:\Users\Joseph\Source\Repos\roslyn\src\Compilers\CSharp\Portable\Syntax\CSharpSyntaxRewriter.cs:line 39
   at Microsoft.CodeAnalysis.CSharp.CSharpSyntaxRewriter.VisitAttribute(AttributeSyntax node) in C:\Users\Joseph\Source\Repos\roslyn\src\Compilers\CSharp\Portable\Generated\Syntax.xml.Main.Generated.cs:line 3734
   at Microsoft.CodeAnalysis.CSharp.Syntax.AttributeSyntax.Accept[TResult](CSharpSyntaxVisitor`1 visitor) in C:\Users\Joseph\Source\Repos\roslyn\src\Compilers\CSharp\Portable\Generated\Syntax.xml.Syntax.Generated.cs:line 13507
   at Microsoft.CodeAnalysis.CSharp.CSharpSyntaxRewriter.Visit(SyntaxNode node) in C:\Users\Joseph\Source\Repos\roslyn\src\Compilers\CSharp\Portable\Syntax\CSharpSyntaxRewriter.cs:line 39
   at Microsoft.CodeAnalysis.CSharp.Simplification.AbstractCSharpReducer.AbstractReductionRewriter.VisitNodeOrToken(SyntaxNodeOrToken nodeOrToken SemanticModel semanticModel Boolean simplifyAllDescendants) in C:\Users\Joseph\Source\Repos\roslyn\src\Workspaces\CSharp\Portable\Simplification\Reducers\AbstractCSharpReducer.AbstractReductionRewriter.cs:line 188
   at Microsoft.CodeAnalysis.Simplification.AbstractSimplificationService`3.<>c__DisplayClass10_1.<<ReduceAsync>b__0>d.MoveNext() in C:\Users\Joseph\Source\Repos\roslyn\src\Workspaces\Core\Portable\Simplification\AbstractSimplificationService.cs:line 248
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable.ConfiguredTaskAwaiter.GetResult()
   at Microsoft.CodeAnalysis.Simplification.AbstractSimplificationService`3.<ReduceAsyncInternal>d__9.MoveNext() in C:\Users\Joseph\Source\Repos\roslyn\src\Workspaces\Core\Portable\Simplification\AbstractSimplificationService.cs:line 137
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at Microsoft.CodeAnalysis.Simplification.AbstractSimplificationService`3.<ReduceAsync>d__8.MoveNext() in C:\Users\Joseph\Source\Repos\roslyn\src\Workspaces\Core\Portable\Simplification\AbstractSimplificationService.cs:line 76
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at Microsoft.CodeAnalysis.Simplification.Simplifier.<ReduceAsync>d__14.MoveNext() in C:\Users\Joseph\Source\Repos\roslyn\src\Workspaces\Core\Portable\Simplification\Simplifier.cs:line 165
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at Microsoft.CodeAnalysis.CodeActions.CodeAction.<CleanupDocumentAsync>d__29.MoveNext() in C:\Users\Joseph\Source\Repos\roslyn\src\Workspaces\Core\Portable\CodeActions\CodeAction.cs:line 274
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at Microsoft.CodeAnalysis.CodeActions.CodeAction.<PostProcessChangesAsync>d__27.MoveNext() in C:\Users\Joseph\Source\Repos\roslyn\src\Workspaces\Core\Portable\CodeActions\CodeAction.cs:line 234
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at Microsoft.CodeAnalysis.CodeActions.CodeAction.<PostProcessAsync>d__26.MoveNext() in C:\Users\Joseph\Source\Repos\roslyn\src\Workspaces\Core\Portable\CodeActions\CodeAction.cs:line 203
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at Microsoft.CodeAnalysis.CodeActions.CodeAction.<GetOperationsCoreAsync>d__16.MoveNext() in C:\Users\Joseph\Source\Repos\roslyn\src\Workspaces\Core\Portable\CodeActions\CodeAction.cs:line 89
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at Microsoft.CodeAnalysis.GenerateEqualsAndGetHashCodeFromMembers.GenerateEqualsAndGetHashCodeFromMembersCodeRefactoringProvider.GenerateEqualsAndGetHashCodeWithDialogCodeAction.<ComputeOperationsAsync>d__10.MoveNext() in C:\Users\Joseph\Source\Repos\roslyn\src\Features\Core\Portable\GenerateEqualsAndGetHashCodeFromMembers\GenerateEqualsAndHashWithDialogCodeAction.cs:line 90
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at Microsoft.CodeAnalysis.CodeActions.CodeActionWithOptions.<GetOperationsAsync>d__1.MoveNext() in C:\Users\Joseph\Source\Repos\roslyn\src\Workspaces\Core\Portable\CodeActions\CodeActionWithOptions.cs:line 37
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at Microsoft.CodeAnalysis.CodeActions.CodeActionWithOptions.<GetOperationsCoreAsync>d__2.MoveNext() in C:\Users\Joseph\Source\Repos\roslyn\src\Workspaces\Core\Portable\CodeActions\CodeActionWithOptions.cs:line 51
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.CodeAnalysis.Editor.UnitTests.CodeActions.AbstractCodeActionOrUserDiagnosticTest.<VerifyActionAndGetOperationsAsync>d__31.MoveNext() in C:\Users\Joseph\Source\Repos\roslyn\src\EditorFeatures\TestUtilities\CodeActions\AbstractCodeActionOrUserDiagnosticTest.cs:line 565
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.CodeAnalysis.Editor.UnitTests.CodeActions.AbstractCodeActionOrUserDiagnosticTest.<TestActionAsync>d__27.MoveNext() in C:\Users\Joseph\Source\Repos\roslyn\src\EditorFeatures\TestUtilities\CodeActions\AbstractCodeActionOrUserDiagnosticTest.cs:line 404
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.CodeAnalysis.Editor.UnitTests.CodeActions.AbstractCodeActionOrUserDiagnosticTest.<TestAsync>d__26.MoveNext() in C:\Users\Joseph\Source\Repos\roslyn\src\EditorFeatures\TestUtilities\CodeActions\AbstractCodeActionOrUserDiagnosticTest.cs:line 388
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Microsoft.CodeAnalysis.Editor.UnitTests.CodeActions.AbstractCodeActionOrUserDiagnosticTest.<TestInRegularAndScript1Async>d__24.MoveNext() in C:\Users\Joseph\Source\Repos\roslyn\src\EditorFeatures\TestUtilities\CodeActions\AbstractCodeActionOrUserDiagnosticTest.cs:line 351
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Microsoft.CodeAnalysis.Editor.CSharp.UnitTests.GenerateEqualsAndGetHashCodeFromMembers.GenerateEqualsAndGetHashCodeFromMembersTests.<TestImplementIEquatableOnClassInNullableContextWithAnnotatedMetadata>d__53.MoveNext() in C:\Users\Joseph\Source\Repos\roslyn\src\EditorFeatures\CSharpTest\GenerateFromMembers\GenerateEqualsAndGetHashCodeFromMembers\GenerateEqualsAndGetHashCodeFromMembersTests.cs:line 1762
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
```

</details>","Generate proper nullability annotation for IEquatable.Equals Fixes #39243 fixes #38069

If you take the first commit (adding tests) without the second commit (implementation change) you will actually get a debug assertion failure when the name simplifier tries to simplify the generated `[AllowNull]` name:

https://github.com/dotnet/roslyn/blob/97b75fcb5807881b0e768357b82c1a3476a3ec2c/src/Compilers/CSharp/Portable/Compilation/MemberSemanticModel.cs#L157-L162

I don't know how important this is.

Since `[AllowNull]` is no longer generated when generating the Equals method it isn't interfering with this PR.

Stack trace:

<details>

```
   at System.Diagnostics.Debug.Assert(Boolean condition)
   at Microsoft.CodeAnalysis.CSharp.MemberSemanticModel.GetRemappedSymbols() in C:\Users\Joseph\Source\Repos\roslyn\src\Compilers\CSharp\Portable\Compilation\MemberSemanticModel.cs:line 160
   at Microsoft.CodeAnalysis.CSharp.SyntaxTreeSemanticModel.CreateSpeculativeAttributeSemanticModel(Int32 position AttributeSyntax attribute Binder binder AliasSymbol aliasOpt NamedTypeSymbol attributeType) in C:\Users\Joseph\Source\Repos\roslyn\src\Compilers\CSharp\Portable\Compilation\SyntaxTreeSemanticModel.cs:line 746
   at Microsoft.CodeAnalysis.CSharp.CSharpSemanticModel.TryGetSpeculativeSemanticModel(Int32 position AttributeSyntax attribute SemanticModel& speculativeModel) in C:\Users\Joseph\Source\Repos\roslyn\src\Compilers\CSharp\Portable\Compilation\CSharpSemanticModel.cs:line 2554
   at Microsoft.CodeAnalysis.CSharp.CSharpExtensions.TryGetSpeculativeSemanticModel(SemanticModel semanticModel Int32 position AttributeSyntax attribute SemanticModel& speculativeModel) in C:\Users\Joseph\Source\Repos\roslyn\src\Compilers\CSharp\Portable\CSharpExtensions.cs:line 1136
   at Microsoft.CodeAnalysis.CSharp.Utilities.SpeculationAnalyzer.CreateSpeculativeSemanticModelForNode(SyntaxNode nodeToSpeculate SemanticModel semanticModel Int32 position Boolean isInNamespaceOrTypeContext) in C:\Users\Joseph\Source\Repos\roslyn\src\Workspaces\CSharp\Portable\Utilities\SpeculationAnalyzer.cs:line 142
   at Microsoft.CodeAnalysis.CSharp.Utilities.SpeculationAnalyzer.CreateSpeculativeSemanticModelForNode(SyntaxNode originalNode SyntaxNode nodeToSpeculate SemanticModel semanticModel) in C:\Users\Joseph\Source\Repos\roslyn\src\Workspaces\CSharp\Portable\Utilities\SpeculationAnalyzer.cs:line 103
   at Microsoft.CodeAnalysis.CSharp.Utilities.SpeculationAnalyzer.CreateSpeculativeSemanticModel(SyntaxNode originalNode SyntaxNode nodeToSpeculate SemanticModel semanticModel) in C:\Users\Joseph\Source\Repos\roslyn\src\Workspaces\CSharp\Portable\Utilities\SpeculationAnalyzer.cs:line 96
   at Microsoft.CodeAnalysis.Shared.Utilities.AbstractSpeculationAnalyzer`7.EnsureSpeculativeSemanticModel() in C:\Users\Joseph\Source\Repos\roslyn\src\Workspaces\Core\Portable\Utilities\AbstractSpeculationAnalyzer.cs:line 185
   at Microsoft.CodeAnalysis.Shared.Utilities.AbstractSpeculationAnalyzer`7.get_SpeculativeSemanticModel() in C:\Users\Joseph\Source\Repos\roslyn\src\Workspaces\Core\Portable\Utilities\AbstractSpeculationAnalyzer.cs:line 149
   at Microsoft.CodeAnalysis.Shared.Utilities.AbstractSpeculationAnalyzer`7.ReplacementChangesSemantics(SyntaxNode currentOriginalNode SyntaxNode currentReplacedNode SyntaxNode originalRoot Boolean skipVerificationForCurrentNode) in C:\Users\Joseph\Source\Repos\roslyn\src\Workspaces\Core\Portable\Utilities\AbstractSpeculationAnalyzer.cs:line 419
   at Microsoft.CodeAnalysis.Shared.Utilities.AbstractSpeculationAnalyzer`7.ReplacementChangesSemantics() in C:\Users\Joseph\Source\Repos\roslyn\src\Workspaces\Core\Portable\Utilities\AbstractSpeculationAnalyzer.cs:line 408
   at Microsoft.CodeAnalysis.CSharp.Extensions.ExpressionSyntaxExtensions.CanReplaceWithReducedName(NameSyntax name TypeSyntax reducedName SemanticModel semanticModel CancellationToken cancellationToken) in C:\Users\Joseph\Source\Repos\roslyn\src\Workspaces\CSharp\Portable\Extensions\ExpressionSyntaxExtensions.cs:line 2218
   at Microsoft.CodeAnalysis.CSharp.Extensions.ExpressionSyntaxExtensions.TryReduce(NameSyntax name SemanticModel semanticModel TypeSyntax& replacementNode TextSpan& issueSpan OptionSet optionSet CancellationToken cancellationToken) in C:\Users\Joseph\Source\Repos\roslyn\src\Workspaces\CSharp\Portable\Extensions\ExpressionSyntaxExtensions.cs:line 1774
   at Microsoft.CodeAnalysis.CSharp.Extensions.ExpressionSyntaxExtensions.TryReduceExplicitName(ExpressionSyntax expression SemanticModel semanticModel TypeSyntax& replacementNode TextSpan& issueSpan OptionSet optionSet CancellationToken cancellationToken) in C:\Users\Joseph\Source\Repos\roslyn\src\Workspaces\CSharp\Portable\Extensions\ExpressionSyntaxExtensions.cs:line 809
   at Microsoft.CodeAnalysis.CSharp.Extensions.ExpressionSyntaxExtensions.TryReduceOrSimplifyExplicitName(ExpressionSyntax expression SemanticModel semanticModel ExpressionSyntax& replacementNode TextSpan& issueSpan OptionSet optionSet CancellationToken cancellationToken) in C:\Users\Joseph\Source\Repos\roslyn\src\Workspaces\CSharp\Portable\Extensions\ExpressionSyntaxExtensions.cs:line 767
   at Microsoft.CodeAnalysis.CSharp.Simplification.CSharpNameReducer.SimplifyName(SyntaxNode node SemanticModel semanticModel OptionSet optionSet CancellationToken cancellationToken) in C:\Users\Joseph\Source\Repos\roslyn\src\Workspaces\CSharp\Portable\Simplification\Reducers\CSharpNameReducer.cs:line 48
   at Microsoft.CodeAnalysis.CSharp.Simplification.AbstractCSharpReducer.AbstractReductionRewriter.SimplifyNode[TNode](TNode node SyntaxNode newNode SyntaxNode parentNode Func`5 simplifier) in C:\Users\Joseph\Source\Repos\roslyn\src\Workspaces\CSharp\Portable\Simplification\Reducers\AbstractCSharpReducer.AbstractReductionRewriter.cs:line 125
   at Microsoft.CodeAnalysis.CSharp.Simplification.AbstractCSharpReducer.AbstractReductionRewriter.SimplifyExpression[TExpression](TExpression expression SyntaxNode newNode Func`5 simplifier) in C:\Users\Joseph\Source\Repos\roslyn\src\Workspaces\CSharp\Portable\Simplification\Reducers\AbstractCSharpReducer.AbstractReductionRewriter.cs:line 149
   at Microsoft.CodeAnalysis.CSharp.Simplification.CSharpNameReducer.Rewriter.VisitAliasQualifiedName(AliasQualifiedNameSyntax node) in C:\Users\Joseph\Source\Repos\roslyn\src\Workspaces\CSharp\Portable\Simplification\Reducers\CSharpNameReducer.Rewriter.cs:line 47
   at Microsoft.CodeAnalysis.CSharp.Syntax.AliasQualifiedNameSyntax.Accept[TResult](CSharpSyntaxVisitor`1 visitor) in C:\Users\Joseph\Source\Repos\roslyn\src\Compilers\CSharp\Portable\Generated\Syntax.xml.Syntax.Generated.cs:line 429
   at Microsoft.CodeAnalysis.CSharp.CSharpSyntaxRewriter.Visit(SyntaxNode node) in C:\Users\Joseph\Source\Repos\roslyn\src\Compilers\CSharp\Portable\Syntax\CSharpSyntaxRewriter.cs:line 39
   at Microsoft.CodeAnalysis.CSharp.CSharpSyntaxRewriter.VisitQualifiedName(QualifiedNameSyntax node) in C:\Users\Joseph\Source\Repos\roslyn\src\Compilers\CSharp\Portable\Generated\Syntax.xml.Main.Generated.cs:line 2615
   at Microsoft.CodeAnalysis.CSharp.Simplification.CSharpNameReducer.Rewriter.VisitQualifiedName(QualifiedNameSyntax node) in C:\Users\Joseph\Source\Repos\roslyn\src\Workspaces\CSharp\Portable\Simplification\Reducers\CSharpNameReducer.Rewriter.cs:line 65
   at Microsoft.CodeAnalysis.CSharp.Syntax.QualifiedNameSyntax.Accept[TResult](CSharpSyntaxVisitor`1 visitor) in C:\Users\Joseph\Source\Repos\roslyn\src\Compilers\CSharp\Portable\Generated\Syntax.xml.Syntax.Generated.cs:line 155
   at Microsoft.CodeAnalysis.CSharp.CSharpSyntaxRewriter.Visit(SyntaxNode node) in C:\Users\Joseph\Source\Repos\roslyn\src\Compilers\CSharp\Portable\Syntax\CSharpSyntaxRewriter.cs:line 39
   at Microsoft.CodeAnalysis.CSharp.CSharpSyntaxRewriter.VisitQualifiedName(QualifiedNameSyntax node) in C:\Users\Joseph\Source\Repos\roslyn\src\Compilers\CSharp\Portable\Generated\Syntax.xml.Main.Generated.cs:line 2615
   at Microsoft.CodeAnalysis.CSharp.Simplification.CSharpNameReducer.Rewriter.VisitQualifiedName(QualifiedNameSyntax node) in C:\Users\Joseph\Source\Repos\roslyn\src\Workspaces\CSharp\Portable\Simplification\Reducers\CSharpNameReducer.Rewriter.cs:line 65
   at Microsoft.CodeAnalysis.CSharp.Syntax.QualifiedNameSyntax.Accept[TResult](CSharpSyntaxVisitor`1 visitor) in C:\Users\Joseph\Source\Repos\roslyn\src\Compilers\CSharp\Portable\Generated\Syntax.xml.Syntax.Generated.cs:line 155
   at Microsoft.CodeAnalysis.CSharp.CSharpSyntaxRewriter.Visit(SyntaxNode node) in C:\Users\Joseph\Source\Repos\roslyn\src\Compilers\CSharp\Portable\Syntax\CSharpSyntaxRewriter.cs:line 39
   at Microsoft.CodeAnalysis.CSharp.CSharpSyntaxRewriter.VisitQualifiedName(QualifiedNameSyntax node) in C:\Users\Joseph\Source\Repos\roslyn\src\Compilers\CSharp\Portable\Generated\Syntax.xml.Main.Generated.cs:line 2615
   at Microsoft.CodeAnalysis.CSharp.Simplification.CSharpNameReducer.Rewriter.VisitQualifiedName(QualifiedNameSyntax node) in C:\Users\Joseph\Source\Repos\roslyn\src\Workspaces\CSharp\Portable\Simplification\Reducers\CSharpNameReducer.Rewriter.cs:line 65
   at Microsoft.CodeAnalysis.CSharp.Syntax.QualifiedNameSyntax.Accept[TResult](CSharpSyntaxVisitor`1 visitor) in C:\Users\Joseph\Source\Repos\roslyn\src\Compilers\CSharp\Portable\Generated\Syntax.xml.Syntax.Generated.cs:line 155
   at Microsoft.CodeAnalysis.CSharp.CSharpSyntaxRewriter.Visit(SyntaxNode node) in C:\Users\Joseph\Source\Repos\roslyn\src\Compilers\CSharp\Portable\Syntax\CSharpSyntaxRewriter.cs:line 39
   at Microsoft.CodeAnalysis.CSharp.CSharpSyntaxRewriter.VisitAttribute(AttributeSyntax node) in C:\Users\Joseph\Source\Repos\roslyn\src\Compilers\CSharp\Portable\Generated\Syntax.xml.Main.Generated.cs:line 3734
   at Microsoft.CodeAnalysis.CSharp.Syntax.AttributeSyntax.Accept[TResult](CSharpSyntaxVisitor`1 visitor) in C:\Users\Joseph\Source\Repos\roslyn\src\Compilers\CSharp\Portable\Generated\Syntax.xml.Syntax.Generated.cs:line 13507
   at Microsoft.CodeAnalysis.CSharp.CSharpSyntaxRewriter.Visit(SyntaxNode node) in C:\Users\Joseph\Source\Repos\roslyn\src\Compilers\CSharp\Portable\Syntax\CSharpSyntaxRewriter.cs:line 39
   at Microsoft.CodeAnalysis.CSharp.Simplification.AbstractCSharpReducer.AbstractReductionRewriter.VisitNodeOrToken(SyntaxNodeOrToken nodeOrToken SemanticModel semanticModel Boolean simplifyAllDescendants) in C:\Users\Joseph\Source\Repos\roslyn\src\Workspaces\CSharp\Portable\Simplification\Reducers\AbstractCSharpReducer.AbstractReductionRewriter.cs:line 188
   at Microsoft.CodeAnalysis.Simplification.AbstractSimplificationService`3.<>c__DisplayClass10_1.<<ReduceAsync>b__0>d.MoveNext() in C:\Users\Joseph\Source\Repos\roslyn\src\Workspaces\Core\Portable\Simplification\AbstractSimplificationService.cs:line 248
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable.ConfiguredTaskAwaiter.GetResult()
   at Microsoft.CodeAnalysis.Simplification.AbstractSimplificationService`3.<ReduceAsyncInternal>d__9.MoveNext() in C:\Users\Joseph\Source\Repos\roslyn\src\Workspaces\Core\Portable\Simplification\AbstractSimplificationService.cs:line 137
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at Microsoft.CodeAnalysis.Simplification.AbstractSimplificationService`3.<ReduceAsync>d__8.MoveNext() in C:\Users\Joseph\Source\Repos\roslyn\src\Workspaces\Core\Portable\Simplification\AbstractSimplificationService.cs:line 76
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at Microsoft.CodeAnalysis.Simplification.Simplifier.<ReduceAsync>d__14.MoveNext() in C:\Users\Joseph\Source\Repos\roslyn\src\Workspaces\Core\Portable\Simplification\Simplifier.cs:line 165
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at Microsoft.CodeAnalysis.CodeActions.CodeAction.<CleanupDocumentAsync>d__29.MoveNext() in C:\Users\Joseph\Source\Repos\roslyn\src\Workspaces\Core\Portable\CodeActions\CodeAction.cs:line 274
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at Microsoft.CodeAnalysis.CodeActions.CodeAction.<PostProcessChangesAsync>d__27.MoveNext() in C:\Users\Joseph\Source\Repos\roslyn\src\Workspaces\Core\Portable\CodeActions\CodeAction.cs:line 234
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at Microsoft.CodeAnalysis.CodeActions.CodeAction.<PostProcessAsync>d__26.MoveNext() in C:\Users\Joseph\Source\Repos\roslyn\src\Workspaces\Core\Portable\CodeActions\CodeAction.cs:line 203
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at Microsoft.CodeAnalysis.CodeActions.CodeAction.<GetOperationsCoreAsync>d__16.MoveNext() in C:\Users\Joseph\Source\Repos\roslyn\src\Workspaces\Core\Portable\CodeActions\CodeAction.cs:line 89
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at Microsoft.CodeAnalysis.GenerateEqualsAndGetHashCodeFromMembers.GenerateEqualsAndGetHashCodeFromMembersCodeRefactoringProvider.GenerateEqualsAndGetHashCodeWithDialogCodeAction.<ComputeOperationsAsync>d__10.MoveNext() in C:\Users\Joseph\Source\Repos\roslyn\src\Features\Core\Portable\GenerateEqualsAndGetHashCodeFromMembers\GenerateEqualsAndHashWithDialogCodeAction.cs:line 90
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at Microsoft.CodeAnalysis.CodeActions.CodeActionWithOptions.<GetOperationsAsync>d__1.MoveNext() in C:\Users\Joseph\Source\Repos\roslyn\src\Workspaces\Core\Portable\CodeActions\CodeActionWithOptions.cs:line 37
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   at Microsoft.CodeAnalysis.CodeActions.CodeActionWithOptions.<GetOperationsCoreAsync>d__2.MoveNext() in C:\Users\Joseph\Source\Repos\roslyn\src\Workspaces\Core\Portable\CodeActions\CodeActionWithOptions.cs:line 51
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.CodeAnalysis.Editor.UnitTests.CodeActions.AbstractCodeActionOrUserDiagnosticTest.<VerifyActionAndGetOperationsAsync>d__31.MoveNext() in C:\Users\Joseph\Source\Repos\roslyn\src\EditorFeatures\TestUtilities\CodeActions\AbstractCodeActionOrUserDiagnosticTest.cs:line 565
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.CodeAnalysis.Editor.UnitTests.CodeActions.AbstractCodeActionOrUserDiagnosticTest.<TestActionAsync>d__27.MoveNext() in C:\Users\Joseph\Source\Repos\roslyn\src\EditorFeatures\TestUtilities\CodeActions\AbstractCodeActionOrUserDiagnosticTest.cs:line 404
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter`1.GetResult()
   at Microsoft.CodeAnalysis.Editor.UnitTests.CodeActions.AbstractCodeActionOrUserDiagnosticTest.<TestAsync>d__26.MoveNext() in C:\Users\Joseph\Source\Repos\roslyn\src\EditorFeatures\TestUtilities\CodeActions\AbstractCodeActionOrUserDiagnosticTest.cs:line 388
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Microsoft.CodeAnalysis.Editor.UnitTests.CodeActions.AbstractCodeActionOrUserDiagnosticTest.<TestInRegularAndScript1Async>d__24.MoveNext() in C:\Users\Joseph\Source\Repos\roslyn\src\EditorFeatures\TestUtilities\CodeActions\AbstractCodeActionOrUserDiagnosticTest.cs:line 351
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   at Microsoft.CodeAnalysis.Editor.CSharp.UnitTests.GenerateEqualsAndGetHashCodeFromMembers.GenerateEqualsAndGetHashCodeFromMembersTests.<TestImplementIEquatableOnClassInNullableContextWithAnnotatedMetadata>d__53.MoveNext() in C:\Users\Joseph\Source\Repos\roslyn\src\EditorFeatures\CSharpTest\GenerateFromMembers\GenerateEqualsAndGetHashCodeFromMembers\GenerateEqualsAndGetHashCodeFromMembersTests.cs:line 1762
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
```

</details>",Area-IDE|Community,ryzngard,,
39248,Tests in PerformanceTrackerServiceTests fail when the current English language culture uses a different number format,"When running the included tests on my Windows 10 machine which has its display language set to English (United States) and its regional settings set to English (Sweden) (en-SE) four of the five tests in the `PerformanceTrackerServiceTests` class fail with the message ""System.InvalidOperationException : Sequence contains no elements"".

Digging a bit deeper shows that the cause of the exception is a section of code in the `PerformanceTrackerServiceTests.CreateMatrix()` method which tries to parse numeric values like `7.0` as doubles and fails to do so because the en-SE culture has its decimal separator set to a comma and not a period.

The format provider used to parse the numbers is resolved via `EnsureEnglishUICulture.PreferredOrNull` which returns null if `CultureInfo.CurrentUICulture.Name` starts with ""en"" and `CultureInfo.InvariantCulture` otherwise. The intention seems to be to always try to fall back to the current culture if it appears to be a common English language culture like en-US or en-UK that have a lot of formatting settings in common but this doesn't always work when the current culture is en-SE or some other less common culture.

I have fixed this issue locally by simply forcing the use of `CultureInfo.InvariantCulture` when parsing the numeric values in these particular tests but I think it could also be worth looking into `EnsureEnglishUICulture.PreferredOrNull` and maybe restricting it to a strict subset of English language cultures that are known to work. Let me know if you would like me to submit my proposed changes as a pull request.","Tests in PerformanceTrackerServiceTests fail when the current English language culture uses a different number format When running the included tests on my Windows 10 machine which has its display language set to English (United States) and its regional settings set to English (Sweden) (en-SE) four of the five tests in the `PerformanceTrackerServiceTests` class fail with the message ""System.InvalidOperationException : Sequence contains no elements"".

Digging a bit deeper shows that the cause of the exception is a section of code in the `PerformanceTrackerServiceTests.CreateMatrix()` method which tries to parse numeric values like `7.0` as doubles and fails to do so because the en-SE culture has its decimal separator set to a comma and not a period.

The format provider used to parse the numbers is resolved via `EnsureEnglishUICulture.PreferredOrNull` which returns null if `CultureInfo.CurrentUICulture.Name` starts with ""en"" and `CultureInfo.InvariantCulture` otherwise. The intention seems to be to always try to fall back to the current culture if it appears to be a common English language culture like en-US or en-UK that have a lot of formatting settings in common but this doesn't always work when the current culture is en-SE or some other less common culture.

I have fixed this issue locally by simply forcing the use of `CultureInfo.InvariantCulture` when parsing the numeric values in these particular tests but I think it could also be worth looking into `EnsureEnglishUICulture.PreferredOrNull` and maybe restricting it to a strict subset of English language cultures that are known to work. Let me know if you would like me to submit my proposed changes as a pull request.",Area-Infrastructure|Contributor Pain|help wanted,sharwell|jinujoseph,12/10/2019 12:36,14/10/2019 16:46
39247,Merge master to features/static-lambdas,"
This is an automatically generated pull request from master into features/static-lambdas.

``` bash
git fetch --all
git checkout merges/master-to-features/static-lambdas
git reset --hard upstream/features/static-lambdas
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-features/static-lambdas --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge master to features/static-lambdas 
This is an automatically generated pull request from master into features/static-lambdas.

``` bash
git fetch --all
git checkout merges/master-to-features/static-lambdas
git reset --hard upstream/features/static-lambdas
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-features/static-lambdas --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|dibarbet,12/10/2019 11:02,14/10/2019 14:22
39246,Merge master to features/local-function-attributes,"
This is an automatically generated pull request from master into features/local-function-attributes.

``` bash
git fetch --all
git checkout merges/master-to-features/local-function-attributes
git reset --hard upstream/features/local-function-attributes
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-features/local-function-attributes --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge master to features/local-function-attributes 
This is an automatically generated pull request from master into features/local-function-attributes.

``` bash
git fetch --all
git checkout merges/master-to-features/local-function-attributes
git reset --hard upstream/features/local-function-attributes
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-features/local-function-attributes --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|dibarbet,12/10/2019 11:02,14/10/2019 14:22
39245,Merge master to master-vs-deps,"
This is an automatically generated pull request from master into master-vs-deps.

``` bash
git fetch --all
git checkout merges/master-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge master to master-vs-deps 
This is an automatically generated pull request from master into master-vs-deps.

``` bash
git fetch --all
git checkout merges/master-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|dibarbet,12/10/2019 11:02,14/10/2019 14:22
39244,Merge master to release/dev16.5-preview1,"
This is an automatically generated pull request from master into release/dev16.5-preview1.

``` bash
git fetch --all
git checkout merges/master-to-release/dev16.5-preview1
git reset --hard upstream/release/dev16.5-preview1
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-release/dev16.5-preview1 --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge master to release/dev16.5-preview1 
This is an automatically generated pull request from master into release/dev16.5-preview1.

``` bash
git fetch --all
git checkout merges/master-to-release/dev16.5-preview1
git reset --hard upstream/release/dev16.5-preview1
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-release/dev16.5-preview1 --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|dibarbet,12/10/2019 11:00,14/10/2019 14:23
39243,'Generate Equals' does not annotate Equals(T) to allow nulls and causes CS8604,"**Version Used**: 16.4p1

In .NET Core 3.0 `IEquatable.Equals` is annotated to accept a nullable parameter:

```cs
    public interface IEquatable<T>
    {
        bool Equals([AllowNull] T other);
    }
```

https://github.com/dotnet/coreclr/blob/v3.0.0/src/System.Private.CoreLib/shared/System/IEquatable.cs#L11

But on earlier versions of .NET Core on .NET Standard and on .NET Framework in a project where NRTs are enabled `IEquatable<>.Equals` does not have this attribute. The generated code in this situation is overly restrictive (**actual**):

```cs
#nullable enable

class Foo : IEquatable<Foo>
{
    public int Bar { get; }

    public override bool Equals(object? obj)
    {
        // CS8604 Possible null reference argument for parameter 'other' in 'bool Foo.Equals(
        // Foo other)'.
        //            ?
        return Equals(obj as Foo);
    }

    public bool Equals(Foo other)
    {
        return other != null &&
               Bar == other.Bar;
    }
}
```

This code should be generated for all targets:

```cs
#nullable enable

class Foo : IEquatable<Foo>
{
    public int Bar { get; }

    public override bool Equals(object? obj)
    {
        return Equals(obj as Foo);
    }

    public bool Equals(Foo? other)
    {
        return other != null &&
               Bar == other.Bar;
    }
}
```","'Generate Equals' does not annotate Equals(T) to allow nulls and causes CS8604 **Version Used**: 16.4p1

In .NET Core 3.0 `IEquatable.Equals` is annotated to accept a nullable parameter:

```cs
    public interface IEquatable<T>
    {
        bool Equals([AllowNull] T other);
    }
```

https://github.com/dotnet/coreclr/blob/v3.0.0/src/System.Private.CoreLib/shared/System/IEquatable.cs#L11

But on earlier versions of .NET Core on .NET Standard and on .NET Framework in a project where NRTs are enabled `IEquatable<>.Equals` does not have this attribute. The generated code in this situation is overly restrictive (**actual**):

```cs
#nullable enable

class Foo : IEquatable<Foo>
{
    public int Bar { get; }

    public override bool Equals(object? obj)
    {
        // CS8604 Possible null reference argument for parameter 'other' in 'bool Foo.Equals(
        // Foo other)'.
        //            ?
        return Equals(obj as Foo);
    }

    public bool Equals(Foo other)
    {
        return other != null &&
               Bar == other.Bar;
    }
}
```

This code should be generated for all targets:

```cs
#nullable enable

class Foo : IEquatable<Foo>
{
    public int Bar { get; }

    public override bool Equals(object? obj)
    {
        return Equals(obj as Foo);
    }

    public bool Equals(Foo? other)
    {
        return other != null &&
               Bar == other.Bar;
    }
}
```",4 - In Review|Area-IDE|Bug|IDE-CodeStyle|New Language Feature - Nullable Reference Types,sharwell|jasonmalinowski,12/10/2019 10:49,
39242,Use lifted operator in generated Equals if the underlying type's operator would have been used,"Closes #39236

","Use lifted operator in generated Equals if the underlying type's operator would have been used Closes #39236

",Area-IDE|Community,jasonmalinowski,,
39241,Able to navigate to generated file in blazor app,"In creating a new blazor app with no modifications I was getting errors in *.g.cs files and able to click the error list to navigate to them. 

![image](https://user-images.githubusercontent.com/475144/66690068-98f99180-ec42-11e9-82fc-ad0a851828a2.png)
","Able to navigate to generated file in blazor app In creating a new blazor app with no modifications I was getting errors in *.g.cs files and able to click the error list to navigate to them. 

![image](https://user-images.githubusercontent.com/475144/66690068-98f99180-ec42-11e9-82fc-ad0a851828a2.png)
",Area-IDE|Bug,ryzngard|nguerrera,12/10/2019 10:17,
39240,Completion inside a switch expression on an enum should preselect the enum,"**Version Used**: 16.4.0 Preview 3.0 [29410.161.master]

**Steps to Reproduce**:

1. Create a new console app.
2. Start typing:

```csharp
            ConsoleColor color;
            var number = color switch {  
```

**Expected Behavior**: I expect that ConsoleColor is preselected since we're switching on an enum just like we would do in a switch statement. I'd also expect that typing space after the { _immediately_ triggers completion just like it would in a switch block.

**Actual Behavior**: It doesn't do either of these behaviors.","Completion inside a switch expression on an enum should preselect the enum **Version Used**: 16.4.0 Preview 3.0 [29410.161.master]

**Steps to Reproduce**:

1. Create a new console app.
2. Start typing:

```csharp
            ConsoleColor color;
            var number = color switch {  
```

**Expected Behavior**: I expect that ConsoleColor is preselected since we're switching on an enum just like we would do in a switch statement. I'd also expect that typing space after the { _immediately_ triggers completion just like it would in a switch block.

**Actual Behavior**: It doesn't do either of these behaviors.",Area-IDE,gafter,12/10/2019 10:09,
39239,Rename tracking is active but uninvokable in ASP.NET projects,"**Steps to Reproduce**:

1. Create a new ASP.NET project of some kind that has a .razor file.
2. In the Razor file go into the @code section or a @ expression and change an identifier name.

**Expected Behavior**: No rename tracking is active.

**Actual Behavior**: we do our dotted outline showing it's active:

![image](https://user-images.githubusercontent.com/201340/66689472-dd376280-ec3f-11e9-9579-a1e50cd4eda1.png)

However the command can't actually be invoked.

Seems we should either make it invokable (hard?) or at least don't track renames in buffers where the command is disabled.
","Rename tracking is active but uninvokable in ASP.NET projects **Steps to Reproduce**:

1. Create a new ASP.NET project of some kind that has a .razor file.
2. In the Razor file go into the @code section or a @ expression and change an identifier name.

**Expected Behavior**: No rename tracking is active.

**Actual Behavior**: we do our dotted outline showing it's active:

![image](https://user-images.githubusercontent.com/201340/66689472-dd376280-ec3f-11e9-9579-a1e50cd4eda1.png)

However the command can't actually be invoked.

Seems we should either make it invokable (hard?) or at least don't track renames in buffers where the command is disabled.
",Area-IDE|Bug|help wanted,gafter|jinujoseph,12/10/2019 9:58,
39236,'Generate Equals' should use lifted == operator on nullables if it would have used == for the underlying type,"**Version Used**: 16.3.4 16.4p1

In any situation where `==` is *already* being generated as the most preferable option for a value type I believe `==` would be the most preferable option for the nullable version of that value type:

Actual:

```cs
class Foo
{
    public decimal A { get; }
    public decimal? B { get; }

    public override bool Equals(object? obj)
    {
        return obj is Foo foo &&
               A == foo.A &&
               EqualityComparer<decimal?>.Default.Equals(B foo.B);
    }
}
```

Expected:

```cs
class Foo
{
    public decimal A { get; }
    public decimal? B { get; }

    public override bool Equals(object? obj)
    {
        return obj is Foo foo &&
               A == foo.A &&
               B == foo.B;
    }
}
```

Would you accept a PR? I recently implemented https://github.com/dotnet/roslyn/issues/31984 so my head is still in this space.","'Generate Equals' should use lifted == operator on nullables if it would have used == for the underlying type **Version Used**: 16.3.4 16.4p1

In any situation where `==` is *already* being generated as the most preferable option for a value type I believe `==` would be the most preferable option for the nullable version of that value type:

Actual:

```cs
class Foo
{
    public decimal A { get; }
    public decimal? B { get; }

    public override bool Equals(object? obj)
    {
        return obj is Foo foo &&
               A == foo.A &&
               EqualityComparer<decimal?>.Default.Equals(B foo.B);
    }
}
```

Expected:

```cs
class Foo
{
    public decimal A { get; }
    public decimal? B { get; }

    public override bool Equals(object? obj)
    {
        return obj is Foo foo &&
               A == foo.A &&
               B == foo.B;
    }
}
```

Would you accept a PR? I recently implemented https://github.com/dotnet/roslyn/issues/31984 so my head is still in this space.",4 - In Review|Area-IDE|Bug|New Language Feature - Nullable Reference Types,jinujoseph|jasonmalinowski,12/10/2019 5:21,19/10/2019 8:54
39235,LanguageVersionFacts.MapSpecifiedToEffectiveVersion(LanguageVersion.Preview) returns LanguageVersion.Preview,"**Version Used**: 

Microsoft.CodeAnalysis.CSharp v3.3.0.0 (C# 8 RTM VS 16.3.3)

**Steps to Reproduce**:

Call `LanguageVersionFacts.MapSpecifiedToEffectiveVersion(LanguageVersion.Preview)`

**Expected Behavior**:

Should return LanguageVersion.CSharp8

**Actual Behavior**:

Returns LanguageVersion.Preview","LanguageVersionFacts.MapSpecifiedToEffectiveVersion(LanguageVersion.Preview) returns LanguageVersion.Preview **Version Used**: 

Microsoft.CodeAnalysis.CSharp v3.3.0.0 (C# 8 RTM VS 16.3.3)

**Steps to Reproduce**:

Call `LanguageVersionFacts.MapSpecifiedToEffectiveVersion(LanguageVersion.Preview)`

**Expected Behavior**:

Should return LanguageVersion.CSharp8

**Actual Behavior**:

Returns LanguageVersion.Preview",Area-Compilers|Bug,agocke,,
39234,MoveToNamespaceCodeActionProvider crashed with ArgumentOutOfRangeException in multi-targetFrameworks projects,"**Version Used**: 
VS2019 16.4.0Preview1

**Steps to Reproduce**:

1. Create an csproj and modify to multi targetFrameworks;
```xml
<Project Sdk=""Microsoft.NET.Sdk"">

  <PropertyGroup>
    <TargetFrameworks>netstandard2.0;net472</TargetFrameworks>
  </PropertyGroup>

</Project>

```
2. Create an cs file with 2 classes;
```cs
using System;

namespace ClassLibrary1.A
{
    public class Class1
    {
    }

    public class Class2
    {
    }
}
```
3. call `Quick Actions/Move to Namespace` on the last class `Class2` type any namespace and click `OK`;

**Expected Behavior**:
It should work as it does with single-targetFramework projects

**Actual Behavior**:
```cs
System.ArgumentOutOfRangeException : Specified argument was out of the range of valid values.
Parameter name: span
   at Microsoft.CodeAnalysis.SyntaxNode.FindNode(TextSpan spanBoolean findInsideTriviaBoolean getInnermostNodeForTie)
   at async Microsoft.CodeAnalysis.CSharp.ChangeNamespace.CSharpChangeNamespaceService.TryGetApplicableContainerFromSpanAsync(<Unknown Parameters>)
   at async Microsoft.CodeAnalysis.ChangeNamespace.AbstractChangeNamespaceService`3.TryGetApplicableContainersFromAllDocumentsAsync[TNamespaceDeclarationSyntaxTCompilationUnitSyntaxTMemberDeclarationSyntax](<Unknown Parameters>)
   at async Microsoft.CodeAnalysis.CSharp.ChangeNamespace.CSharpChangeNamespaceService.GetValidContainersFromAllLinkedDocumentsAsync(<Unknown Parameters>)
   at async Microsoft.CodeAnalysis.ChangeNamespace.AbstractChangeNamespaceService`3.ChangeNamespaceAsync[TNamespaceDeclarationSyntaxTCompilationUnitSyntaxTMemberDeclarationSyntax](<Unknown Parameters>)
   at async Microsoft.CodeAnalysis.MoveToNamespace.AbstractMoveToNamespaceService`2.MoveItemsInNamespaceAsync[TNamespaceDeclarationSyntaxTNamedTypeDeclarationSyntax](<Unknown Parameters>)
   at async Microsoft.CodeAnalysis.MoveToNamespace.AbstractMoveToNamespaceService`2.MoveTypeToNamespaceAsync[TNamespaceDeclarationSyntaxTNamedTypeDeclarationSyntax](<Unknown Parameters>)
   at async Microsoft.CodeAnalysis.MoveToNamespace.AbstractMoveToNamespaceCodeAction.ComputeOperationsAsync(<Unknown Parameters>)
   at async Microsoft.CodeAnalysis.CodeActions.CodeActionWithOptions.GetOperationsAsync(<Unknown Parameters>)
   at Roslyn.Utilities.TaskExtensions.WaitAndGetResult_CanCallOnBackground[T](Task`1 taskCancellationToken cancellationToken)
   at Microsoft.CodeAnalysis.Editor.Implementation.Suggestions.SuggestedAction.InvokeWorker(Func`1 getFromDocumentIProgressTracker progressTrackerCancellationToken cancellationToken)
   at Microsoft.CodeAnalysis.Editor.Implementation.Suggestions.SuggestedAction.<>c__DisplayClass20_0.<InvokeCore>b__0()
   at Microsoft.CodeAnalysis.Extensions.IExtensionManagerExtensions.PerformAction(IExtensionManager extensionManagerObject extensionAction action)
```","MoveToNamespaceCodeActionProvider crashed with ArgumentOutOfRangeException in multi-targetFrameworks projects **Version Used**: 
VS2019 16.4.0Preview1

**Steps to Reproduce**:

1. Create an csproj and modify to multi targetFrameworks;
```xml
<Project Sdk=""Microsoft.NET.Sdk"">

  <PropertyGroup>
    <TargetFrameworks>netstandard2.0;net472</TargetFrameworks>
  </PropertyGroup>

</Project>

```
2. Create an cs file with 2 classes;
```cs
using System;

namespace ClassLibrary1.A
{
    public class Class1
    {
    }

    public class Class2
    {
    }
}
```
3. call `Quick Actions/Move to Namespace` on the last class `Class2` type any namespace and click `OK`;

**Expected Behavior**:
It should work as it does with single-targetFramework projects

**Actual Behavior**:
```cs
System.ArgumentOutOfRangeException : Specified argument was out of the range of valid values.
Parameter name: span
   at Microsoft.CodeAnalysis.SyntaxNode.FindNode(TextSpan spanBoolean findInsideTriviaBoolean getInnermostNodeForTie)
   at async Microsoft.CodeAnalysis.CSharp.ChangeNamespace.CSharpChangeNamespaceService.TryGetApplicableContainerFromSpanAsync(<Unknown Parameters>)
   at async Microsoft.CodeAnalysis.ChangeNamespace.AbstractChangeNamespaceService`3.TryGetApplicableContainersFromAllDocumentsAsync[TNamespaceDeclarationSyntaxTCompilationUnitSyntaxTMemberDeclarationSyntax](<Unknown Parameters>)
   at async Microsoft.CodeAnalysis.CSharp.ChangeNamespace.CSharpChangeNamespaceService.GetValidContainersFromAllLinkedDocumentsAsync(<Unknown Parameters>)
   at async Microsoft.CodeAnalysis.ChangeNamespace.AbstractChangeNamespaceService`3.ChangeNamespaceAsync[TNamespaceDeclarationSyntaxTCompilationUnitSyntaxTMemberDeclarationSyntax](<Unknown Parameters>)
   at async Microsoft.CodeAnalysis.MoveToNamespace.AbstractMoveToNamespaceService`2.MoveItemsInNamespaceAsync[TNamespaceDeclarationSyntaxTNamedTypeDeclarationSyntax](<Unknown Parameters>)
   at async Microsoft.CodeAnalysis.MoveToNamespace.AbstractMoveToNamespaceService`2.MoveTypeToNamespaceAsync[TNamespaceDeclarationSyntaxTNamedTypeDeclarationSyntax](<Unknown Parameters>)
   at async Microsoft.CodeAnalysis.MoveToNamespace.AbstractMoveToNamespaceCodeAction.ComputeOperationsAsync(<Unknown Parameters>)
   at async Microsoft.CodeAnalysis.CodeActions.CodeActionWithOptions.GetOperationsAsync(<Unknown Parameters>)
   at Roslyn.Utilities.TaskExtensions.WaitAndGetResult_CanCallOnBackground[T](Task`1 taskCancellationToken cancellationToken)
   at Microsoft.CodeAnalysis.Editor.Implementation.Suggestions.SuggestedAction.InvokeWorker(Func`1 getFromDocumentIProgressTracker progressTrackerCancellationToken cancellationToken)
   at Microsoft.CodeAnalysis.Editor.Implementation.Suggestions.SuggestedAction.<>c__DisplayClass20_0.<InvokeCore>b__0()
   at Microsoft.CodeAnalysis.Extensions.IExtensionManagerExtensions.PerformAction(IExtensionManager extensionManagerObject extensionAction action)
```",Area-IDE|Bug,genlu,,
39233,Fix 'ref' parsing crash,Closes #39072,Fix 'ref' parsing crash Closes #39072,Area-Compilers,jinujoseph|RikkiGibson|DustinCampbell|jasonmalinowski|dpoeschl|ryzngard|JoeRobich|genlu|heejaechang|sharwell|ivanbasov|dibarbet|vatsalyaagrawal|mavasani|allisonchou|Cosifne,11/10/2019 12:36,18/10/2019 13:16
39232,Merge master to features/static-lambdas,"
This is an automatically generated pull request from master into features/static-lambdas.

``` bash
git fetch --all
git checkout merges/master-to-features/static-lambdas
git reset --hard upstream/features/static-lambdas
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-features/static-lambdas --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge master to features/static-lambdas 
This is an automatically generated pull request from master into features/static-lambdas.

``` bash
git fetch --all
git checkout merges/master-to-features/static-lambdas
git reset --hard upstream/features/static-lambdas
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-features/static-lambdas --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|agocke|dibarbet,11/10/2019 11:02,11/10/2019 19:48
39231,Merge master to features/local-function-attributes,"
This is an automatically generated pull request from master into features/local-function-attributes.

``` bash
git fetch --all
git checkout merges/master-to-features/local-function-attributes
git reset --hard upstream/features/local-function-attributes
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-features/local-function-attributes --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge master to features/local-function-attributes 
This is an automatically generated pull request from master into features/local-function-attributes.

``` bash
git fetch --all
git checkout merges/master-to-features/local-function-attributes
git reset --hard upstream/features/local-function-attributes
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-features/local-function-attributes --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|dibarbet,11/10/2019 11:02,11/10/2019 16:01
39230,Merge master to master-vs-deps,"
This is an automatically generated pull request from master into master-vs-deps.

``` bash
git fetch --all
git checkout merges/master-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge master to master-vs-deps 
This is an automatically generated pull request from master into master-vs-deps.

``` bash
git fetch --all
git checkout merges/master-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|dibarbet,11/10/2019 11:02,11/10/2019 16:01
39229,Merge master to release/dev16.5-preview1,"
This is an automatically generated pull request from master into release/dev16.5-preview1.

``` bash
git fetch --all
git checkout merges/master-to-release/dev16.5-preview1
git reset --hard upstream/release/dev16.5-preview1
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-release/dev16.5-preview1 --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge master to release/dev16.5-preview1 
This is an automatically generated pull request from master into release/dev16.5-preview1.

``` bash
git fetch --all
git checkout merges/master-to-release/dev16.5-preview1
git reset --hard upstream/release/dev16.5-preview1
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-release/dev16.5-preview1 --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|dibarbet,11/10/2019 11:00,11/10/2019 16:01
39228,Fix IDE0009 false positive on local functions,Fixes #38043 and adds relevant test.,Fix IDE0009 false positive on local functions Fixes #38043 and adds relevant test.,Area-IDE,allisonchou|jinujoseph,11/10/2019 10:12,16/10/2019 9:06
39227,Adjust syntax equivalence to account for nullable directives,Fixes https://github.com/dotnet/roslyn/issues/38694. @dotnet/roslyn-compiler @CyrusNajmabadi for review.,Adjust syntax equivalence to account for nullable directives Fixes https://github.com/dotnet/roslyn/issues/38694. @dotnet/roslyn-compiler @CyrusNajmabadi for review.,Area-Compilers|New Language Feature - Nullable Reference Types,333fred|CyrusNajmabadi|jaredpar|agocke|gafter|RikkiGibson|VSadov|AlekseyTs|cston|jcouv|chsienki|fayrose|jasonmalinowski,11/10/2019 9:28,
39226,Local function attributes emit,Related to #38801,Local function attributes emit Related to #38801,Area-Compilers,RikkiGibson|jaredpar|agocke|333fred|gafter|VSadov|AlekseyTs|cston|jcouv|chsienki|fayrose,11/10/2019 9:16,
39225,Remove CPS restriction for applying rename during code fix,"Fixes #37469 

There's no reason I know of to restrict this","Remove CPS restriction for applying rename during code fix Fixes #37469 

There's no reason I know of to restrict this",Area-IDE,ryzngard,11/10/2019 9:09,
39224,Show code instead of designer but only after trying to create the designer loader,"Related to https://github.com/dotnet/winforms-designer/issues/942

This is needed because the winforms designer would like to show a gold bar in VS if the user tries to load the new .NET Core designer without the VSIX installed. The existing logic goes to the ""code"" view immediately if the VSIX is not installed. 

I've removed the detection of the VSIX from this code and will move that into `DesignerActivationService.CreateDesignerLoader()` in the Visual Studio source which will allow us to show the error message before going to code view.","Show code instead of designer, but only after trying to create the designer loader Related to https://github.com/dotnet/winforms-designer/issues/942

This is needed because the winforms designer would like to show a gold bar in VS if the user tries to load the new .NET Core designer without the VSIX installed. The existing logic goes to the ""code"" view immediately if the VSIX is not installed. 

I've removed the detection of the VSIX from this code and will move that into `DesignerActivationService.CreateDesignerLoader()` in the Visual Studio source which will allow us to show the error message before going to code view.",Area-IDE,sharwell,,
39222,Revisit TaskFactoryExtensions.SafeStartNew* methods,"The current implementation wraps the given action into try-catch with fail fast crash.
This is not the best approach in most cases (we should recover from the exception and report NFW if possible) and where it is it should be explicit.","Revisit TaskFactoryExtensions.SafeStartNew* methods The current implementation wraps the given action into try-catch with fail fast crash.
This is not the best approach in most cases (we should recover from the exception and report NFW if possible) and where it is it should be explicit.",Area-IDE,tmat,11/10/2019 7:38,
39221,Rename Crash,"_This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/765196/?????.html)._

---
Crash as soon as you rename

---
### Original Comments

#### Fiona Niu[MSFT] on 10/9/2019 01:36 AM: 

<p>Thank you for taking the time to log this issue!<br>
I’ve tried to reproduce and investigate using the description and attachments already provided. Unfortunately those aren’t enough and more information is needed in order to investigate it further.<br>
The easiest way to provide all the information is to use the Visual Studio Feedback Tool. This will ensure that we collect the needed information for you without worrying about what to provide (recording dump file or ETL trace).<br>
Since this issue is now marked as Need More Info that workflow is enabled in the Feedback Tool:</p>
<pre><code>• Open Visual Studio Feedback tool.
• Click the banner letting you know that you have problems requesting your attention.
• Click this problem from the list
• Click &quot;View their request and respond&quot; from the problem details banner
• Add a comment in the Attachments/Record: click Start Recording
• When the Steps Recorder tool appears perform the steps that reproduce the problem.
• When you're done choose the Stop Record button.
• Wait a few minutes for Visual Studio to collect and package the information that you recorded.
• Submit. You will be able to see the comment on Developer Community. For security reasons your files come directly to us and don't appear on Developer Community.
</code></pre>
<p>For the full instructions please see: <a target='_blank' href=""https://docs.microsoft.com/en-us/visualstudio/ide/how-to-report-a-problem-with-visual-studio-2017?view=vs-2017#when-further-information-is-needed-need-more-info"">https://docs.microsoft.com/en-us/visualstudio/ide/how-to-report-a-problem-with-visual-studio-2017?view=vs-2017#when-further-information-is-needed-need-more-info</a> . For information about what data is collected see <a target='_blank' href=""https://docs.microsoft.com/en-us/visualstudio/ide/developer-community-privacy?view=vs-2017#data-we-collect"">https://docs.microsoft.com/en-us/visualstudio/ide/developer-community-privacy?view=vs-2017#data-we-collect</a></p>
<p>We look forward to hearing from you!</p>

#### Fiona Niu[MSFT] on 10/10/2019 00:25 AM: 

<p>Thanks a lot for providing the information. We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps. We’ll close the new ticket with the requested information.</p>


---
### Original Solutions
(no solutions)","Rename Crash _This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/765196/?????.html)._

---
Crash as soon as you rename

---
### Original Comments

#### Fiona Niu[MSFT] on 10/9/2019 01:36 AM: 

<p>Thank you for taking the time to log this issue!<br>
I’ve tried to reproduce and investigate using the description and attachments already provided. Unfortunately those aren’t enough and more information is needed in order to investigate it further.<br>
The easiest way to provide all the information is to use the Visual Studio Feedback Tool. This will ensure that we collect the needed information for you without worrying about what to provide (recording dump file or ETL trace).<br>
Since this issue is now marked as Need More Info that workflow is enabled in the Feedback Tool:</p>
<pre><code>• Open Visual Studio Feedback tool.
• Click the banner letting you know that you have problems requesting your attention.
• Click this problem from the list
• Click &quot;View their request and respond&quot; from the problem details banner
• Add a comment in the Attachments/Record: click Start Recording
• When the Steps Recorder tool appears perform the steps that reproduce the problem.
• When you're done choose the Stop Record button.
• Wait a few minutes for Visual Studio to collect and package the information that you recorded.
• Submit. You will be able to see the comment on Developer Community. For security reasons your files come directly to us and don't appear on Developer Community.
</code></pre>
<p>For the full instructions please see: <a target='_blank' href=""https://docs.microsoft.com/en-us/visualstudio/ide/how-to-report-a-problem-with-visual-studio-2017?view=vs-2017#when-further-information-is-needed-need-more-info"">https://docs.microsoft.com/en-us/visualstudio/ide/how-to-report-a-problem-with-visual-studio-2017?view=vs-2017#when-further-information-is-needed-need-more-info</a> . For information about what data is collected see <a target='_blank' href=""https://docs.microsoft.com/en-us/visualstudio/ide/developer-community-privacy?view=vs-2017#data-we-collect"">https://docs.microsoft.com/en-us/visualstudio/ide/developer-community-privacy?view=vs-2017#data-we-collect</a></p>
<p>We look forward to hearing from you!</p>

#### Fiona Niu[MSFT] on 10/10/2019 00:25 AM: 

<p>Thanks a lot for providing the information. We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps. We’ll close the new ticket with the requested information.</p>


---
### Original Solutions
(no solutions)",Area-IDE|Bug|Developer Community|Tenet-Reliability|help wanted,sharwell,11/10/2019 6:30,
39220,Roslyn doesn't handle inferred nullability in the presence of `goto`.,"**Version Used**: 
```
Branch master (23 Sep 2019)
Latest commit 89b4f60 by Charles Stoner:
Allow conversion of collection initializer Add extension method this arg (#38732)
```

**Steps to Reproduce**:

Compile and run the following code:
```cs
#nullable enable
class C<T>
{
  public C(T t) => Property = t;
  public T Property { get; }
}

class Program
{
  static void Main()
  {
    Test("""");
  }
  
  static void Test(string? s)
  {
    if (s == null) return;
    
    hell:
    var c = GetC(s);
    switch (c)
    {
      case { Property: var prop }:
        prop.ToString();
        break;
    }
    
    s = null;
    goto hell;
  }
  
  public static C<T> GetC<T>(T t) => new C<T>(t);
}
```

**Expected Behavior**:
`warning CS8602: Dereference of a possibly null reference.` reported for `prop.ToString()`

**Actual Behavior**:
No warnings are reported for the program above. The program crashes at runtime with a `NullReferenceException`

**Notes**
If you specify the type of `c` explicitly i.e. `C<string?> c = GetC(s);` you'll get the correct warning.","Roslyn doesn't handle inferred nullability in the presence of `goto`. **Version Used**: 
```
Branch master (23 Sep 2019)
Latest commit 89b4f60 by Charles Stoner:
Allow conversion of collection initializer Add extension method this arg (#38732)
```

**Steps to Reproduce**:

Compile and run the following code:
```cs
#nullable enable
class C<T>
{
  public C(T t) => Property = t;
  public T Property { get; }
}

class Program
{
  static void Main()
  {
    Test("""");
  }
  
  static void Test(string? s)
  {
    if (s == null) return;
    
    hell:
    var c = GetC(s);
    switch (c)
    {
      case { Property: var prop }:
        prop.ToString();
        break;
    }
    
    s = null;
    goto hell;
  }
  
  public static C<T> GetC<T>(T t) => new C<T>(t);
}
```

**Expected Behavior**:
`warning CS8602: Dereference of a possibly null reference.` reported for `prop.ToString()`

**Actual Behavior**:
No warnings are reported for the program above. The program crashes at runtime with a `NullReferenceException`

**Notes**
If you specify the type of `c` explicitly i.e. `C<string?> c = GetC(s);` you'll get the correct warning.",3 - Working|Area-Compilers|Bug|New Language Feature - Nullable Reference Types,gafter,,
39219,Default Interface Methods fail with generic constraints. Throws VerificationException.,"**Version Used**: net core 3.0.100

**Steps to Reproduce**:

```csharp
using System.Collections.Generic;
using System.Threading.Tasks;

class Program
{
    interface IApiControllerCRUD<IEntity>
    {
        async Task<IEnumerable<T>> GetAsync<T>() where T : IEntity
        {
            return new List<T>();
        }
    }

    class MyApiController : IApiControllerCRUD<IMyEntity> { }
        
    interface IMyEntity { }
    class MyEntity : IMyEntity { }
    class MyEntityViewModel : IMyEntity { }

    static async Task Main(string[] args)
    {
        IApiControllerCRUD<IMyEntity> api = new MyApiController();
        IEnumerable<MyEntityViewModel> sadFace = await api.GetAsync<MyEntityViewModel>();
    }
}
```

The exception I get: 
##
`System.Security.VerificationException`:
**Method DefaultInterfaceMethodsExceptionRepro.Program+IApiControllerCRUD`1[DefaultInterfaceMethodsExceptionRepro.Program+IMyEntity].GetAsync: type argument 'T' violates the constraint of type parameter 'T'.**","Default Interface Methods fail with generic constraints. Throws VerificationException. **Version Used**: net core 3.0.100

**Steps to Reproduce**:

```csharp
using System.Collections.Generic;
using System.Threading.Tasks;

class Program
{
    interface IApiControllerCRUD<IEntity>
    {
        async Task<IEnumerable<T>> GetAsync<T>() where T : IEntity
        {
            return new List<T>();
        }
    }

    class MyApiController : IApiControllerCRUD<IMyEntity> { }
        
    interface IMyEntity { }
    class MyEntity : IMyEntity { }
    class MyEntityViewModel : IMyEntity { }

    static async Task Main(string[] args)
    {
        IApiControllerCRUD<IMyEntity> api = new MyApiController();
        IEnumerable<MyEntityViewModel> sadFace = await api.GetAsync<MyEntityViewModel>();
    }
}
```

The exception I get: 
##
`System.Security.VerificationException`:
**Method DefaultInterfaceMethodsExceptionRepro.Program+IApiControllerCRUD`1[DefaultInterfaceMethodsExceptionRepro.Program+IMyEntity].GetAsync: type argument 'T' violates the constraint of type parameter 'T'.**",Area-Compilers|Bug|New Language Feature - Default Interface Impl|Resolution-External,AlekseyTs,,
39218,C# Simplify init refactoring also for arrays,"_This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/idea/768513/c-simplify-init-refactoring-also-for-arrays.html)._

---
```
class RFE_SimplifyInit
{
  struct S { public int a b; }
  void working()
  {
    S s = new S();
    s.a = 1;
    s.b = 2;
  }
  void rfe()
  {
    int[] rg = new int[2];
    rg[0] = 1;
    rg[1] = 2;
  }
}
```
Working example:
- Place cursor on line `S s =`.
- Invoke QuickActions.

Result: You get the option `Object initialization can be simplified` and when executed you get the expected
```
S s = new S
{
  a = 1
  b = 2
};
```

RFE:
- Place cursor on line `int[] rg =`.
- Invoke QuickActions.

Result: No option to simplify.

Expected: Option to simplify with result
```
int[] rg = new int[2]
{
  1
  2
};
```

Considerations expected limitations:
For implementation simplicity and to retain sematical correctness and sequence points in case init expressions are more complex only consider the refactoring when array-elements assignments index-order is both sequential and starting from zero.

---
### Original Comments

#### Jane Wu [MSFT] on 10/10/2019 00:14 AM: 

<p>Thank you for taking the time to provide your suggestion. We will do some preliminary checks to make sure we can proceed further.  We’ll provide an update once the issue has been triaged by the product team.</p>
","C#, Simplify init refactoring also for arrays _This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/idea/768513/c-simplify-init-refactoring-also-for-arrays.html)._

---
```
class RFE_SimplifyInit
{
  struct S { public int a b; }
  void working()
  {
    S s = new S();
    s.a = 1;
    s.b = 2;
  }
  void rfe()
  {
    int[] rg = new int[2];
    rg[0] = 1;
    rg[1] = 2;
  }
}
```
Working example:
- Place cursor on line `S s =`.
- Invoke QuickActions.

Result: You get the option `Object initialization can be simplified` and when executed you get the expected
```
S s = new S
{
  a = 1
  b = 2
};
```

RFE:
- Place cursor on line `int[] rg =`.
- Invoke QuickActions.

Result: No option to simplify.

Expected: Option to simplify with result
```
int[] rg = new int[2]
{
  1
  2
};
```

Considerations expected limitations:
For implementation simplicity and to retain sematical correctness and sequence points in case init expressions are more complex only consider the refactoring when array-elements assignments index-order is both sequential and starting from zero.

---
### Original Comments

#### Jane Wu [MSFT] on 10/10/2019 00:14 AM: 

<p>Thank you for taking the time to provide your suggestion. We will do some preliminary checks to make sure we can proceed further.  We’ll provide an update once the issue has been triaged by the product team.</p>
",Area-IDE|Developer Community,gafter|jinujoseph,11/10/2019 5:00,
39217,Xml commit Support xml:lang,"_This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/idea/357090/xml-commit-support-xmllang.html)._

---
<p>I write some lib to release to nuget But XML commit doc is one language only I Need Localization it so Friendly to Non-native users.</p><p>Some like:</p><pre>       /// &lt;summary&gt;
        /// Check a variable is defined
        /// &lt;/summary&gt;
        /// &lt;summary xml:lang=&quot;zh-CN&quot;&gt;
        /// ?????????????
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;name&quot;&gt;Variable name&lt;/param&gt;
        /// &lt;param name=&quot;name&quot; xml:lang=&quot;zh-CN&quot;&gt;???&lt;/param&gt;
        /// &lt;returns&gt;Return True if variable has already been defined &lt;/returns&gt;
        /// &lt;returns xml:lang=&quot;zh-CN&quot;&gt;?????????? True ???? false&lt;/returns&gt;
        public bool IsDefined(string name)
        {
            return mVariables.ContainsKey(name);
        }
</pre>

---
### Original Comments

#### jock li on 10/14/2018 01:07 AM: 

<p>I readed about https://docs.microsoft.com/en-us/nuget/create-packages/creating-localized-packages</p><p>But Maybe IDE auto split is better Experience.</p>

#### Fiona Niu[MSFT] on 10/15/2018 00:31 AM: 

<p>Thank you for taking the time to provide your suggestion. We will do some preliminary checks to make sure we can proceed further.&nbsp;You will hear from us in about five business days on our next steps. </p>
#### Dinakar Nethi [MSFT] on 11/13/2018 05:51 PM: 

<p>Your suggestion has been queued up for prioritization.  Feature suggestions are prioritized based on the value to our broader developer community and the product roadmap. We may not be able to pursue this one immediately but we will continue to monitor it up to 90 days for community input</p>
","Xml commit Support xml:lang _This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/idea/357090/xml-commit-support-xmllang.html)._

---
<p>I write some lib to release to nuget But XML commit doc is one language only I Need Localization it so Friendly to Non-native users.</p><p>Some like:</p><pre>       /// &lt;summary&gt;
        /// Check a variable is defined
        /// &lt;/summary&gt;
        /// &lt;summary xml:lang=&quot;zh-CN&quot;&gt;
        /// ?????????????
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;name&quot;&gt;Variable name&lt;/param&gt;
        /// &lt;param name=&quot;name&quot; xml:lang=&quot;zh-CN&quot;&gt;???&lt;/param&gt;
        /// &lt;returns&gt;Return True if variable has already been defined &lt;/returns&gt;
        /// &lt;returns xml:lang=&quot;zh-CN&quot;&gt;?????????? True ???? false&lt;/returns&gt;
        public bool IsDefined(string name)
        {
            return mVariables.ContainsKey(name);
        }
</pre>

---
### Original Comments

#### jock li on 10/14/2018 01:07 AM: 

<p>I readed about https://docs.microsoft.com/en-us/nuget/create-packages/creating-localized-packages</p><p>But Maybe IDE auto split is better Experience.</p>

#### Fiona Niu[MSFT] on 10/15/2018 00:31 AM: 

<p>Thank you for taking the time to provide your suggestion. We will do some preliminary checks to make sure we can proceed further.&nbsp;You will hear from us in about five business days on our next steps. </p>
#### Dinakar Nethi [MSFT] on 11/13/2018 05:51 PM: 

<p>Your suggestion has been queued up for prioritization.  Feature suggestions are prioritized based on the value to our broader developer community and the product roadmap. We may not be able to pursue this one immediately but we will continue to monitor it up to 90 days for community input</p>
",Area-IDE|Developer Community,gafter|jinujoseph,11/10/2019 4:51,
39216,Disable optimization for flow analysis utilities.,Disable optimization for flow analysis package,Disable optimization for flow analysis utilities. Disable optimization for flow analysis package,Area-Infrastructure,dibarbet,11/10/2019 4:44,11/10/2019 19:47
39215,Fix AddImports codefix on implicit extension methods,"See #39155. If that's by-design and cannot be changed any more please close that issue.
Fixes #25861 but missing unit test.","Fix AddImports codefix on implicit extension methods See #39155. If that's by-design and cannot be changed any more please close that issue.
Fixes #25861 but missing unit test.",Area-IDE|Community,JoeRobich,,
39214,Merge master to features/static-lambdas,"
This is an automatically generated pull request from master into features/static-lambdas.

``` bash
git fetch --all
git checkout merges/master-to-features/static-lambdas
git reset --hard upstream/features/static-lambdas
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-features/static-lambdas --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge master to features/static-lambdas 
This is an automatically generated pull request from master into features/static-lambdas.

``` bash
git fetch --all
git checkout merges/master-to-features/static-lambdas
git reset --hard upstream/features/static-lambdas
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-features/static-lambdas --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|dibarbet,10/10/2019 23:02,11/10/2019 4:59
39213,Merge master to features/local-function-attributes,"
This is an automatically generated pull request from master into features/local-function-attributes.

``` bash
git fetch --all
git checkout merges/master-to-features/local-function-attributes
git reset --hard upstream/features/local-function-attributes
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-features/local-function-attributes --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge master to features/local-function-attributes 
This is an automatically generated pull request from master into features/local-function-attributes.

``` bash
git fetch --all
git checkout merges/master-to-features/local-function-attributes
git reset --hard upstream/features/local-function-attributes
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-features/local-function-attributes --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|dibarbet,10/10/2019 23:02,11/10/2019 4:58
39212,Merge master to master-vs-deps,"
This is an automatically generated pull request from master into master-vs-deps.

``` bash
git fetch --all
git checkout merges/master-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge master to master-vs-deps 
This is an automatically generated pull request from master into master-vs-deps.

``` bash
git fetch --all
git checkout merges/master-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|dibarbet,10/10/2019 23:02,11/10/2019 4:58
39211,Merge master to release/dev16.5-preview1,"
This is an automatically generated pull request from master into release/dev16.5-preview1.

``` bash
git fetch --all
git checkout merges/master-to-release/dev16.5-preview1
git reset --hard upstream/release/dev16.5-preview1
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-release/dev16.5-preview1 --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge master to release/dev16.5-preview1 
This is an automatically generated pull request from master into release/dev16.5-preview1.

``` bash
git fetch --all
git checkout merges/master-to-release/dev16.5-preview1
git reset --hard upstream/release/dev16.5-preview1
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-release/dev16.5-preview1 --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|dibarbet,10/10/2019 23:00,11/10/2019 4:58
39210,error CS0029: Cannot implicitly convert type 'STCADPro.Model.SCFrequency [STCADPro.Model Version=1.0.0.0 Culture=neutral PublicKeyToken=null]' to 'STCADPro.Model.SCFrequency',"Hi

When running script using **CodeAnalysis**  I receive an exception saying I cannot convert to a type but **the types are exactly the same!**   Please help! I'm stuck on this for a few days.

The code is something like:
```
var mscorlib = typeof(System.Object).Assembly;
var systemCore = typeof(System.Linq.Enumerable).Assembly;
var stcad = typeof(SCProjects).Assembly;
scriptOptions = ScriptOptions.Default.AddReferences(mscorlib systemCore stcad);
scriptOptions = scriptOptions.AddImports(""System"" ""System.IO"" ""System.Threading.Tasks"" ""System.Linq""""STCADPro.Model"" ""STCADPro.Physics"");

var state_ = CSharpScript.RunAsync(@"""" scriptOptions).Result;
state_ = state_.ContinueWithAsync(""SCFrequency P3 = new SCFrequency();"" scriptOptions).Result;
state_ = state_.ContinueWithAsync(""SCFrequency P4 = P3; "" scriptOptions).Result;
````

That's basically initializing the script engine running first code (RunAsync) and then using the previous result as new state using ContinueWithAsync.  I think this is classic schema. I would put this into a loop as this has to be an interpreter (command line) a  REPL.

I added the assembly STCAD Pro using typeof(SCProjects).Assembly  SCProjects is a class of that assembly. 

The problem comes in the last line with: SCFrequency P4 = P3   the system does not understand P4 is the same type as P3.   
Interestingly if I parse all the code at once it works. So I have the impression that between calls some reference to the assembly are lost and perhaps duplicated and even it's the same assembly (and DLL file) it complains.

**Version Used**: 
CodeAnalysis:
2.4 but I tried also
3.4.0-beta1-final (latest available)

Visual Studio 2019 Community. 16.3.3.

**Steps to Reproduce**:

1.   Run the code above. It requires the STCAD Model library I'm sorry I can't deliver this library. But I think is not related to the library but any other external library may have the same problem.
2.  Last line of script (SCFrequency P3 = P4;)  shall be executed without problem.  
3.  However there is an exception thrown see below.

In this example the class used is SCFrequency but I tried with other classes in the assembly STCAD Pro Model  and the problem also exists.

STCAD Pro Model is a Project which is in the same solution! It is added as a project reference and its DLL copied to the output folder. Except for this issue everything works well in this app.
Actually this code is executed from a class **in the same assembly!**

**Exception received**

{""(118): error CS0029: Cannot implicitly convert type 'STCADPro.Model.SCFrequency [STCADPro.Model Version=1.0.0.0 Culture=neutral PublicKeyToken=null]' to 'STCADPro.Model.SCFrequency [C:\\Projects\\STCAD Pro 2018\\trunk\\STCAD Pro GUI\\bin\\Debug\\STCADPro.Model.dll]'""}

THANKS!
Ray","error CS0029: Cannot implicitly convert type 'STCADPro.Model.SCFrequency [STCADPro.Model, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]' to 'STCADPro.Model.SCFrequency' Hi

When running script using **CodeAnalysis**  I receive an exception saying I cannot convert to a type but **the types are exactly the same!**   Please help! I'm stuck on this for a few days.

The code is something like:
```
var mscorlib = typeof(System.Object).Assembly;
var systemCore = typeof(System.Linq.Enumerable).Assembly;
var stcad = typeof(SCProjects).Assembly;
scriptOptions = ScriptOptions.Default.AddReferences(mscorlib systemCore stcad);
scriptOptions = scriptOptions.AddImports(""System"" ""System.IO"" ""System.Threading.Tasks"" ""System.Linq""""STCADPro.Model"" ""STCADPro.Physics"");

var state_ = CSharpScript.RunAsync(@"""" scriptOptions).Result;
state_ = state_.ContinueWithAsync(""SCFrequency P3 = new SCFrequency();"" scriptOptions).Result;
state_ = state_.ContinueWithAsync(""SCFrequency P4 = P3; "" scriptOptions).Result;
````

That's basically initializing the script engine running first code (RunAsync) and then using the previous result as new state using ContinueWithAsync.  I think this is classic schema. I would put this into a loop as this has to be an interpreter (command line) a  REPL.

I added the assembly STCAD Pro using typeof(SCProjects).Assembly  SCProjects is a class of that assembly. 

The problem comes in the last line with: SCFrequency P4 = P3   the system does not understand P4 is the same type as P3.   
Interestingly if I parse all the code at once it works. So I have the impression that between calls some reference to the assembly are lost and perhaps duplicated and even it's the same assembly (and DLL file) it complains.

**Version Used**: 
CodeAnalysis:
2.4 but I tried also
3.4.0-beta1-final (latest available)

Visual Studio 2019 Community. 16.3.3.

**Steps to Reproduce**:

1.   Run the code above. It requires the STCAD Model library I'm sorry I can't deliver this library. But I think is not related to the library but any other external library may have the same problem.
2.  Last line of script (SCFrequency P3 = P4;)  shall be executed without problem.  
3.  However there is an exception thrown see below.

In this example the class used is SCFrequency but I tried with other classes in the assembly STCAD Pro Model  and the problem also exists.

STCAD Pro Model is a Project which is in the same solution! It is added as a project reference and its DLL copied to the output folder. Except for this issue everything works well in this app.
Actually this code is executed from a class **in the same assembly!**

**Exception received**

{""(118): error CS0029: Cannot implicitly convert type 'STCADPro.Model.SCFrequency [STCADPro.Model Version=1.0.0.0 Culture=neutral PublicKeyToken=null]' to 'STCADPro.Model.SCFrequency [C:\\Projects\\STCAD Pro 2018\\trunk\\STCAD Pro GUI\\bin\\Debug\\STCADPro.Model.dll]'""}

THANKS!
Ray",Area-Interactive|Interactive-ScriptingLogic|Question,gafter|jinujoseph|tmat,10/10/2019 19:40,
39209,Annotate NamespaceOrTypeSymbol,,Annotate NamespaceOrTypeSymbol ,Area-Compilers|Blocked,sharwell|333fred,10/10/2019 18:41,
39208,Annotate TypeSymbol,,Annotate TypeSymbol ,Area-Compilers|Blocked,sharwell|333fred,10/10/2019 18:39,
39207,Annotate implementations of ITypeParameterSymbol,,Annotate implementations of ITypeParameterSymbol ,Area-Compilers|Blocked,sharwell|333fred,10/10/2019 18:32,
39206,Annotate implementations of IAnonymousTypeTemplateSymbolInternal,,Annotate implementations of IAnonymousTypeTemplateSymbolInternal ,Area-Compilers|Blocked,sharwell|333fred,10/10/2019 18:26,
39205,Annotate implementations of IPropertySymbol,,Annotate implementations of IPropertySymbol ,Area-Compilers|Blocked,sharwell|333fred,10/10/2019 18:24,
39204,Annotate implementations of INamespaceSymbol,,Annotate implementations of INamespaceSymbol ,Area-Compilers|Blocked,sharwell|333fred,10/10/2019 18:12,
39203,Annotate implementations of IPointerTypeSymbol,,Annotate implementations of IPointerTypeSymbol ,Area-Compilers|Blocked,sharwell|333fred,10/10/2019 18:06,
39202,Annotate implementations of IRangeVariableSymbol,,Annotate implementations of IRangeVariableSymbol ,Area-Compilers|Blocked,sharwell|333fred,10/10/2019 18:01,
39201,Annotate implementations of IPreprocessingSymbol,,Annotate implementations of IPreprocessingSymbol ,Area-Compilers|Blocked,sharwell|333fred,10/10/2019 17:57,
39200,Annotate implementations of IParameterSymbol,,Annotate implementations of IParameterSymbol ,Area-Compilers|Blocked,sharwell|333fred,10/10/2019 17:54,
39199,Annotate implementations of IModuleSymbol,,Annotate implementations of IModuleSymbol ,Area-Compilers|Blocked,sharwell|333fred,10/10/2019 17:33,
39198,Annotate implementations of ILocalSymbol,,Annotate implementations of ILocalSymbol ,Area-Compilers|Blocked,sharwell|333fred,10/10/2019 17:25,
39197,Annotate implementations of ILabelSymbol,,Annotate implementations of ILabelSymbol ,Area-Compilers|Blocked,sharwell|333fred,10/10/2019 17:20,
39196,Annotate implementations of IFieldSymbol,,Annotate implementations of IFieldSymbol ,Area-Compilers|Blocked,sharwell|333fred,10/10/2019 17:12,
39194,Annotate implementations of IEventSymbol,,Annotate implementations of IEventSymbol ,Area-Compilers|Blocked,sharwell|333fred,10/10/2019 12:41,
39193,Intellisense provides wrong enum suggestions with overloads when different enums can be on the same position,"_This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/736970/wrong-suggestion-in-messageboxshow-method.html)._

Type System.Windows.Forms.MessageBox.Show and begin to fill parameters like ""string text string caption MessageBoxButtons buttons MessageBoxIcon icon"". When you reach the last parameter VS suggests you to enter an enum object belongs to MessageBoxButtons type instead of MessageBoxIcon type.","Intellisense provides wrong enum suggestions with overloads when different enums can be on the same position _This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/736970/wrong-suggestion-in-messageboxshow-method.html)._

Type System.Windows.Forms.MessageBox.Show and begin to fill parameters like ""string text string caption MessageBoxButtons buttons MessageBoxIcon icon"". When you reach the last parameter VS suggests you to enter an enum object belongs to MessageBoxButtons type instead of MessageBoxIcon type.",Area-IDE|Concept-Continuous Improvement|Developer Community|IDE-IntelliSense,ivanbasov|jinujoseph,10/10/2019 12:38,
39192,Annotate implementations of IErrorTypeSymbol,,Annotate implementations of IErrorTypeSymbol ,Area-Compilers|Blocked,sharwell|333fred,10/10/2019 12:29,
39191,Annotate implementations of IDynamicTypeSymbol,,Annotate implementations of IDynamicTypeSymbol ,Area-Compilers|Blocked,sharwell|333fred,10/10/2019 12:24,
39190,Annotate implementations of IDiscardSymbol,,Annotate implementations of IDiscardSymbol ,Area-Compilers|Blocked,sharwell|333fred,10/10/2019 12:20,
39189,Removed deprecated DPL code,,Removed deprecated DPL code ,Area-Infrastructure,allisonchou,,
39188,Annotate implementations of IAssemblySymbol,,Annotate implementations of IAssemblySymbol ,Area-Compilers|Blocked,sharwell|333fred,10/10/2019 12:15,
39187,Annotate implementations of IArrayTypeSymbol,,Annotate implementations of IArrayTypeSymbol ,Area-Compilers|Blocked,sharwell|333fred,10/10/2019 11:51,
39186,Annotate implementations of IAliasSymbol,,Annotate implementations of IAliasSymbol ,Area-Compilers|Blocked,sharwell|333fred,10/10/2019 11:45,
39185,Annotate core symbol types,,Annotate core symbol types ,Area-Compilers,sharwell,10/10/2019 11:31,12/10/2019 4:39
39184,Annotate remaining symbol interfaces,This pull request includes interfaces except for `ISymbol` itself.,Annotate remaining symbol interfaces This pull request includes interfaces except for `ISymbol` itself.,Area-Compilers,jcouv,,
39183,Merge master to features/static-lambdas,"
This is an automatically generated pull request from master into features/static-lambdas.

``` bash
git fetch --all
git checkout merges/master-to-features/static-lambdas
git reset --hard upstream/features/static-lambdas
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-features/static-lambdas --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge master to features/static-lambdas 
This is an automatically generated pull request from master into features/static-lambdas.

``` bash
git fetch --all
git checkout merges/master-to-features/static-lambdas
git reset --hard upstream/features/static-lambdas
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-features/static-lambdas --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|dibarbet,10/10/2019 11:02,10/10/2019 17:59
39182,Merge master to features/local-function-attributes,"
This is an automatically generated pull request from master into features/local-function-attributes.

``` bash
git fetch --all
git checkout merges/master-to-features/local-function-attributes
git reset --hard upstream/features/local-function-attributes
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-features/local-function-attributes --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge master to features/local-function-attributes 
This is an automatically generated pull request from master into features/local-function-attributes.

``` bash
git fetch --all
git checkout merges/master-to-features/local-function-attributes
git reset --hard upstream/features/local-function-attributes
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-features/local-function-attributes --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|dibarbet,10/10/2019 11:02,10/10/2019 17:59
39181,Merge master to master-vs-deps,"
This is an automatically generated pull request from master into master-vs-deps.

``` bash
git fetch --all
git checkout merges/master-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge master to master-vs-deps 
This is an automatically generated pull request from master into master-vs-deps.

``` bash
git fetch --all
git checkout merges/master-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|dibarbet,10/10/2019 11:02,10/10/2019 17:59
39180,Add annotations for most of ISymbol,,Add annotations for most of ISymbol ,Area-Compilers,sharwell|jaredpar|agocke,10/10/2019 11:01,12/10/2019 4:43
39179,Merge master to release/dev16.5-preview1,"
This is an automatically generated pull request from master into release/dev16.5-preview1.

``` bash
git fetch --all
git checkout merges/master-to-release/dev16.5-preview1
git reset --hard upstream/release/dev16.5-preview1
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-release/dev16.5-preview1 --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge master to release/dev16.5-preview1 
This is an automatically generated pull request from master into release/dev16.5-preview1.

``` bash
git fetch --all
git checkout merges/master-to-release/dev16.5-preview1
git reset --hard upstream/release/dev16.5-preview1
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-release/dev16.5-preview1 --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|dibarbet,10/10/2019 11:00,10/10/2019 17:59
39177,C# reference count shown as 0 for operators < >,"_This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/742322/c-reference-count-shown-as-0-for-operators.html)._

---
Shows:
        0 references
        static public bool operator &lt;(OrderingMeasure a OrderingMeasure b)
Although it's used

---
### Original Comments

#### Visual Studio Feedback System on 9/23/2019 01:34 AM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>


---
### Original Solutions
(no solutions)","C# reference count shown as 0 for operators <, > _This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/742322/c-reference-count-shown-as-0-for-operators.html)._

---
Shows:
        0 references
        static public bool operator &lt;(OrderingMeasure a OrderingMeasure b)
Although it's used

---
### Original Comments

#### Visual Studio Feedback System on 9/23/2019 01:34 AM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>


---
### Original Solutions
(no solutions)",Area-IDE|Concept-Continuous Improvement|Developer Community|help wanted,gafter|jinujoseph,10/10/2019 10:00,
39176,VB.NET code pattern snippet works within interpolated strings,"_This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/743715/vbnet-code-pattern-snippet-works-within-interpolat.html)._

---
Place cursor of vb.net editor before the closing quote in string below and press Tab key
Dim SQLText As String=$&quot;SELECT&quot;

---
### Original Comments

#### Visual Studio Feedback System on 9/23/2019 11:49 PM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>


---
### Original Solutions
(no solutions)","VB.NET code pattern snippet works within interpolated strings _This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/743715/vbnet-code-pattern-snippet-works-within-interpolat.html)._

---
Place cursor of vb.net editor before the closing quote in string below and press Tab key
Dim SQLText As String=$&quot;SELECT&quot;

---
### Original Comments

#### Visual Studio Feedback System on 9/23/2019 11:49 PM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>


---
### Original Solutions
(no solutions)",Area-IDE|Bug|Developer Community|help wanted,gafter|jinujoseph,10/10/2019 9:58,
39175,C# Auto Format not working,"_This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/746119/c-auto-format-not-working.html)._

---
Just started using C#.  None of the auto formatting works as does in VB.  For example braces aren't indented.  None of the code is properly indented either after typing.  All &quot;Auto Format&quot; options are on under Tools.... Options.... Text Editor... C#... Code Style... Formatting.  There is also no EditorConfig file.  This happens on all projects.   VB properly auto formats.  See attachments for screenshots. Visual Studio Enterprise 2019 Version 16.3.0. I did search various forums but could not find any information.

---
### Original Comments

#### Visual Studio Feedback System on 9/25/2019 03:12 AM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>


---
### Original Solutions
(no solutions)","C# Auto Format not working _This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/746119/c-auto-format-not-working.html)._

---
Just started using C#.  None of the auto formatting works as does in VB.  For example braces aren't indented.  None of the code is properly indented either after typing.  All &quot;Auto Format&quot; options are on under Tools.... Options.... Text Editor... C#... Code Style... Formatting.  There is also no EditorConfig file.  This happens on all projects.   VB properly auto formats.  See attachments for screenshots. Visual Studio Enterprise 2019 Version 16.3.0. I did search various forums but could not find any information.

---
### Original Comments

#### Visual Studio Feedback System on 9/25/2019 03:12 AM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>


---
### Original Solutions
(no solutions)",Area-IDE|Developer Community|Investigation Required,allisonchou,,
39174,"Renaming local variable with ""Attribute"" suffix inserts another ""Attribute"" in the name","**Version Used**: 
![image](https://user-images.githubusercontent.com/41759/66525688-21ddc500-eaab-11e9-8021-34993d1ecfe1.png)

**Steps to Reproduce**:
 
```C#
class C
{
        void F()
        {
            C myAttribute = new C();
        }
}
```

Inline rename `myAttribute`.

**Expected Behavior**:

No `Attribute` duplication.

**Actual Behavior**:
![image](https://user-images.githubusercontent.com/41759/66525732-4043c080-eaab-11e9-9a31-afc7b5ee9753.png)
","Renaming local variable with ""Attribute"" suffix inserts another ""Attribute"" in the name **Version Used**: 
![image](https://user-images.githubusercontent.com/41759/66525688-21ddc500-eaab-11e9-8021-34993d1ecfe1.png)

**Steps to Reproduce**:
 
```C#
class C
{
        void F()
        {
            C myAttribute = new C();
        }
}
```

Inline rename `myAttribute`.

**Expected Behavior**:

No `Attribute` duplication.

**Actual Behavior**:
![image](https://user-images.githubusercontent.com/41759/66525732-4043c080-eaab-11e9-9a31-afc7b5ee9753.png)
",Area-IDE|Resolution-Duplicate,tmat|jinujoseph,10/10/2019 9:41,16/10/2019 6:51
39173,Intellisense conditional conversion option finnicky,"_This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/757387/intellisense-conditional-conversion-option-finnick.html)._

---
[regression] [worked-in:16.1]
```
if (! String.IsNullOrWhiteSpace(var))
return var
else
return var2;
```

It offered to simplify the String and convert to conditional. I simplified String first and then it lost the option to change the conditional. As soon as I converted string back to String the option came back I used it then I changed String back to string.

---
### Original Comments

#### Visual Studio Feedback System on 10/3/2019 02:08 AM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>


---
### Original Solutions
(no solutions)","Intellisense conditional conversion option finnicky _This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/757387/intellisense-conditional-conversion-option-finnick.html)._

---
[regression] [worked-in:16.1]
```
if (! String.IsNullOrWhiteSpace(var))
return var
else
return var2;
```

It offered to simplify the String and convert to conditional. I simplified String first and then it lost the option to change the conditional. As soon as I converted string back to String the option came back I used it then I changed String back to string.

---
### Original Comments

#### Visual Studio Feedback System on 10/3/2019 02:08 AM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>


---
### Original Solutions
(no solutions)",Area-IDE|Concept-Continuous Improvement|Developer Community|help wanted,gafter|jinujoseph,10/10/2019 9:37,
39172,VS replaces DateTime with Date,"_This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/759557/vs-replaces-datetime-with-date.html)._

---
[regression]
If you type (in VB.Net):

mydatetimevariable = new datetime(

it is automatically replaced by:

mydatetimevariable = New Date()

---
### Original Comments

#### Visual Studio Feedback System on 10/7/2019 02:16 AM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>


---
### Original Solutions
(no solutions)","VS replaces DateTime with Date _This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/759557/vs-replaces-datetime-with-date.html)._

---
[regression]
If you type (in VB.Net):

mydatetimevariable = new datetime(

it is automatically replaced by:

mydatetimevariable = New Date()

---
### Original Comments

#### Visual Studio Feedback System on 10/7/2019 02:16 AM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>


---
### Original Solutions
(no solutions)",Area-IDE|Developer Community,gafter|jinujoseph,10/10/2019 9:34,
39171,"switch expression ""no best type found"" conflicts with IDE0007 C# use 'var' instead of explicit type","_This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/759620/switch-expression-no-best-type-found-conflicts-wit.html)._

---
First of all I have a switch expression that returns instances of classes that all have a common superclass so I would expect the switch expression to return the common superclass type instead of having a &quot;no best type found&quot; error.

Secondly if I manually specify the type of the variable to put the result of the switch expression in I get the IDE0007 suggestion.  If I follow the suggestion I'm back at the &quot;no best type found&quot; error.

---
### Original Comments

#### Visual Studio Feedback System on 10/7/2019 02:19 AM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>


---
### Original Solutions
(no solutions)","switch expression ""no best type found"" conflicts with IDE0007 C# use 'var' instead of explicit type _This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/759620/switch-expression-no-best-type-found-conflicts-wit.html)._

---
First of all I have a switch expression that returns instances of classes that all have a common superclass so I would expect the switch expression to return the common superclass type instead of having a &quot;no best type found&quot; error.

Secondly if I manually specify the type of the variable to put the result of the switch expression in I get the IDE0007 suggestion.  If I follow the suggestion I'm back at the &quot;no best type found&quot; error.

---
### Original Comments

#### Visual Studio Feedback System on 10/7/2019 02:19 AM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>


---
### Original Solutions
(no solutions)",Area-IDE|Bug|Developer Community|IDE-CodeStyle|help wanted,mavasani,,
39170,C# Editor view scrolling in error when moving selected lines up/dn.,"_This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/761825/c-editor-view-scrolling-in-error-when-moving-selec.html)._

---
Use the following batch file to generate foo.cs
```
@echo off
setlocal
echo>>foo.cs class C
echo>>foo.cs {
call :GEN_FIELDS
call :GEN_METHODS
echo>>foo.cs }
goto :EOF

:GEN_FIELDS
echo>>foo.cs #region fields
for /l %%i in (11100) do echo>>foo.cs int int%%i;
echo>>foo.cs #endregion
goto :EOF

:GEN_METHODS
for /l %%i in (11100) do call :GEN_METHOD %%i
goto :EOF

:GEN_METHOD
echo>>foo.cs int fn%1() 
echo>>foo.cs {
echo>>foo.cs return int%1;
echo>>foo.cs }
goto :EOF
```

Add foo.cs to some project. I used a .NET Console project but anything C# would do.

Open the file.
Hold Ctrl and type in order A K F M A Home
End
Ctrl-M CTRL-M (to unfold the class).
Move to beginning of line say 449 (i.e. fn87).
Shift-Down once to select.
Alt-Up a few times. Notice how the view (in error) scrolls upwards.
Now try either Alt-Down or even Undo (Ctrl-Z). The view _continues_ to scroll upwards!

Expected: I shouldn't have to write this but... the view should obviously not scroll like this unless it's required to keep selection/caret visible.

---
### Original Comments

#### Visual Studio Feedback System on 10/7/2019 01:24 AM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>


---
### Original Solutions
(no solutions)","C# Editor, view scrolling in error when moving selected lines up/dn. _This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/761825/c-editor-view-scrolling-in-error-when-moving-selec.html)._

---
Use the following batch file to generate foo.cs
```
@echo off
setlocal
echo>>foo.cs class C
echo>>foo.cs {
call :GEN_FIELDS
call :GEN_METHODS
echo>>foo.cs }
goto :EOF

:GEN_FIELDS
echo>>foo.cs #region fields
for /l %%i in (11100) do echo>>foo.cs int int%%i;
echo>>foo.cs #endregion
goto :EOF

:GEN_METHODS
for /l %%i in (11100) do call :GEN_METHOD %%i
goto :EOF

:GEN_METHOD
echo>>foo.cs int fn%1() 
echo>>foo.cs {
echo>>foo.cs return int%1;
echo>>foo.cs }
goto :EOF
```

Add foo.cs to some project. I used a .NET Console project but anything C# would do.

Open the file.
Hold Ctrl and type in order A K F M A Home
End
Ctrl-M CTRL-M (to unfold the class).
Move to beginning of line say 449 (i.e. fn87).
Shift-Down once to select.
Alt-Up a few times. Notice how the view (in error) scrolls upwards.
Now try either Alt-Down or even Undo (Ctrl-Z). The view _continues_ to scroll upwards!

Expected: I shouldn't have to write this but... the view should obviously not scroll like this unless it's required to keep selection/caret visible.

---
### Original Comments

#### Visual Studio Feedback System on 10/7/2019 01:24 AM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>


---
### Original Solutions
(no solutions)",Area-IDE|Developer Community|Investigation Required,gafter|jinujoseph,10/10/2019 9:21,
39169,C# Inconsistant Label Indentation when Formatting,"_This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/763973/c-inconsistant-label-indentation-when-formatting.html)._

---
Formatting a section or document which contains labels can result in inconsistant indentation of labels. If a label followed a non-bracketed if statement the label will be indented further than if it follows a a bracketed if statement

Sample 1:

```csharp
    void Foo()
    {
        if (true)
        {
            Console.WriteLine(""True"");
        }

    Cleanup:
        // Do Cleanup
        return;
    }
```

Sample 2:

```csharp
    void Bar()
    {
        if (true)
            Console.WriteLine(""True"");

        Cleanup:
        // Do Cleanup
        return;
    }
```

---
### Original Comments

#### Visual Studio Feedback System on 10/8/2019 00:49 AM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>


---
### Original Solutions
(no solutions)","C#, Inconsistant Label Indentation when Formatting _This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/763973/c-inconsistant-label-indentation-when-formatting.html)._

---
Formatting a section or document which contains labels can result in inconsistant indentation of labels. If a label followed a non-bracketed if statement the label will be indented further than if it follows a a bracketed if statement

Sample 1:

```csharp
    void Foo()
    {
        if (true)
        {
            Console.WriteLine(""True"");
        }

    Cleanup:
        // Do Cleanup
        return;
    }
```

Sample 2:

```csharp
    void Bar()
    {
        if (true)
            Console.WriteLine(""True"");

        Cleanup:
        // Do Cleanup
        return;
    }
```

---
### Original Comments

#### Visual Studio Feedback System on 10/8/2019 00:49 AM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>


---
### Original Solutions
(no solutions)",Area-IDE|Bug|Developer Community|IDE-Formatter|help wanted,gafter|jinujoseph,10/10/2019 9:16,
39168,C# code formating of braces,"_This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/767939/c-code-formating-of-braces.html)._

---
[regression] [worked-in:16.2.x]
1. In a C# code editor Type the following code in editor Ensure the cursor after the close curly bracket :
```
       if () { }|
```

2.  Press &quot;Left Arrow&quot; key Move the cursor between the two braces:
```
       if () {|}
```
3. Press &quot;Enter&quot; key Then the code looks like this:
```
       if () {
|}

```

### **But here's what I expect:**
```
       if () {
          |
       }
```
or
```
       if ()
       {
          |
       }

```
This problem occurred after the update VisualStudio and was **previously normal.**

Ok so mush.
best regards

---
### Original Comments

#### Visual Studio Feedback System on 10/9/2019 02:57 AM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>


---
### Original Solutions
(no solutions)","C# code formating of braces _This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/767939/c-code-formating-of-braces.html)._

---
[regression] [worked-in:16.2.x]
1. In a C# code editor Type the following code in editor Ensure the cursor after the close curly bracket :
```
       if () { }|
```

2.  Press &quot;Left Arrow&quot; key Move the cursor between the two braces:
```
       if () {|}
```
3. Press &quot;Enter&quot; key Then the code looks like this:
```
       if () {
|}

```

### **But here's what I expect:**
```
       if () {
          |
       }
```
or
```
       if ()
       {
          |
       }

```
This problem occurred after the update VisualStudio and was **previously normal.**

Ok so mush.
best regards

---
### Original Comments

#### Visual Studio Feedback System on 10/9/2019 02:57 AM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>


---
### Original Solutions
(no solutions)",Area-IDE|Bug|Developer Community,ryzngard,,
39167,Explicit interface implementation 'RefCustomModifiers' is not inherited,https://github.com/dotnet/roslyn/blob/82f09c4e6067d3a164000f1acf355ee8e774fad5/src/ExpressionEvaluator/CSharp/Source/ExpressionCompiler/Symbols/PlaceholderMethodSymbol.cs#L169-L178,Explicit interface implementation 'RefCustomModifiers' is not inherited https://github.com/dotnet/roslyn/blob/82f09c4e6067d3a164000f1acf355ee8e774fad5/src/ExpressionEvaluator/CSharp/Source/ExpressionCompiler/Symbols/PlaceholderMethodSymbol.cs#L169-L178,Area-Compilers,sharwell,10/10/2019 9:01,
39166,Enable nullable reference types in Roslyn,"This meta issue may be linked by sections of code in which nullable reference types is not yet enabled.

Note: this issue is referenced in source (do not close the issue without scrubbing the source)","Enable nullable reference types in Roslyn This meta issue may be linked by sections of code in which nullable reference types is not yet enabled.

Note: this issue is referenced in source (do not close the issue without scrubbing the source)",Area-Infrastructure|Story,sharwell,10/10/2019 8:57,
39165,DeclaringCompilation is null in ExpressionCompiler tests,"Example:

https://github.com/dotnet/roslyn/blob/de140f9fd3f5dcb82f17916c0ca79de4cf094b61/src/ExpressionEvaluator/CSharp/Test/ExpressionCompiler/LocalsTests.cs#L1452

If you debug this test and set a breakpoint in Symbol.DeclaringCompilation it will get hit on a LocalFunctionSymbol whose ContainingModule is a PEModuleSymbol. This results in the method returning a `null` DeclaringCompilation even though the symbol is in source.

I can't tell if this is by design or if it is a bug. But it results in a NRE when I try to make use of the DeclaringCompilation on a symbol--when that symbol also has a binder with a non-null Compilation on it.

/cc @dotnet/roslyn-compiler @tmat","DeclaringCompilation is null in ExpressionCompiler tests Example:

https://github.com/dotnet/roslyn/blob/de140f9fd3f5dcb82f17916c0ca79de4cf094b61/src/ExpressionEvaluator/CSharp/Test/ExpressionCompiler/LocalsTests.cs#L1452

If you debug this test and set a breakpoint in Symbol.DeclaringCompilation it will get hit on a LocalFunctionSymbol whose ContainingModule is a PEModuleSymbol. This results in the method returning a `null` DeclaringCompilation even though the symbol is in source.

I can't tell if this is by design or if it is a bug. But it results in a NRE when I try to make use of the DeclaringCompilation on a symbol--when that symbol also has a binder with a non-null Compilation on it.

/cc @dotnet/roslyn-compiler @tmat",Area-Compilers|Area-Interactive|Bug,RikkiGibson|tmat|jaredpar|agocke|333fred|gafter|VSadov|AlekseyTs|cston|jcouv|chsienki|fayrose,10/10/2019 7:37,
39161,Test bootstrap,testing bootstrap build because it's being finicky to run locally.,Test bootstrap testing bootstrap build because it's being finicky to run locally.,PR For Personal Review Only,RikkiGibson,10/10/2019 5:31,15/10/2019 5:32
39160,CSharpRemoveUnusedValuesCodeFixProvider crashes when refactoring,"_This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/760888/csharpremoveunusedvaluescodefixprovider-crashes-wh.html)._

---
[regression] [worked-in:16.3.1]
Since updating to 16.3.2 I am getting the error &quot;'CSharpRemoveUnusedValuesCodeFixProvider' encountered an error and has been disabled&quot; every time I try to refactor to remove an usused value.  Restarting and repairing Visual Studio 2019 does not fix the issue.

Please see the stack trace provided by the error:

System.NullReferenceException : Object reference not set to an instance of an object.
   at Microsoft.CodeAnalysis.AnnotationExtensions.WithAdditionalAnnotations[TNode](TNode nodeSyntaxAnnotation[] annotations)
   at Microsoft.CodeAnalysis.MoveDeclarationNearReference.AbstractMoveDeclarationNearReferenceService`4.&lt;&gt;c__DisplayClass9_0. &lt;MoveDeclarationToFirstReferenceAsync&gt;b__0(SyntaxNode currentSyntaxGenerator generator)
   at Microsoft.CodeAnalysis.Editing.SyntaxEditor.ReplaceChange.Apply(SyntaxNode rootSyntaxGenerator generator)
   at Microsoft.CodeAnalysis.Editing.SyntaxEditor.GetChangedRoot()
   at async Microsoft.CodeAnalysis.MoveDeclarationNearReference.AbstractMoveDeclarationNearReferenceService`4.MoveDeclarationNearReferenceAsync[TServiceTStatementSyntaxTLocalDeclarationStatementSyntaxTVariableDeclaratorSyntax]( &lt;Unknown Parameters&gt;)
   at async Microsoft.CodeAnalysis.RemoveUnusedParametersAndValues.AbstractRemoveUnusedValuesCodeFixProvider`11.AdjustLocalDeclarationsAsync[TExpressionSyntaxTStatementSyntaxTBlockSyntaxTExpressionStatementSyntax TLocalDeclarationStatementSyntaxTVariableDeclaratorSyntaxTForEachStatementSyntaxTSwitchCaseBlockSyntaxTSwitchCaseLabelOrClauseSyntaxTCatchStatementSyntaxTCatchBlockSyntax](&lt;Unknown Parameters&gt;)
   at async Microsoft.CodeAnalysis.RemoveUnusedParametersAndValues.AbstractRemoveUnusedValuesCodeFixProvider`11.PostProcessDocumentCoreAsync[TExpressionSyntaxTStatementSyntaxTBlockSyntaxTExpressionStatementSyntax TLocalDeclarationStatementSyntaxTVariableDeclaratorSyntaxTForEachStatementSyntaxTSwitchCaseBlockSyntaxTSwitchCaseLabelOrClauseSyntaxTCatchStatementSyntaxTCatchBlockSyntax](&lt;Unknown Parameters&gt;)
   at async Microsoft.CodeAnalysis.RemoveUnusedParametersAndValues.AbstractRemoveUnusedValuesCodeFixProvider`11.PostProcessDocumentAsync[TExpressionSyntaxTStatementSyntaxTBlockSyntaxTExpressionStatementSyntax TLocalDeclarationStatementSyntaxTVariableDeclaratorSyntaxTForEachStatementSyntaxTSwitchCaseBlockSyntaxTSwitchCaseLabelOrClauseSyntaxTCatchStatementSyntaxTCatchBlockSyntax](&lt;Unknown Parameters&gt;)
   at async Microsoft.CodeAnalysis.RemoveUnusedParametersAndValues.AbstractRemoveUnusedValuesCodeFixProvider`11.FixAllAsync[TExpressionSyntaxTStatementSyntaxTBlockSyntaxTExpressionStatementSyntax TLocalDeclarationStatementSyntaxTVariableDeclaratorSyntaxTForEachStatementSyntaxTSwitchCaseBlockSyntaxTSwitchCaseLabelOrClauseSyntaxTCatchStatementSyntaxTCatchBlockSyntax](&lt;Unknown Parameters&gt;)
   at async Microsoft.CodeAnalysis.CodeFixes.SyntaxEditorBasedCodeFixProvider.FixAllWithEditorAsync(&lt;Unknown Parameters&gt;)
   at async Microsoft.CodeAnalysis.CodeActions.CodeAction.GetChangedSolutionAsync(&lt;Unknown Parameters&gt;)
   at async Microsoft.CodeAnalysis.CodeActions.CodeAction.ComputeOperationsAsync(&lt;Unknown Parameters&gt;)
   at async Microsoft.CodeAnalysis.CodeActions.CodeAction.GetPreviewOperationsAsync(&lt;Unknown Parameters&gt;)
   at async Microsoft.CodeAnalysis.Editor.Implementation.Suggestions.SuggestedAction.GetPreviewResultAsync(&lt;Unknown Parameters&gt;)
   at async Microsoft.CodeAnalysis.Editor.Implementation.Suggestions.SuggestedActionWithNestedFlavors.&lt;&gt;c__DisplayClass11_0. &lt;GetPreviewAsync&gt;b__0(&lt;Unknown Parameters&gt;)
   at async Microsoft.CodeAnalysis.Extensions.IExtensionManagerExtensions.PerformFunctionAsync[T](&lt;Unknown Parameters&gt;)
   at Microsoft.VisualStudio.Telemetry.WindowsErrorReporting.WatsonReport.GetClrWatsonExceptionInfo(Exception exceptionObject)

---
### Original Comments

#### Visual Studio Feedback System on 10/7/2019 02:00 AM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>

#### Visual Studio Feedback System on 10/8/2019 02:31 PM: 

<p>This issue is currently being investigated. Our team will get back to you if either more information is needed a workaround is available or the issue is resolved.</p>


---
### Original Solutions
(no solutions)","CSharpRemoveUnusedValuesCodeFixProvider crashes when refactoring _This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/760888/csharpremoveunusedvaluescodefixprovider-crashes-wh.html)._

---
[regression] [worked-in:16.3.1]
Since updating to 16.3.2 I am getting the error &quot;'CSharpRemoveUnusedValuesCodeFixProvider' encountered an error and has been disabled&quot; every time I try to refactor to remove an usused value.  Restarting and repairing Visual Studio 2019 does not fix the issue.

Please see the stack trace provided by the error:

System.NullReferenceException : Object reference not set to an instance of an object.
   at Microsoft.CodeAnalysis.AnnotationExtensions.WithAdditionalAnnotations[TNode](TNode nodeSyntaxAnnotation[] annotations)
   at Microsoft.CodeAnalysis.MoveDeclarationNearReference.AbstractMoveDeclarationNearReferenceService`4.&lt;&gt;c__DisplayClass9_0. &lt;MoveDeclarationToFirstReferenceAsync&gt;b__0(SyntaxNode currentSyntaxGenerator generator)
   at Microsoft.CodeAnalysis.Editing.SyntaxEditor.ReplaceChange.Apply(SyntaxNode rootSyntaxGenerator generator)
   at Microsoft.CodeAnalysis.Editing.SyntaxEditor.GetChangedRoot()
   at async Microsoft.CodeAnalysis.MoveDeclarationNearReference.AbstractMoveDeclarationNearReferenceService`4.MoveDeclarationNearReferenceAsync[TServiceTStatementSyntaxTLocalDeclarationStatementSyntaxTVariableDeclaratorSyntax]( &lt;Unknown Parameters&gt;)
   at async Microsoft.CodeAnalysis.RemoveUnusedParametersAndValues.AbstractRemoveUnusedValuesCodeFixProvider`11.AdjustLocalDeclarationsAsync[TExpressionSyntaxTStatementSyntaxTBlockSyntaxTExpressionStatementSyntax TLocalDeclarationStatementSyntaxTVariableDeclaratorSyntaxTForEachStatementSyntaxTSwitchCaseBlockSyntaxTSwitchCaseLabelOrClauseSyntaxTCatchStatementSyntaxTCatchBlockSyntax](&lt;Unknown Parameters&gt;)
   at async Microsoft.CodeAnalysis.RemoveUnusedParametersAndValues.AbstractRemoveUnusedValuesCodeFixProvider`11.PostProcessDocumentCoreAsync[TExpressionSyntaxTStatementSyntaxTBlockSyntaxTExpressionStatementSyntax TLocalDeclarationStatementSyntaxTVariableDeclaratorSyntaxTForEachStatementSyntaxTSwitchCaseBlockSyntaxTSwitchCaseLabelOrClauseSyntaxTCatchStatementSyntaxTCatchBlockSyntax](&lt;Unknown Parameters&gt;)
   at async Microsoft.CodeAnalysis.RemoveUnusedParametersAndValues.AbstractRemoveUnusedValuesCodeFixProvider`11.PostProcessDocumentAsync[TExpressionSyntaxTStatementSyntaxTBlockSyntaxTExpressionStatementSyntax TLocalDeclarationStatementSyntaxTVariableDeclaratorSyntaxTForEachStatementSyntaxTSwitchCaseBlockSyntaxTSwitchCaseLabelOrClauseSyntaxTCatchStatementSyntaxTCatchBlockSyntax](&lt;Unknown Parameters&gt;)
   at async Microsoft.CodeAnalysis.RemoveUnusedParametersAndValues.AbstractRemoveUnusedValuesCodeFixProvider`11.FixAllAsync[TExpressionSyntaxTStatementSyntaxTBlockSyntaxTExpressionStatementSyntax TLocalDeclarationStatementSyntaxTVariableDeclaratorSyntaxTForEachStatementSyntaxTSwitchCaseBlockSyntaxTSwitchCaseLabelOrClauseSyntaxTCatchStatementSyntaxTCatchBlockSyntax](&lt;Unknown Parameters&gt;)
   at async Microsoft.CodeAnalysis.CodeFixes.SyntaxEditorBasedCodeFixProvider.FixAllWithEditorAsync(&lt;Unknown Parameters&gt;)
   at async Microsoft.CodeAnalysis.CodeActions.CodeAction.GetChangedSolutionAsync(&lt;Unknown Parameters&gt;)
   at async Microsoft.CodeAnalysis.CodeActions.CodeAction.ComputeOperationsAsync(&lt;Unknown Parameters&gt;)
   at async Microsoft.CodeAnalysis.CodeActions.CodeAction.GetPreviewOperationsAsync(&lt;Unknown Parameters&gt;)
   at async Microsoft.CodeAnalysis.Editor.Implementation.Suggestions.SuggestedAction.GetPreviewResultAsync(&lt;Unknown Parameters&gt;)
   at async Microsoft.CodeAnalysis.Editor.Implementation.Suggestions.SuggestedActionWithNestedFlavors.&lt;&gt;c__DisplayClass11_0. &lt;GetPreviewAsync&gt;b__0(&lt;Unknown Parameters&gt;)
   at async Microsoft.CodeAnalysis.Extensions.IExtensionManagerExtensions.PerformFunctionAsync[T](&lt;Unknown Parameters&gt;)
   at Microsoft.VisualStudio.Telemetry.WindowsErrorReporting.WatsonReport.GetClrWatsonExceptionInfo(Exception exceptionObject)

---
### Original Comments

#### Visual Studio Feedback System on 10/7/2019 02:00 AM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>

#### Visual Studio Feedback System on 10/8/2019 02:31 PM: 

<p>This issue is currently being investigated. Our team will get back to you if either more information is needed a workaround is available or the issue is resolved.</p>


---
### Original Solutions
(no solutions)",Area-IDE|Bug|Developer Community,mavasani,,
39159,Infer indentation in files with IIndentationManagerService,"IIndentationManagerService is a new service from the editor that looks at the existing tabs and spaces in a file and attempts to determine what the prevailing format is. This is useful for repositories that may have not had an .editorconfig to specify what is happening or for repositories that have such a mix that an .editorconfig may not be immediately useful.

Commit-at-a-time review is **very strongly recommended** because this PR mixes both feature implementation and also refactoring a bunch of test helpers.

# Task List

- [x] Correctly implementing ordering between this and .editorconfig.
- [x] Investigate issue where Introduce Variable still used the wrong formatting.
- [ ] Tests.","Infer indentation in files with IIndentationManagerService IIndentationManagerService is a new service from the editor that looks at the existing tabs and spaces in a file and attempts to determine what the prevailing format is. This is useful for repositories that may have not had an .editorconfig to specify what is happening or for repositories that have such a mix that an .editorconfig may not be immediately useful.

Commit-at-a-time review is **very strongly recommended** because this PR mixes both feature implementation and also refactoring a bunch of test helpers.

# Task List

- [x] Correctly implementing ordering between this and .editorconfig.
- [x] Investigate issue where Introduce Variable still used the wrong formatting.
- [ ] Tests.",Area-IDE,jasonmalinowski,,
39158,Using cref to itself inside inheritdoc crashes VS,"_This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/761030/using-cref-to-itself-inside-inheritdoc-crashes-vs.html)._

---
This is a new issue as inheritdoc is just being added in 16.4.0 preview 1. This problem therefor only happens in 16.4.0 preview 1 (or later?). 

With the new feature we can use /// &lt;inheritdoc/&gt; to define the same xml comments from the inheritted class on members that are inherited. /// &lt;inheritdoc/&gt; works fine but /// &lt;inheritdoc cref=&quot;MyProperty&quot; /&gt; crashes Visual Studio to desktop ('CTD') upon hovering the mouse over MyProperty. 

To recreate:

1. Create a new .NET Core Console App.
2. Create a new interface: IMyClass with a member (can be property method ...) MyMember and add a summary to it with ///.
3. Create a new class: MyClass that implements IMyClass (add &quot;: IMyClass&quot;).
4. Implement the member MyMember. 
5. Add /// &lt;inheritdoc /&gt; above MyMember. So far so good.
6. Change &lt;inheritdoc /&gt; to &lt;inheritdoc cref=&quot;MyMember&quot;/&gt; and move your mouse over MyMember. VS will crash before it can show the tooltip.

---
### Original Comments

#### Visual Studio Feedback System on 10/6/2019 09:24 PM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>

#### Visual Studio Feedback System on 10/8/2019 01:54 PM: 

<p>This issue is currently being investigated. Our team will get back to you if either more information is needed a workaround is available or the issue is resolved.</p>


---
### Original Solutions
(no solutions)","Using cref to itself inside inheritdoc crashes VS _This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/761030/using-cref-to-itself-inside-inheritdoc-crashes-vs.html)._

---
This is a new issue as inheritdoc is just being added in 16.4.0 preview 1. This problem therefor only happens in 16.4.0 preview 1 (or later?). 

With the new feature we can use /// &lt;inheritdoc/&gt; to define the same xml comments from the inheritted class on members that are inherited. /// &lt;inheritdoc/&gt; works fine but /// &lt;inheritdoc cref=&quot;MyProperty&quot; /&gt; crashes Visual Studio to desktop ('CTD') upon hovering the mouse over MyProperty. 

To recreate:

1. Create a new .NET Core Console App.
2. Create a new interface: IMyClass with a member (can be property method ...) MyMember and add a summary to it with ///.
3. Create a new class: MyClass that implements IMyClass (add &quot;: IMyClass&quot;).
4. Implement the member MyMember. 
5. Add /// &lt;inheritdoc /&gt; above MyMember. So far so good.
6. Change &lt;inheritdoc /&gt; to &lt;inheritdoc cref=&quot;MyMember&quot;/&gt; and move your mouse over MyMember. VS will crash before it can show the tooltip.

---
### Original Comments

#### Visual Studio Feedback System on 10/6/2019 09:24 PM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>

#### Visual Studio Feedback System on 10/8/2019 01:54 PM: 

<p>This issue is currently being investigated. Our team will get back to you if either more information is needed a workaround is available or the issue is resolved.</p>


---
### Original Solutions
(no solutions)",Area-IDE|Bug|Developer Community,sharwell,,
39157,Initial support for binary operators with native-sized integers,,Initial support for binary operators with native-sized integers ,Area-Compilers,cston|jinujoseph|jaredpar|agocke|333fred|gafter|RikkiGibson|VSadov|AlekseyTs|jcouv|chsienki|fayrose,10/10/2019 4:46,
39156,Remove code to generate type switches,Requested in https://github.com/dotnet/roslyn/pull/38013#discussion_r330308187,Remove code to generate type switches Requested in https://github.com/dotnet/roslyn/pull/38013#discussion_r330308187,Area-IDE,sharwell,10/10/2019 2:57,10/10/2019 4:43
39155,Inconsist diagnostics on extension GetAwaiter,"After invesgating #25861 I've found that using `await` when missing `GetAwaiter()` *extension* method can results in 3 different error codes:
- **CS1061** No such instance or extension member
```csharp
    public class Foo
    {
        async void M(Foo foo)
        {
            await foo;
        }
    }
```
- **CS4036** Specialised  for WinRT async interfaces
```csharp
    public class Foo
    {
        async void M(Windows.Foundation.IAsyncAction ia)
        {
            await ia;
        }
    }
```
- **CS1929** Extension method overload resolution fail
```csharp
using System;
using System.Runtime.CompilerServices;

namespace A
{
    public class Foo
    {
        async void M(Foo foo)
        {
            await foo;
        }
    }

    public static class BarExtension
    {
        public static Extension.FooAwaiter GetAwaiter(this string s) => default;
    }
}

namespace A.Extension
{
    public static class FooExtensions
    {
        public static FooAwaiter GetAwaiter(this Foo foo) => default;
    }

    public struct FooAwaiter : INotifyCompletion
    {
        public bool IsCompleted { get; }
        public void OnCompleted(Action continuation) {}
        public void GetResult() {}
    }
}

```

Currently add imports service can only recognize the first case **CS1061**.
Linq syntax provides a specialised **CS1929** and the general **CS1936**.
However missing method for deconstruction provides one consist error code **CS8129**:
```csharp
using System;
using System.Runtime.CompilerServices;

namespace A
{
    public class Foo
    {
        async void M(Foo foo)
        {
            var (a b) = foo;
        }
    }

    public static class BarExtension
    {
        // Reports CS8129 no matter existence of this method
        public static void Deconstruct(this string foo out int a out int b)
        {
            a = 1;
            b = 2;
        }
    }
}

namespace A.Extension
{
    public static class FooExtensions
    {
        public static void Deconstruct(this Foo foo out int a out int b)
        {
            a = 1;
            b = 2;
        }
    }
}
```
This makes code fix much easier to deal with it.
In all the three syntaxes diagnostics span differs on existence of extension on other type.

Can we unify the error codes and diagnostics span for such scenarios? ","Inconsist diagnostics on extension GetAwaiter After invesgating #25861 I've found that using `await` when missing `GetAwaiter()` *extension* method can results in 3 different error codes:
- **CS1061** No such instance or extension member
```csharp
    public class Foo
    {
        async void M(Foo foo)
        {
            await foo;
        }
    }
```
- **CS4036** Specialised  for WinRT async interfaces
```csharp
    public class Foo
    {
        async void M(Windows.Foundation.IAsyncAction ia)
        {
            await ia;
        }
    }
```
- **CS1929** Extension method overload resolution fail
```csharp
using System;
using System.Runtime.CompilerServices;

namespace A
{
    public class Foo
    {
        async void M(Foo foo)
        {
            await foo;
        }
    }

    public static class BarExtension
    {
        public static Extension.FooAwaiter GetAwaiter(this string s) => default;
    }
}

namespace A.Extension
{
    public static class FooExtensions
    {
        public static FooAwaiter GetAwaiter(this Foo foo) => default;
    }

    public struct FooAwaiter : INotifyCompletion
    {
        public bool IsCompleted { get; }
        public void OnCompleted(Action continuation) {}
        public void GetResult() {}
    }
}

```

Currently add imports service can only recognize the first case **CS1061**.
Linq syntax provides a specialised **CS1929** and the general **CS1936**.
However missing method for deconstruction provides one consist error code **CS8129**:
```csharp
using System;
using System.Runtime.CompilerServices;

namespace A
{
    public class Foo
    {
        async void M(Foo foo)
        {
            var (a b) = foo;
        }
    }

    public static class BarExtension
    {
        // Reports CS8129 no matter existence of this method
        public static void Deconstruct(this string foo out int a out int b)
        {
            a = 1;
            b = 2;
        }
    }
}

namespace A.Extension
{
    public static class FooExtensions
    {
        public static void Deconstruct(this Foo foo out int a out int b)
        {
            a = 1;
            b = 2;
        }
    }
}
```
This makes code fix much easier to deal with it.
In all the three syntaxes diagnostics span differs on existence of extension on other type.

Can we unify the error codes and diagnostics span for such scenarios? ",Area-Compilers|Feature Request|Resolution-Won't Fix,gafter|huoyaoyuan,10/10/2019 2:25,15/10/2019 9:31
39154,Support the 'language' attribute for <code> documentation elements,"Requested as part of #39140

?? [language attribute (Sandcastle Help File Builder XML Comments Guide)](http://ewsoftware.github.io/XMLCommentsGuide/html/1abd1992-e3d0-45b4-b43d-91fcfc5e5574.htm#language)","Support the 'language' attribute for <code> documentation elements Requested as part of #39140

?? [language attribute (Sandcastle Help File Builder XML Comments Guide)](http://ewsoftware.github.io/XMLCommentsGuide/html/1abd1992-e3d0-45b4-b43d-91fcfc5e5574.htm#language)",Area-IDE|Feature Request|IDE-IntelliSense|Need Design Review,sharwell,10/10/2019 1:55,
39153,Merge master to features/static-lambdas,"
This is an automatically generated pull request from master into features/static-lambdas.

``` bash
git fetch --all
git checkout merges/master-to-features/static-lambdas
git reset --hard upstream/features/static-lambdas
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-features/static-lambdas --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge master to features/static-lambdas 
This is an automatically generated pull request from master into features/static-lambdas.

``` bash
git fetch --all
git checkout merges/master-to-features/static-lambdas
git reset --hard upstream/features/static-lambdas
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-features/static-lambdas --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|dibarbet,9/10/2019 23:02,10/10/2019 4:16
39152,Merge master to master-vs-deps,"
This is an automatically generated pull request from master into master-vs-deps.

``` bash
git fetch --all
git checkout merges/master-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge master to master-vs-deps 
This is an automatically generated pull request from master into master-vs-deps.

``` bash
git fetch --all
git checkout merges/master-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|dibarbet,9/10/2019 23:02,10/10/2019 4:16
39151,Merge master to release/dev16.5-preview1,"
This is an automatically generated pull request from master into release/dev16.5-preview1.

``` bash
git fetch --all
git checkout merges/master-to-release/dev16.5-preview1
git reset --hard upstream/release/dev16.5-preview1
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-release/dev16.5-preview1 --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge master to release/dev16.5-preview1 
This is an automatically generated pull request from master into release/dev16.5-preview1.

``` bash
git fetch --all
git checkout merges/master-to-release/dev16.5-preview1
git reset --hard upstream/release/dev16.5-preview1
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-release/dev16.5-preview1 --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|dibarbet,9/10/2019 23:00,10/10/2019 4:16
39150,Degraded IntelliSense on RHS of await,"**Version Used**:  VS 16.4 P1

**Steps to Reproduce**:
```csharp
using System.IO;
using System.Threading.Tasks;

namespace ConsoleApp24
{
    class Program
    {
        static async Task Main(string[] args)
        {
            var request = new Request();
            var meh = await request$$.ReadAsStreamAsync();
        }
    }

    class Request
    {
        public Task<Stream> ReadAsStreamAsync() => null;
    }
}
```
1. Place cursor at `$$`
2. Type `.`
3. IntelliSense window does not open and cannot be prompted with `CTRL + Spacebar`

**Expected Behavior**:
IntelliSense window opens suggesting members of `request`

**Actual Behavior**:
IntelliSense window denies me","Degraded IntelliSense on RHS of await **Version Used**:  VS 16.4 P1

**Steps to Reproduce**:
```csharp
using System.IO;
using System.Threading.Tasks;

namespace ConsoleApp24
{
    class Program
    {
        static async Task Main(string[] args)
        {
            var request = new Request();
            var meh = await request$$.ReadAsStreamAsync();
        }
    }

    class Request
    {
        public Task<Stream> ReadAsStreamAsync() => null;
    }
}
```
1. Place cursor at `$$`
2. Type `.`
3. IntelliSense window does not open and cannot be prompted with `CTRL + Spacebar`

**Expected Behavior**:
IntelliSense window opens suggesting members of `request`

**Actual Behavior**:
IntelliSense window denies me",Area-IDE|Bug|New Language Feature - Range,ivanbasov,,
39148,Feature: Add wrap all elements for initializer expressions,"Users will now be offered wrapping refactor options similar to functions with multiple arguments and parameters. The following refactor options are available for initializer expressions:

- Wrap every
- Unwrap and indent
- Wrap long list

I added 3 unit tests to test:

- Initializer that should offer no suggestion
- Small initializer with a few values
- Long initializer with 9 values

This implements the request from issue #37428","Feature: Add wrap all elements for initializer expressions Users will now be offered wrapping refactor options similar to functions with multiple arguments and parameters. The following refactor options are available for initializer expressions:

- Wrap every
- Unwrap and indent
- Wrap long list

I added 3 unit tests to test:

- Initializer that should offer no suggestion
- Small initializer with a few values
- Long initializer with 9 values

This implements the request from issue #37428",Area-IDE|Community|Feature Request|PR For Personal Review Only,CyrusNajmabadi|jinujoseph,9/10/2019 11:13,
39147,ViewsOfAClassPublicFunctionsInC++C#VB,"_This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/idea/753971/viewsofaclasspublicfunctionsinccvb.html)._

---
<p></p><p>Hi there. This is just a suggestion to the Community and a request to engage with the Microsoft Development </p><p>Community. I am very keen to have your comments on this suggestion please. </p><p>My suggestion is to have a directive or tag along the lines of #region in C# in Visual Studio that groups sections of a class' public interface. </p> <p>Hence this could then be viewed in Intellisense when writing code. </p> <p>For example if you have a Car class that has different Drive functions </p><p>eg DriveFast DriveSlow DriveMedium and other public functions aswell. You could group the Drive functions under the Drive tag. Then in Intellisense in Visual Studio you </p><p>could drill down for example if you had a car variable aCar.</p> <p>It would appear in Inteliisense as acar. Drive.DriveSlow and when you selected the function </p><p>it would appear in code as acar. DriveSlow. </p><p>This could be optional with functions appearing under their categories in Intellisense if they were tagged </p><p>or not if they weren't. </p> <p>So this would be a view of a class' public functions rather like a View of a database. </p> <p>This could help in documentation understanding and writing code in Visual Studio and maybe lessen </p><p>the need to have Interfaces.</p>

---
### Original Comments

#### Fiona Niu[MSFT] on 9/30/2019 00:11 AM: 

<p>Thank you for taking the time to provide your suggestion. We will do some preliminary checks to make sure we can proceed further.  We’ll provide an update once the issue has been triaged by the product team.</p>

#### Taher Hassan on 10/1/2019 04:18 AM: 

<p>Hi Fiona</p><p>Many thanks - that's excellent. I look forward to hearing what you think.</p><p>Many thanks and best regards Taher Hassan</p>
","ViewsOfAClassPublicFunctionsInC++C#VB _This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/idea/753971/viewsofaclasspublicfunctionsinccvb.html)._

---
<p></p><p>Hi there. This is just a suggestion to the Community and a request to engage with the Microsoft Development </p><p>Community. I am very keen to have your comments on this suggestion please. </p><p>My suggestion is to have a directive or tag along the lines of #region in C# in Visual Studio that groups sections of a class' public interface. </p> <p>Hence this could then be viewed in Intellisense when writing code. </p> <p>For example if you have a Car class that has different Drive functions </p><p>eg DriveFast DriveSlow DriveMedium and other public functions aswell. You could group the Drive functions under the Drive tag. Then in Intellisense in Visual Studio you </p><p>could drill down for example if you had a car variable aCar.</p> <p>It would appear in Inteliisense as acar. Drive.DriveSlow and when you selected the function </p><p>it would appear in code as acar. DriveSlow. </p><p>This could be optional with functions appearing under their categories in Intellisense if they were tagged </p><p>or not if they weren't. </p> <p>So this would be a view of a class' public functions rather like a View of a database. </p> <p>This could help in documentation understanding and writing code in Visual Studio and maybe lessen </p><p>the need to have Interfaces.</p>

---
### Original Comments

#### Fiona Niu[MSFT] on 9/30/2019 00:11 AM: 

<p>Thank you for taking the time to provide your suggestion. We will do some preliminary checks to make sure we can proceed further.  We’ll provide an update once the issue has been triaged by the product team.</p>

#### Taher Hassan on 10/1/2019 04:18 AM: 

<p>Hi Fiona</p><p>Many thanks - that's excellent. I look forward to hearing what you think.</p><p>Many thanks and best regards Taher Hassan</p>
",Area-Language Design|Area-SDK and Samples|Developer Community|Feature Request,gafter|jinujoseph,9/10/2019 11:11,
39146,Object creation can be simplified suggestion should be more clever,"[Original Developer Community feedback ](https://developercommunity.visualstudio.com/content/idea/754229/object-creation-can-be-simplified-suggestion-shoul.html)copied to preserve code format.

After applying object creation can be simplified refactoring suggestion I moved some method calling code below so that more object.field/property = … could be grouped with the creation code block however it seems I don’t get a newer suggestion to also place them in the simplified object creation block it created before

```csharp
MailMessage emailmessage = new MailMessage
        {
            SubjectEncoding = encoding //...using Greek (ISO) encoding instead of UTF8 or other Unicode one since mail clients at old XP machines usually can't show Unicode
            BodyEncoding = encoding

            From = new MailAddress(EMAIL_FROM EMAIL_FROM_NAME)
        };

        //*** moved code from this position (see *** below) that made the following 3 assignments not get refactored was here (however don't get new tip to refactor those 3 too inside the object creation block above even though they all are of the form objectname.field/property = ...

         emailmessage.Subject = subject;

        // Plain text emails can't display images so change body to HTML type
        emailmessage.IsBodyHtml = true;

        // public construct the alternate body as HTML 
        emailmessage.Body = EMAIL_HEADER + body + EMAIL_FOOTER;

       //*** moved code is here now...

        emailmessage.To.Add(toEmailAddress.Replace(';' ''));

        if (!string.IsNullOrEmpty(ccEmailAddress))
            emailmessage.CC.Add(ccEmailAddress.Replace(';' ''));

        if (!string.IsNullOrEmpty(bccEmailAddress))
            emailmessage.Bcc.Add(bccEmailAddress.Replace(';' ''));
```","Object creation can be simplified suggestion should be more clever [Original Developer Community feedback ](https://developercommunity.visualstudio.com/content/idea/754229/object-creation-can-be-simplified-suggestion-shoul.html)copied to preserve code format.

After applying object creation can be simplified refactoring suggestion I moved some method calling code below so that more object.field/property = … could be grouped with the creation code block however it seems I don’t get a newer suggestion to also place them in the simplified object creation block it created before

```csharp
MailMessage emailmessage = new MailMessage
        {
            SubjectEncoding = encoding //...using Greek (ISO) encoding instead of UTF8 or other Unicode one since mail clients at old XP machines usually can't show Unicode
            BodyEncoding = encoding

            From = new MailAddress(EMAIL_FROM EMAIL_FROM_NAME)
        };

        //*** moved code from this position (see *** below) that made the following 3 assignments not get refactored was here (however don't get new tip to refactor those 3 too inside the object creation block above even though they all are of the form objectname.field/property = ...

         emailmessage.Subject = subject;

        // Plain text emails can't display images so change body to HTML type
        emailmessage.IsBodyHtml = true;

        // public construct the alternate body as HTML 
        emailmessage.Body = EMAIL_HEADER + body + EMAIL_FOOTER;

       //*** moved code is here now...

        emailmessage.To.Add(toEmailAddress.Replace(';' ''));

        if (!string.IsNullOrEmpty(ccEmailAddress))
            emailmessage.CC.Add(ccEmailAddress.Replace(';' ''));

        if (!string.IsNullOrEmpty(bccEmailAddress))
            emailmessage.Bcc.Add(bccEmailAddress.Replace(';' ''));
```",Area-IDE|Concept-Continuous Improvement|IDE-CodeStyle|help wanted,gafter|jinujoseph,9/10/2019 11:05,
39145,Merge master to features/static-lambdas,"
This is an automatically generated pull request from master into features/static-lambdas.

``` bash
git fetch --all
git checkout merges/master-to-features/static-lambdas
git reset --hard upstream/features/static-lambdas
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-features/static-lambdas --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge master to features/static-lambdas 
This is an automatically generated pull request from master into features/static-lambdas.

``` bash
git fetch --all
git checkout merges/master-to-features/static-lambdas
git reset --hard upstream/features/static-lambdas
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-features/static-lambdas --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|dibarbet,9/10/2019 11:02,9/10/2019 19:34
39144,Merge master to master-vs-deps,"
This is an automatically generated pull request from master into master-vs-deps.

``` bash
git fetch --all
git checkout merges/master-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge master to master-vs-deps 
This is an automatically generated pull request from master into master-vs-deps.

``` bash
git fetch --all
git checkout merges/master-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|dibarbet,9/10/2019 11:02,9/10/2019 19:33
39143,Merge master to release/dev16.5-preview1,"
This is an automatically generated pull request from master into release/dev16.5-preview1.

``` bash
git fetch --all
git checkout merges/master-to-release/dev16.5-preview1
git reset --hard upstream/release/dev16.5-preview1
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-release/dev16.5-preview1 --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge master to release/dev16.5-preview1 
This is an automatically generated pull request from master into release/dev16.5-preview1.

``` bash
git fetch --all
git checkout merges/master-to-release/dev16.5-preview1
git reset --hard upstream/release/dev16.5-preview1
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-release/dev16.5-preview1 --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|dibarbet,9/10/2019 11:00,9/10/2019 19:33
39142,"Refactoring ""Compute constant value"" not available on constant-only-values.","_This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/idea/759053/refactoring-compute-constant-value-not-available-o.html)._

---
<p>Hi</p><p>Today there is a refactoring available to <em>Compute constant value</em> if you have an expression like below:</p><pre>var foo = Some.Namespace.With.A.Constant + &quot;my own string&quot;;</pre> <p>However this does not appear on the simpler variant like this:</p><pre>var foo = Some.Namespace.With.A.Constant;</pre> <p>In practice I can just append <strong>+&quot;&quot;</strong> to the value and then use the refactoring but it should not be necessary.</p> <p>Best regards he who tries to get rid of some inter-solution dependencies in old stuff and wants to save some time next time.</p>

---
### Original Comments

#### Jane Wu [MSFT] on 10/8/2019 05:29 AM: 

<p>Thank you for taking the time to provide your suggestion. We will do some preliminary checks to make sure we can proceed further.  We’ll provide an update once the issue has been triaged by the product team.</p>
","Refactoring ""Compute constant value"" not available on constant-only-values. _This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/idea/759053/refactoring-compute-constant-value-not-available-o.html)._

---
<p>Hi</p><p>Today there is a refactoring available to <em>Compute constant value</em> if you have an expression like below:</p><pre>var foo = Some.Namespace.With.A.Constant + &quot;my own string&quot;;</pre> <p>However this does not appear on the simpler variant like this:</p><pre>var foo = Some.Namespace.With.A.Constant;</pre> <p>In practice I can just append <strong>+&quot;&quot;</strong> to the value and then use the refactoring but it should not be necessary.</p> <p>Best regards he who tries to get rid of some inter-solution dependencies in old stuff and wants to save some time next time.</p>

---
### Original Comments

#### Jane Wu [MSFT] on 10/8/2019 05:29 AM: 

<p>Thank you for taking the time to provide your suggestion. We will do some preliminary checks to make sure we can proceed further.  We’ll provide an update once the issue has been triaged by the product team.</p>
",Area-IDE|Developer Community|Feature Request,gafter|jinujoseph,9/10/2019 10:58,
39141,Add ability to customize the xml comments format,"_This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/idea/406779/add-ability-to-customize-the-xml-comments-format.html)._

---
<p>I am using /// to generate documentation but would like to alter the template / snippet that is inserted.  I see there might be a way to do it with custom snippets but seems like it should be a built in option.</p>

---
### Original Comments

#### Jane Wu [MSFT] on 12/13/2018 05:51 PM: 

<p>Thank you for taking the time to provide your suggestion. We will do some preliminary checks to make sure we can proceed further.&nbsp;You will hear from us in about a week on our next steps.</p>
#### Dinakar Nethi [MSFT] on 1/4/2019 03:28 PM: 

<p>Your suggestion has been queued up for prioritization.  Feature suggestions are prioritized based on the value to our broader developer community and the product roadmap. We may not be able to pursue this one immediately but we will continue to monitor it up to 90 days for community input</p>
","Add ability to customize the xml comments format _This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/idea/406779/add-ability-to-customize-the-xml-comments-format.html)._

---
<p>I am using /// to generate documentation but would like to alter the template / snippet that is inserted.  I see there might be a way to do it with custom snippets but seems like it should be a built in option.</p>

---
### Original Comments

#### Jane Wu [MSFT] on 12/13/2018 05:51 PM: 

<p>Thank you for taking the time to provide your suggestion. We will do some preliminary checks to make sure we can proceed further.&nbsp;You will hear from us in about a week on our next steps.</p>
#### Dinakar Nethi [MSFT] on 1/4/2019 03:28 PM: 

<p>Your suggestion has been queued up for prioritization.  Feature suggestions are prioritized based on the value to our broader developer community and the product roadmap. We may not be able to pursue this one immediately but we will continue to monitor it up to 90 days for community input</p>
",Area-IDE|Developer Community|Feature Request|Need Design Review,gafter|jinujoseph,9/10/2019 10:57,
39140,<code> tags in XML comments should render as monospaced syntax highlighted code in the IntelliSense popups.,"_This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/idea/721265/tags-in-xml-comments-should-render-as-monospaced-s.html)._

---
What it says on the tin :)

---
### Original Comments

#### Jane Wu [MSFT] on 9/3/2019 07:50 PM: 

<p>Thank you for taking the time to provide your suggestion. We will do some preliminary checks to make sure we can proceed further.  We’ll provide an update once the issue has been triaged by the product team.</p>
","<code> tags in XML comments should render as monospaced, syntax highlighted code in the IntelliSense popups. _This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/idea/721265/tags-in-xml-comments-should-render-as-monospaced-s.html)._

---
What it says on the tin :)

---
### Original Comments

#### Jane Wu [MSFT] on 9/3/2019 07:50 PM: 

<p>Thank you for taking the time to provide your suggestion. We will do some preliminary checks to make sure we can proceed further.  We’ll provide an update once the issue has been triaged by the product team.</p>
",Area-IDE|Bug|IDE-IntelliSense|help wanted,sharwell,9/10/2019 10:54,
39139,<see> tags in XML docs should be clickable links in the IntelliSense popups.,"_This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/idea/721266/tags-in-xml-docs-should-be-clickable-links-in-the.html)._

---
What it says on the tin :)

---
### Original Comments

#### Jane Wu [MSFT] on 9/3/2019 07:50 PM: 

<p>Thank you for taking the time to provide your suggestion. We will do some preliminary checks to make sure we can proceed further.  We’ll provide an update once the issue has been triaged by the product team.</p>
","<see> tags in XML docs should be clickable links in the IntelliSense popups. _This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/idea/721266/tags-in-xml-docs-should-be-clickable-links-in-the.html)._

---
What it says on the tin :)

---
### Original Comments

#### Jane Wu [MSFT] on 9/3/2019 07:50 PM: 

<p>Thank you for taking the time to provide your suggestion. We will do some preliminary checks to make sure we can proceed further.  We’ll provide an update once the issue has been triaged by the product team.</p>
",Area-IDE|Developer Community|IDE-IntelliSense|Resolution-Fixed,gafter|jinujoseph|sharwell,9/10/2019 10:54,16/10/2019 6:20
39138,Refactoring -> Rename should rename fields/variables/parameters,"_This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/idea/762598/refactoring-rename-should-rename-fieldsvariablespa.html)._

---
Often using DI we have things like

public MyClass(IFirstInterface firstInterface ISecondInterface secondInterface)
{
    _firstInterface = firstInterface;
    _secondInterface = secondInterface;
}

Currently if i rename IFirstInterface -&gt; ISomethingElse it only renames the interface not the fields variables and parameters.

public MyClass(ISomethingElse firstInterface ISecondInterface secondInterface)
{
    _firstInterface = firstInterface;
    _secondInterface = secondInterface;
}

Really it should go further and do the same as Resharper:

public MyClass(ISomethingElse somethingElse ISecondInterface secondInterface)
{
    _somethingElse= somethingElse;
    _secondInterface = secondInterface;
}

---
### Original Comments

#### Jane Wu [MSFT] on 10/8/2019 05:26 AM: 

<p>Thank you for taking the time to provide your suggestion. We will do some preliminary checks to make sure we can proceed further.  We’ll provide an update once the issue has been triaged by the product team.</p>
","Refactoring -> Rename should rename fields/variables/parameters _This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/idea/762598/refactoring-rename-should-rename-fieldsvariablespa.html)._

---
Often using DI we have things like

public MyClass(IFirstInterface firstInterface ISecondInterface secondInterface)
{
    _firstInterface = firstInterface;
    _secondInterface = secondInterface;
}

Currently if i rename IFirstInterface -&gt; ISomethingElse it only renames the interface not the fields variables and parameters.

public MyClass(ISomethingElse firstInterface ISecondInterface secondInterface)
{
    _firstInterface = firstInterface;
    _secondInterface = secondInterface;
}

Really it should go further and do the same as Resharper:

public MyClass(ISomethingElse somethingElse ISecondInterface secondInterface)
{
    _somethingElse= somethingElse;
    _secondInterface = secondInterface;
}

---
### Original Comments

#### Jane Wu [MSFT] on 10/8/2019 05:26 AM: 

<p>Thank you for taking the time to provide your suggestion. We will do some preliminary checks to make sure we can proceed further.  We’ll provide an update once the issue has been triaged by the product team.</p>
",Area-IDE|Feature Request|Need Design Review,gafter|jinujoseph,9/10/2019 10:53,
39137,Require MSBuild 16.3 in compiler NuGet packages,Fixes #38312,Require MSBuild 16.3 in compiler NuGet packages Fixes #38312,Area-Compilers,agocke|jaredpar|jasonmalinowski|333fred|gafter|RikkiGibson|VSadov|AlekseyTs|cston|jcouv|chsienki|fayrose,9/10/2019 10:37,17/10/2019 4:32
39136,Include source files w/o method bodies in the PDB documents,"Fixes #38954

Currently the compiler does not list source files in the debug documents in the PDB that are part of the compilation but do not have any method body. These documents are only added in order to support sequence points.","Include source files w/o method bodies in the PDB documents Fixes #38954

Currently the compiler does not list source files in the debug documents in the PDB that are part of the compilation but do not have any method body. These documents are only added in order to support sequence points.",Area-Compilers,jcouv,,
39135,Local function GetAttributes,"Related to #38801

- LangVersion errors on all local function attributes (incl. parameters and type parameters)
- GetAttributes()
- Attribute binding rejecting attributes on invalid targets
~~- [ ] tests for speculative semantic model~~ moving to test plan

PTAL @dotnet/roslyn-compiler @cston","Local function GetAttributes Related to #38801

- LangVersion errors on all local function attributes (incl. parameters and type parameters)
- GetAttributes()
- Attribute binding rejecting attributes on invalid targets
~~- [ ] tests for speculative semantic model~~ moving to test plan

PTAL @dotnet/roslyn-compiler @cston",Area-Compilers,RikkiGibson|cston|jaredpar|agocke|333fred|gafter|VSadov|AlekseyTs|jcouv|chsienki|fayrose,9/10/2019 5:28,15/10/2019 16:59
39134,Fix converted nullability on extract method,"Fixes #39075 

* Remove the IsObjectType check since it caused incorrect behavior when selecting an identifier of type Object. See TestExtractNullableObjectWithExplicitCast 
* Fix extension methods to correctly use converted nullability 
* Add some tests to show expected behavior with nullable reference types
* Work around #39122 by calling GetTypeInfo on the CastExpressionSyntax  directly","Fix converted nullability on extract method Fixes #39075 

* Remove the IsObjectType check since it caused incorrect behavior when selecting an identifier of type Object. See TestExtractNullableObjectWithExplicitCast 
* Fix extension methods to correctly use converted nullability 
* Add some tests to show expected behavior with nullable reference types
* Work around #39122 by calling GetTypeInfo on the CastExpressionSyntax  directly",Area-IDE|New Language Feature - Nullable Reference Types,ryzngard,9/10/2019 5:14,15/10/2019 6:34
39133,System.Runtime.CompilerServices.NullableAttribute is not returning if there are no even properties with null and without null.,"**Version Used**:  netcoreapp3.0 sdk - 3.0.100

**Steps to Reproduce**:
If a class has 3 nullable props and 3 non-nullable props ``NullableAttribute`` is **returned**.
But if a class has 3 nullable and 2 non nullable ''NullableAttribute'' is **not returned**.

Below program will work fine. 
But if you un-comment ``Content2`` or comment out ``dummy`` this will give 0 attrs.

That is everything must be even.

```csharp
class Program
{
    static void Main(string[] args)
    {
        var props = typeof(Todo).GetProperties();

        foreach (var propItem in props)
        {
            var attrs = propItem.GetCustomAttributes();
        }
    }
}


public class Todo
{
    public string? Content { get; set; }
    //public string? Content2 { get; set; }
    public Test? MyProperty { get; set; }

    public string dummy { get; set; } = string.Empty;
    public Test dummy2 { get; set; } = default!;
}

public class Test
{
    public int MyProperty { get; set; }
}
```

**Expected Behavior**:
``System.Runtime.CompilerServices.NullableAttribute`` must be returned for nullable properties.

**Actual Behavior**:
``System.Runtime.CompilerServices.NullableAttribute`` is not returned for nullable properties.
","System.Runtime.CompilerServices.NullableAttribute is not returning if there are no even properties with null and without null. **Version Used**:  netcoreapp3.0 sdk - 3.0.100

**Steps to Reproduce**:
If a class has 3 nullable props and 3 non-nullable props ``NullableAttribute`` is **returned**.
But if a class has 3 nullable and 2 non nullable ''NullableAttribute'' is **not returned**.

Below program will work fine. 
But if you un-comment ``Content2`` or comment out ``dummy`` this will give 0 attrs.

That is everything must be even.

```csharp
class Program
{
    static void Main(string[] args)
    {
        var props = typeof(Todo).GetProperties();

        foreach (var propItem in props)
        {
            var attrs = propItem.GetCustomAttributes();
        }
    }
}


public class Todo
{
    public string? Content { get; set; }
    //public string? Content2 { get; set; }
    public Test? MyProperty { get; set; }

    public string dummy { get; set; } = string.Empty;
    public Test dummy2 { get; set; } = default!;
}

public class Test
{
    public int MyProperty { get; set; }
}
```

**Expected Behavior**:
``System.Runtime.CompilerServices.NullableAttribute`` must be returned for nullable properties.

**Actual Behavior**:
``System.Runtime.CompilerServices.NullableAttribute`` is not returned for nullable properties.
",Area-Compilers|Documentation|New Language Feature - Nullable Reference Types|Question|Resolution-Answered,cston,,
39132,[Proposal] String interpolation,"An option to expand the string interpolation to a call other than string.Format would be nice to have.

For example I want
`logger.LogInformation($""Hello {name}"")`
to be expanded to
`logger.LogInformation(""Hello {0}"" name)`
rather than
`logger.LogInformation(string.Format(""Hello {0}"" name))`

Compiler can require the method to have a specific signature and annotated with an attribute for this.","[Proposal] String interpolation An option to expand the string interpolation to a call other than string.Format would be nice to have.

For example I want
`logger.LogInformation($""Hello {name}"")`
to be expanded to
`logger.LogInformation(""Hello {0}"" name)`
rather than
`logger.LogInformation(string.Format(""Hello {0}"" name))`

Compiler can require the method to have a specific signature and annotated with an attribute for this.",Area-Compilers,jinujoseph|RikkiGibson,9/10/2019 4:03,11/10/2019 4:23
39149,Why 'await' causing compiler error when that in an interpolated string?,"The following code cannot be compiled:
```C#
        private static async Task Main()
        {
            // compiler error CS0103 : The name 'await' does not exist in the current context
            var z = $""{await (Task.FromResult(string.Empty))}"";

            // allowed
            var a = await Task.FromResult(string.Empty);
            var b = await (Task.FromResult(string.Empty));
            var c = $""{await Task.FromResult(string.Empty)}"";

            Console.ReadLine();
        }
```","Why 'await' causing compiler error when that in an interpolated string? The following code cannot be compiled:
```C#
        private static async Task Main()
        {
            // compiler error CS0103 : The name 'await' does not exist in the current context
            var z = $""{await (Task.FromResult(string.Empty))}"";

            // allowed
            var a = await Task.FromResult(string.Empty);
            var b = await (Task.FromResult(string.Empty));
            var c = $""{await Task.FromResult(string.Empty)}"";

            Console.ReadLine();
        }
```",Area-Compilers|Bug,333fred,9/10/2019 1:43,
39130,CS0618 shown in error when method uses obsolete element internally,"Visual Studio 16.3.2

I have a method using an obsolete element INTERANALLY - it is not used as parameter nor is it actually returned.

I am getting offered to add the obsolete attribute to the method:

![image](https://user-images.githubusercontent.com/909612/66395471-c7276900-e9d7-11e9-9fbb-08edc63e501d.png)

This is factually incorrect. While the warning on the obsolete element is sensible adding obsolete to the method would mark this method as obsolete - which is wrong. It may need rework but it is not obsolete - it is still to be used.

This would be different if the obsolete element would be part of input or output parameters. But in this case it is not - it is defined within the method body and then discarded.
","CS0618 shown in error when method uses obsolete element internally Visual Studio 16.3.2

I have a method using an obsolete element INTERANALLY - it is not used as parameter nor is it actually returned.

I am getting offered to add the obsolete attribute to the method:

![image](https://user-images.githubusercontent.com/909612/66395471-c7276900-e9d7-11e9-9fbb-08edc63e501d.png)

This is factually incorrect. While the warning on the obsolete element is sensible adding obsolete to the method would mark this method as obsolete - which is wrong. It may need rework but it is not obsolete - it is still to be used.

This would be different if the obsolete element would be part of input or output parameters. But in this case it is not - it is defined within the method body and then discarded.
",Area-IDE|Resolution-By Design,jinujoseph|gafter|CyrusNajmabadi|sharwell,8/10/2019 23:28,16/10/2019 6:19
39129,Merge master to release/dev16.5-preview1,"
This is an automatically generated pull request from master into release/dev16.5-preview1.

``` bash
git fetch --all
git checkout merges/master-to-release/dev16.5-preview1
git reset --hard upstream/release/dev16.5-preview1
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-release/dev16.5-preview1 --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge master to release/dev16.5-preview1 
This is an automatically generated pull request from master into release/dev16.5-preview1.

``` bash
git fetch --all
git checkout merges/master-to-release/dev16.5-preview1
git reset --hard upstream/release/dev16.5-preview1
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-release/dev16.5-preview1 --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|dibarbet,8/10/2019 23:01,9/10/2019 3:47
39128,SyntaxFactory.MethodDeclaration no longer accepts SyntaxKind.EndOfFileToken for semicolonToken,"Previous to upgrading to 3.3.1 (was on 3.1.0) I was able to pass a SyntaxKind.EndofFileToken into semicolon parameter on the SyntaxFactory.MethodDeclaration method but after the upgrade to 3.3.1  now receive a runtime exception … System.ArgumentException: 'semicolonToken'. 


**Steps to Reproduce**:
 
 SyntaxFactory.MethodDeclaration(attributeLists: SyntaxFactory.List<AttributeListSyntax>()
              modifiers: modifiers
              returnType: SyntaxFactory.ParseTypeName(""void"")
              explicitInterfaceSpecifier: interfaceSpecifier
              identifier: SyntaxFactory.Identifier(""On"" + method.Name.Replace("" "" """"))
              typeParameterList: null
              parameterList: parameterList
              constraintClauses: SyntaxFactory.List<TypeParameterConstraintClauseSyntax>()
              body: SyntaxFactory.Block()
            .WithOpenBraceToken(
                SyntaxFactory.Token(SyntaxKind.OpenBraceToken))
            .WithCloseBraceToken(
                SyntaxFactory.Token(SyntaxKind.CloseBraceToken))                
                semicolonToken: SyntaxFactory.Token(SyntaxKind.EndOfFileToken)).NormalizeWhitespace();

2. Runs perfectly on 3.1.0

3. Switch to 3.3.1 to receive an argument exception ""SemiColon""
 

**Expected Behavior**:
3.1.0 sample generation...

partial void OnInitializeConstructorParameters(RoleId roleId ApplicationId appId string name string description List<Permission> permissions)
        {
        }
**Actual Behavior**:
Runtime Argument Exception ""SemiColon""","SyntaxFactory.MethodDeclaration no longer accepts SyntaxKind.EndOfFileToken for semicolonToken Previous to upgrading to 3.3.1 (was on 3.1.0) I was able to pass a SyntaxKind.EndofFileToken into semicolon parameter on the SyntaxFactory.MethodDeclaration method but after the upgrade to 3.3.1  now receive a runtime exception … System.ArgumentException: 'semicolonToken'. 


**Steps to Reproduce**:
 
 SyntaxFactory.MethodDeclaration(attributeLists: SyntaxFactory.List<AttributeListSyntax>()
              modifiers: modifiers
              returnType: SyntaxFactory.ParseTypeName(""void"")
              explicitInterfaceSpecifier: interfaceSpecifier
              identifier: SyntaxFactory.Identifier(""On"" + method.Name.Replace("" "" """"))
              typeParameterList: null
              parameterList: parameterList
              constraintClauses: SyntaxFactory.List<TypeParameterConstraintClauseSyntax>()
              body: SyntaxFactory.Block()
            .WithOpenBraceToken(
                SyntaxFactory.Token(SyntaxKind.OpenBraceToken))
            .WithCloseBraceToken(
                SyntaxFactory.Token(SyntaxKind.CloseBraceToken))                
                semicolonToken: SyntaxFactory.Token(SyntaxKind.EndOfFileToken)).NormalizeWhitespace();

2. Runs perfectly on 3.1.0

3. Switch to 3.3.1 to receive an argument exception ""SemiColon""
 

**Expected Behavior**:
3.1.0 sample generation...

partial void OnInitializeConstructorParameters(RoleId roleId ApplicationId appId string name string description List<Permission> permissions)
        {
        }
**Actual Behavior**:
Runtime Argument Exception ""SemiColon""",Area-Compilers,jinujoseph,8/10/2019 18:49,
39127,Enable detection and addition of solution level .editorconfig as solu…,"…tion item

1. IDE code fix that adds new editorconfig for configuring code style/severity has been updated to create the file at root of the solution instead of the project. Additionally the code fix also automatically adds the file as a solution item.
2. We now detect if a new editorconfig is created at the root of the solution and provide an info bar to make it a solution item with a single click. User can choose to silence this suggestion so it never shows up again (workspace option).

Fixes #38746","Enable detection and addition of solution level .editorconfig as solu… …tion item

1. IDE code fix that adds new editorconfig for configuring code style/severity has been updated to create the file at root of the solution instead of the project. Additionally the code fix also automatically adds the file as a solution item.
2. We now detect if a new editorconfig is created at the root of the solution and provide an info bar to make it a solution item with a single click. User can choose to silence this suggestion so it never shows up again (workspace option).

Fixes #38746",Area-IDE,mavasani|sharwell|jinujoseph|DustinCampbell|jasonmalinowski|dpoeschl|ryzngard|JoeRobich|genlu|heejaechang|ivanbasov|dibarbet|vatsalyaagrawal|allisonchou|Cosifne,8/10/2019 13:31,18/10/2019 8:52
39126,Completion for unimported extension methods,"Still a work-in-progress but tests for common scenarios in C# are passing so I think it's at least ready for a design review.

TODO:
- ~~Needs to Call into remote process for filtering since that's where index is built.~~
- ~~Implement item description~~
- Tests for VB 
- ~~Determine the bail condition (e.g. if any of the filter items isn't calculated? And/Or a timebox? )~~ now it bails if any of the required filter is not already created. Using expander would force build them.
- Perf analysis (still some cleanup to do before this)
- ~~Telemetry~~

@CyrusNajmabadi Could you please give this a quick look and let me know if the implementation of  the filter makes sense? Thanks!","Completion for unimported extension methods Still a work-in-progress but tests for common scenarios in C# are passing so I think it's at least ready for a design review.

TODO:
- ~~Needs to Call into remote process for filtering since that's where index is built.~~
- ~~Implement item description~~
- Tests for VB 
- ~~Determine the bail condition (e.g. if any of the filter items isn't calculated? And/Or a timebox? )~~ now it bails if any of the required filter is not already created. Using expander would force build them.
- Perf analysis (still some cleanup to do before this)
- ~~Telemetry~~

@CyrusNajmabadi Could you please give this a quick look and let me know if the implementation of  the filter makes sense? Thanks!",Area-IDE,genlu|CyrusNajmabadi|tmat|ivanbasov|DustinCampbell|jasonmalinowski|dpoeschl|ryzngard|JoeRobich|heejaechang|sharwell|dibarbet|vatsalyaagrawal|mavasani|jinujoseph|allisonchou|Cosifne,8/10/2019 11:30,
39125,Using declaration ioperation,"IOperation and CFG support for using declarations

Fixes #32100","Using declaration ioperation IOperation and CFG support for using declarations

Fixes #32100",Area-Compilers,chsienki|jaredpar|agocke|333fred|gafter|RikkiGibson|VSadov|AlekseyTs|cston|jcouv|fayrose|jinujoseph|CyrusNajmabadi,8/10/2019 11:17,17/10/2019 5:00
39124,Merge master to features/local-function-attributes,"
This is an automatically generated pull request from master into features/local-function-attributes.

``` bash
git fetch --all
git checkout merges/master-to-features/local-function-attributes
git reset --hard upstream/features/local-function-attributes
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-features/local-function-attributes --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge master to features/local-function-attributes 
This is an automatically generated pull request from master into features/local-function-attributes.

``` bash
git fetch --all
git checkout merges/master-to-features/local-function-attributes
git reset --hard upstream/features/local-function-attributes
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-features/local-function-attributes --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,RikkiGibson,,
39123,Merge master to master-vs-deps,"
This is an automatically generated pull request from master into master-vs-deps.

``` bash
git fetch --all
git checkout merges/master-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge master to master-vs-deps 
This is an automatically generated pull request from master into master-vs-deps.

``` bash
git fetch --all
git checkout merges/master-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|dibarbet,8/10/2019 11:02,9/10/2019 9:39
39122,Calling GetTypeInfo on CastExpressionSyntax.Type returns wrong nullable information,"```c#
#nullable enable

using System;

class C
{
    void M()
    {
        object? o = null;
        var s = [|(string?)o|];
        Console.WriteLine(s);
    }
}
```

where `[||]` shows the CastExpressionSyntax being used. 

![image](https://user-images.githubusercontent.com/475144/66356903-a00e6000-e921-11e9-8cfd-ee7fb41f72a9.png)
","Calling GetTypeInfo on CastExpressionSyntax.Type returns wrong nullable information ```c#
#nullable enable

using System;

class C
{
    void M()
    {
        object? o = null;
        var s = [|(string?)o|];
        Console.WriteLine(s);
    }
}
```

where `[||]` shows the CastExpressionSyntax being used. 

![image](https://user-images.githubusercontent.com/475144/66356903-a00e6000-e921-11e9-8cfd-ee7fb41f72a9.png)
",Area-Compilers|New Language Feature - Nullable Semantic Model,ryzngard,8/10/2019 10:44,
39121,Add support for static lambdas.,"Adds impl support for https://github.com/dotnet/csharplang/issues/275.

This should be reviewed with whitespace diffs off.

Followup to https://github.com/dotnet/roslyn/pull/39118

- [x] Update syntax model to support a modifiers list for lambdas (https://github.com/dotnet/roslyn/pull/39118).
- [x] Add parsing support for static lambdas (simple and parenthesized).
- [x] Add binding checking that static lambdas do not capture anything.
- [x] Tests.","Add support for static lambdas. Adds impl support for https://github.com/dotnet/csharplang/issues/275.

This should be reviewed with whitespace diffs off.

Followup to https://github.com/dotnet/roslyn/pull/39118

- [x] Update syntax model to support a modifiers list for lambdas (https://github.com/dotnet/roslyn/pull/39118).
- [x] Add parsing support for static lambdas (simple and parenthesized).
- [x] Add binding checking that static lambdas do not capture anything.
- [x] Tests.",Area-Compilers|Community,jcouv|CyrusNajmabadi|jinujoseph|RikkiGibson|gafter|cston,8/10/2019 10:15,
39120,IntroduceVariableCondeRefactoringProvider threw an exception,"```
System.ArgumentOutOfRangeException : Specified argument was out of the range of valid values.
Parameter name: position
   at Microsoft.CodeAnalysis.SyntaxNode.FindTokenCore(Int32 positionBoolean findInsideTrivia)
   at Microsoft.CodeAnalysis.CodeRefactoringHelpers.IsNodeUnderselected(SyntaxNode nodeTextSpan selection)
   at async Microsoft.CodeAnalysis.IntroduceVariable.AbstractIntroduceVariableService`6.State.TryInitializeAsync[TServiceTExpressionSyntaxTTypeSyntaxTTypeDeclarationSyntaxTQueryExpressionSyntaxTNameSyntax](<Unknown Parameters>)
   at async Microsoft.CodeAnalysis.IntroduceVariable.AbstractIntroduceVariableService`6.State.GenerateAsync[TServiceTExpressionSyntaxTTypeSyntaxTTypeDeclarationSyntaxTQueryExpressionSyntaxTNameSyntax](<Unknown Parameters>)
   at async Microsoft.CodeAnalysis.IntroduceVariable.AbstractIntroduceVariableService`6.IntroduceVariableAsync[TServiceTExpressionSyntaxTTypeSyntaxTTypeDeclarationSyntaxTQueryExpressionSyntaxTNameSyntax](<Unknown Parameters>)
   at async Microsoft.CodeAnalysis.IntroduceVariable.IntroduceVariableCodeRefactoringProvider.ComputeRefactoringsAsync(<Unknown Parameters>)
   at async Microsoft.CodeAnalysis.CodeRefactorings.CodeRefactoringService.GetRefactoringFromProviderAsync(<Unknown Parameters>)
   at Microsoft.VisualStudio.Telemetry.WindowsErrorReporting.WatsonReport.GetClrWatsonExceptionInfo(Exception exceptionObject)
```","IntroduceVariableCondeRefactoringProvider threw an exception ```
System.ArgumentOutOfRangeException : Specified argument was out of the range of valid values.
Parameter name: position
   at Microsoft.CodeAnalysis.SyntaxNode.FindTokenCore(Int32 positionBoolean findInsideTrivia)
   at Microsoft.CodeAnalysis.CodeRefactoringHelpers.IsNodeUnderselected(SyntaxNode nodeTextSpan selection)
   at async Microsoft.CodeAnalysis.IntroduceVariable.AbstractIntroduceVariableService`6.State.TryInitializeAsync[TServiceTExpressionSyntaxTTypeSyntaxTTypeDeclarationSyntaxTQueryExpressionSyntaxTNameSyntax](<Unknown Parameters>)
   at async Microsoft.CodeAnalysis.IntroduceVariable.AbstractIntroduceVariableService`6.State.GenerateAsync[TServiceTExpressionSyntaxTTypeSyntaxTTypeDeclarationSyntaxTQueryExpressionSyntaxTNameSyntax](<Unknown Parameters>)
   at async Microsoft.CodeAnalysis.IntroduceVariable.AbstractIntroduceVariableService`6.IntroduceVariableAsync[TServiceTExpressionSyntaxTTypeSyntaxTTypeDeclarationSyntaxTQueryExpressionSyntaxTNameSyntax](<Unknown Parameters>)
   at async Microsoft.CodeAnalysis.IntroduceVariable.IntroduceVariableCodeRefactoringProvider.ComputeRefactoringsAsync(<Unknown Parameters>)
   at async Microsoft.CodeAnalysis.CodeRefactorings.CodeRefactoringService.GetRefactoringFromProviderAsync(<Unknown Parameters>)
   at Microsoft.VisualStudio.Telemetry.WindowsErrorReporting.WatsonReport.GetClrWatsonExceptionInfo(Exception exceptionObject)
```",Resolution-Duplicate,sharwell,8/10/2019 9:50,9/10/2019 6:23
39119,Add note about testing updated assembly versions,/cc @jaredpar ,Add note about testing updated assembly versions /cc @jaredpar ,Area-Infrastructure,RikkiGibson|jaredpar,8/10/2019 9:22,9/10/2019 3:37
39118,Relax the shape of lambdas in our syntax model to allow for a list of modifiers.,"~~WIP: personal review.~~ Now ready for review.

This is desirable if we add static lambdas (https://github.com/dotnet/csharplang/issues/275) as it means we don't put unnecessary syntax model restriction on people writing `static async a => ...` or `async static a => ...`.  Note: the language may choose that only one of these is legal.  But we won't restrict it in the model to make sure that parser resilience and modeling is high quality.","Relax the shape of lambdas in our syntax model to allow for a list of modifiers. ~~WIP: personal review.~~ Now ready for review.

This is desirable if we add static lambdas (https://github.com/dotnet/csharplang/issues/275) as it means we don't put unnecessary syntax model restriction on people writing `static async a => ...` or `async static a => ...`.  Note: the language may choose that only one of these is legal.  But we won't restrict it in the model to make sure that parser resilience and modeling is high quality.",Area-Compilers|Community,jcouv,,
39117,Refactor object from different directives,"_This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/idea/741362/refactor-object-from-different-directives.html)._

---
can we do refactoring of same object name from different setup in directives especially if the object inside #if(DEBUG) ?

```
#if (DEBUG)
	public static ConnectionString CurrentConnectionString = new ConnectionString(&quot;DEVELOPEMENTsqlserver&quot;&quot;db&quot;&quot;mgmguardiana&quot;&quot;password&quot;false);
#else
        public static ConnectionString CurrentConnectionString = new ConnectionString(&quot;PRODUCTIONsqlserver&quot;&quot;db&quot;&quot;mgmguardiana&quot;&quot;password&quot;false);;
#endif
    }
```

In this example if I use ctrl+R+R in `CurrentConnectionString` assume that I'm in debug mode any reference will be updated only under the current directive(DEBUG) and when switching to release mode the codes may go broke and need to rename it again.

Current steps of refactoring
1. From screenshot in example at DEBUG mode press CTRL+R+R to show rename the object of `CurrentConnectionString` into `RenamedConnection` and press ENTER
2. Run or build in debug mode no errors will be raise.
3. Now switch to release assume that you are now ready to deploy the application
4. Run or build in release mode errors will be made that all references of `RenamedConnection` are invalid
5. Refactor the `CurrentConnectionString` into `RenamedConnection` while still in release mode.
6. Run or build to test

---
### Original Comments

#### Jane Wu [MSFT] on 9/22/2019 11:30 PM: 

<p>Thank you for taking the time to provide your suggestion. We will do some preliminary checks to make sure we can proceed further.  We’ll provide an update once the issue has been triaged by the product team.</p>
","Refactor object from different directives _This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/idea/741362/refactor-object-from-different-directives.html)._

---
can we do refactoring of same object name from different setup in directives especially if the object inside #if(DEBUG) ?

```
#if (DEBUG)
	public static ConnectionString CurrentConnectionString = new ConnectionString(&quot;DEVELOPEMENTsqlserver&quot;&quot;db&quot;&quot;mgmguardiana&quot;&quot;password&quot;false);
#else
        public static ConnectionString CurrentConnectionString = new ConnectionString(&quot;PRODUCTIONsqlserver&quot;&quot;db&quot;&quot;mgmguardiana&quot;&quot;password&quot;false);;
#endif
    }
```

In this example if I use ctrl+R+R in `CurrentConnectionString` assume that I'm in debug mode any reference will be updated only under the current directive(DEBUG) and when switching to release mode the codes may go broke and need to rename it again.

Current steps of refactoring
1. From screenshot in example at DEBUG mode press CTRL+R+R to show rename the object of `CurrentConnectionString` into `RenamedConnection` and press ENTER
2. Run or build in debug mode no errors will be raise.
3. Now switch to release assume that you are now ready to deploy the application
4. Run or build in release mode errors will be made that all references of `RenamedConnection` are invalid
5. Refactor the `CurrentConnectionString` into `RenamedConnection` while still in release mode.
6. Run or build to test

---
### Original Comments

#### Jane Wu [MSFT] on 9/22/2019 11:30 PM: 

<p>Thank you for taking the time to provide your suggestion. We will do some preliminary checks to make sure we can proceed further.  We’ll provide an update once the issue has been triaged by the product team.</p>
",Area-IDE|Feature Request|Need Design Review,jinujoseph|CyrusNajmabadi,8/10/2019 8:50,
39116,Avoid unnecessary casts when refactoring,"_This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/idea/742342/avoid-unnecessary-casts-when-refactoring.html)._

---
I love the refactoring features of Visual Studio but I have seen multiple scenarios where it suggests adding unnecessary casts in order to do another refactoring. My most recent one being converting to a conditional expression. Here is the code before refactoring the refactored code and what I believe the code should be refactored to:

```
'Before Refactoring:
If useparallel Then : Me.itmNames.ItemsSource = Me.Players.AsParallel(). AsOrdered(). Select(Function(pd index) New With {. Name = pd. Name . Index = index . ColumnWidth = Me.GetScoreColumnWidth(index)})
Else : Me.itmNames.ItemsSource = Me.Players.Select(Function(pd index) New With {. Name = pd. Name . Index = index . ColumnWidth = Me.GetScoreColumnWidth(index)})
End If

'Refactored By Visual Studio 2019:
Me.itmNames.ItemsSource = If(useparallel
	Me.Players.AsParallel(). AsOrdered(). Select(Function(pd index) New With {. Name = pd. Name . Index = index . ColumnWidth = Me.GetScoreColumnWidth(index)})
	DirectCast(Me.Players.Select(Function(pd index) New With {. Name = pd. Name . Index = index . ColumnWidth = Me.GetScoreColumnWidth(index)}) Object))

'Refactored By Me (notice that I do not include the unnecessary DirectCast):
Me.itmNames.ItemsSource = If(useparallel
	Me.Players.AsParallel(). AsOrdered(). Select(Function(pd index) New With {. Name = pd. Name . Index = index . ColumnWidth = Me.GetScoreColumnWidth(index)})
	Me.Players.Select(Function(pd index) New With {. Name = pd. Name . Index = index . ColumnWidth = Me.GetScoreColumnWidth(index)}))
```
This is of course not hard to change but neither are things like removing unnecessary parentheses and some other refactorings. I just thought I would mention this as a refactoring improvement since it adds an extra method (as opposed to just making the code look prettier but still the same after being compiled).

---
### Original Comments

#### Jane Wu [MSFT] on 9/22/2019 11:25 PM: 

<p>Thank you for taking the time to provide your suggestion. We will do some preliminary checks to make sure we can proceed further.  We’ll provide an update once the issue has been triaged by the product team.</p>
","Avoid unnecessary casts when refactoring _This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/idea/742342/avoid-unnecessary-casts-when-refactoring.html)._

---
I love the refactoring features of Visual Studio but I have seen multiple scenarios where it suggests adding unnecessary casts in order to do another refactoring. My most recent one being converting to a conditional expression. Here is the code before refactoring the refactored code and what I believe the code should be refactored to:

```
'Before Refactoring:
If useparallel Then : Me.itmNames.ItemsSource = Me.Players.AsParallel(). AsOrdered(). Select(Function(pd index) New With {. Name = pd. Name . Index = index . ColumnWidth = Me.GetScoreColumnWidth(index)})
Else : Me.itmNames.ItemsSource = Me.Players.Select(Function(pd index) New With {. Name = pd. Name . Index = index . ColumnWidth = Me.GetScoreColumnWidth(index)})
End If

'Refactored By Visual Studio 2019:
Me.itmNames.ItemsSource = If(useparallel
	Me.Players.AsParallel(). AsOrdered(). Select(Function(pd index) New With {. Name = pd. Name . Index = index . ColumnWidth = Me.GetScoreColumnWidth(index)})
	DirectCast(Me.Players.Select(Function(pd index) New With {. Name = pd. Name . Index = index . ColumnWidth = Me.GetScoreColumnWidth(index)}) Object))

'Refactored By Me (notice that I do not include the unnecessary DirectCast):
Me.itmNames.ItemsSource = If(useparallel
	Me.Players.AsParallel(). AsOrdered(). Select(Function(pd index) New With {. Name = pd. Name . Index = index . ColumnWidth = Me.GetScoreColumnWidth(index)})
	Me.Players.Select(Function(pd index) New With {. Name = pd. Name . Index = index . ColumnWidth = Me.GetScoreColumnWidth(index)}))
```
This is of course not hard to change but neither are things like removing unnecessary parentheses and some other refactorings. I just thought I would mention this as a refactoring improvement since it adds an extra method (as opposed to just making the code look prettier but still the same after being compiled).

---
### Original Comments

#### Jane Wu [MSFT] on 9/22/2019 11:25 PM: 

<p>Thank you for taking the time to provide your suggestion. We will do some preliminary checks to make sure we can proceed further.  We’ll provide an update once the issue has been triaged by the product team.</p>
",Area-IDE|Concept-Continuous Improvement|IDE-CodeStyle|help wanted,jinujoseph,8/10/2019 8:47,
39115,Search items from metadata in Go-To-All (Ctrl + T),"_This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/idea/746165/search-items-from-unimported-namespaces-ctrl-t.html)._

---
Please add a feature to find items from unimported namespaces by pressing Ctrl + T just like in the text editor itself.

---
### Original Comments

#### ????? on 9/24/2019 00:46 PM: 

(private comment text removed)
#### Jane Wu [MSFT] on 9/25/2019 01:53 AM: 

<p>Thank you for taking the time to provide your suggestion. We will do some preliminary checks to make sure we can proceed further.  We’ll provide an update once the issue has been triaged by the product team.</p>

![94737-1](https://user-images.githubusercontent.com/46729679/66350517-62eda200-e910-11e9-8644-aca2b9800e45.jpg)

![94738-2](https://user-images.githubusercontent.com/46729679/66350523-654ffc00-e910-11e9-8f5d-7d1556f25ce9.jpg)

","Search items from metadata in Go-To-All (Ctrl + T) _This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/idea/746165/search-items-from-unimported-namespaces-ctrl-t.html)._

---
Please add a feature to find items from unimported namespaces by pressing Ctrl + T just like in the text editor itself.

---
### Original Comments

#### ????? on 9/24/2019 00:46 PM: 

(private comment text removed)
#### Jane Wu [MSFT] on 9/25/2019 01:53 AM: 

<p>Thank you for taking the time to provide your suggestion. We will do some preliminary checks to make sure we can proceed further.  We’ll provide an update once the issue has been triaged by the product team.</p>

![94737-1](https://user-images.githubusercontent.com/46729679/66350517-62eda200-e910-11e9-8644-aca2b9800e45.jpg)

![94738-2](https://user-images.githubusercontent.com/46729679/66350523-654ffc00-e910-11e9-8f5d-7d1556f25ce9.jpg)

",Area-IDE|Feature Request|IDE-Navigation,jinujoseph,8/10/2019 8:37,
39114,Breakpoint Highlight - C #,"_This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/idea/736961/breakpoint-highlight-c.html)._

---
There is no settings to disable breakpoint LINE highlight. I see ther is one for C++ but not for C#.

The red is too strong you also lose the context highligting on th eline of you set the colour to black or white.

---
### Original Comments

#### Jane Wu [MSFT] on 9/17/2019 07:05 PM: 

<p>Thank you for taking the time to provide your suggestion. We will do some preliminary checks to make sure we can proceed further.  We’ll provide an update once the issue has been triaged by the product team.</p>
","Breakpoint Highlight - C # _This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/idea/736961/breakpoint-highlight-c.html)._

---
There is no settings to disable breakpoint LINE highlight. I see ther is one for C++ but not for C#.

The red is too strong you also lose the context highligting on th eline of you set the colour to black or white.

---
### Original Comments

#### Jane Wu [MSFT] on 9/17/2019 07:05 PM: 

<p>Thank you for taking the time to provide your suggestion. We will do some preliminary checks to make sure we can proceed further.  We’ll provide an update once the issue has been triaged by the product team.</p>
",Area-IDE|Feature Request|Interactive-Debugging,jinujoseph|tmat|JoeRobich,8/10/2019 8:28,
39113,Add support for xmldoc tags on local functions (C# 7.0+),"_This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/idea/739055/add-support-for-xmldoc-tags-on-local-functions-c-7.html)._

---
Support for [local functions](https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/classes-and-structs/local-functions) was added in C# 7.0 which is awesome.  However decorating a local function with `&lt;summary&gt;...&lt;/summary&gt; ` tags will not produce any Intellisense in Visual Studio 2019 (as of version 16.2.5):
```
private static string GetText(string path string filename)
{
    /// &lt;summary&gt;
    /// Append a path separator character to the specified file path.
    /// &lt;/summary&gt;
    string AppendPathSeparator(string filepath)
    {
        if (!filepath. EndsWith(@&quot;\&quot;))
           filepath += @&quot;\&quot;;

return filepath;   
    }

// No Intellisense for the &quot;AppendPathSeparator&quot; local function will appear here.
    var sr = File.OpenText(AppendPathSeparator(path) + filename);
    var text = sr. ReadToEnd();
    return text;
} 
```

It would be great to have some way of producing Intellisense for local functions.

---
### Original Comments

#### Jane Wu [MSFT] on 9/18/2019 08:07 PM: 

<p>Thank you for taking the time to provide your suggestion. We will do some preliminary checks to make sure we can proceed further.  We’ll provide an update once the issue has been triaged by the product team.</p>
","Add support for xmldoc tags on local functions (C# 7.0+) _This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/idea/739055/add-support-for-xmldoc-tags-on-local-functions-c-7.html)._

---
Support for [local functions](https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/classes-and-structs/local-functions) was added in C# 7.0 which is awesome.  However decorating a local function with `&lt;summary&gt;...&lt;/summary&gt; ` tags will not produce any Intellisense in Visual Studio 2019 (as of version 16.2.5):
```
private static string GetText(string path string filename)
{
    /// &lt;summary&gt;
    /// Append a path separator character to the specified file path.
    /// &lt;/summary&gt;
    string AppendPathSeparator(string filepath)
    {
        if (!filepath. EndsWith(@&quot;\&quot;))
           filepath += @&quot;\&quot;;

return filepath;   
    }

// No Intellisense for the &quot;AppendPathSeparator&quot; local function will appear here.
    var sr = File.OpenText(AppendPathSeparator(path) + filename);
    var text = sr. ReadToEnd();
    return text;
} 
```

It would be great to have some way of producing Intellisense for local functions.

---
### Original Comments

#### Jane Wu [MSFT] on 9/18/2019 08:07 PM: 

<p>Thank you for taking the time to provide your suggestion. We will do some preliminary checks to make sure we can proceed further.  We’ll provide an update once the issue has been triaged by the product team.</p>
",Resolution-Duplicate,sharwell,8/10/2019 8:25,9/10/2019 6:33
39112,Update roslyn version for 16.5 preview 1,Create the 16.5p1 branch.  Note that there isn't a VS branch for this yet so I believe we don't need to update the publishdata/vs-deps branches.,Update roslyn version for 16.5 preview 1 Create the 16.5p1 branch.  Note that there isn't a VS branch for this yet so I believe we don't need to update the publishdata/vs-deps branches.,Area-Infrastructure,dibarbet|jaredpar,8/10/2019 7:55,9/10/2019 4:13
39111,Automatically fix naming style across file/project/solution,"_This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/idea/740419/automatically-fix-naming-style-across-fileprojects.html)._

---
Would love do see something like what Resharper does: https://www.jetbrains.com/help/resharper/Coding_Assistance__Naming_Style.html#detect

I especially need it when doing the following:
- I want to create C# classes from some json file. The Paste Special feature is great for that.
- However the sample json files I have usually use camel case
- I need to change to Pascal case
- Today VS only allows me to do it one by one which becomes very tedious as I have tens of properties.

---
### Original Comments

#### Jane Wu [MSFT] on 9/20/2019 01:16 AM: 

<p>Thank you for taking the time to provide your suggestion. We will do some preliminary checks to make sure we can proceed further.  We’ll provide an update once the issue has been triaged by the product team.</p>
","Automatically fix naming style across file/project/solution _This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/idea/740419/automatically-fix-naming-style-across-fileprojects.html)._

---
Would love do see something like what Resharper does: https://www.jetbrains.com/help/resharper/Coding_Assistance__Naming_Style.html#detect

I especially need it when doing the following:
- I want to create C# classes from some json file. The Paste Special feature is great for that.
- However the sample json files I have usually use camel case
- I need to change to Pascal case
- Today VS only allows me to do it one by one which becomes very tedious as I have tens of properties.

---
### Original Comments

#### Jane Wu [MSFT] on 9/20/2019 01:16 AM: 

<p>Thank you for taking the time to provide your suggestion. We will do some preliminary checks to make sure we can proceed further.  We’ll provide an update once the issue has been triaged by the product team.</p>
",Resolution-Duplicate,sharwell,8/10/2019 7:31,9/10/2019 6:34
39110,Quick Class implementation,"_This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/idea/737464/quick-class-implementation.html)._

---
<p>I have not yet found a shortcut like this (if it exists please direct me to it).  I would like to be able to use a shortcut keyboard command (i.e. Ctrl+K Ctrl_C : Comment) to be able to instantiate a new class with all the properties set to their respective defaults.  Something like with the cursor being in &quot;new CustomClass&quot; the user could press &quot;Ctrl+C Ctrl+I&quot; for default Class Implementation. </p><pre>CustomClass myClass = new CustomClass {
    Property1 = &quot;&quot; // String default
    Property2 = false // Bool default
    Property3 = DateTime.Now // DateTime Default
    etc........
}</pre>

---
### Original Comments

#### Jane Wu [MSFT] on 9/17/2019 07:04 PM: 

<p>Thank you for taking the time to provide your suggestion. We will do some preliminary checks to make sure we can proceed further.  We’ll provide an update once the issue has been triaged by the product team.</p>
","Quick Class implementation _This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/idea/737464/quick-class-implementation.html)._

---
<p>I have not yet found a shortcut like this (if it exists please direct me to it).  I would like to be able to use a shortcut keyboard command (i.e. Ctrl+K Ctrl_C : Comment) to be able to instantiate a new class with all the properties set to their respective defaults.  Something like with the cursor being in &quot;new CustomClass&quot; the user could press &quot;Ctrl+C Ctrl+I&quot; for default Class Implementation. </p><pre>CustomClass myClass = new CustomClass {
    Property1 = &quot;&quot; // String default
    Property2 = false // Bool default
    Property3 = DateTime.Now // DateTime Default
    etc........
}</pre>

---
### Original Comments

#### Jane Wu [MSFT] on 9/17/2019 07:04 PM: 

<p>Thank you for taking the time to provide your suggestion. We will do some preliminary checks to make sure we can proceed further.  We’ll provide an update once the issue has been triaged by the product team.</p>
",Area-IDE|Feature Request|Need Design Review,jinujoseph,8/10/2019 7:13,
39109,Surround code with curly braces,"_This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/idea/740318/surround-code-with-curly-braces.html)._

---
<p>Requested many times before:</p><p>If code is highlighted and I press { surround selected code with curly braces.  </p>

---
### Original Comments

#### Jane Wu [MSFT] on 9/20/2019 01:16 AM: 

<p>Thank you for taking the time to provide your suggestion. We will do some preliminary checks to make sure we can proceed further.  We’ll provide an update once the issue has been triaged by the product team.</p>
","Surround code with curly braces _This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/idea/740318/surround-code-with-curly-braces.html)._

---
<p>Requested many times before:</p><p>If code is highlighted and I press { surround selected code with curly braces.  </p>

---
### Original Comments

#### Jane Wu [MSFT] on 9/20/2019 01:16 AM: 

<p>Thank you for taking the time to provide your suggestion. We will do some preliminary checks to make sure we can proceed further.  We’ll provide an update once the issue has been triaged by the product team.</p>
",Area-IDE|Feature Request|Need Design Review,jinujoseph,8/10/2019 6:50,
39108,Add parameter wrap to code cleanup,"_This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/idea/748441/add-parameter-wrap-to-code-cleanup.html)._

---
Would like to have this feature in code cleanup: https://docs.microsoft.com/en-us/visualstudio/ide/reference/wrap-align-indent-parameters?view=vs-2019

That way this could be apply to the entire file project or solution.

Thanks!

---
### Original Comments

#### Jane Wu [MSFT] on 9/25/2019 08:07 PM: 

<p>Thank you for taking the time to provide your suggestion. We will do some preliminary checks to make sure we can proceed further.  We’ll provide an update once the issue has been triaged by the product team.</p>
","Add parameter wrap to code cleanup _This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/idea/748441/add-parameter-wrap-to-code-cleanup.html)._

---
Would like to have this feature in code cleanup: https://docs.microsoft.com/en-us/visualstudio/ide/reference/wrap-align-indent-parameters?view=vs-2019

That way this could be apply to the entire file project or solution.

Thanks!

---
### Original Comments

#### Jane Wu [MSFT] on 9/25/2019 08:07 PM: 

<p>Thank you for taking the time to provide your suggestion. We will do some preliminary checks to make sure we can proceed further.  We’ll provide an update once the issue has been triaged by the product team.</p>
",Area-IDE|Feature Request|IDE-CodeStyle,jinujoseph,8/10/2019 6:50,
39106,Go to Definition of Add method for collection element initializers,"Related to #38850

Scenario:

```cs
using System.Collections;

public class C : IEnumerable {
    public void Add(int i object o) { }
    public void Add(int i) { }
    
    public static void M() {
        _ = new C { { 1 null } { 2 } 3 };
    }
    
    public IEnumerator GetEnumerator() => throw null!;
}
```

Expectation:
- Go to Definition on the curly brace at `{ 1 null }` or `{ 2 }` should go to the Add method referenced by the element initializer
- Go to Definition on the literal 3 probably can't go to the Add method because the element initializer could be any sort of expression that would have its own definition that we actually want to go to. (any thoughts on this would be appreciated)","Go to Definition of Add method for collection element initializers Related to #38850

Scenario:

```cs
using System.Collections;

public class C : IEnumerable {
    public void Add(int i object o) { }
    public void Add(int i) { }
    
    public static void M() {
        _ = new C { { 1 null } { 2 } 3 };
    }
    
    public IEnumerator GetEnumerator() => throw null!;
}
```

Expectation:
- Go to Definition on the curly brace at `{ 1 null }` or `{ 2 }` should go to the Add method referenced by the element initializer
- Go to Definition on the literal 3 probably can't go to the Add method because the element initializer could be any sort of expression that would have its own definition that we actually want to go to. (any thoughts on this would be appreciated)",Area-IDE|IDE-Navigation,RikkiGibson,8/10/2019 6:33,
39105,Add an IDE storage service benchmark,This helps enable us to make changes to the storage service and ensure that we're not regressing perf.,Add an IDE storage service benchmark This helps enable us to make changes to the storage service and ensure that we're not regressing perf.,Area-IDE|Community,sharwell,,
39104,Handle a missing case in bad conversion error reporting.,Fixes #39082,Handle a missing case in bad conversion error reporting. Fixes #39082,Area-Compilers|New Language Feature - Pattern Matching,gafter,,
39103,Merge master to features/localsinit,,Merge master to features/localsinit ,Area-Infrastructure,agocke|jinujoseph,8/10/2019 5:17,9/10/2019 7:59
39102,Use a singleton for AnalyzerActions.Empty,"**Version Used**: Unknown

:link: https://developercommunity.visualstudio.com/content/problem/531240/occasional-outofmemoryexception.html

One of the heap dumps showed 3486047 instances of Microsoft.CodeAnalysis.Diagnostics.AnalyzerActions but at most 5000 were not empty. Using a singleton for the empty case would save a large amount of memory.

As a step past this we could attempt avoid placing empty items in the dictionary at all and internally treat missing the same as empty.","Use a singleton for AnalyzerActions.Empty **Version Used**: Unknown

:link: https://developercommunity.visualstudio.com/content/problem/531240/occasional-outofmemoryexception.html

One of the heap dumps showed 3486047 instances of Microsoft.CodeAnalysis.Diagnostics.AnalyzerActions but at most 5000 were not empty. Using a singleton for the empty case would save a large amount of memory.

As a step past this we could attempt avoid placing empty items in the dictionary at all and internally treat missing the same as empty.",Area-Analyzers|Concept-Continuous Improvement|Developer Community|Tenet-Reliability,mavasani,,
39101,Enable CA1829 for test code in Roslyn.sln,See https://github.com/dotnet/roslyn/pull/39029/files#r331157299,Enable CA1829 for test code in Roslyn.sln See https://github.com/dotnet/roslyn/pull/39029/files#r331157299,Area-Infrastructure|Test,mavasani,8/10/2019 3:35,
39098,Build system feedback,"As a first-time builder of any Roslyn code I thought it could be interesting for you doing this on a daily basis to get some input from someone that tested it out for the first time.


Documentation:
- The instructions for kicking off ""your first build"" is Good Stuff. Short and concise; Four short bullet points. Very good. Gold Star.

- The ""-help"" switch to eng/build.ps1 should probably be mentioned on the build instructions page. I only found out about it (and other including vital options) by inspecting first the cmd files and then that ps-script itself.

- Disk space requirements could be specified on the Building wiki page. Probably updated on a schedule (every month or so?) and last date measured added to the documentation. Both for no-argument (i.e. Debug) builds and Release builds. At least a ballpark figure would be nice to have. It would have saved me a ton of wasted time and effort. I created a ten GiB VHD and thought  ""This surely must be at least four times of what's required but let's make it this extremely large to be really really sure"" - how wrong I was... but more on that later.


Flexibility/options:
- I'm missing an option to disable creation of any and all tests.

- I'm missing an option to disable creation of all the locale directories. To put it mildly I am more than a little annoyed of all the thousands of locale directories VS itself spews all over the installation laying waste to both precious disk space and adding filesystem fragmentation something fiercely. I had hoped I wouldn't have to see that repeated in the bin/* output curtesy of a switch or two.

- Please consider using filesystem links for immutable files where available. Even NTFS has had hardlinks since the 90's. It's not instilling confidence to see gigabyte after gigabyte of redundant copies of the same files in umpteen places. So far into the build process there are f.ex. fourty (40!) copies of Microsoft.CodeAnalysis.Test.Resources.Proprietary.dll racking up almost 4 GiB. The build has stalled so I don't know how many more redundant copies will be created. That's just the most prominent one. I'm sure there are plenty more.

- Ability to build a single DLL. If that's impossible due to limitations in _&lt;something&gt;_ at least building a single ""package"" of sorts. Maybe it's possible by going deeper than using Build.cmd? If so some documentation pointing to the procedure from the short and sweet build instructions could be good.

In my case I knew exactly what I needed to get VS stop crashing. I needed to fix one single bug and build a replacement for one single file Microsoft.VisualStudio.LanguageServices.dll. Instead of being able to build just that DLL (from what I have found at least) I'm now continually fighting with disk-space running out running `compact /c /f /s /exe:lzx artifacts\*` like a madman from a separate shell while periodically Suspending all the build processes from the Resource Monitor trying to keep up with the torrent of other stuff it's filling up the volume with - stuff I really  don't want produced. Yeah it's partially a problem with me not allocating enough disk space but I couldn't in my wildest imagination think I'd need over ten gigabyte to build a single DLL that's just a hair over 1.5 MB. That points back to the need for some documented info of how much disk space should be expected to be consumed.

- Many many warnings about SourceLink ""Source control information is not available"". It seems a bit strange considering it's a pristine git clone and `git` is indeed available in the path. Granted it's better than `roslyn-analyzers` where the same yapping produces build _errors_ instead (though that used a _slightly_ different but still like `roslyn`itself a beta version) but it's still not good and is not adding confidence.

Besides these issues it seems the build system works pretty well. It could use some work to beat it into better shape but overall it seems quite straightforward.

Thumbs up.

My 0.02.","Build system feedback As a first-time builder of any Roslyn code I thought it could be interesting for you doing this on a daily basis to get some input from someone that tested it out for the first time.


Documentation:
- The instructions for kicking off ""your first build"" is Good Stuff. Short and concise; Four short bullet points. Very good. Gold Star.

- The ""-help"" switch to eng/build.ps1 should probably be mentioned on the build instructions page. I only found out about it (and other including vital options) by inspecting first the cmd files and then that ps-script itself.

- Disk space requirements could be specified on the Building wiki page. Probably updated on a schedule (every month or so?) and last date measured added to the documentation. Both for no-argument (i.e. Debug) builds and Release builds. At least a ballpark figure would be nice to have. It would have saved me a ton of wasted time and effort. I created a ten GiB VHD and thought  ""This surely must be at least four times of what's required but let's make it this extremely large to be really really sure"" - how wrong I was... but more on that later.


Flexibility/options:
- I'm missing an option to disable creation of any and all tests.

- I'm missing an option to disable creation of all the locale directories. To put it mildly I am more than a little annoyed of all the thousands of locale directories VS itself spews all over the installation laying waste to both precious disk space and adding filesystem fragmentation something fiercely. I had hoped I wouldn't have to see that repeated in the bin/* output curtesy of a switch or two.

- Please consider using filesystem links for immutable files where available. Even NTFS has had hardlinks since the 90's. It's not instilling confidence to see gigabyte after gigabyte of redundant copies of the same files in umpteen places. So far into the build process there are f.ex. fourty (40!) copies of Microsoft.CodeAnalysis.Test.Resources.Proprietary.dll racking up almost 4 GiB. The build has stalled so I don't know how many more redundant copies will be created. That's just the most prominent one. I'm sure there are plenty more.

- Ability to build a single DLL. If that's impossible due to limitations in _&lt;something&gt;_ at least building a single ""package"" of sorts. Maybe it's possible by going deeper than using Build.cmd? If so some documentation pointing to the procedure from the short and sweet build instructions could be good.

In my case I knew exactly what I needed to get VS stop crashing. I needed to fix one single bug and build a replacement for one single file Microsoft.VisualStudio.LanguageServices.dll. Instead of being able to build just that DLL (from what I have found at least) I'm now continually fighting with disk-space running out running `compact /c /f /s /exe:lzx artifacts\*` like a madman from a separate shell while periodically Suspending all the build processes from the Resource Monitor trying to keep up with the torrent of other stuff it's filling up the volume with - stuff I really  don't want produced. Yeah it's partially a problem with me not allocating enough disk space but I couldn't in my wildest imagination think I'd need over ten gigabyte to build a single DLL that's just a hair over 1.5 MB. That points back to the need for some documented info of how much disk space should be expected to be consumed.

- Many many warnings about SourceLink ""Source control information is not available"". It seems a bit strange considering it's a pristine git clone and `git` is indeed available in the path. Granted it's better than `roslyn-analyzers` where the same yapping produces build _errors_ instead (though that used a _slightly_ different but still like `roslyn`itself a beta version) but it's still not good and is not adding confidence.

Besides these issues it seems the build system works pretty well. It could use some work to beat it into better shape but overall it seems quite straightforward.

Thumbs up.

My 0.02.",Area-Infrastructure|Contributor Pain|Documentation,RikkiGibson|jaredpar|jasonmalinowski|huoyaoyuan|tmat|jmarolf|jinujoseph,8/10/2019 1:49,
39097,Handle null Display string in FxCopAnalyzersSuggestedActionCallback,"Fixes #39092
Also fix VisualStudioUnresolvedAnalyzerReference to correctly forward the Display value to the underlying analyzer reference.","Handle null Display string in FxCopAnalyzersSuggestedActionCallback Fixes #39092
Also fix VisualStudioUnresolvedAnalyzerReference to correctly forward the Display value to the underlying analyzer reference.",Area-IDE,mavasani|vatsalyaagrawal|jinujoseph|jasonmalinowski,8/10/2019 0:49,9/10/2019 7:32
39096,build failure,"HEAD

Build ends prematurely with many errors of the following kind
```
W:\Roslyn\roslyn\src\Scripting\CSharpTest\InteractiveSessionReferencesTests.cs(1247): error CS0122: 'TestCompilationFactory' is inaccessible due to its protection level [W:\Roslyn\roslyn\src\Scripting\CSharpTest\Micr
osoft.CodeAnalysis.CSharp.Scripting.UnitTests.csproj]
```

Ideas? Are you perhaps using a different way to build it than `Build.cmd`?","build failure HEAD

Build ends prematurely with many errors of the following kind
```
W:\Roslyn\roslyn\src\Scripting\CSharpTest\InteractiveSessionReferencesTests.cs(1247): error CS0122: 'TestCompilationFactory' is inaccessible due to its protection level [W:\Roslyn\roslyn\src\Scripting\CSharpTest\Micr
osoft.CodeAnalysis.CSharp.Scripting.UnitTests.csproj]
```

Ideas? Are you perhaps using a different way to build it than `Build.cmd`?",Area-Infrastructure|Contributor Pain,tmat|jinujoseph|dibarbet,7/10/2019 19:29,
39095,False positive IDE0060 on VB xml syntax,"**Version Used**: 
Visual Studio 16.3.2

**Steps to Reproduce**:
Found at https://github.com/dotnet/roslyn/blob/7f60b3849b6dd1c3ee64cd2d327cfc5ea6fa7b64/src/Compilers/Test/Utilities/VisualBasic/CompilationTestUtils.vb#L235-L247

Minimal repro:
```vb
Module Program
    Function M(xml As XElement) As Object
        Return xml.@name
    End Function
End Module
```

**Expected Behavior**:
The xml element is treated as used.
**Actual Behavior**:
IDE0060 reported.","False positive IDE0060 on VB xml syntax **Version Used**: 
Visual Studio 16.3.2

**Steps to Reproduce**:
Found at https://github.com/dotnet/roslyn/blob/7f60b3849b6dd1c3ee64cd2d327cfc5ea6fa7b64/src/Compilers/Test/Utilities/VisualBasic/CompilationTestUtils.vb#L235-L247

Minimal repro:
```vb
Module Program
    Function M(xml As XElement) As Object
        Return xml.@name
    End Function
End Module
```

**Expected Behavior**:
The xml element is treated as used.
**Actual Behavior**:
IDE0060 reported.",Area-IDE,huoyaoyuan|gafter|mavasani|jinujoseph,7/10/2019 18:59,9/10/2019 6:53
39094,SuppressMessage works in IDE but still produces warnings in build output,"**Version Used**: 
VS 16.3.2
**Steps to Reproduce**:

1. Create new c# .net core Console Project with following code
   ```c#
    using System;
  
    namespace ConsoleApp2
    {
        class Program
        {
            private string test;
    
            static void Main(string[] args)
            {
                var p = new Program() { test = ""bl"" };
                Console.WriteLine(""Hello World!"" + p.test);
            }
        }
    }

   ```
2. Enable nullable in `.csproj` (field `test` will show green squigles with non initilized non-nullable warning)
3.  Add Gloabl suppression file with
  ```c#
  [assembly: System.Diagnostics.CodeAnalysis.SuppressMessage(""Code Quality"" ""CS8618:Non-nullable field is uninitialized. Consider declaring as nullable."" Justification = ""<Pending>"" Scope = ""member"" Target = ""~F:ConsoleApp2.Program.test"")]
  ```
  (warning in source code will vanish)

**Expected Behavior**:

Bild shows no warnings

**Actual Behavior**:
Build shows warning  `Program.cs(724728): warning CS8618: Non-nullable field 'test' is uninitialized. Consider declaring the field as nullable.`","SuppressMessage works in IDE but still produces warnings in build output **Version Used**: 
VS 16.3.2
**Steps to Reproduce**:

1. Create new c# .net core Console Project with following code
   ```c#
    using System;
  
    namespace ConsoleApp2
    {
        class Program
        {
            private string test;
    
            static void Main(string[] args)
            {
                var p = new Program() { test = ""bl"" };
                Console.WriteLine(""Hello World!"" + p.test);
            }
        }
    }

   ```
2. Enable nullable in `.csproj` (field `test` will show green squigles with non initilized non-nullable warning)
3.  Add Gloabl suppression file with
  ```c#
  [assembly: System.Diagnostics.CodeAnalysis.SuppressMessage(""Code Quality"" ""CS8618:Non-nullable field is uninitialized. Consider declaring as nullable."" Justification = ""<Pending>"" Scope = ""member"" Target = ""~F:ConsoleApp2.Program.test"")]
  ```
  (warning in source code will vanish)

**Expected Behavior**:

Bild shows no warnings

**Actual Behavior**:
Build shows warning  `Program.cs(724728): warning CS8618: Non-nullable field 'test' is uninitialized. Consider declaring the field as nullable.`",Area-Compilers,jinujoseph,7/10/2019 18:39,
39093,AbstractSymbolCompletionProvider `s_cachedDocuments` caches also cancelled task,"**Version Used**: 
any but I have: `3.4.0-beta1-19462-14+2f21c63bb29a816d4a62191a1a0739deb64d387c`
**Steps to Reproduce**:
I assume this is hard to reproduce it happened to me while debugging. Steps are something like this:
1. Move mouse to error so QuickFix(light bulb) would appear and then move to next 
2. You must do 2nd move at exact moment so `CreateContext` is canceled at https://github.com/dotnet/roslyn/blob/337078a/src/Features/Core/Portable/Completion/Providers/AbstractSymbolCompletionProvider.cs#L424
3. What will happen now is CancelledTask will be cached
4. Any following call will throw exception that task was cancelled with token not be cancelled...

**Expected Behavior**:
Successive calls return value instead of throwing `TaskCanceledException`
**Actual Behavior**:
It keeps throwing `TaskCanceledException`

What I think should happen... inside `GetOrCreateContext` method it should not cache task if it's canceled...","AbstractSymbolCompletionProvider `s_cachedDocuments` caches also cancelled task **Version Used**: 
any but I have: `3.4.0-beta1-19462-14+2f21c63bb29a816d4a62191a1a0739deb64d387c`
**Steps to Reproduce**:
I assume this is hard to reproduce it happened to me while debugging. Steps are something like this:
1. Move mouse to error so QuickFix(light bulb) would appear and then move to next 
2. You must do 2nd move at exact moment so `CreateContext` is canceled at https://github.com/dotnet/roslyn/blob/337078a/src/Features/Core/Portable/Completion/Providers/AbstractSymbolCompletionProvider.cs#L424
3. What will happen now is CancelledTask will be cached
4. Any following call will throw exception that task was cancelled with token not be cancelled...

**Expected Behavior**:
Successive calls return value instead of throwing `TaskCanceledException`
**Actual Behavior**:
It keeps throwing `TaskCanceledException`

What I think should happen... inside `GetOrCreateContext` method it should not cache task if it's canceled...",Area-IDE|Bug|help wanted,dibarbet,,
39092,VisualStudioUnresolvedAnalyzerReference not overriding Display property provokes VS 16.3 crash.,"Regression from what shipped with VS 16.2.

https://github.com/dotnet/roslyn/blob/7f60b3849b6dd1c3ee64cd2d327cfc5ea6fa7b64/src/VisualStudio/Core/Def/Implementation/ProjectSystem/VisualStudioAnalyzer.cs#L135

does not override the `Display`property meaning whoever uses that property will get a null value back despite the comment in `AnalyzerReference` suggesting the opposite.

Enter VS 16.3's `FxCopAnalyzersSuggestedActionCallback.IsNuGetInstalled()`

https://github.com/dotnet/roslyn/blob/829fe7d4fe75b243fc535454cf5c24c173dfe1ec/src/VisualStudio/Core/Def/Implementation/Diagnostics/FxCopAnalyzersSuggestedActionCallback.cs#L142-L144

Crash. Unhandled .NET exception.

Sure it's VS acting up (and perhaps especially bad it's not handling this exception) but it seems this code is not doing what it `Should` (to quote)
https://github.com/dotnet/roslyn/blob/7f60b3849b6dd1c3ee64cd2d327cfc5ea6fa7b64/src/Compilers/Core/Portable/DiagnosticAnalyzer/AnalyzerReference.cs#L29-L31

A quick (and dirty?) ""fix"" could be to just add an override for that property forwarding to `_underlying.Display` since that seems to have a non-null string but I also believe this code needs a bit more unit testing the baseclass comment ""should"" could benefit from some clarification (is it supposed to be dependable non-null or is it an optional suggestion) and

@mavasani  that FxCop code needs to be fixed to not blindly trust reference values.

Since this is currently a show-stopper for us (we're at an effective stand still not able to trust VS to not crash while editing code) perhaps that could be incentive to fast track a fix?

Edit: Just in case it helps understanding the issue `_underlying.Display` contains the string
`Unresolved: MyProjPath\\mscorlib.dll` where MyProjPath is the local filesystem absolute (with doubled-up backslashes) path to the directory holding the .csproj which seems obvious to me since there are no dll's at all in that directory.","VisualStudioUnresolvedAnalyzerReference not overriding Display property provokes VS 16.3 crash. Regression from what shipped with VS 16.2.

https://github.com/dotnet/roslyn/blob/7f60b3849b6dd1c3ee64cd2d327cfc5ea6fa7b64/src/VisualStudio/Core/Def/Implementation/ProjectSystem/VisualStudioAnalyzer.cs#L135

does not override the `Display`property meaning whoever uses that property will get a null value back despite the comment in `AnalyzerReference` suggesting the opposite.

Enter VS 16.3's `FxCopAnalyzersSuggestedActionCallback.IsNuGetInstalled()`

https://github.com/dotnet/roslyn/blob/829fe7d4fe75b243fc535454cf5c24c173dfe1ec/src/VisualStudio/Core/Def/Implementation/Diagnostics/FxCopAnalyzersSuggestedActionCallback.cs#L142-L144

Crash. Unhandled .NET exception.

Sure it's VS acting up (and perhaps especially bad it's not handling this exception) but it seems this code is not doing what it `Should` (to quote)
https://github.com/dotnet/roslyn/blob/7f60b3849b6dd1c3ee64cd2d327cfc5ea6fa7b64/src/Compilers/Core/Portable/DiagnosticAnalyzer/AnalyzerReference.cs#L29-L31

A quick (and dirty?) ""fix"" could be to just add an override for that property forwarding to `_underlying.Display` since that seems to have a non-null string but I also believe this code needs a bit more unit testing the baseclass comment ""should"" could benefit from some clarification (is it supposed to be dependable non-null or is it an optional suggestion) and

@mavasani  that FxCop code needs to be fixed to not blindly trust reference values.

Since this is currently a show-stopper for us (we're at an effective stand still not able to trust VS to not crash while editing code) perhaps that could be incentive to fast track a fix?

Edit: Just in case it helps understanding the issue `_underlying.Display` contains the string
`Unresolved: MyProjPath\\mscorlib.dll` where MyProjPath is the local filesystem absolute (with doubled-up backslashes) path to the directory holding the .csproj which seems obvious to me since there are no dll's at all in that directory.",4 - In Review|Area-Analyzers|Bug|Tenet-Reliability,mavasani,,
39091,Fix: Underselection test bug,"+ Fix for #38708 
+ Enabled interleaving of {| and |] in tests (required for the issue regression tests)
+ Added general tests for IsUnderselected + machinery.","Fix: Underselection test bug + Fix for #38708 
+ Enabled interleaving of {| and |] in tests (required for the issue regression tests)
+ Added general tests for IsUnderselected + machinery.",Area-IDE|Community,mavasani,,
39090,"Handling of non-nullable fields for classes with ""Init"" method","I have a bunch of related classes that are constructed in 2 steps:
1) Object is instantiated constructor is called
2) Init() method is called

The problem is that some fields are initialized in Init() method and are guaranteed to be non-null afterwards. However the compiler complains that these fields are not initialized so I'm forced to either mark them as nullable (which I don't like) or do some tricks like explicitly initializing them with null! in the constructor to silence the compiler.
Have you considered allowing to annotate certain methods as ""init methods""? The effect would be that non-null fields/properties would have to be initialized either in the constructor or in init method(s).
In cases when Init is in fact part of the object construction no other method should be called in between (maybe apart from setting some properties). This means it's usually safe to leave such fields/properties as not-null and once Init method is called it's safe to access them.","Handling of non-nullable fields for classes with ""Init"" method I have a bunch of related classes that are constructed in 2 steps:
1) Object is instantiated constructor is called
2) Init() method is called

The problem is that some fields are initialized in Init() method and are guaranteed to be non-null afterwards. However the compiler complains that these fields are not initialized so I'm forced to either mark them as nullable (which I don't like) or do some tricks like explicitly initializing them with null! in the constructor to silence the compiler.
Have you considered allowing to annotate certain methods as ""init methods""? The effect would be that non-null fields/properties would have to be initialized either in the constructor or in init method(s).
In cases when Init is in fact part of the object construction no other method should be called in between (maybe apart from setting some properties). This means it's usually safe to leave such fields/properties as not-null and once Init method is called it's safe to access them.",Area-Compilers|Feature Request|New Language Feature - Nullable Reference Types,CyrusNajmabadi|gafter,7/10/2019 4:52,
39089,Fix symbol display for group by range variable,"Fixes https://github.com/dotnet/roslyn/issues/38794.

The main change here is adding a `QueryContinuationSyntax` case to `GetQueryBody` though that's a bit lost in the diff because I also refactored the method to use `switch` expression.","Fix symbol display for group by range variable Fixes https://github.com/dotnet/roslyn/issues/38794.

The main change here is adding a `QueryContinuationSyntax` case to `GetQueryBody` though that's a bit lost in the diff because I also refactored the method to use `switch` expression.",Area-Compilers|Community,svick|RikkiGibson,7/10/2019 0:24,8/10/2019 5:16
39088,WIP: Sqlite close on delete,,WIP: Sqlite close on delete ,Area-IDE|Community|PR For Personal Review Only,jinujoseph|CyrusNajmabadi,6/10/2019 15:54,17/10/2019 8:19
39087,Test VB case sensitive behavior vs the specification,"We should test to see if the VB compiler complies with the language specification in handling case insensitivity.  Below are a few of the language specification's assertions.  If there is a mismatch we will have to decide whether we want to change the compiler or the specification.

> Case is unimportant in Visual Basic programs. For simplicity all terminals will be given in standard casing but any casing will match them. Terminals that are printable elements of the ASCII character set are represented by their corresponding ASCII characters. Visual Basic is also width insensitive when matching terminals allowing full-width Unicode characters to match their half-width Unicode equivalents but only on a whole-token basis. A token will not match if it contains mixed half-width and full-width characters.

See also https://en.wikipedia.org/wiki/Halfwidth_and_Fullwidth_Forms_(Unicode_block)

> Identifiers are case insensitive so two identifiers are considered to be the same identifier if they differ only in case. 
> Note   The Unicode Standard one-to-one case mappings are used when comparing identifiers and any locale-specific case mappings are ignored.

> It may be possible in other languages to create a declaration space that contains different kinds of entities with the same name (for example if the language is case sensitive and allows different declarations based on casing). In that situation the most accessible entity is considered bound to that name; if more than one type of entity is most accessible then the name is ambiguous. Public is more accessible than Protected Friend Protected Friend is more accessible than Protected or Friend and Protected or Friend is more accessible than Private.

","Test VB case sensitive behavior vs the specification We should test to see if the VB compiler complies with the language specification in handling case insensitivity.  Below are a few of the language specification's assertions.  If there is a mismatch we will have to decide whether we want to change the compiler or the specification.

> Case is unimportant in Visual Basic programs. For simplicity all terminals will be given in standard casing but any casing will match them. Terminals that are printable elements of the ASCII character set are represented by their corresponding ASCII characters. Visual Basic is also width insensitive when matching terminals allowing full-width Unicode characters to match their half-width Unicode equivalents but only on a whole-token basis. A token will not match if it contains mixed half-width and full-width characters.

See also https://en.wikipedia.org/wiki/Halfwidth_and_Fullwidth_Forms_(Unicode_block)

> Identifiers are case insensitive so two identifiers are considered to be the same identifier if they differ only in case. 
> Note   The Unicode Standard one-to-one case mappings are used when comparing identifiers and any locale-specific case mappings are ignored.

> It may be possible in other languages to create a declaration space that contains different kinds of entities with the same name (for example if the language is case sensitive and allows different declarations based on casing). In that situation the most accessible entity is considered bound to that name; if more than one type of entity is most accessible then the name is ambiguous. Public is more accessible than Protected Friend Protected Friend is more accessible than Protected or Friend and Protected or Friend is more accessible than Private.

",Area-Compilers|Language-VB|Test|Test-Gap|help wanted,gafter,6/10/2019 10:03,
39086,Prevent removing all whitespace when formatting unrecognized whitespace charactes,"Fixes https://github.com/dotnet/roslyn/issues/38895.

Also used C# tuple instead of `ValueTuple` as the return type of a related method.

---

As I understand it the issue here is that:

1. Spacing formatting is suppressed within multiline collection initializers:

    https://github.com/dotnet/roslyn/blob/e8a7d91cc01b8904a876b362598a468337c169e7/src/Workspaces/CSharp/Portable/Formatting/Rules/SuppressFormattingRule.cs#L391-L396

2. When formatting is suppressed whitespace-only trivia is still normalized to remove unknown whitespace characters:

    https://github.com/dotnet/roslyn/blob/e8a7d91cc01b8904a876b362598a468337c169e7/src/Workspaces/CSharp/Portable/Formatting/Engine/Trivia/TriviaDataFactory.cs#L151-L154

But when unknown whitespace characters are the only whitespace characters this leads to zero whitespace between the two tokens and thus often to invalid code. This PR fixes that by replacing the unknown whitespace with a single space.

The result should be valid code but likely one with weird whitespace formatting (see the unit test where the `new C()` line has no indentation after formatting). I think it would be nice if formatting wasn't suppressed for multiline collection initializes but I don't understand the reasons behind that and so I think it's outside the scope of this PR.","Prevent removing all whitespace when formatting unrecognized whitespace charactes Fixes https://github.com/dotnet/roslyn/issues/38895.

Also used C# tuple instead of `ValueTuple` as the return type of a related method.

---

As I understand it the issue here is that:

1. Spacing formatting is suppressed within multiline collection initializers:

    https://github.com/dotnet/roslyn/blob/e8a7d91cc01b8904a876b362598a468337c169e7/src/Workspaces/CSharp/Portable/Formatting/Rules/SuppressFormattingRule.cs#L391-L396

2. When formatting is suppressed whitespace-only trivia is still normalized to remove unknown whitespace characters:

    https://github.com/dotnet/roslyn/blob/e8a7d91cc01b8904a876b362598a468337c169e7/src/Workspaces/CSharp/Portable/Formatting/Engine/Trivia/TriviaDataFactory.cs#L151-L154

But when unknown whitespace characters are the only whitespace characters this leads to zero whitespace between the two tokens and thus often to invalid code. This PR fixes that by replacing the unknown whitespace with a single space.

The result should be valid code but likely one with weird whitespace formatting (see the unit test where the `new C()` line has no indentation after formatting). I think it would be nice if formatting wasn't suppressed for multiline collection initializes but I don't understand the reasons behind that and so I think it's outside the scope of this PR.",Area-IDE|Community,sharwell,,
39085,Fix Issue #9658,Add doc to CSharpCompilation.ClassifyConversion method,Fix Issue #9658 Add doc to CSharpCompilation.ClassifyConversion method,Area-Compilers|Community,333fred,,
39084,[master] Update dependencies from dotnet/arcade,"This pull request updates the following dependencies

[marker]: <> (Begin:567feadf-e495-4ebb-cee4-08d67668456c)
## From https://github.com/dotnet/arcade
- **Build**: 20191018.2
- **Date Produced**: 10/18/2019 9:12 PM
- **Commit**: f59f1ebe9b293ad523d3bfa4e5cffc663708ef11
- **Branch**: refs/heads/master
- **Updates**:
  - **Microsoft.DotNet.Arcade.Sdk** -> 5.0.0-beta.19518.2

[marker]: <> (End:567feadf-e495-4ebb-cee4-08d67668456c)





























","[master] Update dependencies from dotnet/arcade This pull request updates the following dependencies

[marker]: <> (Begin:567feadf-e495-4ebb-cee4-08d67668456c)
## From https://github.com/dotnet/arcade
- **Build**: 20191018.2
- **Date Produced**: 10/18/2019 9:12 PM
- **Commit**: f59f1ebe9b293ad523d3bfa4e5cffc663708ef11
- **Branch**: refs/heads/master
- **Updates**:
  - **Microsoft.DotNet.Arcade.Sdk** -> 5.0.0-beta.19518.2

[marker]: <> (End:567feadf-e495-4ebb-cee4-08d67668456c)





























",Area-Infrastructure,dotnet-maestro[bot]|jinujoseph,5/10/2019 22:08,
39083,'Go to all' can't find local functions,"**Version Used**: VS 16.3

**Steps to Reproduce**:

1. `Ctrl+`
2. Search for `LocalFunction`

```C#
using System;

namespace ConsoleApp9
{
    class Program
    {
        static void Main(string[] args)
        {
            static void LocalFunction() { }

            Console.WriteLine(""Hello World!"");
        }
    }
}
```

**Expected Behavior**:

The local function is found

**Actual Behavior**:

The local function is not found","'Go to all' can't find local functions **Version Used**: VS 16.3

**Steps to Reproduce**:

1. `Ctrl+`
2. Search for `LocalFunction`

```C#
using System;

namespace ConsoleApp9
{
    class Program
    {
        static void Main(string[] args)
        {
            static void LocalFunction() { }

            Console.WriteLine(""Hello World!"");
        }
    }
}
```

**Expected Behavior**:

The local function is found

**Actual Behavior**:

The local function is not found",Area-IDE|Feature Request|Need Design Review,gafter|jinujoseph,5/10/2019 20:05,
39082,Switch expression that returns lambda crashes VS right after typing block's open brace,"**Version Used**: VS Community 2019 Preview 16.4.0 Preview 1.0

**Steps to Reproduce**:

1. Paste: `var x = ((Func<int decimal>)(0 switch { 0 => _ => {}}))(0);`
2. Visual Studio dies

**Expected Behavior**: I can start writing lambda block

**Actual Behavior**: VS crashes
","Switch expression that returns lambda crashes VS right after typing block's open brace **Version Used**: VS Community 2019 Preview 16.4.0 Preview 1.0

**Steps to Reproduce**:

1. Paste: `var x = ((Func<int decimal>)(0 switch { 0 => _ => {}}))(0);`
2. Visual Studio dies

**Expected Behavior**: I can start writing lambda block

**Actual Behavior**: VS crashes
",4 - In Review|Area-Compilers|Bug,gafter,,
39081,Merge master to features/local-function-attributes,"
This is an automatically generated pull request from master into features/local-function-attributes.

``` bash
git fetch --all
git checkout merges/master-to-features/local-function-attributes
git reset --hard upstream/features/local-function-attributes
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-features/local-function-attributes --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge master to features/local-function-attributes 
This is an automatically generated pull request from master into features/local-function-attributes.

``` bash
git fetch --all
git checkout merges/master-to-features/local-function-attributes
git reset --hard upstream/features/local-function-attributes
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-features/local-function-attributes --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|RikkiGibson,5/10/2019 10:02,8/10/2019 6:50
39080,Merge master to master-vs-deps,"
This is an automatically generated pull request from master into master-vs-deps.

``` bash
git fetch --all
git checkout merges/master-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge master to master-vs-deps 
This is an automatically generated pull request from master into master-vs-deps.

``` bash
git fetch --all
git checkout merges/master-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|RikkiGibson,5/10/2019 10:02,8/10/2019 6:49
39079,Fix generate method type parameter nullability,,Fix generate method type parameter nullability ,Area-IDE,jasonmalinowski,,
39077,Simplify C# syntax generators.,"It's probably a good idea to review this PR one commit at a time. 
This PR should also be reviewed with whitespace changes **OFF**.  Entire commits will become ""only whitespace changed"" doing that.

This PR simplifies the implementation of our syntax generator by using the existing (but uncommonly used) functionality to indent/dedent/block pieces of code.  Instead most of our writing code had to manually insert spaces making it super annoying to keep track of current indent and emit the write amount of spaces.

This has been a pain every time i've edited SourceWriter so i thought i would finally clean it up.  While i was in there I also updated how we emit a few constructs to:

1. keep them formatted like we normally do in our codebase.
2. Use more modern constructs for brevity (i.e. `=>` `switch expressions` `conditional exprs` and the like).
","Simplify C# syntax generators. It's probably a good idea to review this PR one commit at a time. 
This PR should also be reviewed with whitespace changes **OFF**.  Entire commits will become ""only whitespace changed"" doing that.

This PR simplifies the implementation of our syntax generator by using the existing (but uncommonly used) functionality to indent/dedent/block pieces of code.  Instead most of our writing code had to manually insert spaces making it super annoying to keep track of current indent and emit the write amount of spaces.

This has been a pain every time i've edited SourceWriter so i thought i would finally clean it up.  While i was in there I also updated how we emit a few constructs to:

1. keep them formatted like we normally do in our codebase.
2. Use more modern constructs for brevity (i.e. `=>` `switch expressions` `conditional exprs` and the like).
",Area-Compilers|Concept-Design Debt,333fred,,
39076,Quick info doesn't show nullable type when mousing over var,"Paste the following into a C# 8 application:

```csharp
#nullable enable

namespace ConsoleApp65
{
    class C
    {
        void M()
        {
            object? o = null;
            var s = (string?)o;
        }
    }
}
```

Mouse over ""var"".

**Expected:** it shows System.String?
**Actual:** it shows System.String","Quick info doesn't show nullable type when mousing over var Paste the following into a C# 8 application:

```csharp
#nullable enable

namespace ConsoleApp65
{
    class C
    {
        void M()
        {
            object? o = null;
            var s = (string?)o;
        }
    }
}
```

Mouse over ""var"".

**Expected:** it shows System.String?
**Actual:** it shows System.String",Area-IDE|Bug|IDE-IntelliSense|New Language Feature - Nullable Reference Types,jasonmalinowski,,
39075,Extract method drops nullable annotation on explicit cast,"Copy into a C# 8.0 app:

```
#nullable enable

namespace ConsoleApp65
{
    class C
    {
        void M()
        {
            object? o = null;
            var s = (string?)o;
            Console.WriteLine(s);
        }
    }
}
```

Invoke extract method on the ""o"" in the ""var s..."" line. Do *not* select the cast just the o.

**Expected:** the generated method returns string? because that's the explicit cast before it.
**Actual:** it returns just string which breaks code.","Extract method drops nullable annotation on explicit cast Copy into a C# 8.0 app:

```
#nullable enable

namespace ConsoleApp65
{
    class C
    {
        void M()
        {
            object? o = null;
            var s = (string?)o;
            Console.WriteLine(s);
        }
    }
}
```

Invoke extract method on the ""o"" in the ""var s..."" line. Do *not* select the cast just the o.

**Expected:** the generated method returns string? because that's the explicit cast before it.
**Actual:** it returns just string which breaks code.",Area-IDE|Bug|New Language Feature - Nullable Reference Types,ryzngard,,
39074,Generate method drops ? on class-constrained T,"Paste the following into a C# 8.0 app:

```
#nullable enable

namespace ConsoleApp65
{
    class C
    {
        public T? M<T>() where T : class
        {
            T? t = null;
            return M2(t);
        }
    }
}
```

Invoke Generate Method on M2.

**Expected:** M2 is generated with a parameter accepting T?
**Actual:** the parameter is just T so it doesn't work right","Generate method drops ? on class-constrained T Paste the following into a C# 8.0 app:

```
#nullable enable

namespace ConsoleApp65
{
    class C
    {
        public T? M<T>() where T : class
        {
            T? t = null;
            return M2(t);
        }
    }
}
```

Invoke Generate Method on M2.

**Expected:** M2 is generated with a parameter accepting T?
**Actual:** the parameter is just T so it doesn't work right",Area-IDE|Bug|New Language Feature - Nullable Reference Types,jasonmalinowski,,
39073,Completion: save trigger location per item,Attempt to fix https://github.com/dotnet/roslyn/issues/38596,Completion: save trigger location per item Attempt to fix https://github.com/dotnet/roslyn/issues/38596,Area-IDE|IDE-IntelliSense,ivanbasov,5/10/2019 6:11,11/10/2019 10:49
39072,OutOfMemoryException from parser while typing in VS,"typing the code below reliably triggers the crash in dogfood build 16.4 preview2 29403.147master [||] is where the cursor is.

```cs
public class Foo
{
        public enum ReferenceType
        {
            None
            Project
            Metadata
        }

        public IEnumerable<object[]> GetSomething
            => (new[] { ReferenceType.None ReferenceType.Project ReferenceType.Metadata }).Select(refType => new[] { ref[||] });
}
```

```
Application: devenv.exe
Framework Version: v4.0.30319
Description: The application requested process termination through System.Environment.FailFast(string message).
Message: System.OutOfMemoryException: Exception of type 'System.OutOfMemoryException' was thrown.
   at System.Runtime.CompilerServices.ConditionalWeakTable`2.Resize()
   at System.Runtime.CompilerServices.ConditionalWeakTable`2.CreateEntry(TKey key TValue value)
   at System.Runtime.CompilerServices.ConditionalWeakTable`2.Add(TKey key TValue value)
   at Microsoft.CodeAnalysis.GreenNode..ctor(UInt16 kind DiagnosticInfo[] diagnostics SyntaxAnnotation[] annotations)
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.SyntaxToken.MissingTokenWithTrivia.SetDiagnostics(DiagnosticInfo[] diagnostics)
   at Microsoft.CodeAnalysis.GreenNodeExtensions.WithDiagnosticsGreen[TNode](TNode node DiagnosticInfo[] diagnostics)
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.SyntaxParser.WithAdditionalDiagnostics[TNode](TNode node DiagnosticInfo[] diagnostics)
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.SyntaxParser.CreateMissingToken(SyntaxKind expected SyntaxKind actual Boolean reportError)
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.SyntaxParser.EatToken(SyntaxKind kind)
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseArrayInitializer()
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseImplicitlyTypedArrayCreation()
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseNewExpression()
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseTerm(Precedence precedence)
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseSubExpressionCore(Precedence precedence)
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseSubExpression(Precedence precedence)
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParsePossibleRefExpression()
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseLambdaBody()
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseLambdaExpression(SyntaxToken asyncToken)
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseLambdaExpression()
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseTerm(Precedence precedence)
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseSubExpressionCore(Precedence precedence)
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseSubExpression(Precedence precedence)
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseArgumentExpression(Boolean isIndexer)
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseArgumentList(SyntaxToken& openToken SeparatedSyntaxList`1& arguments SyntaxToken& closeToken SyntaxKind openKind SyntaxKind closeKind)
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseParenthesizedArgumentList()
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParsePostFixExpression(ExpressionSyntax expr)
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseTerm(Precedence precedence)
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseSubExpressionCore(Precedence precedence)
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseSubExpression(Precedence precedence)
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParsePossibleRefExpression()
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseArrowExpressionClause()
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParsePropertyDeclaration(SyntaxListBuilder`1 attributes SyntaxListBuilder modifiers TypeSyntax type ExplicitInterfaceSpecifierSyntax explicitInterfaceOpt SyntaxToken identifier TypeParameterListSyntax typeParameterList)
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseMemberDeclarationOrStatementCore(SyntaxKind parentKind)
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseMemberDeclarationOrStatement(SyntaxKind parentKind)
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseClassOrStructOrInterfaceDeclaration(SyntaxListBuilder`1 attributes SyntaxListBuilder modifiers)
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseTypeDeclaration(SyntaxListBuilder`1 attributes SyntaxListBuilder modifiers)
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseMemberDeclarationOrStatementCore(SyntaxKind parentKind)
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseMemberDeclarationOrStatement(SyntaxKind parentKind)
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseNamespaceBody(SyntaxToken& openBrace NamespaceBodyBuilder& body SyntaxListBuilder& initialBadNodes SyntaxKind parentKind)
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseNamespaceDeclarationCore(SyntaxListBuilder`1 attributeLists SyntaxListBuilder modifiers)
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseNamespaceDeclaration(SyntaxListBuilder`1 attributeLists SyntaxListBuilder modifiers)
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseNamespaceBody(SyntaxToken& openBrace NamespaceBodyBuilder& body SyntaxListBuilder& initialBadNodes SyntaxKind parentKind)
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseCompilationUnitCore()
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseWithStackGuard[TNode](Func`1 parseFunc Func`1 createEmptyNodeFunc)
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseCompilationUnit()
   at Microsoft.CodeAnalysis.CSharp.CSharpSyntaxTree.WithChanges(SourceText newText IReadOnlyList`1 changes)
   at Microsoft.CodeAnalysis.CSharp.CSharpSyntaxTree.WithChangedText(SourceText newText)
   at Microsoft.CodeAnalysis.DocumentState.IncrementallyParse(TextAndVersion newTextAndVersion TreeAndVersion oldTreeAndVersion CancellationToken cancellationToken)
   at Microsoft.CodeAnalysis.DocumentState.<IncrementallyParseTreeAsync>d__15.MoveNext()
Stack:
   at System.Environment.FailFast(System.String System.Exception)
   at Microsoft.CodeAnalysis.FailFast.OnFatalException(System.Exception)
   at Microsoft.CodeAnalysis.ErrorReporting.FatalError.Report(System.Exception System.Action`1<System.Exception>)
   at Microsoft.CodeAnalysis.ErrorReporting.FatalError.ReportUnlessCanceled(System.Exception)
   at Microsoft.CodeAnalysis.DocumentState+<IncrementallyParseTreeAsync>d__15.MoveNext()
   at System.Runtime.CompilerServices.ConditionalWeakTable`2[[System.__Canon mscorlib Version=4.0.0.0 Culture=neutral PublicKeyToken=b77a5c561934e089][System.__Canon mscorlib Version=4.0.0.0 Culture=neutral PublicKeyToken=b77a5c561934e089]].Resize()
   at System.Runtime.CompilerServices.ConditionalWeakTable`2[[System.__Canon mscorlib Version=4.0.0.0 Culture=neutral PublicKeyToken=b77a5c561934e089][System.__Canon mscorlib Version=4.0.0.0 Culture=neutral PublicKeyToken=b77a5c561934e089]].CreateEntry(System.__Canon System.__Canon)
   at System.Runtime.CompilerServices.ConditionalWeakTable`2[[System.__Canon mscorlib Version=4.0.0.0 Culture=neutral PublicKeyToken=b77a5c561934e089][System.__Canon mscorlib Version=4.0.0.0 Culture=neutral PublicKeyToken=b77a5c561934e089]].Add(System.__Canon System.__Canon)
   at Microsoft.CodeAnalysis.GreenNode..ctor(UInt16 Microsoft.CodeAnalysis.DiagnosticInfo[] Microsoft.CodeAnalysis.SyntaxAnnotation[])
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.SyntaxToken+MissingTokenWithTrivia.SetDiagnostics(Microsoft.CodeAnalysis.DiagnosticInfo[])
   at Microsoft.CodeAnalysis.GreenNodeExtensions.WithDiagnosticsGreen[[System.__Canon mscorlib Version=4.0.0.0 Culture=neutral PublicKeyToken=b77a5c561934e089]](System.__Canon Microsoft.CodeAnalysis.DiagnosticInfo[])
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.SyntaxParser.WithAdditionalDiagnostics[[System.__Canon mscorlib Version=4.0.0.0 Culture=neutral PublicKeyToken=b77a5c561934e089]](System.__Canon Microsoft.CodeAnalysis.DiagnosticInfo[])
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.SyntaxParser.CreateMissingToken(Microsoft.CodeAnalysis.CSharp.SyntaxKind Microsoft.CodeAnalysis.CSharp.SyntaxKind Boolean)
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.SyntaxParser.EatToken(Microsoft.CodeAnalysis.CSharp.SyntaxKind)
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseArrayInitializer()
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseImplicitlyTypedArrayCreation()
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseNewExpression()
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseTerm(Precedence)
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseSubExpressionCore(Precedence)
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseSubExpression(Precedence)
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParsePossibleRefExpression()
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseLambdaBody()
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseLambdaExpression(Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.SyntaxToken)
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseLambdaExpression()
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseTerm(Precedence)
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseSubExpressionCore(Precedence)
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseSubExpression(Precedence)
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseArgumentExpression(Boolean)
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseArgumentList(Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.SyntaxToken ByRef Microsoft.CodeAnalysis.Syntax.InternalSyntax.SeparatedSyntaxList`1<Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.ArgumentSyntax> ByRef Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.SyntaxToken ByRef Microsoft.CodeAnalysis.CSharp.SyntaxKind Microsoft.CodeAnalysis.CSharp.SyntaxKind)
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseParenthesizedArgumentList()
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParsePostFixExpression(Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.ExpressionSyntax)
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseTerm(Precedence)
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseSubExpressionCore(Precedence)
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseSubExpression(Precedence)
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParsePossibleRefExpression()
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseArrowExpressionClause()
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParsePropertyDeclaration(Microsoft.CodeAnalysis.Syntax.InternalSyntax.SyntaxListBuilder`1<Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.AttributeListSyntax> Microsoft.CodeAnalysis.Syntax.InternalSyntax.SyntaxListBuilder Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.TypeSyntax Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.ExplicitInterfaceSpecifierSyntax Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.SyntaxToken Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.TypeParameterListSyntax)
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseMemberDeclarationOrStatementCore(Microsoft.CodeAnalysis.CSharp.SyntaxKind)
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseMemberDeclarationOrStatement(Microsoft.CodeAnalysis.CSharp.SyntaxKind)
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseClassOrStructOrInterfaceDeclaration(Microsoft.CodeAnalysis.Syntax.InternalSyntax.SyntaxListBuilder`1<Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.AttributeListSyntax> Microsoft.CodeAnalysis.Syntax.InternalSyntax.SyntaxListBuilder)
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseTypeDeclaration(Microsoft.CodeAnalysis.Syntax.InternalSyntax.SyntaxListBuilder`1<Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.AttributeListSyntax> Microsoft.CodeAnalysis.Syntax.InternalSyntax.SyntaxListBuilder)
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseMemberDeclarationOrStatementCore(Microsoft.CodeAnalysis.CSharp.SyntaxKind)
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseMemberDeclarationOrStatement(Microsoft.CodeAnalysis.CSharp.SyntaxKind)
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseNamespaceBody(Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.SyntaxToken ByRef NamespaceBodyBuilder ByRef Microsoft.CodeAnalysis.Syntax.InternalSyntax.SyntaxListBuilder ByRef Microsoft.CodeAnalysis.CSharp.SyntaxKind)
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseNamespaceDeclarationCore(Microsoft.CodeAnalysis.Syntax.InternalSyntax.SyntaxListBuilder`1<Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.AttributeListSyntax> Microsoft.CodeAnalysis.Syntax.InternalSyntax.SyntaxListBuilder)
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseNamespaceDeclaration(Microsoft.CodeAnalysis.Syntax.InternalSyntax.SyntaxListBuilder`1<Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.AttributeListSyntax> Microsoft.CodeAnalysis.Syntax.InternalSyntax.SyntaxListBuilder)
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseNamespaceBody(Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.SyntaxToken ByRef NamespaceBodyBuilder ByRef Microsoft.CodeAnalysis.Syntax.InternalSyntax.SyntaxListBuilder ByRef Microsoft.CodeAnalysis.CSharp.SyntaxKind)
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseCompilationUnitCore()
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseWithStackGuard[[System.__Canon mscorlib Version=4.0.0.0 Culture=neutral PublicKeyToken=b77a5c561934e089]](System.Func`1<System.__Canon> System.Func`1<System.__Canon>)
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseCompilationUnit()
   at Microsoft.CodeAnalysis.CSharp.CSharpSyntaxTree.WithChanges(Microsoft.CodeAnalysis.Text.SourceText System.Collections.Generic.IReadOnlyList`1<Microsoft.CodeAnalysis.Text.TextChangeRange>)
   at Microsoft.CodeAnalysis.CSharp.CSharpSyntaxTree.WithChangedText(Microsoft.CodeAnalysis.Text.SourceText)
   at Microsoft.CodeAnalysis.DocumentState.IncrementallyParse(Microsoft.CodeAnalysis.TextAndVersion Microsoft.CodeAnalysis.TreeAndVersion System.Threading.CancellationToken)
   at Microsoft.CodeAnalysis.DocumentState+<IncrementallyParseTreeAsync>d__15.MoveNext()
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1[[System.__Canon mscorlib Version=4.0.0.0 Culture=neutral PublicKeyToken=b77a5c561934e089]].Start[[Microsoft.CodeAnalysis.DocumentState+<IncrementallyParseTreeAsync>d__15 Microsoft.CodeAnalysis.Workspaces Version=3.4.0.0 Culture=neutral PublicKeyToken=31bf3856ad364e35]](<IncrementallyParseTreeAsync>d__15 ByRef)
   at Microsoft.CodeAnalysis.DocumentState.IncrementallyParseTreeAsync(Roslyn.Utilities.ValueSource`1<Microsoft.CodeAnalysis.TreeAndVersion> Roslyn.Utilities.ValueSource`1<Microsoft.CodeAnalysis.TextAndVersion> System.Threading.CancellationToken)
   at Microsoft.CodeAnalysis.DocumentState+<>c__DisplayClass14_0.<CreateLazyIncrementallyParsedTree>b__0(System.Threading.CancellationToken)
   at Roslyn.Utilities.AsyncLazy`1[[System.__Canon mscorlib Version=4.0.0.0 Culture=neutral PublicKeyToken=b77a5c561934e089]].StartAsynchronousComputation(AsynchronousComputationToStart<System.__Canon> Request<System.__Canon> System.Threading.CancellationToken)
   at Roslyn.Utilities.AsyncLazy`1[[System.__Canon mscorlib Version=4.0.0.0 Culture=neutral PublicKeyToken=b77a5c561934e089]].GetValueAsync(System.Threading.CancellationToken)
   at Microsoft.CodeAnalysis.DocumentState+<GetSyntaxTreeAsync>d__42.MoveNext()
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1[[System.__Canon mscorlib Version=4.0.0.0 Culture=neutral PublicKeyToken=b77a5c561934e089]].Start[[Microsoft.CodeAnalysis.DocumentState+<GetSyntaxTreeAsync>d__42 Microsoft.CodeAnalysis.Workspaces Version=3.4.0.0 Culture=neutral PublicKeyToken=31bf3856ad364e35]](<GetSyntaxTreeAsync>d__42 ByRef)
   at Microsoft.CodeAnalysis.DocumentState.GetSyntaxTreeAsync(System.Threading.CancellationToken)
   at Microsoft.CodeAnalysis.Document.GetSyntaxTreeAsync(System.Threading.CancellationToken)
   at Microsoft.CodeAnalysis.Host.BackgroundParser+<>c__DisplayClass20_0.<ParseDocumentAsync>b__0()
   at System.Threading.Tasks.Task`1[[System.__Canon mscorlib Version=4.0.0.0 Culture=neutral PublicKeyToken=b77a5c561934e089]].InnerInvoke()
   at System.Threading.Tasks.Task.Execute()
   at System.Threading.Tasks.Task.ExecutionContextCallback(System.Object)
   at System.Threading.ExecutionContext.RunInternal(System.Threading.ExecutionContext System.Threading.ContextCallback System.Object Boolean)
   at System.Threading.ExecutionContext.Run(System.Threading.ExecutionContext System.Threading.ContextCallback System.Object Boolean)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(System.Threading.Tasks.Task ByRef)
   at System.Threading.Tasks.Task.ExecuteEntry(Boolean)
   at System.Threading.Tasks.Task.System.Threading.IThreadPoolWorkItem.ExecuteWorkItem()
   at System.Threading.ThreadPoolWorkQueue.Dispatch()
   at System.Threading._ThreadPoolWaitCallback.PerformWaitCallback()

```","OutOfMemoryException from parser while typing in VS typing the code below reliably triggers the crash in dogfood build 16.4 preview2 29403.147master [||] is where the cursor is.

```cs
public class Foo
{
        public enum ReferenceType
        {
            None
            Project
            Metadata
        }

        public IEnumerable<object[]> GetSomething
            => (new[] { ReferenceType.None ReferenceType.Project ReferenceType.Metadata }).Select(refType => new[] { ref[||] });
}
```

```
Application: devenv.exe
Framework Version: v4.0.30319
Description: The application requested process termination through System.Environment.FailFast(string message).
Message: System.OutOfMemoryException: Exception of type 'System.OutOfMemoryException' was thrown.
   at System.Runtime.CompilerServices.ConditionalWeakTable`2.Resize()
   at System.Runtime.CompilerServices.ConditionalWeakTable`2.CreateEntry(TKey key TValue value)
   at System.Runtime.CompilerServices.ConditionalWeakTable`2.Add(TKey key TValue value)
   at Microsoft.CodeAnalysis.GreenNode..ctor(UInt16 kind DiagnosticInfo[] diagnostics SyntaxAnnotation[] annotations)
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.SyntaxToken.MissingTokenWithTrivia.SetDiagnostics(DiagnosticInfo[] diagnostics)
   at Microsoft.CodeAnalysis.GreenNodeExtensions.WithDiagnosticsGreen[TNode](TNode node DiagnosticInfo[] diagnostics)
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.SyntaxParser.WithAdditionalDiagnostics[TNode](TNode node DiagnosticInfo[] diagnostics)
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.SyntaxParser.CreateMissingToken(SyntaxKind expected SyntaxKind actual Boolean reportError)
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.SyntaxParser.EatToken(SyntaxKind kind)
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseArrayInitializer()
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseImplicitlyTypedArrayCreation()
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseNewExpression()
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseTerm(Precedence precedence)
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseSubExpressionCore(Precedence precedence)
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseSubExpression(Precedence precedence)
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParsePossibleRefExpression()
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseLambdaBody()
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseLambdaExpression(SyntaxToken asyncToken)
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseLambdaExpression()
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseTerm(Precedence precedence)
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseSubExpressionCore(Precedence precedence)
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseSubExpression(Precedence precedence)
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseArgumentExpression(Boolean isIndexer)
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseArgumentList(SyntaxToken& openToken SeparatedSyntaxList`1& arguments SyntaxToken& closeToken SyntaxKind openKind SyntaxKind closeKind)
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseParenthesizedArgumentList()
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParsePostFixExpression(ExpressionSyntax expr)
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseTerm(Precedence precedence)
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseSubExpressionCore(Precedence precedence)
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseSubExpression(Precedence precedence)
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParsePossibleRefExpression()
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseArrowExpressionClause()
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParsePropertyDeclaration(SyntaxListBuilder`1 attributes SyntaxListBuilder modifiers TypeSyntax type ExplicitInterfaceSpecifierSyntax explicitInterfaceOpt SyntaxToken identifier TypeParameterListSyntax typeParameterList)
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseMemberDeclarationOrStatementCore(SyntaxKind parentKind)
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseMemberDeclarationOrStatement(SyntaxKind parentKind)
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseClassOrStructOrInterfaceDeclaration(SyntaxListBuilder`1 attributes SyntaxListBuilder modifiers)
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseTypeDeclaration(SyntaxListBuilder`1 attributes SyntaxListBuilder modifiers)
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseMemberDeclarationOrStatementCore(SyntaxKind parentKind)
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseMemberDeclarationOrStatement(SyntaxKind parentKind)
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseNamespaceBody(SyntaxToken& openBrace NamespaceBodyBuilder& body SyntaxListBuilder& initialBadNodes SyntaxKind parentKind)
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseNamespaceDeclarationCore(SyntaxListBuilder`1 attributeLists SyntaxListBuilder modifiers)
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseNamespaceDeclaration(SyntaxListBuilder`1 attributeLists SyntaxListBuilder modifiers)
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseNamespaceBody(SyntaxToken& openBrace NamespaceBodyBuilder& body SyntaxListBuilder& initialBadNodes SyntaxKind parentKind)
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseCompilationUnitCore()
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseWithStackGuard[TNode](Func`1 parseFunc Func`1 createEmptyNodeFunc)
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseCompilationUnit()
   at Microsoft.CodeAnalysis.CSharp.CSharpSyntaxTree.WithChanges(SourceText newText IReadOnlyList`1 changes)
   at Microsoft.CodeAnalysis.CSharp.CSharpSyntaxTree.WithChangedText(SourceText newText)
   at Microsoft.CodeAnalysis.DocumentState.IncrementallyParse(TextAndVersion newTextAndVersion TreeAndVersion oldTreeAndVersion CancellationToken cancellationToken)
   at Microsoft.CodeAnalysis.DocumentState.<IncrementallyParseTreeAsync>d__15.MoveNext()
Stack:
   at System.Environment.FailFast(System.String System.Exception)
   at Microsoft.CodeAnalysis.FailFast.OnFatalException(System.Exception)
   at Microsoft.CodeAnalysis.ErrorReporting.FatalError.Report(System.Exception System.Action`1<System.Exception>)
   at Microsoft.CodeAnalysis.ErrorReporting.FatalError.ReportUnlessCanceled(System.Exception)
   at Microsoft.CodeAnalysis.DocumentState+<IncrementallyParseTreeAsync>d__15.MoveNext()
   at System.Runtime.CompilerServices.ConditionalWeakTable`2[[System.__Canon mscorlib Version=4.0.0.0 Culture=neutral PublicKeyToken=b77a5c561934e089][System.__Canon mscorlib Version=4.0.0.0 Culture=neutral PublicKeyToken=b77a5c561934e089]].Resize()
   at System.Runtime.CompilerServices.ConditionalWeakTable`2[[System.__Canon mscorlib Version=4.0.0.0 Culture=neutral PublicKeyToken=b77a5c561934e089][System.__Canon mscorlib Version=4.0.0.0 Culture=neutral PublicKeyToken=b77a5c561934e089]].CreateEntry(System.__Canon System.__Canon)
   at System.Runtime.CompilerServices.ConditionalWeakTable`2[[System.__Canon mscorlib Version=4.0.0.0 Culture=neutral PublicKeyToken=b77a5c561934e089][System.__Canon mscorlib Version=4.0.0.0 Culture=neutral PublicKeyToken=b77a5c561934e089]].Add(System.__Canon System.__Canon)
   at Microsoft.CodeAnalysis.GreenNode..ctor(UInt16 Microsoft.CodeAnalysis.DiagnosticInfo[] Microsoft.CodeAnalysis.SyntaxAnnotation[])
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.SyntaxToken+MissingTokenWithTrivia.SetDiagnostics(Microsoft.CodeAnalysis.DiagnosticInfo[])
   at Microsoft.CodeAnalysis.GreenNodeExtensions.WithDiagnosticsGreen[[System.__Canon mscorlib Version=4.0.0.0 Culture=neutral PublicKeyToken=b77a5c561934e089]](System.__Canon Microsoft.CodeAnalysis.DiagnosticInfo[])
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.SyntaxParser.WithAdditionalDiagnostics[[System.__Canon mscorlib Version=4.0.0.0 Culture=neutral PublicKeyToken=b77a5c561934e089]](System.__Canon Microsoft.CodeAnalysis.DiagnosticInfo[])
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.SyntaxParser.CreateMissingToken(Microsoft.CodeAnalysis.CSharp.SyntaxKind Microsoft.CodeAnalysis.CSharp.SyntaxKind Boolean)
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.SyntaxParser.EatToken(Microsoft.CodeAnalysis.CSharp.SyntaxKind)
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseArrayInitializer()
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseImplicitlyTypedArrayCreation()
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseNewExpression()
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseTerm(Precedence)
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseSubExpressionCore(Precedence)
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseSubExpression(Precedence)
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParsePossibleRefExpression()
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseLambdaBody()
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseLambdaExpression(Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.SyntaxToken)
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseLambdaExpression()
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseTerm(Precedence)
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseSubExpressionCore(Precedence)
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseSubExpression(Precedence)
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseArgumentExpression(Boolean)
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseArgumentList(Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.SyntaxToken ByRef Microsoft.CodeAnalysis.Syntax.InternalSyntax.SeparatedSyntaxList`1<Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.ArgumentSyntax> ByRef Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.SyntaxToken ByRef Microsoft.CodeAnalysis.CSharp.SyntaxKind Microsoft.CodeAnalysis.CSharp.SyntaxKind)
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseParenthesizedArgumentList()
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParsePostFixExpression(Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.ExpressionSyntax)
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseTerm(Precedence)
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseSubExpressionCore(Precedence)
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseSubExpression(Precedence)
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParsePossibleRefExpression()
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseArrowExpressionClause()
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParsePropertyDeclaration(Microsoft.CodeAnalysis.Syntax.InternalSyntax.SyntaxListBuilder`1<Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.AttributeListSyntax> Microsoft.CodeAnalysis.Syntax.InternalSyntax.SyntaxListBuilder Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.TypeSyntax Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.ExplicitInterfaceSpecifierSyntax Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.SyntaxToken Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.TypeParameterListSyntax)
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseMemberDeclarationOrStatementCore(Microsoft.CodeAnalysis.CSharp.SyntaxKind)
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseMemberDeclarationOrStatement(Microsoft.CodeAnalysis.CSharp.SyntaxKind)
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseClassOrStructOrInterfaceDeclaration(Microsoft.CodeAnalysis.Syntax.InternalSyntax.SyntaxListBuilder`1<Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.AttributeListSyntax> Microsoft.CodeAnalysis.Syntax.InternalSyntax.SyntaxListBuilder)
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseTypeDeclaration(Microsoft.CodeAnalysis.Syntax.InternalSyntax.SyntaxListBuilder`1<Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.AttributeListSyntax> Microsoft.CodeAnalysis.Syntax.InternalSyntax.SyntaxListBuilder)
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseMemberDeclarationOrStatementCore(Microsoft.CodeAnalysis.CSharp.SyntaxKind)
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseMemberDeclarationOrStatement(Microsoft.CodeAnalysis.CSharp.SyntaxKind)
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseNamespaceBody(Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.SyntaxToken ByRef NamespaceBodyBuilder ByRef Microsoft.CodeAnalysis.Syntax.InternalSyntax.SyntaxListBuilder ByRef Microsoft.CodeAnalysis.CSharp.SyntaxKind)
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseNamespaceDeclarationCore(Microsoft.CodeAnalysis.Syntax.InternalSyntax.SyntaxListBuilder`1<Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.AttributeListSyntax> Microsoft.CodeAnalysis.Syntax.InternalSyntax.SyntaxListBuilder)
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseNamespaceDeclaration(Microsoft.CodeAnalysis.Syntax.InternalSyntax.SyntaxListBuilder`1<Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.AttributeListSyntax> Microsoft.CodeAnalysis.Syntax.InternalSyntax.SyntaxListBuilder)
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseNamespaceBody(Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.SyntaxToken ByRef NamespaceBodyBuilder ByRef Microsoft.CodeAnalysis.Syntax.InternalSyntax.SyntaxListBuilder ByRef Microsoft.CodeAnalysis.CSharp.SyntaxKind)
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseCompilationUnitCore()
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseWithStackGuard[[System.__Canon mscorlib Version=4.0.0.0 Culture=neutral PublicKeyToken=b77a5c561934e089]](System.Func`1<System.__Canon> System.Func`1<System.__Canon>)
   at Microsoft.CodeAnalysis.CSharp.Syntax.InternalSyntax.LanguageParser.ParseCompilationUnit()
   at Microsoft.CodeAnalysis.CSharp.CSharpSyntaxTree.WithChanges(Microsoft.CodeAnalysis.Text.SourceText System.Collections.Generic.IReadOnlyList`1<Microsoft.CodeAnalysis.Text.TextChangeRange>)
   at Microsoft.CodeAnalysis.CSharp.CSharpSyntaxTree.WithChangedText(Microsoft.CodeAnalysis.Text.SourceText)
   at Microsoft.CodeAnalysis.DocumentState.IncrementallyParse(Microsoft.CodeAnalysis.TextAndVersion Microsoft.CodeAnalysis.TreeAndVersion System.Threading.CancellationToken)
   at Microsoft.CodeAnalysis.DocumentState+<IncrementallyParseTreeAsync>d__15.MoveNext()
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1[[System.__Canon mscorlib Version=4.0.0.0 Culture=neutral PublicKeyToken=b77a5c561934e089]].Start[[Microsoft.CodeAnalysis.DocumentState+<IncrementallyParseTreeAsync>d__15 Microsoft.CodeAnalysis.Workspaces Version=3.4.0.0 Culture=neutral PublicKeyToken=31bf3856ad364e35]](<IncrementallyParseTreeAsync>d__15 ByRef)
   at Microsoft.CodeAnalysis.DocumentState.IncrementallyParseTreeAsync(Roslyn.Utilities.ValueSource`1<Microsoft.CodeAnalysis.TreeAndVersion> Roslyn.Utilities.ValueSource`1<Microsoft.CodeAnalysis.TextAndVersion> System.Threading.CancellationToken)
   at Microsoft.CodeAnalysis.DocumentState+<>c__DisplayClass14_0.<CreateLazyIncrementallyParsedTree>b__0(System.Threading.CancellationToken)
   at Roslyn.Utilities.AsyncLazy`1[[System.__Canon mscorlib Version=4.0.0.0 Culture=neutral PublicKeyToken=b77a5c561934e089]].StartAsynchronousComputation(AsynchronousComputationToStart<System.__Canon> Request<System.__Canon> System.Threading.CancellationToken)
   at Roslyn.Utilities.AsyncLazy`1[[System.__Canon mscorlib Version=4.0.0.0 Culture=neutral PublicKeyToken=b77a5c561934e089]].GetValueAsync(System.Threading.CancellationToken)
   at Microsoft.CodeAnalysis.DocumentState+<GetSyntaxTreeAsync>d__42.MoveNext()
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1[[System.__Canon mscorlib Version=4.0.0.0 Culture=neutral PublicKeyToken=b77a5c561934e089]].Start[[Microsoft.CodeAnalysis.DocumentState+<GetSyntaxTreeAsync>d__42 Microsoft.CodeAnalysis.Workspaces Version=3.4.0.0 Culture=neutral PublicKeyToken=31bf3856ad364e35]](<GetSyntaxTreeAsync>d__42 ByRef)
   at Microsoft.CodeAnalysis.DocumentState.GetSyntaxTreeAsync(System.Threading.CancellationToken)
   at Microsoft.CodeAnalysis.Document.GetSyntaxTreeAsync(System.Threading.CancellationToken)
   at Microsoft.CodeAnalysis.Host.BackgroundParser+<>c__DisplayClass20_0.<ParseDocumentAsync>b__0()
   at System.Threading.Tasks.Task`1[[System.__Canon mscorlib Version=4.0.0.0 Culture=neutral PublicKeyToken=b77a5c561934e089]].InnerInvoke()
   at System.Threading.Tasks.Task.Execute()
   at System.Threading.Tasks.Task.ExecutionContextCallback(System.Object)
   at System.Threading.ExecutionContext.RunInternal(System.Threading.ExecutionContext System.Threading.ContextCallback System.Object Boolean)
   at System.Threading.ExecutionContext.Run(System.Threading.ExecutionContext System.Threading.ContextCallback System.Object Boolean)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(System.Threading.Tasks.Task ByRef)
   at System.Threading.Tasks.Task.ExecuteEntry(Boolean)
   at System.Threading.Tasks.Task.System.Threading.IThreadPoolWorkItem.ExecuteWorkItem()
   at System.Threading.ThreadPoolWorkQueue.Dispatch()
   at System.Threading._ThreadPoolWaitCallback.PerformWaitCallback()

```",Area-Compilers|Bug|Urgency-Soon,RikkiGibson,,
39071,Skip TestExpanderWithImportCompletionDisabled,related to #39070,Skip TestExpanderWithImportCompletionDisabled related to #39070,Area-Infrastructure,RikkiGibson,5/10/2019 4:20,7/10/2019 5:09
39070,[Flaky Test] TestExpanderWithImportCompletionDisabled,"Tracking re-enabling this test.

CI run with a failure (see attempt 1): https://dev.azure.com/dnceng/public/_build/results?buildId=375867

```
System.Threading.Tasks.TaskCanceledException : Se canceló una tarea.
en System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   en System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   en System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   en Microsoft.CodeAnalysis.Editor.UnitTests.IntelliSense.TestState.VB$StateMachine_63_WaitForUIRenderedAsync.MoveNext() en /_/src/EditorFeatures/TestUtilities2/Intellisense/TestState.vb:línea 495
--- Fin del seguimiento de la pila de la ubicación anterior donde se produjo la excepción ---
   en System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   en System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   en System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   en Microsoft.CodeAnalysis.Editor.UnitTests.IntelliSense.CSharpCompletionCommandHandlerTests.VB$StateMachine_209_TestExpanderWithImportCompletionDisabled.MoveNext() en /_/src/EditorFeatures/Test2/IntelliSense/CSharpCompletionCommandHandlerTests.vb:línea 5007
--- Fin del seguimiento de la pila de la ubicación anterior donde se produjo la excepción ---
   en System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   en System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   en Xunit.Sdk.TestInvoker`1.<>c__DisplayClass48_1.<<InvokeTestMethodAsync>b__1>d.MoveNext() en C:\projects\xunit\src\xunit.execution\Sdk\Frameworks\Runners\TestInvoker.cs:línea 264
--- Fin del seguimiento de la pila de la ubicación anterior donde se produjo la excepción ---
   en System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   en System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   en Xunit.Sdk.ExecutionTimer.<AggregateAsync>d__4.MoveNext() en C:\projects\xunit\src\xunit.execution\Sdk\Frameworks\ExecutionTimer.cs:línea 48
--- Fin del seguimiento de la pila de la ubicación anterior donde se produjo la excepción ---
   en System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   en System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   en Xunit.Sdk.ExceptionAggregator.<RunAsync>d__9.MoveNext() en C:\projects\xunit\src\xunit.core\Sdk\ExceptionAggregator.cs:línea 90
```","[Flaky Test] TestExpanderWithImportCompletionDisabled Tracking re-enabling this test.

CI run with a failure (see attempt 1): https://dev.azure.com/dnceng/public/_build/results?buildId=375867

```
System.Threading.Tasks.TaskCanceledException : Se canceló una tarea.
en System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   en System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   en System.Runtime.CompilerServices.ConfiguredTaskAwaitable`1.ConfiguredTaskAwaiter.GetResult()
   en Microsoft.CodeAnalysis.Editor.UnitTests.IntelliSense.TestState.VB$StateMachine_63_WaitForUIRenderedAsync.MoveNext() en /_/src/EditorFeatures/TestUtilities2/Intellisense/TestState.vb:línea 495
--- Fin del seguimiento de la pila de la ubicación anterior donde se produjo la excepción ---
   en System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   en System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   en System.Runtime.CompilerServices.TaskAwaiter.GetResult()
   en Microsoft.CodeAnalysis.Editor.UnitTests.IntelliSense.CSharpCompletionCommandHandlerTests.VB$StateMachine_209_TestExpanderWithImportCompletionDisabled.MoveNext() en /_/src/EditorFeatures/Test2/IntelliSense/CSharpCompletionCommandHandlerTests.vb:línea 5007
--- Fin del seguimiento de la pila de la ubicación anterior donde se produjo la excepción ---
   en System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   en System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   en Xunit.Sdk.TestInvoker`1.<>c__DisplayClass48_1.<<InvokeTestMethodAsync>b__1>d.MoveNext() en C:\projects\xunit\src\xunit.execution\Sdk\Frameworks\Runners\TestInvoker.cs:línea 264
--- Fin del seguimiento de la pila de la ubicación anterior donde se produjo la excepción ---
   en System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   en System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   en Xunit.Sdk.ExecutionTimer.<AggregateAsync>d__4.MoveNext() en C:\projects\xunit\src\xunit.execution\Sdk\Frameworks\ExecutionTimer.cs:línea 48
--- Fin del seguimiento de la pila de la ubicación anterior donde se produjo la excepción ---
   en System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   en System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   en Xunit.Sdk.ExceptionAggregator.<RunAsync>d__9.MoveNext() en C:\projects\xunit\src\xunit.core\Sdk\ExceptionAggregator.cs:línea 90
```",Area-IDE|Disabled Test|IDE-IntelliSense,genlu,,
39069,Refactor merging types (dynamic tuple names nullability) into a single pass,Fixes #30669,"Refactor merging types (dynamic, tuple names, nullability) into a single pass Fixes #30669",Area-Compilers,gafter,,
39068,Roslyn doesn't process code analysis attributes on deconstruction methods called in switches,"**Version Used**: 

**Steps to Reproduce**:

```cs
#nullable enable
using System.Diagnostics.CodeAnalysis;
class C<T>
{
  void M1(C<string> c)
  {
    var (t1 t2) = c;
    t1.ToString(); // CS8602 correct
    t2.ToString();
  }
  
  void M2(C<string> c)
  {
    switch (c)
    {
      case var (t1 t2):
        t1.ToString(); // no warnings
        t2.ToString();
        break;
    }
  }

  public extern void Deconstruct([MaybeNull] out T t1 out T t2);
}
```

**Expected Behavior**:
`t1.ToString()` has `CS8602 Dereference of a possibly null reference.` warning as it's a variable assigned with `[MaybeNull] out T t1` 

**Actual Behavior**:
No warnings for `M2`","Roslyn doesn't process code analysis attributes on deconstruction methods called in switches **Version Used**: 

**Steps to Reproduce**:

```cs
#nullable enable
using System.Diagnostics.CodeAnalysis;
class C<T>
{
  void M1(C<string> c)
  {
    var (t1 t2) = c;
    t1.ToString(); // CS8602 correct
    t2.ToString();
  }
  
  void M2(C<string> c)
  {
    switch (c)
    {
      case var (t1 t2):
        t1.ToString(); // no warnings
        t2.ToString();
        break;
    }
  }

  public extern void Deconstruct([MaybeNull] out T t1 out T t2);
}
```

**Expected Behavior**:
`t1.ToString()` has `CS8602 Dereference of a possibly null reference.` warning as it's a variable assigned with `[MaybeNull] out T t1` 

**Actual Behavior**:
No warnings for `M2`",Area-Compilers|Bug|New Language Feature - Nullable Reference Types|New Language Feature - Pattern Matching,gafter,5/10/2019 3:47,
39067,updates Roslyn to consume 16.4 version of Editor,"Update Roslyn to consume 16.4 version of the Editor.
This is the first 16.4 version of Editor which works (there were issues with shell packages) and merging of this PR will allow Editor team to continue with feature work","updates Roslyn to consume 16.4 version of Editor Update Roslyn to consume 16.4 version of the Editor.
This is the first 16.4 version of Editor which works (there were issues with shell packages) and merging of this PR will allow Editor team to continue with feature work",Area-Infrastructure,AmadeusW|jinujoseph|jasonmalinowski,5/10/2019 3:31,11/10/2019 9:57
39064,VB compiler can't compile when using non-standard line endings on Windows,"Repro steps:

```
P:\roslyn-bad> rm -re -fo *
P:\roslyn-bad> ii .
P:\roslyn-bad> git init
Initialized empty Git repository in P:/roslyn-bad/.git/
P:\roslyn-bad> git config --local core.autocrlf input
P:\roslyn-bad> git config core.autocrlf
input
P:\roslyn-bad> git remote add origin https://github.com/dotnet/roslyn.git
P:\roslyn-bad> git fetch origin
remote: Enumerating objects: 78 done.
...
P:\roslyn-bad> git reset --hard origin/master
P:\roslyn-bad> .\bulid.cmd -restore
...
    x = ""hi"" : X$ = ""hello""   ' error : x is of type Object. [P:\roslyn-bad\src\Compilers\VisualBasic\Portable\Microsoft.CodeAnalysis.VisualBasic.vb proj]
    3655 Warning(s)
    1 Error(s)

Time Elapsed 00:02:46.42
Build failed.
```

The error appears to be coming while processing [this line](https://github.com/dotnet/roslyn/blob/master/src/Compilers/VisualBasic/Portable/Binding/ImplicitVariableBinder.vb#L29) in the VB compiler:

```basic
    '''     x = ""hi"": X$ = ""hello""   ' error: x is of type Object.
```

On one hand the Roslyn repository does not supporting being used with line endings other than CRLF on Windows. Our tests and infrastructure depend on that. If you use anything other than CRLF there will be problems running tests. 

At the same time though the code should still compile. The compiler SDK etc ... should work fine across all line ending types. The fact this error is happening on a comment just makes the issue even more baffling. 

Want to understand why this is happening ... 
","VB compiler can't compile when using non-standard line endings on Windows Repro steps:

```
P:\roslyn-bad> rm -re -fo *
P:\roslyn-bad> ii .
P:\roslyn-bad> git init
Initialized empty Git repository in P:/roslyn-bad/.git/
P:\roslyn-bad> git config --local core.autocrlf input
P:\roslyn-bad> git config core.autocrlf
input
P:\roslyn-bad> git remote add origin https://github.com/dotnet/roslyn.git
P:\roslyn-bad> git fetch origin
remote: Enumerating objects: 78 done.
...
P:\roslyn-bad> git reset --hard origin/master
P:\roslyn-bad> .\bulid.cmd -restore
...
    x = ""hi"" : X$ = ""hello""   ' error : x is of type Object. [P:\roslyn-bad\src\Compilers\VisualBasic\Portable\Microsoft.CodeAnalysis.VisualBasic.vb proj]
    3655 Warning(s)
    1 Error(s)

Time Elapsed 00:02:46.42
Build failed.
```

The error appears to be coming while processing [this line](https://github.com/dotnet/roslyn/blob/master/src/Compilers/VisualBasic/Portable/Binding/ImplicitVariableBinder.vb#L29) in the VB compiler:

```basic
    '''     x = ""hi"": X$ = ""hello""   ' error: x is of type Object.
```

On one hand the Roslyn repository does not supporting being used with line endings other than CRLF on Windows. Our tests and infrastructure depend on that. If you use anything other than CRLF there will be problems running tests. 

At the same time though the code should still compile. The compiler SDK etc ... should work fine across all line ending types. The fact this error is happening on a comment just makes the issue even more baffling. 

Want to understand why this is happening ... 
",Area-Infrastructure|Bug,jaredpar,,
39063,Fixed incorrect IDE0044 (Make field readonly) when the field is accessed by refeference.,"In OperationExtensions there is an extension method **GetValueUsageInfo** which should return whether a given operation performs any read write etc.

The **MakeFieldReadonlyDiagnosticAnalyzer** class uses this information to infer whether a field can be made readonly. GetValueUsageInfo doesn't perform any analysis when the operation's parent is variable initializer and in that case it always returns **ValueUsageInfo.Read** which causes the diagnostic analyzer to wrongly suggest to make a field readonly.

Here is example where it fails:

``` csharp
class Program
{
    int i;

    void M()
    {
        ref var value = ref i;
        value += 1;
    }
}
```
 I've added a case inside GetValueUsageInfo to correctly handle this situation and also introduced 2 new unit tests to verify it is working. I am unsure however if somewhere there isn't something that depends on the method returning incorrectly ValueUsageInfo.Read for such cases.

Fixes #38995.","Fixed incorrect IDE0044 (Make field readonly) when the field is accessed by refeference. In OperationExtensions there is an extension method **GetValueUsageInfo** which should return whether a given operation performs any read write etc.

The **MakeFieldReadonlyDiagnosticAnalyzer** class uses this information to infer whether a field can be made readonly. GetValueUsageInfo doesn't perform any analysis when the operation's parent is variable initializer and in that case it always returns **ValueUsageInfo.Read** which causes the diagnostic analyzer to wrongly suggest to make a field readonly.

Here is example where it fails:

``` csharp
class Program
{
    int i;

    void M()
    {
        ref var value = ref i;
        value += 1;
    }
}
```
 I've added a case inside GetValueUsageInfo to correctly handle this situation and also introduced 2 new unit tests to verify it is working. I am unsure however if somewhere there isn't something that depends on the method returning incorrectly ValueUsageInfo.Read for such cases.

Fixes #38995.",Area-IDE|Community,mavasani,,
39062,Compilation allows method to return without assigning out variable of custom value type,"**Version Used**: 
VS 15.9.11

**Steps to Reproduce**:
Compile the following program:
```
public static class Program
{
    public static void Main(string[] args)
    {
	DoesNotAssign(out var x);
    }

    internal static IDisposable DoesNotAssign(out CancellationToken cancellationToken)
    {
	return null;
    }
}
```

**Expected Behavior**:
Compiles with error ""CS0177 The out parameter 'cancellationToken' must be assigned to before control leaves the current method""

**Actual Behavior**:
Compiles with no errors. X is set to the default cancellation token value.

**Notes**:
From my experimentation this happens for `CancellationToken` or other custom value types (e. g. `internal struct Foo { }` but does not happen for reference types or primitive value types (e. g. `int` `string`).","Compilation allows method to return without assigning out variable of custom value type **Version Used**: 
VS 15.9.11

**Steps to Reproduce**:
Compile the following program:
```
public static class Program
{
    public static void Main(string[] args)
    {
	DoesNotAssign(out var x);
    }

    internal static IDisposable DoesNotAssign(out CancellationToken cancellationToken)
    {
	return null;
    }
}
```

**Expected Behavior**:
Compiles with error ""CS0177 The out parameter 'cancellationToken' must be assigned to before control leaves the current method""

**Actual Behavior**:
Compiles with no errors. X is set to the default cancellation token value.

**Notes**:
From my experimentation this happens for `CancellationToken` or other custom value types (e. g. `internal struct Foo { }` but does not happen for reference types or primitive value types (e. g. `int` `string`).",Area-Compilers|Resolution-Answered,gafter,5/10/2019 2:04,5/10/2019 8:57
39061,Spelling fixes,,Spelling fixes ,Area-IDE|Community,dibarbet,,
39060,Merge master to features/local-function-attributes,"
This is an automatically generated pull request from master into features/local-function-attributes.
(created from a manual run of the PR generation tool)

``` bash
git fetch --all
git checkout merges/master-to-features/local-function-attributes
git reset --hard upstream/features/local-function-attributes
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-features/local-function-attributes --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge master to features/local-function-attributes 
This is an automatically generated pull request from master into features/local-function-attributes.
(created from a manual run of the PR generation tool)

``` bash
git fetch --all
git checkout merges/master-to-features/local-function-attributes
git reset --hard upstream/features/local-function-attributes
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-features/local-function-attributes --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|jaredpar|jasonmalinowski|dpoeschl|agocke|JoeRobich|jinujoseph|RikkiGibson,4/10/2019 15:49,5/10/2019 4:29
39059,Merge master to master-vs-deps,"
This is an automatically generated pull request from master into master-vs-deps.
(created from a manual run of the PR generation tool)

``` bash
git fetch --all
git checkout merges/master-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge master to master-vs-deps 
This is an automatically generated pull request from master into master-vs-deps.
(created from a manual run of the PR generation tool)

``` bash
git fetch --all
git checkout merges/master-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|RikkiGibson,4/10/2019 15:49,5/10/2019 4:29
39058,Merge release/dev16.4-preview2-vs-deps to master-vs-deps,"
This is an automatically generated pull request from release/dev16.4-preview2-vs-deps into master-vs-deps.
(created from a manual run of the PR generation tool)

``` bash
git fetch --all
git checkout merges/release/dev16.4-preview2-vs-deps-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/release/dev16.4-preview2-vs-deps
# Fix merge conflicts
git commit
git push upstream merges/release/dev16.4-preview2-vs-deps-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge release/dev16.4-preview2-vs-deps to master-vs-deps 
This is an automatically generated pull request from release/dev16.4-preview2-vs-deps into master-vs-deps.
(created from a manual run of the PR generation tool)

``` bash
git fetch --all
git checkout merges/release/dev16.4-preview2-vs-deps-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/release/dev16.4-preview2-vs-deps
# Fix merge conflicts
git commit
git push upstream merges/release/dev16.4-preview2-vs-deps-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|RikkiGibson,4/10/2019 15:48,5/10/2019 4:31
39057,Merge release/dev16.4-preview2 to master,"
This is an automatically generated pull request from release/dev16.4-preview2 into master.
(created from a manual run of the PR generation tool)

``` bash
git fetch --all
git checkout merges/release/dev16.4-preview2-to-master
git reset --hard upstream/master
git merge upstream/release/dev16.4-preview2
# Fix merge conflicts
git commit
git push upstream merges/release/dev16.4-preview2-to-master --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge release/dev16.4-preview2 to master 
This is an automatically generated pull request from release/dev16.4-preview2 into master.
(created from a manual run of the PR generation tool)

``` bash
git fetch --all
git checkout merges/release/dev16.4-preview2-to-master
git reset --hard upstream/master
git merge upstream/release/dev16.4-preview2
# Fix merge conflicts
git commit
git push upstream merges/release/dev16.4-preview2-to-master --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|RikkiGibson,4/10/2019 15:47,5/10/2019 2:21
39055,Go to base: support metadata references and bug fixes,"Fixes https://github.com/dotnet/roslyn/issues/38700

1. Support Go to base in case with bases is in metadata.
2. Removes interfaces implemented by hidden by new/Shadows members from the base hierarchy if the interface is not implemented below the hide. For example:
```
interface I { void M(); }
class C : I { public virtual void M(); }
class D : C { public new void M(); }
```
here 
```
I i = new D();
i.M(); 
```
calls `C.M()` not `D.M()`. Therefore `I.M()` is not a base for `D.M()`. Fixed this.
3. Fixed a issue with overloads and interfaces.","Go to base: support metadata references and bug fixes Fixes https://github.com/dotnet/roslyn/issues/38700

1. Support Go to base in case with bases is in metadata.
2. Removes interfaces implemented by hidden by new/Shadows members from the base hierarchy if the interface is not implemented below the hide. For example:
```
interface I { void M(); }
class C : I { public virtual void M(); }
class D : C { public new void M(); }
```
here 
```
I i = new D();
i.M(); 
```
calls `C.M()` not `D.M()`. Therefore `I.M()` is not a base for `D.M()`. Fixed this.
3. Fixed a issue with overloads and interfaces.",Area-IDE,ivanbasov|olegtk|jasonmalinowski|JoeRobich|CyrusNajmabadi,4/10/2019 11:07,11/10/2019 9:03
39054,Add annotations for symbol-related types and interfaces,"?? Builds on #39053. After that one is merged many files will drop out of this pull request.

Each commit was verified to compile successfully without new warnings so reviewers do have the option of going commit-by-commit.","Add annotations for symbol-related types and interfaces ?? Builds on #39053. After that one is merged many files will drop out of this pull request.

Each commit was verified to compile successfully without new warnings so reviewers do have the option of going commit-by-commit.",Area-Compilers,sharwell|jinujoseph,4/10/2019 11:07,
39053,Annotate more compiler internal types,"These are internal types. There may be some cases where an annotation was missed but I used a working strategy of ""when it doubt prefer a non-nullable type if it builds successfully"". This is a stepping stone for a follow-up pull request where I start to annotate `ISymbol` and derived types.","Annotate more compiler internal types These are internal types. There may be some cases where an annotation was missed but I used a working strategy of ""when it doubt prefer a non-nullable type if it builds successfully"". This is a stepping stone for a follow-up pull request where I start to annotate `ISymbol` and derived types.",Area-Compilers,sharwell|AlekseyTs,4/10/2019 10:58,10/10/2019 10:58
39052,ArrayBuilderExtensions.FreeAll is wrapped with nullable disable,"https://github.com/dotnet/roslyn/blob/7bf43667a1658911e4091d9e60695fe15b3bd2e0/src/Compilers/Core/Portable/Collections/ArrayBuilderExtensions.cs#L191-L200

According to https://github.com/dotnet/roslyn/pull/38882#discussion_r328916521 this is related to #38195.

/cc @333fred ","ArrayBuilderExtensions.FreeAll is wrapped with nullable disable https://github.com/dotnet/roslyn/blob/7bf43667a1658911e4091d9e60695fe15b3bd2e0/src/Compilers/Core/Portable/Collections/ArrayBuilderExtensions.cs#L191-L200

According to https://github.com/dotnet/roslyn/pull/38882#discussion_r328916521 this is related to #38195.

/cc @333fred ",Area-Compilers|Concept-Continuous Improvement|New Language Feature - Nullable Reference Types,sharwell|333fred|gafter,4/10/2019 10:32,
39051,Add API for marking a syntax tree as generated,Provides API to fix #3705.,Add API for marking a syntax tree as generated Provides API to fix #3705.,Area-Compilers,jinujoseph,4/10/2019 10:10,
39050,Merge master to features/local-function-attributes,"
This is an automatically generated pull request from master into features/local-function-attributes.

``` bash
git fetch --all
git checkout merges/master-to-features/local-function-attributes
git reset --hard upstream/features/local-function-attributes
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-features/local-function-attributes --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge master to features/local-function-attributes 
This is an automatically generated pull request from master into features/local-function-attributes.

``` bash
git fetch --all
git checkout merges/master-to-features/local-function-attributes
git reset --hard upstream/features/local-function-attributes
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-features/local-function-attributes --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|RikkiGibson,4/10/2019 10:02,4/10/2019 15:27
39049,Merge master to master-vs-deps,"
This is an automatically generated pull request from master into master-vs-deps.

``` bash
git fetch --all
git checkout merges/master-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge master to master-vs-deps 
This is an automatically generated pull request from master into master-vs-deps.

``` bash
git fetch --all
git checkout merges/master-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|RikkiGibson,4/10/2019 10:02,4/10/2019 15:28
39048,Merge release/dev16.4-preview2 to release/dev16.4-preview2-vs-deps,"
This is an automatically generated pull request from release/dev16.4-preview2 into release/dev16.4-preview2-vs-deps.

``` bash
git fetch --all
git checkout merges/release/dev16.4-preview2-to-release/dev16.4-preview2-vs-deps
git reset --hard upstream/release/dev16.4-preview2-vs-deps
git merge upstream/release/dev16.4-preview2
# Fix merge conflicts
git commit
git push upstream merges/release/dev16.4-preview2-to-release/dev16.4-preview2-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge release/dev16.4-preview2 to release/dev16.4-preview2-vs-deps 
This is an automatically generated pull request from release/dev16.4-preview2 into release/dev16.4-preview2-vs-deps.

``` bash
git fetch --all
git checkout merges/release/dev16.4-preview2-to-release/dev16.4-preview2-vs-deps
git reset --hard upstream/release/dev16.4-preview2-vs-deps
git merge upstream/release/dev16.4-preview2
# Fix merge conflicts
git commit
git push upstream merges/release/dev16.4-preview2-to-release/dev16.4-preview2-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|RikkiGibson,4/10/2019 10:02,4/10/2019 15:29
39047,Merge release/dev16.4-preview1-vs-deps to release/dev16.4-preview2-vs-deps,"
This is an automatically generated pull request from release/dev16.4-preview1-vs-deps into release/dev16.4-preview2-vs-deps.

``` bash
git fetch --all
git checkout merges/release/dev16.4-preview1-vs-deps-to-release/dev16.4-preview2-vs-deps
git reset --hard upstream/release/dev16.4-preview2-vs-deps
git merge upstream/release/dev16.4-preview1-vs-deps
# Fix merge conflicts
git commit
git push upstream merges/release/dev16.4-preview1-vs-deps-to-release/dev16.4-preview2-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge release/dev16.4-preview1-vs-deps to release/dev16.4-preview2-vs-deps 
This is an automatically generated pull request from release/dev16.4-preview1-vs-deps into release/dev16.4-preview2-vs-deps.

``` bash
git fetch --all
git checkout merges/release/dev16.4-preview1-vs-deps-to-release/dev16.4-preview2-vs-deps
git reset --hard upstream/release/dev16.4-preview2-vs-deps
git merge upstream/release/dev16.4-preview1-vs-deps
# Fix merge conflicts
git commit
git push upstream merges/release/dev16.4-preview1-vs-deps-to-release/dev16.4-preview2-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|RikkiGibson,4/10/2019 10:01,4/10/2019 15:30
39046,"EnC: Disable editor warning ""changes made in project will not be applied while the application is running""","_This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/751628/disable-editor-warning-changes-made-in-project-wil.html)._

---
Please do not show this warning if _Enable Edit and Continue_ is disabled. The developer knows that the changes don't match with the current running application and the decorated source code is distracting.

---
### Original Comments

#### Visual Studio Feedback System on 9/28/2019 08:23 PM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>

#### oa on 10/1/2019 04:25 AM: 

btw: Tools->Options->Fonts and Colors->Stale Code has no impact on the color of the drawn lines
#### Doug Meeker on 10/3/2019 09:18 AM: 

<p>It looks like <em>Other Error</em> is the one with default set to purple squiggles.  But that does not effect this error display either.</p>

#### Visual Studio Feedback System on 10/3/2019 02:31 PM: 

<p>This issue is currently being investigated. Our team will get back to you if either more information is needed a workaround is available or the issue is resolved.</p>


---
### Original Solutions
(no solutions)","EnC: Disable editor warning ""changes made in project will not be applied while the application is running"" _This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/751628/disable-editor-warning-changes-made-in-project-wil.html)._

---
Please do not show this warning if _Enable Edit and Continue_ is disabled. The developer knows that the changes don't match with the current running application and the decorated source code is distracting.

---
### Original Comments

#### Visual Studio Feedback System on 9/28/2019 08:23 PM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>

#### oa on 10/1/2019 04:25 AM: 

btw: Tools->Options->Fonts and Colors->Stale Code has no impact on the color of the drawn lines
#### Doug Meeker on 10/3/2019 09:18 AM: 

<p>It looks like <em>Other Error</em> is the one with default set to purple squiggles.  But that does not effect this error display either.</p>

#### Visual Studio Feedback System on 10/3/2019 02:31 PM: 

<p>This issue is currently being investigated. Our team will get back to you if either more information is needed a workaround is available or the issue is resolved.</p>


---
### Original Solutions
(no solutions)",Area-Interactive|Bug|Interactive-EnC,tmat,,
39043,Go To Member not working,"_This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/749408/go-to-member-not-working-1.html)._

---
Sometimes the &quot;Go To Member&quot; functionality is not working. It is just showing &quot;no results&quot;. Running &quot;Go To All&quot; shows the corresponding symbols but also stuff from other files. A restart of Visual studio fixes the problem at least for some time. We are using Visual Studio 2019 16.3.1

---
### Original Comments

#### Visual Studio Feedback System on 9/26/2019 11:34 PM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>


---
### Original Solutions
(no solutions)","Go To Member not working _This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/749408/go-to-member-not-working-1.html)._

---
Sometimes the &quot;Go To Member&quot; functionality is not working. It is just showing &quot;no results&quot;. Running &quot;Go To All&quot; shows the corresponding symbols but also stuff from other files. A restart of Visual studio fixes the problem at least for some time. We are using Visual Studio 2019 16.3.1

---
### Original Comments

#### Visual Studio Feedback System on 9/26/2019 11:34 PM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>


---
### Original Solutions
(no solutions)",Area-IDE|Bug|Investigation Required|help wanted,gafter|jinujoseph,4/10/2019 7:40,
39042,Visual Studio says that cast to double is redundant when it is not (C#),"_This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/750100/visual-studio-says-that-cast-to-double-is-redundan.html)._

---
<p>Visual Studio says “Cast is redundant” here:</p>
<pre>            long x = 121645100408832000;
            return ((long)(double)x == x) &amp;&amp; ((long)(double)(x + 1) == x + 1);
</pre><p>If I “Remove Unnecessary Cast” as Visual Studio suggests then the return value changes from false to true.</p>

---
### Original Comments

#### Visual Studio Feedback System on 9/27/2019 00:00 AM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>


---
### Original Solutions
(no solutions)","Visual Studio says that cast to double is redundant when it is not (C#) _This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/750100/visual-studio-says-that-cast-to-double-is-redundan.html)._

---
<p>Visual Studio says “Cast is redundant” here:</p>
<pre>            long x = 121645100408832000;
            return ((long)(double)x == x) &amp;&amp; ((long)(double)(x + 1) == x + 1);
</pre><p>If I “Remove Unnecessary Cast” as Visual Studio suggests then the return value changes from false to true.</p>

---
### Original Comments

#### Visual Studio Feedback System on 9/27/2019 00:00 AM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>


---
### Original Solutions
(no solutions)",Area-IDE|Bug|IDE-CodeStyle|help wanted,gafter|jinujoseph,4/10/2019 7:38,
39041,C# field rename refactoring messing up when space is included,"_This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/750347/c-field-rename-refactoring-messing-up-when-space-i.html)._

---
Actual result:
If you (f.ex) rename a field in a class by hitting CTRL+R CTRL+R then possibly type a name containing a trailing space or if you just paste a name from clipboard containing a trailing space the rename refactoring not only treats this as if the new identifier is to _have_  a space at the end it adds that space _everywhere_ the identifier is used and obviously also where it's defined.

Expected:
Strip any and all non-valid leading and trailing control characters. Hell just abort the operation for all I care but not this.

---
### Original Comments

#### Visual Studio Feedback System on 9/27/2019 00:16 AM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>


---
### Original Solutions
(no solutions)","C# field rename refactoring messing up when space is included _This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/750347/c-field-rename-refactoring-messing-up-when-space-i.html)._

---
Actual result:
If you (f.ex) rename a field in a class by hitting CTRL+R CTRL+R then possibly type a name containing a trailing space or if you just paste a name from clipboard containing a trailing space the rename refactoring not only treats this as if the new identifier is to _have_  a space at the end it adds that space _everywhere_ the identifier is used and obviously also where it's defined.

Expected:
Strip any and all non-valid leading and trailing control characters. Hell just abort the operation for all I care but not this.

---
### Original Comments

#### Visual Studio Feedback System on 9/27/2019 00:16 AM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>


---
### Original Solutions
(no solutions)",Area-IDE|Bug,gafter|jinujoseph|ryzngard,4/10/2019 7:35,
39040,"VS C# Editor Advanced Editor Help ""Split string literals on enter"" broken","_This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/752445/vs-c-editor-advanced-editor-help-split-string-lite.html)._

---
&quot;Split string literals on enter&quot; has been broken since it was introduced and still is in VS2019.

![image](https://user-images.githubusercontent.com/1408396/66427836-a5bf8080-e9c9-11e9-94bd-98508de86053.png)

Additionally it's _completely_ broken if you use multi-carets. Then it doesn't even pretent to attempt to &quot;Split string literals on enter&quot; it just splits and indents each caret without inserting quotes totally destroying the string literal.

I can be more forgiving about the latter bug since multi-caret was a later addition to the editor &lt;rant_mode=&quot;on&quot;&gt;but please - stuff like this needs to be _checked_ before release&lt;rant_mode=&quot;off&quot;&quot;&gt;.
Anyway it's a clear bug and needs to be fixed. Should be no more than a few minutes of work after the main bug has been fixed.

---
### Original Comments

#### Visual Studio Feedback System on 9/28/2019 09:18 PM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>


---
### Original Solutions
(no solutions)","VS C# Editor, Advanced, Editor Help, ""Split string literals on enter"" broken _This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/752445/vs-c-editor-advanced-editor-help-split-string-lite.html)._

---
&quot;Split string literals on enter&quot; has been broken since it was introduced and still is in VS2019.

![image](https://user-images.githubusercontent.com/1408396/66427836-a5bf8080-e9c9-11e9-94bd-98508de86053.png)

Additionally it's _completely_ broken if you use multi-carets. Then it doesn't even pretent to attempt to &quot;Split string literals on enter&quot; it just splits and indents each caret without inserting quotes totally destroying the string literal.

I can be more forgiving about the latter bug since multi-caret was a later addition to the editor &lt;rant_mode=&quot;on&quot;&gt;but please - stuff like this needs to be _checked_ before release&lt;rant_mode=&quot;off&quot;&quot;&gt;.
Anyway it's a clear bug and needs to be fixed. Should be no more than a few minutes of work after the main bug has been fixed.

---
### Original Comments

#### Visual Studio Feedback System on 9/28/2019 09:18 PM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>


---
### Original Solutions
(no solutions)",Area-IDE|Bug|help wanted,allisonchou,,
39039,Quick fix for inconsistent accessbility issue doesn't help,"_This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/752631/quick-fix-for-inconsistent-accessbility-issue-does.html)._

---
The problem I got is in the following situation:
- a Response class is internal
- another class has a public property of that type

Suggested fixes are:
- Replace with methods
- Convert to full property

Expected: change visibility of the property or of the class or do something else entirely

---
### Original Comments

#### Visual Studio Feedback System on 9/28/2019 10:57 PM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>


---
### Original Solutions
(no solutions)","Quick fix for inconsistent accessbility issue doesn't help _This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/752631/quick-fix-for-inconsistent-accessbility-issue-does.html)._

---
The problem I got is in the following situation:
- a Response class is internal
- another class has a public property of that type

Suggested fixes are:
- Replace with methods
- Convert to full property

Expected: change visibility of the property or of the class or do something else entirely

---
### Original Comments

#### Visual Studio Feedback System on 9/28/2019 10:57 PM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>


---
### Original Solutions
(no solutions)",Area-IDE|Concept-Continuous Improvement|IDE-CodeStyle|help wanted,sharwell,4/10/2019 7:28,
39038,Merge master to features/local-function-attributes,"
This is an automatically generated pull request from master into features/local-function-attributes.
(created from a manual run of the PR generation tool)

``` bash
git fetch --all
git checkout merges/master-to-features/local-function-attributes
git reset --hard upstream/features/local-function-attributes
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-features/local-function-attributes --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge master to features/local-function-attributes 
This is an automatically generated pull request from master into features/local-function-attributes.
(created from a manual run of the PR generation tool)

``` bash
git fetch --all
git checkout merges/master-to-features/local-function-attributes
git reset --hard upstream/features/local-function-attributes
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-features/local-function-attributes --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|RikkiGibson,4/10/2019 6:03,4/10/2019 8:06
39037,Merge master to master-vs-deps,"
This is an automatically generated pull request from master into master-vs-deps.
(created from a manual run of the PR generation tool)

``` bash
git fetch --all
git checkout merges/master-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge master to master-vs-deps 
This is an automatically generated pull request from master into master-vs-deps.
(created from a manual run of the PR generation tool)

``` bash
git fetch --all
git checkout merges/master-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|RikkiGibson,4/10/2019 6:03,4/10/2019 8:06
39036,Merge release/dev16.4-preview2-vs-deps to master-vs-deps,"
This is an automatically generated pull request from release/dev16.4-preview2-vs-deps into master-vs-deps.
(created from a manual run of the PR generation tool)

``` bash
git fetch --all
git checkout merges/release/dev16.4-preview2-vs-deps-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/release/dev16.4-preview2-vs-deps
# Fix merge conflicts
git commit
git push upstream merges/release/dev16.4-preview2-vs-deps-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge release/dev16.4-preview2-vs-deps to master-vs-deps 
This is an automatically generated pull request from release/dev16.4-preview2-vs-deps into master-vs-deps.
(created from a manual run of the PR generation tool)

``` bash
git fetch --all
git checkout merges/release/dev16.4-preview2-vs-deps-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/release/dev16.4-preview2-vs-deps
# Fix merge conflicts
git commit
git push upstream merges/release/dev16.4-preview2-vs-deps-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|RikkiGibson,4/10/2019 6:02,4/10/2019 15:44
39035,Update PublishData.json,based on Jason's feedback in #39016 ,Update PublishData.json based on Jason's feedback in #39016 ,Area-Infrastructure,RikkiGibson,4/10/2019 5:44,8/10/2019 6:38
39034,Pool analyzer diagnostic reporters,"This has shown up as a significant source of allocations. The design
here is that when an analyzer reports a diagnostic we may need to filter
or alter it based on some configuration. Previously we stored the
configuration information by closing over captured variables but that
could be very expensive if it's being done for every analyzer
invocation. Since we can only really execute one analyzer per running
thread on the machine the actual number of concurrent objects we need
to create is approximately the number of running threads. Pooling is a
good solution to this problem.

Before:
```

|                      Method |    Mean |   Error |  StdDev |  Median |     Min |     Max |       Gen 0 |      Gen 1 |     Gen 2 | Allocated |
|---------------------------- |--------:|--------:|--------:|--------:|--------:|--------:|------------:|-----------:|----------:|----------:|
| GetDiagnosticsWithAnalyzers | 16.28 s | 0.149 s | 0.268 s | 16.23 s | 15.76 s | 16.97 s | 200000.0000 | 59000.0000 | 2000.0000 |   1.48 GB |
```

After:
```
|                      Method |    Mean |   Error |  StdDev |  Median |     Min |     Max |       Gen 0 |      Gen 1 |     Gen 2 | Allocated |
|---------------------------- |--------:|--------:|--------:|--------:|--------:|--------:|------------:|-----------:|----------:|----------:|
| GetDiagnosticsWithAnalyzers | 15.77 s | 0.176 s | 0.519 s | 15.67 s | 14.96 s | 17.07 s | 184000.0000 | 55000.0000 | 2000.0000 |   1.36 GB |
```

Note: I don't think this is that much faster -- my machine wasn't completely quiet during the noise measurements but I do believe that bytes allocated is accurate and a significant improvement.","Pool analyzer diagnostic reporters This has shown up as a significant source of allocations. The design
here is that when an analyzer reports a diagnostic we may need to filter
or alter it based on some configuration. Previously we stored the
configuration information by closing over captured variables but that
could be very expensive if it's being done for every analyzer
invocation. Since we can only really execute one analyzer per running
thread on the machine the actual number of concurrent objects we need
to create is approximately the number of running threads. Pooling is a
good solution to this problem.

Before:
```

|                      Method |    Mean |   Error |  StdDev |  Median |     Min |     Max |       Gen 0 |      Gen 1 |     Gen 2 | Allocated |
|---------------------------- |--------:|--------:|--------:|--------:|--------:|--------:|------------:|-----------:|----------:|----------:|
| GetDiagnosticsWithAnalyzers | 16.28 s | 0.149 s | 0.268 s | 16.23 s | 15.76 s | 16.97 s | 200000.0000 | 59000.0000 | 2000.0000 |   1.48 GB |
```

After:
```
|                      Method |    Mean |   Error |  StdDev |  Median |     Min |     Max |       Gen 0 |      Gen 1 |     Gen 2 | Allocated |
|---------------------------- |--------:|--------:|--------:|--------:|--------:|--------:|------------:|-----------:|----------:|----------:|
| GetDiagnosticsWithAnalyzers | 15.77 s | 0.176 s | 0.519 s | 15.67 s | 14.96 s | 17.07 s | 184000.0000 | 55000.0000 | 2000.0000 |   1.36 GB |
```

Note: I don't think this is that much faster -- my machine wasn't completely quiet during the noise measurements but I do believe that bytes allocated is accurate and a significant improvement.",Area-Compilers|Area-Performance,agocke|RikkiGibson,4/10/2019 5:33,9/10/2019 12:59
39033,Enable support for bulk configuration of analyzer diagnostics for GeneralDiagnosticOption = Suppress,See discussion here: https://github.com/dotnet/roslyn/pull/38886/files#r330788291,Enable support for bulk configuration of analyzer diagnostics for GeneralDiagnosticOption = Suppress See discussion here: https://github.com/dotnet/roslyn/pull/38886/files#r330788291,Area-Analyzers|Feature Request,mavasani|jinujoseph,4/10/2019 5:22,
39031,Fix import completion crash in interactive window,"Fix NRE  in import completion when using interactive window 
#39027 

@tmat @ivanbasov Please review","Fix import completion crash in interactive window Fix NRE  in import completion when using interactive window 
#39027 

@tmat @ivanbasov Please review",Approved to merge|Area-IDE|Area-Interactive,genlu|tmat|ivanbasov|jasonmalinowski|jinujoseph,4/10/2019 4:10,4/10/2019 8:10
39030,Interactive VSIX build is missing CSI.EXE,"**Version Used**: latest

**Steps to Reproduce**:

1. Go to MyGet Roslyn
2. Download Interactive VSIX
3. Rename to ZIP and unpack

**Expected Behavior**:
CSI.EXE should be among the files

**Actual Behavior**:
CSI.EXE is nowhere to be found","Interactive VSIX build is missing CSI.EXE **Version Used**: latest

**Steps to Reproduce**:

1. Go to MyGet Roslyn
2. Download Interactive VSIX
3. Rename to ZIP and unpack

**Expected Behavior**:
CSI.EXE should be among the files

**Actual Behavior**:
CSI.EXE is nowhere to be found",Area-Infrastructure,gafter,4/10/2019 3:33,
39028,Methods marked with the JetBrains UsedImplicitly attribute have an IDE0051 warning,"_This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/757757/methods-marked-with-the-jetbrains-usedimplicitly-a.html)._

---
[regression] [worked-in:15.9.16]
Methods marked with the JetBrains attribute [UsedImplicitly] are greyed out with an IDE0051 analysis warning
For instance using PropertyChanged.Fody for classes that implement INotifyPropertyChanged there is no need to call the private method OnPropertyChanged in the C# file. 
In Visual Studio 2017 the UsedImplicitly attribute was correctly recognised and there was no IDE0051 warning

```
using System.ComponentModel;
using System.Runtime.CompilerServices;
using JetBrains.Annotations;

namespace ExampleAnalysisIssue
{
    [UsedImplicitly]
    public sealed class Class1 : INotifyPropertyChanged
    {
        public int Data { get; set; }

public event PropertyChangedEventHandler PropertyChanged;

[NotifyPropertyChangedInvocator]
        [UsedImplicitly]
        private void OnPropertyChanged([CallerMemberName] string propertyName = null)
        {
            PropertyChanged?. Invoke(this new PropertyChangedEventArgs(propertyName));
        }
    }
}

```

---
### Original Comments

#### Visual Studio Feedback System on 10/3/2019 00:11 AM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>


---
### Original Solutions
(no solutions)","Methods marked with the JetBrains UsedImplicitly attribute have an IDE0051 warning _This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/757757/methods-marked-with-the-jetbrains-usedimplicitly-a.html)._

---
[regression] [worked-in:15.9.16]
Methods marked with the JetBrains attribute [UsedImplicitly] are greyed out with an IDE0051 analysis warning
For instance using PropertyChanged.Fody for classes that implement INotifyPropertyChanged there is no need to call the private method OnPropertyChanged in the C# file. 
In Visual Studio 2017 the UsedImplicitly attribute was correctly recognised and there was no IDE0051 warning

```
using System.ComponentModel;
using System.Runtime.CompilerServices;
using JetBrains.Annotations;

namespace ExampleAnalysisIssue
{
    [UsedImplicitly]
    public sealed class Class1 : INotifyPropertyChanged
    {
        public int Data { get; set; }

public event PropertyChangedEventHandler PropertyChanged;

[NotifyPropertyChangedInvocator]
        [UsedImplicitly]
        private void OnPropertyChanged([CallerMemberName] string propertyName = null)
        {
            PropertyChanged?. Invoke(this new PropertyChangedEventArgs(propertyName));
        }
    }
}

```

---
### Original Comments

#### Visual Studio Feedback System on 10/3/2019 00:11 AM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>


---
### Original Solutions
(no solutions)",Area-IDE|Question|Resolution-By Design,mavasani,,
39027,NRE in AbstractTypeImportCompletionProvider,"**Version Used**: 
![image](https://user-images.githubusercontent.com/41759/66147111-019d9a00-e5c3-11e9-964b-fb558919572c.png)

**Steps to Reproduce**:

1. Type teh following in the Interactive Window
```
> var s = ""x"";
> if (int.TryParse(s out var 
```

```
System.NullReferenceException: Object reference not set to an instance of an object.
   at Microsoft.CodeAnalysis.Completion.Providers.AbstractTypeImportCompletionProvider.&lt;&gt;c__DisplayClass8_0.&lt;&lt;AddCompletionItemsAsync&gt;g__HandleReferenceAsync|2&gt;d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.ValidateEnd(Task task)
   at Microsoft.CodeAnalysis.Completion.Providers.AbstractTypeImportCompletionProvider.&lt;AddCompletionItemsAsync&gt;d__8.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.CodeAnalysis.Completion.Providers.AbstractTypeImportCompletionProvider.&lt;ProvideCompletionsAsync&gt;d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.CodeAnalysis.Completion.CompletionServiceWithProviders.&lt;GetContextAsync&gt;d__33.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.CodeAnalysis.Completion.CompletionServiceWithProviders.&lt;ComputeNonEmptyCompletionContextsAsync&gt;d__27.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.ValidateEnd(Task task)
   at Microsoft.CodeAnalysis.Completion.CompletionServiceWithProviders.&lt;GetCompletionsWithAvailabilityOfExpandedItemsAsync&gt;d__25.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.ValidateEnd(Task task)
   at Microsoft.CodeAnalysis.Editor.Implementation.IntelliSense.AsyncCompletion.CompletionSource.&lt;GetCompletionContextWorkerAsync&gt;d__24.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.VisualStudio.Text.Utilities.GuardedOperations.&lt;CallExtensionPointAsync&gt;d__36`1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.VisualStudio.Telemetry.WindowsErrorReporting.WatsonReport.GetClrWatsonExceptionInfo(Exception exceptionObject)
```
","NRE in AbstractTypeImportCompletionProvider **Version Used**: 
![image](https://user-images.githubusercontent.com/41759/66147111-019d9a00-e5c3-11e9-964b-fb558919572c.png)

**Steps to Reproduce**:

1. Type teh following in the Interactive Window
```
> var s = ""x"";
> if (int.TryParse(s out var 
```

```
System.NullReferenceException: Object reference not set to an instance of an object.
   at Microsoft.CodeAnalysis.Completion.Providers.AbstractTypeImportCompletionProvider.&lt;&gt;c__DisplayClass8_0.&lt;&lt;AddCompletionItemsAsync&gt;g__HandleReferenceAsync|2&gt;d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.ValidateEnd(Task task)
   at Microsoft.CodeAnalysis.Completion.Providers.AbstractTypeImportCompletionProvider.&lt;AddCompletionItemsAsync&gt;d__8.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.CodeAnalysis.Completion.Providers.AbstractTypeImportCompletionProvider.&lt;ProvideCompletionsAsync&gt;d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.CodeAnalysis.Completion.CompletionServiceWithProviders.&lt;GetContextAsync&gt;d__33.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.CodeAnalysis.Completion.CompletionServiceWithProviders.&lt;ComputeNonEmptyCompletionContextsAsync&gt;d__27.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.ValidateEnd(Task task)
   at Microsoft.CodeAnalysis.Completion.CompletionServiceWithProviders.&lt;GetCompletionsWithAvailabilityOfExpandedItemsAsync&gt;d__25.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.ValidateEnd(Task task)
   at Microsoft.CodeAnalysis.Editor.Implementation.IntelliSense.AsyncCompletion.CompletionSource.&lt;GetCompletionContextWorkerAsync&gt;d__24.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.VisualStudio.Text.Utilities.GuardedOperations.&lt;CallExtensionPointAsync&gt;d__36`1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.VisualStudio.Telemetry.WindowsErrorReporting.WatsonReport.GetClrWatsonExceptionInfo(Exception exceptionObject)
```
",Area-Interactive|Bug,tmat,,
39026,Don't build .NET FX assets in source-build,These changes let us eliminate the prebuilt .NET FX reference assemblies from source-build.  In addition to the obvious TFM change we need to change the Compilers package to include the `build/` files since that's how downstream repos pick up the Roslyn we build.,Don't build .NET FX assets in source-build These changes let us eliminate the prebuilt .NET FX reference assemblies from source-build.  In addition to the obvious TFM change we need to change the Compilers package to include the `build/` files since that's how downstream repos pick up the Roslyn we build.,Area-Infrastructure|Source-Build,333fred|jaredpar,4/10/2019 2:41,
39022,Merge release/dev16.4-preview2-vs-deps to master-vs-deps,"
This is an automatically generated pull request from release/dev16.4-preview2-vs-deps into master-vs-deps.

``` bash
git fetch --all
git checkout merges/release/dev16.4-preview2-vs-deps-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/release/dev16.4-preview2-vs-deps
# Fix merge conflicts
git commit
git push upstream merges/release/dev16.4-preview2-vs-deps-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge release/dev16.4-preview2-vs-deps to master-vs-deps 
This is an automatically generated pull request from release/dev16.4-preview2-vs-deps into master-vs-deps.

``` bash
git fetch --all
git checkout merges/release/dev16.4-preview2-vs-deps-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/release/dev16.4-preview2-vs-deps
# Fix merge conflicts
git commit
git push upstream merges/release/dev16.4-preview2-vs-deps-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|ryzngard|RikkiGibson,3/10/2019 22:01,4/10/2019 5:49
39021,Merge release/dev16.4-preview1-vs-deps to release/dev16.4-preview2-vs-deps,"
This is an automatically generated pull request from release/dev16.4-preview1-vs-deps into release/dev16.4-preview2-vs-deps.

``` bash
git fetch --all
git checkout merges/release/dev16.4-preview1-vs-deps-to-release/dev16.4-preview2-vs-deps
git reset --hard upstream/release/dev16.4-preview2-vs-deps
git merge upstream/release/dev16.4-preview1-vs-deps
# Fix merge conflicts
git commit
git push upstream merges/release/dev16.4-preview1-vs-deps-to-release/dev16.4-preview2-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge release/dev16.4-preview1-vs-deps to release/dev16.4-preview2-vs-deps 
This is an automatically generated pull request from release/dev16.4-preview1-vs-deps into release/dev16.4-preview2-vs-deps.

``` bash
git fetch --all
git checkout merges/release/dev16.4-preview1-vs-deps-to-release/dev16.4-preview2-vs-deps
git reset --hard upstream/release/dev16.4-preview2-vs-deps
git merge upstream/release/dev16.4-preview1-vs-deps
# Fix merge conflicts
git commit
git push upstream merges/release/dev16.4-preview1-vs-deps-to-release/dev16.4-preview2-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|ryzngard|RikkiGibson,3/10/2019 22:01,4/10/2019 7:42
39020,Merge release/dev16.3-vs-deps to release/dev16.4-preview1-vs-deps,"
This is an automatically generated pull request from release/dev16.3-vs-deps into release/dev16.4-preview1-vs-deps.

``` bash
git fetch --all
git checkout merges/release/dev16.3-vs-deps-to-release/dev16.4-preview1-vs-deps
git reset --hard upstream/release/dev16.4-preview1-vs-deps
git merge upstream/release/dev16.3-vs-deps
# Fix merge conflicts
git commit
git push upstream merges/release/dev16.3-vs-deps-to-release/dev16.4-preview1-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge release/dev16.3-vs-deps to release/dev16.4-preview1-vs-deps 
This is an automatically generated pull request from release/dev16.3-vs-deps into release/dev16.4-preview1-vs-deps.

``` bash
git fetch --all
git checkout merges/release/dev16.3-vs-deps-to-release/dev16.4-preview1-vs-deps
git reset --hard upstream/release/dev16.4-preview1-vs-deps
git merge upstream/release/dev16.3-vs-deps
# Fix merge conflicts
git commit
git push upstream merges/release/dev16.3-vs-deps-to-release/dev16.4-preview1-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|ryzngard|RikkiGibson,3/10/2019 22:01,4/10/2019 5:49
39019,Merge release/dev16.4-preview2 to master,"
This is an automatically generated pull request from release/dev16.4-preview2 into master.

``` bash
git fetch --all
git checkout merges/release/dev16.4-preview2-to-master
git reset --hard upstream/master
git merge upstream/release/dev16.4-preview2
# Fix merge conflicts
git commit
git push upstream merges/release/dev16.4-preview2-to-master --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge release/dev16.4-preview2 to master 
This is an automatically generated pull request from release/dev16.4-preview2 into master.

``` bash
git fetch --all
git checkout merges/release/dev16.4-preview2-to-master
git reset --hard upstream/master
git merge upstream/release/dev16.4-preview2
# Fix merge conflicts
git commit
git push upstream merges/release/dev16.4-preview2-to-master --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|ryzngard|RikkiGibson,3/10/2019 22:00,4/10/2019 15:41
39018,Disable assert tracked by https://github.com/dotnet/roslyn/iss…,@cston for review. This is a test-only change despite being in production code as it's a debug assert only.,Disable assert tracked by https://github.com/dotnet/roslyn/iss… @cston for review. This is a test-only change despite being in production code as it's a debug assert only.,Area-Infrastructure|Disabled Test|New Feature - IOperation,333fred|cston|jcouv,3/10/2019 16:18,4/10/2019 7:27
39017,Update System.Collections.Immutable to 1.2.4.0 in VS,"#38809 updated System.Collections.Immutable to take advantage of new API but had to be reverted due to issues integrating into VS.

At this point we get type load exceptions in test runs. It's possible that some more projects in VS need to have binding redirects added. Once we get that figured out by making a test insertion in a dev branch we can recreate #38809 and pull into master again.

/cc @agocke @tmat @ryzngard","Update System.Collections.Immutable to 1.2.4.0 in VS #38809 updated System.Collections.Immutable to take advantage of new API but had to be reverted due to issues integrating into VS.

At this point we get type load exceptions in test runs. It's possible that some more projects in VS need to have binding redirects added. Once we get that figured out by making a test insertion in a dev branch we can recreate #38809 and pull into master again.

/cc @agocke @tmat @ryzngard",Area-Infrastructure,RikkiGibson|tmat|ryzngard|agocke,3/10/2019 15:02,
39016,Update config for snap,Updates publish data and version for 16.4-p3 snap. Merge after we have everything we need merged for a good signed build out of master-vs-deps.,Update config for snap Updates publish data and version for 16.4-p3 snap. Merge after we have everything we need merged for a good signed build out of master-vs-deps.,Area-Infrastructure|Urgency-Soon,RikkiGibson|JoeRobich,3/10/2019 11:57,4/10/2019 2:33
39015,Track local telemetry during remote LSP experimentation for comparison.,track local telemetry for syntax classifications during LSP guest session.  the idea here is that walking the tree is fast longest operation is actually building it so that's the best comparison to make,Track local telemetry during remote LSP experimentation for comparison. track local telemetry for syntax classifications during LSP guest session.  the idea here is that walking the tree is fast longest operation is actually building it so that's the best comparison to make,Area-IDE,dibarbet|jasonmalinowski,3/10/2019 10:43,9/10/2019 4:29
39014,Enable warnAsError for correctness builds,These changes setup the Correctness Test leg to fail when the formatting analyzer reports warnings. Other test legs will ignore these warnings and run unit tests as expected. Local builds (`.\build.cmd` and VS) will report warnings but not fail the build. ,Enable warnAsError for correctness builds These changes setup the Correctness Test leg to fail when the formatting analyzer reports warnings. Other test legs will ignore these warnings and run unit tests as expected. Local builds (`.\build.cmd` and VS) will report warnings but not fail the build. ,Area-Infrastructure,JoeRobich|jaredpar|sharwell|RikkiGibson,3/10/2019 10:21,10/10/2019 6:56
39013,NoWarn NU5128 instead of suppressing dependencies,Our NuGet meta-packages were not being generated with package dependencies because they were being suppressed.  Temporary workaround for https://github.com/NuGet/Home/issues/8583,NoWarn NU5128 instead of suppressing dependencies Our NuGet meta-packages were not being generated with package dependencies because they were being suppressed.  Temporary workaround for https://github.com/NuGet/Home/issues/8583,Area-Infrastructure,JoeRobich|tmat|sandyarmstrong,3/10/2019 10:07,4/10/2019 8:44
39012,Merge master to features/local-function-attributes,"
This is an automatically generated pull request from master into features/local-function-attributes.

``` bash
git fetch --all
git checkout merges/master-to-features/local-function-attributes
git reset --hard upstream/features/local-function-attributes
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-features/local-function-attributes --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge master to features/local-function-attributes 
This is an automatically generated pull request from master into features/local-function-attributes.

``` bash
git fetch --all
git checkout merges/master-to-features/local-function-attributes
git reset --hard upstream/features/local-function-attributes
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-features/local-function-attributes --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|ryzngard|RikkiGibson,3/10/2019 10:02,4/10/2019 5:48
39011,Merge master to master-vs-deps,"
This is an automatically generated pull request from master into master-vs-deps.

``` bash
git fetch --all
git checkout merges/master-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge master to master-vs-deps 
This is an automatically generated pull request from master into master-vs-deps.

``` bash
git fetch --all
git checkout merges/master-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|ryzngard|RikkiGibson,3/10/2019 10:02,4/10/2019 5:48
39010,Merge release/dev16.4-preview1-vs-deps to master-vs-deps,"
This is an automatically generated pull request from release/dev16.4-preview1-vs-deps into master-vs-deps.

``` bash
git fetch --all
git checkout merges/release/dev16.4-preview1-vs-deps-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/release/dev16.4-preview1-vs-deps
# Fix merge conflicts
git commit
git push upstream merges/release/dev16.4-preview1-vs-deps-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge release/dev16.4-preview1-vs-deps to master-vs-deps 
This is an automatically generated pull request from release/dev16.4-preview1-vs-deps into master-vs-deps.

``` bash
git fetch --all
git checkout merges/release/dev16.4-preview1-vs-deps-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/release/dev16.4-preview1-vs-deps
# Fix merge conflicts
git commit
git push upstream merges/release/dev16.4-preview1-vs-deps-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|ryzngard|RikkiGibson|JoeRobich,3/10/2019 10:01,4/10/2019 7:42
39008,"Revert ""Use new Span/Memory APIs on System.Collections.Immutable""","Reverts dotnet/roslyn#38809

Getting VS to be happy with the new System.Collections.Immutable version is proving pretty tricky so we are gonna have this PR here in case we need to flow it in to get a working insertion.","Revert ""Use new Span/Memory APIs on System.Collections.Immutable"" Reverts dotnet/roslyn#38809

Getting VS to be happy with the new System.Collections.Immutable version is proving pretty tricky so we are gonna have this PR here in case we need to flow it in to get a working insertion.",Area-Infrastructure,RikkiGibson,3/10/2019 9:15,3/10/2019 15:02
39007,`default` needs explicit type in if cond expr,"**Version Used**: Visual Studio Community 2019 Preview v16.4.0 preview 1.0

**Steps to Reproduce**:
1. Check `.NET Core 3.0 SDK` in the Individual Components section of the installer
2. Compile this .NET Core console program:
```csharp
class Program
{
    public interface Iface { }
    static Iface GetImpl() => null;
    static void Main(string[] args)
    {
        var impl = GetImpl();

        if (impl != default)
        {

        }
    }
}
```

[Sharplab.io](https://sharplab.io/#v2:EYLgtghgzgLgpgJwDQBMQGoA+ABATAAmwEYB2AWACgBvS/OwgZnwEsA7eBAMwgGM58Aktz74q+AL616xAGyDh/AOJwYAsAAcANgAoAlPgC8APnysArps0BuKXVmEALPgCyENtuIAGANoBdfBAIAOZQurai4fT4AG6BLBqahvjKqgl6NhSR9Myc+NrMCfgAhAb4KHDcFjBhFFFRNJm1dXSSTS2UrUA===) compiles this code successfully with `Default (3.3.1)` but fails on `master (23 Sep 2019)`.
 
**Expected Behavior**: compilation successful
Was there a spec change?

**Actual Behavior**:
Compilation fails on the `if` line:
```
Severity	Code	Description	Project	File	Line	Suppression State
Error	CS0019	Operator '!=' cannot be applied to operands of type 'Program.Iface' and 'default'	default1	C:\Work\source\repos\default1\Program.cs	12	Active
```

Changing the condition to `impl != default(Iface)` fixes the error.","`default` needs explicit type in if cond expr **Version Used**: Visual Studio Community 2019 Preview v16.4.0 preview 1.0

**Steps to Reproduce**:
1. Check `.NET Core 3.0 SDK` in the Individual Components section of the installer
2. Compile this .NET Core console program:
```csharp
class Program
{
    public interface Iface { }
    static Iface GetImpl() => null;
    static void Main(string[] args)
    {
        var impl = GetImpl();

        if (impl != default)
        {

        }
    }
}
```

[Sharplab.io](https://sharplab.io/#v2:EYLgtghgzgLgpgJwDQBMQGoA+ABATAAmwEYB2AWACgBvS/OwgZnwEsA7eBAMwgGM58Aktz74q+AL616xAGyDh/AOJwYAsAAcANgAoAlPgC8APnysArps0BuKXVmEALPgCyENtuIAGANoBdfBAIAOZQurai4fT4AG6BLBqahvjKqgl6NhSR9Myc+NrMCfgAhAb4KHDcFjBhFFFRNJm1dXSSTS2UrUA===) compiles this code successfully with `Default (3.3.1)` but fails on `master (23 Sep 2019)`.
 
**Expected Behavior**: compilation successful
Was there a spec change?

**Actual Behavior**:
Compilation fails on the `if` line:
```
Severity	Code	Description	Project	File	Line	Suppression State
Error	CS0019	Operator '!=' cannot be applied to operands of type 'Program.Iface' and 'default'	default1	C:\Work\source\repos\default1\Program.cs	12	Active
```

Changing the condition to `impl != default(Iface)` fixes the error.",Area-Compilers|Bug,gafter,3/10/2019 8:16,5/10/2019 8:59
39006,F# External Access - Removed loc entries that are not used.,This removes some resource entries that are not used in the resx file specifically for F# external access. It effectively means we don't need to worry about loc for them. We also do not use these resources in FSharp.Editor.,F# External Access - Removed loc entries that are not used. This removes some resource entries that are not used in the resx file specifically for F# external access. It effectively means we don't need to worry about loc for them. We also do not use these resources in FSharp.Editor.,Area-IDE|Community,TIHan|jinujoseph,3/10/2019 7:54,
39005,Delete tools that were migrated to roslyn-tools,These live in https://github.com/dotnet/roslyn-tools and should have been deleted long ago.,Delete tools that were migrated to roslyn-tools These live in https://github.com/dotnet/roslyn-tools and should have been deleted long ago.,,jasonmalinowski,,
39004,Fix favorites for expansions of nullables,Children of nullables in member expansions should support being added as favorites.,Fix favorites for expansions of nullables Children of nullables in member expansions should support being added as favorites.,Community|Interactive-Debugging,ivanbasov,,
39003,"Fix incorrect diagnostic message for ""using""","This removes the incorrect phrase "" or implement a suitable 'Dispose' method"" when `using` a type that doesn't implement `IDisposable`.

For #33746.","Fix incorrect diagnostic message for ""using"" This removes the incorrect phrase "" or implement a suitable 'Dispose' method"" when `using` a type that doesn't implement `IDisposable`.

For #33746.",Area-Compilers|Community,jcouv|RikkiGibson|chsienki,3/10/2019 6:28,
39002,Merge release/dev16.4-preview1-vs-deps to master-vs-deps,"
This is an automatically generated pull request from release/dev16.4-preview1-vs-deps into master-vs-deps.
(created from a manual run of the PR generation tool)

``` bash
git fetch --all
git checkout merges/release/dev16.4-preview1-vs-deps-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/release/dev16.4-preview1-vs-deps
# Fix merge conflicts
git commit
git push upstream merges/release/dev16.4-preview1-vs-deps-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge release/dev16.4-preview1-vs-deps to master-vs-deps 
This is an automatically generated pull request from release/dev16.4-preview1-vs-deps into master-vs-deps.
(created from a manual run of the PR generation tool)

``` bash
git fetch --all
git checkout merges/release/dev16.4-preview1-vs-deps-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/release/dev16.4-preview1-vs-deps
# Fix merge conflicts
git commit
git push upstream merges/release/dev16.4-preview1-vs-deps-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|RikkiGibson|JoeRobich,3/10/2019 5:59,3/10/2019 9:43
39001,'Generate method' action does not appear on name token following `?.`,"**Version Used**: Visual Studio 16.3.1

'Generate method' should appear for `foo?.NonExistentMethodName` whether `foo` is a reference or value type. It currently shows up for neither.

I ran into this in several unrelated projects when changing the type of `foo` somewhere else in the file and then wanting to generate the same methods that had been called on the type it used to have.

The workaround is to delete the `?` and add `.Value` if `foo` is a value-typed expression generate the method then manually undo.","'Generate method' action does not appear on name token following `?.` **Version Used**: Visual Studio 16.3.1

'Generate method' should appear for `foo?.NonExistentMethodName` whether `foo` is a reference or value type. It currently shows up for neither.

I ran into this in several unrelated projects when changing the type of `foo` somewhere else in the file and then wanting to generate the same methods that had been called on the type it used to have.

The workaround is to delete the `?` and add `.Value` if `foo` is a value-typed expression generate the method then manually undo.",Area-IDE|Concept-Continuous Improvement|IDE-CodeStyle|help wanted,sharwell,3/10/2019 5:56,
39000,Crash in OOP tore down VS (hard crash not yellow bar).,"Watson bucket and other relevant information.

```
Fault bucket 125730739576 type 5
Event Name: PerfWatsonVS12Data
Response: Not available
Cab Id: 1196763729810304088

Problem signature:
P1: PerfWatsonTcdb
P2: 0
P3: 0
P4: 0
P5: 0
P6: 
P7: 
P8: 
P9: 
P10: 

Attached files:
\\?\C:\Users\cyrus\AppData\Local\Temp\VSTelem.Out\201910021820_D16.4_16.4.29319.158_17696_b97f4571-7b9e-4f72-a70f-8ea07281a5cd.tcdb
\\?\C:\ProgramData\Microsoft\Windows\WER\Temp\WER6675.tmp.WERInternalMetadata.xml
\\?\C:\ProgramData\Microsoft\Windows\WER\Temp\WER66A5.tmp.xml
WPR_initiated_DiagTrackMiniLogger_OneTrace User Logger 20190930 1 Event Collector_0_inject.etl
\\?\C:\Users\cyrus\AppData\Local\Temp\WER66E5.tmp.etl
WPR_initiated_DiagTrackMiniLogger_WPR System Collector_inject.etl
\\?\C:\Users\cyrus\AppData\Local\Temp\WER66F5.tmp.etl
\\?\C:\ProgramData\Microsoft\Windows\WER\Temp\WER6706.tmp.csv
\\?\C:\ProgramData\Microsoft\Windows\WER\Temp\WER6765.tmp.txt
\\?\C:\Users\cyrus\AppData\Local\Temp\WER6A90.tmp.WERDataCollectionStatus.txt

These files may be available here:
\\?\C:\ProgramData\Microsoft\Windows\WER\ReportArchive\NonCritical_PerfWatsonTcdb_688f135dd185f2a8133a474a2518efc6ce6cc4a_00000000_cab_9769bf93-8256-46a3-9794-2743f97428f4

Analysis symbol: 
Rechecking for solution: 0
Report Id: 9769bf93-8256-46a3-9794-2743f97428f4
Report Status: 268435464
Hashed bucket: fb30d2b9a7acf0305d4da51668259751
Cab Guid: 797189b6-552d-47a5-b09b-c245836a2c58
```

```
Faulting application name: devenv.exe version: 16.4.29319.158 time stamp: 0x5d845bb8
Faulting module name: unknown version: 0.0.0.0 time stamp: 0x00000000
Exception code: 0x80131623
Fault offset: 0x62ac6b4a
Faulting process id: 0x4ee8
Faulting application start time: 0x01d578b6a67c1fc8
Faulting application path: C:\Program Files (x86)\Microsoft Visual Studio\2019\Preview\Common7\IDE\devenv.exe
Faulting module path: unknown
Report Id: bff26ea4-c774-46df-9501-c81b19986300
Faulting package full name: 
Faulting package-relative application ID: 
```

```
Application: devenv.exe
Framework Version: v4.0.30319
Description: The application requested process termination through System.Environment.FailFast(string message).
Message: System.InvalidOperationException: This instance must be flushed before being reinitialized.
   at Nerdbank.Streams.BufferTextWriter.Initialize(IBufferWriter`1 bufferWriter Encoding encoding)
   at StreamJsonRpc.JsonMessageFormatter.WriteJToken(IBufferWriter`1 contentBuffer JToken json)
   at StreamJsonRpc.JsonMessageFormatter.Serialize(IBufferWriter`1 contentBuffer JsonRpcMessage message)
   at StreamJsonRpc.HeaderDelimitedMessageHandler.Write(JsonRpcMessage content CancellationToken cancellationToken)
   at StreamJsonRpc.PipeMessageHandler.WriteCoreAsync(JsonRpcMessage content CancellationToken cancellationToken)
   at StreamJsonRpc.MessageHandlerBase.<WriteAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at StreamJsonRpc.JsonRpc.<TransmitAsync>d__115.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Threading.Tasks.ValueTask.ThrowIfCompletedUnsuccessfully()
   at StreamJsonRpc.JsonRpc.<InvokeCoreAsync>d__94`1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.ServiceHub.Framework.RemoteServiceBroker.<GetPipeAsync>d__29.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.ServiceHub.Client.HubClient.<GetPipeAsync>d__33.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.ServiceHub.Client.HubClient.<RequestServiceAsync>d__30.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.VisualStudio.LanguageServices.Remote.ServiceHubRemoteHostClient.Connections.<RetryRemoteCallAsync>d__0`2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.VisualStudio.LanguageServices.Remote.ServiceHubRemoteHostClient.Connections.<RequestServiceAsync>d__1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.VisualStudio.LanguageServices.Remote.ServiceHubRemoteHostClient.ConnectionManager.<TryCreateNewConnectionAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.VisualStudio.LanguageServices.Remote.ServiceHubRemoteHostClient.ConnectionManager.<TryGetConnectionFromPoolAsync>d__13.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.CodeAnalysis.Remote.RemoteHostClientExtensions.<TryRunRemoteAsync>d__13.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.VisualStudio.LanguageServices.Remote.RemoteHostClientServiceFactory.SolutionChecksumUpdater.<>c__DisplayClass17_0.<<PushTextChanges>b__0>d.MoveNext()
Stack:
   at System.Environment.FailFast(System.String System.Exception)
   at Microsoft.CodeAnalysis.FailFast.OnFatalException(System.Exception)
   at Microsoft.CodeAnalysis.ErrorReporting.FatalError.Report(System.Exception System.Action`1<System.Exception>)
   at Microsoft.CodeAnalysis.ErrorReporting.FatalError.Report(System.Exception)
   at Roslyn.Utilities.TaskExtensions.ReportFatalErrorWorker(System.Threading.Tasks.Task System.Object)
   at System.Threading.Tasks.ContinuationTaskFromTask.InnerInvoke()
   at System.Threading.Tasks.Task.Execute()
   at System.Threading.Tasks.Task.ExecutionContextCallback(System.Object)
   at System.Threading.ExecutionContext.RunInternal(System.Threading.ExecutionContext System.Threading.ContextCallback System.Object Boolean)
   at System.Threading.ExecutionContext.Run(System.Threading.ExecutionContext System.Threading.ContextCallback System.Object Boolean)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(System.Threading.Tasks.Task ByRef)
   at System.Threading.Tasks.Task.ExecuteEntry(Boolean)
   at System.Threading.Tasks.ThreadPoolTaskScheduler.TryExecuteTaskInline(System.Threading.Tasks.Task Boolean)
   at System.Threading.Tasks.TaskScheduler.TryRunInline(System.Threading.Tasks.Task Boolean)
   at System.Threading.Tasks.TaskContinuation.InlineIfPossibleOrElseQueue(System.Threading.Tasks.Task Boolean)
   at System.Threading.Tasks.StandardTaskContinuation.Run(System.Threading.Tasks.Task Boolean)
   at System.Threading.Tasks.Task.FinishContinuations()
   at System.Threading.Tasks.Task.FinishStageThree()
   at System.Threading.Tasks.Task.FinishStageTwo()
   at System.Threading.Tasks.Task.Finish(Boolean)
   at System.Threading.Tasks.Task`1[[System.Threading.Tasks.TaskExtensions+VoidResult System.Core Version=4.0.0.0 Culture=neutral PublicKeyToken=b77a5c561934e089]].TrySetException(System.Object)
   at System.Threading.Tasks.UnwrapPromise`1[[System.Threading.Tasks.TaskExtensions+VoidResult System.Core Version=4.0.0.0 Culture=neutral PublicKeyToken=b77a5c561934e089]].TrySetFromTask(System.Threading.Tasks.Task Boolean)
   at System.Threading.Tasks.UnwrapPromise`1[[System.Threading.Tasks.TaskExtensions+VoidResult System.Core Version=4.0.0.0 Culture=neutral PublicKeyToken=b77a5c561934e089]].ProcessInnerTask(System.Threading.Tasks.Task)
   at System.Threading.Tasks.UnwrapPromise`1[[System.Threading.Tasks.TaskExtensions+VoidResult System.Core Version=4.0.0.0 Culture=neutral PublicKeyToken=b77a5c561934e089]].ProcessCompletedOuterTask(System.Threading.Tasks.Task)
   at System.Threading.Tasks.UnwrapPromise`1[[System.Threading.Tasks.TaskExtensions+VoidResult System.Core Version=4.0.0.0 Culture=neutral PublicKeyToken=b77a5c561934e089]].InvokeCore(System.Threading.Tasks.Task)
   at System.Threading.Tasks.UnwrapPromise`1[[System.Threading.Tasks.TaskExtensions+VoidResult System.Core Version=4.0.0.0 Culture=neutral PublicKeyToken=b77a5c561934e089]].Invoke(System.Threading.Tasks.Task)
   at System.Threading.Tasks.Task.FinishContinuations()
   at System.Threading.Tasks.Task.FinishStageThree()
   at System.Threading.Tasks.Task.FinishStageTwo()
   at System.Threading.Tasks.Task.Finish(Boolean)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(System.Threading.Tasks.Task ByRef)
   at System.Threading.Tasks.Task.ExecuteEntry(Boolean)
   at System.Threading.Tasks.Task.System.Threading.IThreadPoolWorkItem.ExecuteWorkItem()
   at System.Threading.ThreadPoolWorkQueue.Dispatch()
   at System.Threading._ThreadPoolWaitCallback.PerformWaitCallback()

```","Crash in OOP tore down VS (hard crash, not yellow bar). Watson bucket and other relevant information.

```
Fault bucket 125730739576 type 5
Event Name: PerfWatsonVS12Data
Response: Not available
Cab Id: 1196763729810304088

Problem signature:
P1: PerfWatsonTcdb
P2: 0
P3: 0
P4: 0
P5: 0
P6: 
P7: 
P8: 
P9: 
P10: 

Attached files:
\\?\C:\Users\cyrus\AppData\Local\Temp\VSTelem.Out\201910021820_D16.4_16.4.29319.158_17696_b97f4571-7b9e-4f72-a70f-8ea07281a5cd.tcdb
\\?\C:\ProgramData\Microsoft\Windows\WER\Temp\WER6675.tmp.WERInternalMetadata.xml
\\?\C:\ProgramData\Microsoft\Windows\WER\Temp\WER66A5.tmp.xml
WPR_initiated_DiagTrackMiniLogger_OneTrace User Logger 20190930 1 Event Collector_0_inject.etl
\\?\C:\Users\cyrus\AppData\Local\Temp\WER66E5.tmp.etl
WPR_initiated_DiagTrackMiniLogger_WPR System Collector_inject.etl
\\?\C:\Users\cyrus\AppData\Local\Temp\WER66F5.tmp.etl
\\?\C:\ProgramData\Microsoft\Windows\WER\Temp\WER6706.tmp.csv
\\?\C:\ProgramData\Microsoft\Windows\WER\Temp\WER6765.tmp.txt
\\?\C:\Users\cyrus\AppData\Local\Temp\WER6A90.tmp.WERDataCollectionStatus.txt

These files may be available here:
\\?\C:\ProgramData\Microsoft\Windows\WER\ReportArchive\NonCritical_PerfWatsonTcdb_688f135dd185f2a8133a474a2518efc6ce6cc4a_00000000_cab_9769bf93-8256-46a3-9794-2743f97428f4

Analysis symbol: 
Rechecking for solution: 0
Report Id: 9769bf93-8256-46a3-9794-2743f97428f4
Report Status: 268435464
Hashed bucket: fb30d2b9a7acf0305d4da51668259751
Cab Guid: 797189b6-552d-47a5-b09b-c245836a2c58
```

```
Faulting application name: devenv.exe version: 16.4.29319.158 time stamp: 0x5d845bb8
Faulting module name: unknown version: 0.0.0.0 time stamp: 0x00000000
Exception code: 0x80131623
Fault offset: 0x62ac6b4a
Faulting process id: 0x4ee8
Faulting application start time: 0x01d578b6a67c1fc8
Faulting application path: C:\Program Files (x86)\Microsoft Visual Studio\2019\Preview\Common7\IDE\devenv.exe
Faulting module path: unknown
Report Id: bff26ea4-c774-46df-9501-c81b19986300
Faulting package full name: 
Faulting package-relative application ID: 
```

```
Application: devenv.exe
Framework Version: v4.0.30319
Description: The application requested process termination through System.Environment.FailFast(string message).
Message: System.InvalidOperationException: This instance must be flushed before being reinitialized.
   at Nerdbank.Streams.BufferTextWriter.Initialize(IBufferWriter`1 bufferWriter Encoding encoding)
   at StreamJsonRpc.JsonMessageFormatter.WriteJToken(IBufferWriter`1 contentBuffer JToken json)
   at StreamJsonRpc.JsonMessageFormatter.Serialize(IBufferWriter`1 contentBuffer JsonRpcMessage message)
   at StreamJsonRpc.HeaderDelimitedMessageHandler.Write(JsonRpcMessage content CancellationToken cancellationToken)
   at StreamJsonRpc.PipeMessageHandler.WriteCoreAsync(JsonRpcMessage content CancellationToken cancellationToken)
   at StreamJsonRpc.MessageHandlerBase.<WriteAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at StreamJsonRpc.JsonRpc.<TransmitAsync>d__115.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at System.Threading.Tasks.ValueTask.ThrowIfCompletedUnsuccessfully()
   at StreamJsonRpc.JsonRpc.<InvokeCoreAsync>d__94`1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.ServiceHub.Framework.RemoteServiceBroker.<GetPipeAsync>d__29.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.ServiceHub.Client.HubClient.<GetPipeAsync>d__33.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.ServiceHub.Client.HubClient.<RequestServiceAsync>d__30.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.VisualStudio.LanguageServices.Remote.ServiceHubRemoteHostClient.Connections.<RetryRemoteCallAsync>d__0`2.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.VisualStudio.LanguageServices.Remote.ServiceHubRemoteHostClient.Connections.<RequestServiceAsync>d__1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.VisualStudio.LanguageServices.Remote.ServiceHubRemoteHostClient.ConnectionManager.<TryCreateNewConnectionAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.VisualStudio.LanguageServices.Remote.ServiceHubRemoteHostClient.ConnectionManager.<TryGetConnectionFromPoolAsync>d__13.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.CodeAnalysis.Remote.RemoteHostClientExtensions.<TryRunRemoteAsync>d__13.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.VisualStudio.LanguageServices.Remote.RemoteHostClientServiceFactory.SolutionChecksumUpdater.<>c__DisplayClass17_0.<<PushTextChanges>b__0>d.MoveNext()
Stack:
   at System.Environment.FailFast(System.String System.Exception)
   at Microsoft.CodeAnalysis.FailFast.OnFatalException(System.Exception)
   at Microsoft.CodeAnalysis.ErrorReporting.FatalError.Report(System.Exception System.Action`1<System.Exception>)
   at Microsoft.CodeAnalysis.ErrorReporting.FatalError.Report(System.Exception)
   at Roslyn.Utilities.TaskExtensions.ReportFatalErrorWorker(System.Threading.Tasks.Task System.Object)
   at System.Threading.Tasks.ContinuationTaskFromTask.InnerInvoke()
   at System.Threading.Tasks.Task.Execute()
   at System.Threading.Tasks.Task.ExecutionContextCallback(System.Object)
   at System.Threading.ExecutionContext.RunInternal(System.Threading.ExecutionContext System.Threading.ContextCallback System.Object Boolean)
   at System.Threading.ExecutionContext.Run(System.Threading.ExecutionContext System.Threading.ContextCallback System.Object Boolean)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(System.Threading.Tasks.Task ByRef)
   at System.Threading.Tasks.Task.ExecuteEntry(Boolean)
   at System.Threading.Tasks.ThreadPoolTaskScheduler.TryExecuteTaskInline(System.Threading.Tasks.Task Boolean)
   at System.Threading.Tasks.TaskScheduler.TryRunInline(System.Threading.Tasks.Task Boolean)
   at System.Threading.Tasks.TaskContinuation.InlineIfPossibleOrElseQueue(System.Threading.Tasks.Task Boolean)
   at System.Threading.Tasks.StandardTaskContinuation.Run(System.Threading.Tasks.Task Boolean)
   at System.Threading.Tasks.Task.FinishContinuations()
   at System.Threading.Tasks.Task.FinishStageThree()
   at System.Threading.Tasks.Task.FinishStageTwo()
   at System.Threading.Tasks.Task.Finish(Boolean)
   at System.Threading.Tasks.Task`1[[System.Threading.Tasks.TaskExtensions+VoidResult System.Core Version=4.0.0.0 Culture=neutral PublicKeyToken=b77a5c561934e089]].TrySetException(System.Object)
   at System.Threading.Tasks.UnwrapPromise`1[[System.Threading.Tasks.TaskExtensions+VoidResult System.Core Version=4.0.0.0 Culture=neutral PublicKeyToken=b77a5c561934e089]].TrySetFromTask(System.Threading.Tasks.Task Boolean)
   at System.Threading.Tasks.UnwrapPromise`1[[System.Threading.Tasks.TaskExtensions+VoidResult System.Core Version=4.0.0.0 Culture=neutral PublicKeyToken=b77a5c561934e089]].ProcessInnerTask(System.Threading.Tasks.Task)
   at System.Threading.Tasks.UnwrapPromise`1[[System.Threading.Tasks.TaskExtensions+VoidResult System.Core Version=4.0.0.0 Culture=neutral PublicKeyToken=b77a5c561934e089]].ProcessCompletedOuterTask(System.Threading.Tasks.Task)
   at System.Threading.Tasks.UnwrapPromise`1[[System.Threading.Tasks.TaskExtensions+VoidResult System.Core Version=4.0.0.0 Culture=neutral PublicKeyToken=b77a5c561934e089]].InvokeCore(System.Threading.Tasks.Task)
   at System.Threading.Tasks.UnwrapPromise`1[[System.Threading.Tasks.TaskExtensions+VoidResult System.Core Version=4.0.0.0 Culture=neutral PublicKeyToken=b77a5c561934e089]].Invoke(System.Threading.Tasks.Task)
   at System.Threading.Tasks.Task.FinishContinuations()
   at System.Threading.Tasks.Task.FinishStageThree()
   at System.Threading.Tasks.Task.FinishStageTwo()
   at System.Threading.Tasks.Task.Finish(Boolean)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(System.Threading.Tasks.Task ByRef)
   at System.Threading.Tasks.Task.ExecuteEntry(Boolean)
   at System.Threading.Tasks.Task.System.Threading.IThreadPoolWorkItem.ExecuteWorkItem()
   at System.Threading.ThreadPoolWorkQueue.Dispatch()
   at System.Threading._ThreadPoolWaitCallback.PerformWaitCallback()

```",Area-IDE|Bug|Resolution-Duplicate|Tenet-Reliability,sharwell,,
38999,Update Formatter.OrganizeImportsAsync to make the cancellation token optional,Resolves https://github.com/dotnet/roslyn/issues/38758,Update Formatter.OrganizeImportsAsync to make the cancellation token optional Resolves https://github.com/dotnet/roslyn/issues/38758,,jasonmalinowski,,
38998,Delete some dead code from the rename test harness,,Delete some dead code from the rename test harness ,Area-IDE,jasonmalinowski,,
38997,"VS 2019 intellisense ""is"" operator not suggesting enum values","**Version Used**: 
VS 2019 16.3.1

**Steps to Reproduce**:

1. var a = DayOfWeek.Monday;
2. bool equalsMonday = a == DayOfWeek.Monday
3. bool isMonday = a is DayOfWeek.Monday

**Expected Behavior**:

Intellisense suggests DayOfWeek.{Monday Tuesday...} values after typing ""DayOfWeek."" for both line 2. and 3.

**Actual Behavior**:

Intellisense suggests this only for the 2nd line not when using the is operator.

2:
![image](https://user-images.githubusercontent.com/26150359/66048405-c0a57700-e529-11e9-9cc1-6565868dd111.png)


3:
![image](https://user-images.githubusercontent.com/26150359/66048375-b3888800-e529-11e9-836b-6238986f8ac7.png)

","VS 2019 intellisense ""is"" operator not suggesting enum values **Version Used**: 
VS 2019 16.3.1

**Steps to Reproduce**:

1. var a = DayOfWeek.Monday;
2. bool equalsMonday = a == DayOfWeek.Monday
3. bool isMonday = a is DayOfWeek.Monday

**Expected Behavior**:

Intellisense suggests DayOfWeek.{Monday Tuesday...} values after typing ""DayOfWeek."" for both line 2. and 3.

**Actual Behavior**:

Intellisense suggests this only for the 2nd line not when using the is operator.

2:
![image](https://user-images.githubusercontent.com/26150359/66048405-c0a57700-e529-11e9-9cc1-6565868dd111.png)


3:
![image](https://user-images.githubusercontent.com/26150359/66048375-b3888800-e529-11e9-836b-6238986f8ac7.png)

",Area-IDE|Bug|IDE-IntelliSense|New Language Feature - Pattern Matching|help wanted,sharwell|jinujoseph,2/10/2019 23:32,
38995,"Incorrect IDE0044 (Make field readonly) when used with ""ref""","**Version Used**: 16.3.1

**Steps to Reproduce**:
``` csharp
using System;

class Program
{
    private static Int32 Value;

    static void Main()
    {
        ref var value = ref Value;
        value += 1;
    }
}
```
**Expected Behavior**: No errors / warnings / messages.

**Actual Behavior**:  IDE0044	Make field readonly.

Here is a counter example where it works as expected:
``` csharp
using System;

class Program
{
    private static Int32 Value;

    static void Main()
    {
        Increment( ref Value );
    }

    static void Increment( ref Int32 value ) => value += 1;
}
```
","Incorrect IDE0044 (Make field readonly) when used with ""ref"" **Version Used**: 16.3.1

**Steps to Reproduce**:
``` csharp
using System;

class Program
{
    private static Int32 Value;

    static void Main()
    {
        ref var value = ref Value;
        value += 1;
    }
}
```
**Expected Behavior**: No errors / warnings / messages.

**Actual Behavior**:  IDE0044	Make field readonly.

Here is a counter example where it works as expected:
``` csharp
using System;

class Program
{
    private static Int32 Value;

    static void Main()
    {
        Increment( ref Value );
    }

    static void Increment( ref Int32 value ) => value += 1;
}
```
",Area-IDE|Bug|IDE-CodeStyle|help wanted,sharwell|jinujoseph|mavasani,2/10/2019 18:28,16/10/2019 5:40
38994,Attribute async state machines for better introspection,"Hi

I've recently written a PoC of an async builder that allows you to suspend the thread of execution to disk and rehydrate at a later point or even on a different machine. It appears to work ok (as long as the captures are serializable obviously) but writing the code to demangle the state machine fields was tricky and I'm pretty sure it's not right now. I've attached the code but it would be really nice if the state machine builder put some attributes on the fields so we can inspect them. E.g. 

[StateMachineState] on the integer state field
[StateMachineInput(""i"")] for the method arguments
[StateMachineLocal(""j"")] for captured locals
[StateMachineAwaiter(index)] or similar for the awaiters

I don't think it needs a lot more. Having exposed the state machine builders I'm not sure the internals of state machines could be changed easily so I don't think this is adding much of a backwards compatibility issue.

On a side note is it possible to remove the debug bypass on the statemachines to see what's happening under the cover more easily?

Thanks
Ben Young

```csharp
using Newtonsoft.Json;
using System;
using System.Collections.Generic;
using System.IO;
using System.Linq;
using System.Reflection;
using System.Runtime.CompilerServices;
using System.Runtime.ExceptionServices;
using System.Threading;
using System.Threading.Tasks;

namespace MethodBuilderTest
{
    class Program
    {
        static void Main(string[] args)
        {
            Console.WriteLine(""Started"");
            Flow.Run(() => MyFlowData());
        }

        static async FlowData MyFlowData()
        {
            int i = 0;
            var numbers = new List<int>();
            while (true)
            {
                await Letters(i++);
                numbers.Add(i);
                await Flow.Checkpoint();
                await Task.Delay(TimeSpan.FromSeconds(1));
                Console.WriteLine(""  "" + numbers.Count);
            }
        }

        static async FlowData Letters(int i)
        {
            for (int j = 0; j < 5; ++j)
            {
                Console.WriteLine(i.ToString() + "" "" + (char)('A' + j));
                await Flow.Checkpoint();
                await Task.Delay(TimeSpan.FromSeconds(0.5));
            }
        }
    }

    static class Flow
    {
        internal static FlowContext FlowContext { get; set; }

        public static void Run(Func<FlowData> data)
        {
            FlowContext = new FlowContext();
            try
            {
                data().GetAwaiter().GetResult();
            }
            finally
            {
                FlowContext = null;
            }
        }

        public static FlowData Checkpoint()
        {
            var data = new FlowData();
            data.SetResult();
            return data;
        }
    }

    class FlowContext
    {
    }

    struct Void
    {
    }

    [AsyncMethodBuilder(typeof(FlowDataMethodBuilder))]
    class FlowData : INotifyCompletion
    {
        private ExceptionDispatchInfo exception;

        [JsonProperty]
        private bool hasResult;

        public FlowData GetAwaiter() => this;

        public void GetResult()
        {
            if (this.exception != null)
            {
                this.exception.Throw();
            }

            while (!this.hasResult)
            {
                Thread.Sleep(0);
            }
        }

        public bool IsCompleted => this.exception != null;

        public void OnCompleted(Action completion)
        {
            Task.Run(completion);
        }

        internal void SetException(Exception e)
        {
            this.exception = ExceptionDispatchInfo.Capture(e);
        }

        internal void SetResult()
        {
            this.hasResult = true;
        }
    }

    [AsyncMethodBuilder(typeof(FlowDataMethodBuilder))]
    class StateMachineFlowData : FlowData
    {
        public StateMachineFlowData(string name)
        {
            this.stateMachineName = name;
        }

        [JsonProperty]
        internal string stateMachineName;
    }

    class FlowState<TStateMachine> 
    {
        internal TStateMachine stateMachine;

        public void Debug()
        {
            Console.WriteLine($""{this.stateMachine.GetType().IsClass}"");
            Console.WriteLine(string.Join(
                Environment.NewLine
                this.Capture()
                    .Select(f => $""{f.Key} {f.Value}"")));
        }

        public IReadOnlyDictionary<string object> Capture()
        {
            return this.stateMachine
                    .GetType()
                    .GetFields(BindingFlags.Public | BindingFlags.NonPublic | BindingFlags.Instance)
                    .Select(f => new { Name = DemangleName(f.Name) Value = f.GetValue(this.stateMachine) Type = f.FieldType })
                    .Where(f => !string.IsNullOrEmpty(f.Name) && !typeof(ICriticalNotifyCompletion).IsAssignableFrom(f.Type))
                    .ToDictionary(f => f.Name f => f.Value);
        }

        public void RestoreState<TBuilder>(TBuilder builder IReadOnlyDictionary<string object> state)
        {
            var tr = __makeref(this.stateMachine);
            foreach (var field in this.stateMachine
                    .GetType()
                    .GetFields(BindingFlags.Public | BindingFlags.NonPublic | BindingFlags.Instance)
                    .Select(f => new { Name = DemangleName(f.Name) Field = f })
                    .Where(f => !string.IsNullOrEmpty(f.Name)))
            { 
                if(state.TryGetValue(field.Name out var value) && value != null)
                {
                    field.Field.SetValueDirect(tr field.Field.FieldType.IsAssignableFrom(value.GetType()) ? value : Convert.ChangeType(value field.Field.FieldType));
                }
            }

            this.stateMachine.GetType().GetField(""<>t__builder"").SetValueDirect(tr builder);
        }

        private static string DemangleName(string name)
        {
            if(name.StartsWith(""<>""))
            {
                if(name.Contains(""__state""))
                {
                    return ""state!"";
                }
                else if(name.StartsWith(""<>u_""))
                {
                    return ""awaiter"" + name.Substring(""<>u_"".Length) + ""!"";
                }

                return null;
            }
            else if (name.StartsWith(""<""))
            {
                return name.Substring(1 name.IndexOf('>' 1) - 1) + ""_local!"";
            }

            return name;
        }
    }

    class FlowDataMethodBuilder
    {
        private readonly static JsonSerializer Serializer = JsonSerializer.Create(new JsonSerializerSettings
        {
            PreserveReferencesHandling = PreserveReferencesHandling.All
            TypeNameHandling = TypeNameHandling.All
            Formatting = Formatting.Indented
        });

        private string fileName;

        private Type stateMachineType;

        private object state;

        private StateMachineFlowData result;

        public static FlowDataMethodBuilder Create() => new FlowDataMethodBuilder();

        public FlowData Task => this.result;

        public void Start<TStateMachine>(ref TStateMachine stateMachine)
            where TStateMachine : IAsyncStateMachine
        {
            if(Flow.FlowContext == null)
            {
                throw new InvalidOperationException(""No flow context"");
            }

            this.stateMachineType = typeof(TStateMachine);
            this.fileName = this.FileName<TStateMachine>();
            this.result = new StateMachineFlowData(this.stateMachineType.FullName);

            var flow = EnsureState(ref stateMachine);

            this.RestoreState(flow);

            flow.stateMachine.MoveNext();
        }

        public void SetStateMachine(IAsyncStateMachine stateMachine)
        {
        }

        public void SetException(Exception exception)
        {
            if (this.result == null)
            {
                throw new InvalidOperationException(""Task should be active already"");
            }

            this.result.SetException(exception);
            File.Delete(this.fileName);
        }

        public void SetResult() 
        {
            if(this.result == null)
            {
                throw new InvalidOperationException(""Task should be active already"");
            }

            this.result.SetResult();
            File.Delete(this.fileName);
        }

        public void AwaitOnCompleted<TAwaiter TStateMachine>(
            ref TAwaiter awaiter ref TStateMachine stateMachine)
            where TAwaiter : INotifyCompletion
            where TStateMachine : IAsyncStateMachine => this.HandleCompleted(ref awaiter ref stateMachine false);

        public void AwaitUnsafeOnCompleted<TAwaiter TStateMachine>(
            ref TAwaiter awaiter ref TStateMachine stateMachine)
            where TAwaiter : ICriticalNotifyCompletion
            where TStateMachine : IAsyncStateMachine => this.HandleCompleted(ref awaiter ref stateMachine true);

        internal void HandleCompleted<TAwaiter TStateMachine>(ref TAwaiter awaiter ref TStateMachine stateMachine bool useCritical)
            where TAwaiter : INotifyCompletion
            where TStateMachine : IAsyncStateMachine
        {
            if (Flow.FlowContext == null)
            {
                throw new InvalidOperationException(""No flow context"");
            }

            var flow = EnsureState(ref stateMachine);

            //flow.Debug();

            if (awaiter is FlowData)
            {
                var writeState = flow.Capture();
                using (var writer = File.CreateText(this.fileName))
                {
                    Serializer.Serialize(writer writeState);
                }

                if (Flow.FlowContext == null)
                {
                    throw new InvalidOperationException(""No flow context set"");
                }

                awaiter.OnCompleted(() => flow.stateMachine.MoveNext());
            }
            else
            {
                // TODO: Disable flow context here so async methods can't call back into flow
                if (useCritical)
                {
                    ((ICriticalNotifyCompletion)awaiter).UnsafeOnCompleted(() =>
                    {
                        flow.stateMachine.MoveNext();
                    });
                }
                else
                {
                    awaiter.OnCompleted(() =>
                    {
                        flow.stateMachine.MoveNext();
                    });
                }
            }
        }

        private void RestoreState<TStateMachine>(FlowState<TStateMachine> flow)
        {
            if (File.Exists(this.fileName))
            {
                using (var reader = File.OpenRead(fileName))
                {
                    var state = Serializer.Deserialize<Dictionary<string object>>(new JsonTextReader(new StreamReader(reader)));

                    var subState = state.Where(o => o.Value is StateMachineFlowData).SingleOrDefault();
                    if(subState.Value != null)
                    {
                        var subBuilder = Create();
                        var stateMachineType = Type.GetType(((StateMachineFlowData)subState.Value).stateMachineName);
                        var method = typeof(FlowDataMethodBuilder).GetMethod(""Start"").MakeGenericMethod(stateMachineType);
                        var childStateMachine = Activator.CreateInstance(stateMachineType);
                        method.Invoke(subBuilder new[] { childStateMachine });
                        state[subState.Key] = subBuilder.Task;
                    }


                    flow.RestoreState(this state);
                }
            }
        }

        private string FileName<TStateMachine>() => string.Join('_' typeof(TStateMachine).Name.Split(Path.GetInvalidFileNameChars())) + "".json"";

        private FlowState<TStateMachine> EnsureState<TStateMachine>(ref TStateMachine stateMachine) where TStateMachine : IAsyncStateMachine
        {
            FlowState<TStateMachine> flow;
            if (this.state == null)
            {
                flow = new FlowState<TStateMachine>();
                this.state = flow;
            }
            else if (this.state is FlowState<TStateMachine> existingFlow)
            {
                flow = existingFlow;
            }
            else
            {
                throw new InvalidOperationException(""Changing statemachine is not supported"");
            }

            flow.stateMachine = stateMachine;
            return flow;
        }
    }
}
```","Attribute async state machines for better introspection Hi

I've recently written a PoC of an async builder that allows you to suspend the thread of execution to disk and rehydrate at a later point or even on a different machine. It appears to work ok (as long as the captures are serializable obviously) but writing the code to demangle the state machine fields was tricky and I'm pretty sure it's not right now. I've attached the code but it would be really nice if the state machine builder put some attributes on the fields so we can inspect them. E.g. 

[StateMachineState] on the integer state field
[StateMachineInput(""i"")] for the method arguments
[StateMachineLocal(""j"")] for captured locals
[StateMachineAwaiter(index)] or similar for the awaiters

I don't think it needs a lot more. Having exposed the state machine builders I'm not sure the internals of state machines could be changed easily so I don't think this is adding much of a backwards compatibility issue.

On a side note is it possible to remove the debug bypass on the statemachines to see what's happening under the cover more easily?

Thanks
Ben Young

```csharp
using Newtonsoft.Json;
using System;
using System.Collections.Generic;
using System.IO;
using System.Linq;
using System.Reflection;
using System.Runtime.CompilerServices;
using System.Runtime.ExceptionServices;
using System.Threading;
using System.Threading.Tasks;

namespace MethodBuilderTest
{
    class Program
    {
        static void Main(string[] args)
        {
            Console.WriteLine(""Started"");
            Flow.Run(() => MyFlowData());
        }

        static async FlowData MyFlowData()
        {
            int i = 0;
            var numbers = new List<int>();
            while (true)
            {
                await Letters(i++);
                numbers.Add(i);
                await Flow.Checkpoint();
                await Task.Delay(TimeSpan.FromSeconds(1));
                Console.WriteLine(""  "" + numbers.Count);
            }
        }

        static async FlowData Letters(int i)
        {
            for (int j = 0; j < 5; ++j)
            {
                Console.WriteLine(i.ToString() + "" "" + (char)('A' + j));
                await Flow.Checkpoint();
                await Task.Delay(TimeSpan.FromSeconds(0.5));
            }
        }
    }

    static class Flow
    {
        internal static FlowContext FlowContext { get; set; }

        public static void Run(Func<FlowData> data)
        {
            FlowContext = new FlowContext();
            try
            {
                data().GetAwaiter().GetResult();
            }
            finally
            {
                FlowContext = null;
            }
        }

        public static FlowData Checkpoint()
        {
            var data = new FlowData();
            data.SetResult();
            return data;
        }
    }

    class FlowContext
    {
    }

    struct Void
    {
    }

    [AsyncMethodBuilder(typeof(FlowDataMethodBuilder))]
    class FlowData : INotifyCompletion
    {
        private ExceptionDispatchInfo exception;

        [JsonProperty]
        private bool hasResult;

        public FlowData GetAwaiter() => this;

        public void GetResult()
        {
            if (this.exception != null)
            {
                this.exception.Throw();
            }

            while (!this.hasResult)
            {
                Thread.Sleep(0);
            }
        }

        public bool IsCompleted => this.exception != null;

        public void OnCompleted(Action completion)
        {
            Task.Run(completion);
        }

        internal void SetException(Exception e)
        {
            this.exception = ExceptionDispatchInfo.Capture(e);
        }

        internal void SetResult()
        {
            this.hasResult = true;
        }
    }

    [AsyncMethodBuilder(typeof(FlowDataMethodBuilder))]
    class StateMachineFlowData : FlowData
    {
        public StateMachineFlowData(string name)
        {
            this.stateMachineName = name;
        }

        [JsonProperty]
        internal string stateMachineName;
    }

    class FlowState<TStateMachine> 
    {
        internal TStateMachine stateMachine;

        public void Debug()
        {
            Console.WriteLine($""{this.stateMachine.GetType().IsClass}"");
            Console.WriteLine(string.Join(
                Environment.NewLine
                this.Capture()
                    .Select(f => $""{f.Key} {f.Value}"")));
        }

        public IReadOnlyDictionary<string object> Capture()
        {
            return this.stateMachine
                    .GetType()
                    .GetFields(BindingFlags.Public | BindingFlags.NonPublic | BindingFlags.Instance)
                    .Select(f => new { Name = DemangleName(f.Name) Value = f.GetValue(this.stateMachine) Type = f.FieldType })
                    .Where(f => !string.IsNullOrEmpty(f.Name) && !typeof(ICriticalNotifyCompletion).IsAssignableFrom(f.Type))
                    .ToDictionary(f => f.Name f => f.Value);
        }

        public void RestoreState<TBuilder>(TBuilder builder IReadOnlyDictionary<string object> state)
        {
            var tr = __makeref(this.stateMachine);
            foreach (var field in this.stateMachine
                    .GetType()
                    .GetFields(BindingFlags.Public | BindingFlags.NonPublic | BindingFlags.Instance)
                    .Select(f => new { Name = DemangleName(f.Name) Field = f })
                    .Where(f => !string.IsNullOrEmpty(f.Name)))
            { 
                if(state.TryGetValue(field.Name out var value) && value != null)
                {
                    field.Field.SetValueDirect(tr field.Field.FieldType.IsAssignableFrom(value.GetType()) ? value : Convert.ChangeType(value field.Field.FieldType));
                }
            }

            this.stateMachine.GetType().GetField(""<>t__builder"").SetValueDirect(tr builder);
        }

        private static string DemangleName(string name)
        {
            if(name.StartsWith(""<>""))
            {
                if(name.Contains(""__state""))
                {
                    return ""state!"";
                }
                else if(name.StartsWith(""<>u_""))
                {
                    return ""awaiter"" + name.Substring(""<>u_"".Length) + ""!"";
                }

                return null;
            }
            else if (name.StartsWith(""<""))
            {
                return name.Substring(1 name.IndexOf('>' 1) - 1) + ""_local!"";
            }

            return name;
        }
    }

    class FlowDataMethodBuilder
    {
        private readonly static JsonSerializer Serializer = JsonSerializer.Create(new JsonSerializerSettings
        {
            PreserveReferencesHandling = PreserveReferencesHandling.All
            TypeNameHandling = TypeNameHandling.All
            Formatting = Formatting.Indented
        });

        private string fileName;

        private Type stateMachineType;

        private object state;

        private StateMachineFlowData result;

        public static FlowDataMethodBuilder Create() => new FlowDataMethodBuilder();

        public FlowData Task => this.result;

        public void Start<TStateMachine>(ref TStateMachine stateMachine)
            where TStateMachine : IAsyncStateMachine
        {
            if(Flow.FlowContext == null)
            {
                throw new InvalidOperationException(""No flow context"");
            }

            this.stateMachineType = typeof(TStateMachine);
            this.fileName = this.FileName<TStateMachine>();
            this.result = new StateMachineFlowData(this.stateMachineType.FullName);

            var flow = EnsureState(ref stateMachine);

            this.RestoreState(flow);

            flow.stateMachine.MoveNext();
        }

        public void SetStateMachine(IAsyncStateMachine stateMachine)
        {
        }

        public void SetException(Exception exception)
        {
            if (this.result == null)
            {
                throw new InvalidOperationException(""Task should be active already"");
            }

            this.result.SetException(exception);
            File.Delete(this.fileName);
        }

        public void SetResult() 
        {
            if(this.result == null)
            {
                throw new InvalidOperationException(""Task should be active already"");
            }

            this.result.SetResult();
            File.Delete(this.fileName);
        }

        public void AwaitOnCompleted<TAwaiter TStateMachine>(
            ref TAwaiter awaiter ref TStateMachine stateMachine)
            where TAwaiter : INotifyCompletion
            where TStateMachine : IAsyncStateMachine => this.HandleCompleted(ref awaiter ref stateMachine false);

        public void AwaitUnsafeOnCompleted<TAwaiter TStateMachine>(
            ref TAwaiter awaiter ref TStateMachine stateMachine)
            where TAwaiter : ICriticalNotifyCompletion
            where TStateMachine : IAsyncStateMachine => this.HandleCompleted(ref awaiter ref stateMachine true);

        internal void HandleCompleted<TAwaiter TStateMachine>(ref TAwaiter awaiter ref TStateMachine stateMachine bool useCritical)
            where TAwaiter : INotifyCompletion
            where TStateMachine : IAsyncStateMachine
        {
            if (Flow.FlowContext == null)
            {
                throw new InvalidOperationException(""No flow context"");
            }

            var flow = EnsureState(ref stateMachine);

            //flow.Debug();

            if (awaiter is FlowData)
            {
                var writeState = flow.Capture();
                using (var writer = File.CreateText(this.fileName))
                {
                    Serializer.Serialize(writer writeState);
                }

                if (Flow.FlowContext == null)
                {
                    throw new InvalidOperationException(""No flow context set"");
                }

                awaiter.OnCompleted(() => flow.stateMachine.MoveNext());
            }
            else
            {
                // TODO: Disable flow context here so async methods can't call back into flow
                if (useCritical)
                {
                    ((ICriticalNotifyCompletion)awaiter).UnsafeOnCompleted(() =>
                    {
                        flow.stateMachine.MoveNext();
                    });
                }
                else
                {
                    awaiter.OnCompleted(() =>
                    {
                        flow.stateMachine.MoveNext();
                    });
                }
            }
        }

        private void RestoreState<TStateMachine>(FlowState<TStateMachine> flow)
        {
            if (File.Exists(this.fileName))
            {
                using (var reader = File.OpenRead(fileName))
                {
                    var state = Serializer.Deserialize<Dictionary<string object>>(new JsonTextReader(new StreamReader(reader)));

                    var subState = state.Where(o => o.Value is StateMachineFlowData).SingleOrDefault();
                    if(subState.Value != null)
                    {
                        var subBuilder = Create();
                        var stateMachineType = Type.GetType(((StateMachineFlowData)subState.Value).stateMachineName);
                        var method = typeof(FlowDataMethodBuilder).GetMethod(""Start"").MakeGenericMethod(stateMachineType);
                        var childStateMachine = Activator.CreateInstance(stateMachineType);
                        method.Invoke(subBuilder new[] { childStateMachine });
                        state[subState.Key] = subBuilder.Task;
                    }


                    flow.RestoreState(this state);
                }
            }
        }

        private string FileName<TStateMachine>() => string.Join('_' typeof(TStateMachine).Name.Split(Path.GetInvalidFileNameChars())) + "".json"";

        private FlowState<TStateMachine> EnsureState<TStateMachine>(ref TStateMachine stateMachine) where TStateMachine : IAsyncStateMachine
        {
            FlowState<TStateMachine> flow;
            if (this.state == null)
            {
                flow = new FlowState<TStateMachine>();
                this.state = flow;
            }
            else if (this.state is FlowState<TStateMachine> existingFlow)
            {
                flow = existingFlow;
            }
            else
            {
                throw new InvalidOperationException(""Changing statemachine is not supported"");
            }

            flow.stateMachine = stateMachine;
            return flow;
        }
    }
}
```",Area-Compilers|Feature Request,sharwell|gafter,2/10/2019 17:22,
38992,Add regex header support for configuring severity and IDE code style options with .editorconfig,"This PR builds off #35691 by fixing a few bugs mostly involving regex. It also changes which .editorconfig headers are generated for new rules based on the rule type and diagnostic file type.

The following are a few changes in the PR:

**1) Adds regex support for configuring severity level and IDE code style options from the editor** 
Previously hard-coded and the majority of regex headers were not supported when configuring severity level and/or code options from the editor. Below is an example screenshot of the existing functionality with an .editorconfig file and program titled Program.cs:
![5](https://user-images.githubusercontent.com/16968319/66009806-f63a5980-e470-11e9-8c7d-02eca4c69545.png)
![1](https://user-images.githubusercontent.com/16968319/66006617-19aad780-e464-11e9-9834-b2696942c05b.png)
And the below is the updated functionality which should work for any regex header:
![3](https://user-images.githubusercontent.com/16968319/66007080-bcb02100-e465-11e9-8d5a-239b8c0028b4.png)

**2) Deals with duplicate rules**
Previously if a user specified a rule multiple times in an .editorconfig file with valid headers then only the first rule would be changed when configuring the severity level and/or code style options from the editor. Now only the last rule is changed in accordance with how duplicate rules are actually dealt with in an .editorconfig file.

**3) Verify first header in .editorconfig file is valid**
Previously the first header in the file was always deemed to be valid no matter the name or file extension(s). The current change verifies that the first header in the .editorconfig file matches the name of the diagnostic file.

**4) Changes how new headers and existing rules are generated/configured**

_**Configuring existing rules:**_ We configure an existing rule in an .editorconfig file if its header contains the diagnostic file's extension.
For example when working with a C# file [\*] [\*.cs] [\*.{csvb}] would all be considered valid headers when configuring existing rules. Previously for C# files only [\*.cs] was recognized when configuring rules from the editor.

_**Generating new rules and headers:**_ If a rule is not present in the .editorconfig file under a valid header then we generate it while taking into consideration whether the IsPerLanguage flag is set and whether the diagnostic is a compiler diagnostic.

First we search for existing valid headers:
1) If the diagnostic's isPerLanguage = true it means the rule is valid for both C# and VB. Thus if there is a valid existing header containing both [\*.cs] and [\*.vb] then we prioritize it.
2) If isPerLanguage = false or we are dealing with a compiler diagnostic it means the rule is only valid for one of the languages. Thus we prioritize headers that contain only the file extension for the given language. 
3) If neither of the above hold true we choose the last existing valid header. 
4) If no valid existing headers we generate a new header.

When generating a new header:
1) If PerLanguage = true we generate [*.{csvb}].
2) If PerLanguage = false or we have a compiler diagnostic we generate [\*cs] or [\*.vb] depending on the header.","Add regex header support for configuring severity and IDE code style options with .editorconfig This PR builds off #35691 by fixing a few bugs mostly involving regex. It also changes which .editorconfig headers are generated for new rules based on the rule type and diagnostic file type.

The following are a few changes in the PR:

**1) Adds regex support for configuring severity level and IDE code style options from the editor** 
Previously hard-coded and the majority of regex headers were not supported when configuring severity level and/or code options from the editor. Below is an example screenshot of the existing functionality with an .editorconfig file and program titled Program.cs:
![5](https://user-images.githubusercontent.com/16968319/66009806-f63a5980-e470-11e9-8c7d-02eca4c69545.png)
![1](https://user-images.githubusercontent.com/16968319/66006617-19aad780-e464-11e9-9834-b2696942c05b.png)
And the below is the updated functionality which should work for any regex header:
![3](https://user-images.githubusercontent.com/16968319/66007080-bcb02100-e465-11e9-8d5a-239b8c0028b4.png)

**2) Deals with duplicate rules**
Previously if a user specified a rule multiple times in an .editorconfig file with valid headers then only the first rule would be changed when configuring the severity level and/or code style options from the editor. Now only the last rule is changed in accordance with how duplicate rules are actually dealt with in an .editorconfig file.

**3) Verify first header in .editorconfig file is valid**
Previously the first header in the file was always deemed to be valid no matter the name or file extension(s). The current change verifies that the first header in the .editorconfig file matches the name of the diagnostic file.

**4) Changes how new headers and existing rules are generated/configured**

_**Configuring existing rules:**_ We configure an existing rule in an .editorconfig file if its header contains the diagnostic file's extension.
For example when working with a C# file [\*] [\*.cs] [\*.{csvb}] would all be considered valid headers when configuring existing rules. Previously for C# files only [\*.cs] was recognized when configuring rules from the editor.

_**Generating new rules and headers:**_ If a rule is not present in the .editorconfig file under a valid header then we generate it while taking into consideration whether the IsPerLanguage flag is set and whether the diagnostic is a compiler diagnostic.

First we search for existing valid headers:
1) If the diagnostic's isPerLanguage = true it means the rule is valid for both C# and VB. Thus if there is a valid existing header containing both [\*.cs] and [\*.vb] then we prioritize it.
2) If isPerLanguage = false or we are dealing with a compiler diagnostic it means the rule is only valid for one of the languages. Thus we prioritize headers that contain only the file extension for the given language. 
3) If neither of the above hold true we choose the last existing valid header. 
4) If no valid existing headers we generate a new header.

When generating a new header:
1) If PerLanguage = true we generate [*.{csvb}].
2) If PerLanguage = false or we have a compiler diagnostic we generate [\*cs] or [\*.vb] depending on the header.",Area-IDE,allisonchou|jinujoseph,2/10/2019 10:27,8/10/2019 5:13
38991,Merge master to features/local-function-attributes,"
This is an automatically generated pull request from master into features/local-function-attributes.

``` bash
git fetch --all
git checkout merges/master-to-features/local-function-attributes
git reset --hard upstream/features/local-function-attributes
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-features/local-function-attributes --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge master to features/local-function-attributes 
This is an automatically generated pull request from master into features/local-function-attributes.

``` bash
git fetch --all
git checkout merges/master-to-features/local-function-attributes
git reset --hard upstream/features/local-function-attributes
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-features/local-function-attributes --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|RikkiGibson,2/10/2019 10:03,3/10/2019 9:43
38990,Merge master to master-vs-deps,"
This is an automatically generated pull request from master into master-vs-deps.

``` bash
git fetch --all
git checkout merges/master-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge master to master-vs-deps 
This is an automatically generated pull request from master into master-vs-deps.

``` bash
git fetch --all
git checkout merges/master-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|RikkiGibson,2/10/2019 10:02,3/10/2019 9:43
38989,Merge release/dev16.4-preview1-vs-deps to master-vs-deps,"
This is an automatically generated pull request from release/dev16.4-preview1-vs-deps into master-vs-deps.

``` bash
git fetch --all
git checkout merges/release/dev16.4-preview1-vs-deps-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/release/dev16.4-preview1-vs-deps
# Fix merge conflicts
git commit
git push upstream merges/release/dev16.4-preview1-vs-deps-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge release/dev16.4-preview1-vs-deps to master-vs-deps 
This is an automatically generated pull request from release/dev16.4-preview1-vs-deps into master-vs-deps.

``` bash
git fetch --all
git checkout merges/release/dev16.4-preview1-vs-deps-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/release/dev16.4-preview1-vs-deps
# Fix merge conflicts
git commit
git push upstream merges/release/dev16.4-preview1-vs-deps-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|RikkiGibson|JoeRobich,2/10/2019 10:02,3/10/2019 4:29
38988,Better array pattern index codegen,Fixes #38942,Better array pattern index codegen Fixes #38942,Area-Compilers,agocke|jcouv,2/10/2019 9:47,9/10/2019 10:07
38987,Fix regression in RemoveUnusedParametersAndValues analyzer,My previous PR #38666 to improve performance for the analyzer introduced a functional regression in SymbolUsageAnalysis which is fixed by this change.,Fix regression in RemoveUnusedParametersAndValues analyzer My previous PR #38666 to improve performance for the analyzer introduced a functional regression in SymbolUsageAnalysis which is fixed by this change.,Area-IDE,mavasani,2/10/2019 9:31,2/10/2019 18:20
38986,Wrap Properties is unavailable in recoverable syntax failure conditions,"```cs
    public class Base
    {
        public Base(int i1 int i2)
        {
        }
    }

    public class Derived : Base
    {
        public Derived(int i1 int i2 int i3) : base ()
        {

        }
    }
```

If I invoke `ctrl+.` on the parameter list of `Derived` here I do not get offered a wrap parameter quick fix. Same for an incomplete method where the brackets are missing but the signature is otherwise there. I understand that we're likely just bailing out in the presence of syntax errors but it would be nice if we could be a bit smarter here as offering the wrapping at least in this scenario is totally possible and I think has a well-defined output.","Wrap Properties is unavailable in recoverable syntax failure conditions ```cs
    public class Base
    {
        public Base(int i1 int i2)
        {
        }
    }

    public class Derived : Base
    {
        public Derived(int i1 int i2 int i3) : base ()
        {

        }
    }
```

If I invoke `ctrl+.` on the parameter list of `Derived` here I do not get offered a wrap parameter quick fix. Same for an incomplete method where the brackets are missing but the signature is otherwise there. I understand that we're likely just bailing out in the presence of syntax errors but it would be nice if we could be a bit smarter here as offering the wrapping at least in this scenario is totally possible and I think has a well-defined output.",Area-IDE|Concept-Continuous Improvement|IDE-CodeStyle|help wanted,333fred|sharwell,2/10/2019 7:50,
38985,Disable IDE dispose analyzers by default,"We are going to disable the DFA based IDE dispose analyzers (IDE0067 IDE0068 and IDE0069) by default as they need more performance tuning to handle large method bodies (method bodies which are 1000s of lines of code) with large control flow graphs.

#38984 has been filed to track turning these analyzers back on by default when the issue has been fixed.","Disable IDE dispose analyzers by default We are going to disable the DFA based IDE dispose analyzers (IDE0067 IDE0068 and IDE0069) by default as they need more performance tuning to handle large method bodies (method bodies which are 1000s of lines of code) with large control flow graphs.

#38984 has been filed to track turning these analyzers back on by default when the issue has been fixed.",Area-IDE,mavasani,2/10/2019 7:19,2/10/2019 9:09
38984,Re-enable IDE Dispose analyzers by default,"We are going to disable the DFA based IDE dispose analyzers (IDE0067 IDE0068 and IDE0069) by default as they need more performance tuning to handle large method bodies (method bodies which are 1000s of lines of code) with large control flow graphs.

Meanwhile analyzers can be enabled by using the following editorconfig entries:
```
[*.{csvb}]
dotnet_diagnostic.IDE0067.severity = warning
dotnet_diagnostic.IDE0068.severity = warning
dotnet_diagnostic.IDE0069.severity = warning
```","Re-enable IDE Dispose analyzers by default We are going to disable the DFA based IDE dispose analyzers (IDE0067 IDE0068 and IDE0069) by default as they need more performance tuning to handle large method bodies (method bodies which are 1000s of lines of code) with large control flow graphs.

Meanwhile analyzers can be enabled by using the following editorconfig entries:
```
[*.{csvb}]
dotnet_diagnostic.IDE0067.severity = warning
dotnet_diagnostic.IDE0068.severity = warning
dotnet_diagnostic.IDE0069.severity = warning
```",Area-IDE|Blocked|Bug,mavasani,,
38983,Merge master to master-vs-deps,"
This is an automatically generated pull request from master into master-vs-deps.
(created from a manual run of the PR generation tool)

``` bash
git fetch --all
git checkout merges/master-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge master to master-vs-deps 
This is an automatically generated pull request from master into master-vs-deps.
(created from a manual run of the PR generation tool)

``` bash
git fetch --all
git checkout merges/master-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|RikkiGibson,2/10/2019 6:50,2/10/2019 8:31
38981,Publish LSP document diagnostics only for relevant documents.,"fixes https://devdiv.visualstudio.com/DevDiv/_workitems/edit/991786

now that there are LSP providers per language document diagnostics should be published only for the relevant documents.","Publish LSP document diagnostics only for relevant documents. fixes https://devdiv.visualstudio.com/DevDiv/_workitems/edit/991786

now that there are LSP providers per language document diagnostics should be published only for the relevant documents.",Area-IDE,dibarbet,2/10/2019 5:50,5/10/2019 5:24
38980,Check language version on relaxed ordering of parameter modifiers,Fixes https://github.com/dotnet/roslyn/issues/38486,Check language version on relaxed ordering of parameter modifiers Fixes https://github.com/dotnet/roslyn/issues/38486,Area-Compilers,RikkiGibson,,
38979,Remove IVsENCRebuildableProjectCfg interfaces VSWorkspace dependency,"Project System removed usage of IVsENCRebuildableProjectCfg interfaces in https://devdiv.visualstudio.com/DevDiv/_git/VS/pullrequest/202232 and https://github.com/dotnet/project-system/pull/5515. Remove these interfaces from Roslyn.

Replace VisualStudioWorkspace imports with PrimaryWorkspace.","Remove IVsENCRebuildableProjectCfg interfaces, VSWorkspace dependency Project System removed usage of IVsENCRebuildableProjectCfg interfaces in https://devdiv.visualstudio.com/DevDiv/_git/VS/pullrequest/202232 and https://github.com/dotnet/project-system/pull/5515. Remove these interfaces from Roslyn.

Replace VisualStudioWorkspace imports with PrimaryWorkspace.",Area-IDE,tmat|jasonmalinowski,2/10/2019 4:00,
38982,Nullable reference type: possible generics inconsistency,"Greetings

with the new C# feature of nullable reference types there appears to be an inconsistency with generics:

```
static void Foo<T>(T State Action<T> Bar)
{
  Bar(State);
}

void Main()
{
  string? Value = null;
  Foo(Value a =>
  {
    //Here ""a"" is of type ""string"" and not ""string?""
  });
}
```

Shouldn't ""a"" be of type ""string?""?","Nullable reference type: possible generics inconsistency Greetings

with the new C# feature of nullable reference types there appears to be an inconsistency with generics:

```
static void Foo<T>(T State Action<T> Bar)
{
  Bar(State);
}

void Main()
{
  string? Value = null;
  Foo(Value a =>
  {
    //Here ""a"" is of type ""string"" and not ""string?""
  });
}
```

Shouldn't ""a"" be of type ""string?""?",Area-IDE|Bug|IDE-IntelliSense|New Language Feature - Nullable Reference Types,gafter|sharwell|333fred|jasonmalinowski|jinujoseph,2/10/2019 2:43,
38978,Programmatically (from Microsoft.CodeAnalysis.Project) check for <CodeAnalysisRuleSet>,"**Version Used**: 
3.3.1

**Steps to Reproduce**:

1. Programmatically load a project using workspace.OpenProjectAsync.
2. Inspect the available properties available on the returned project.

We are attempting to write a tool that will do validation on our project files as they go into source control to ensure they have the appropriate style-related settings in place.   This includes several checks but there is one I haven't figured out how to do.  I am attempting to locate a way to identify whether a project has a <CodeAnalysisRuleSet> specified for all defined build configurations.

Am I missing a way to do this?

**Expected Behavior**:
A property or method is available to identify this.

**Actual Behavior**:
No property or method found to retrieve this data.","Programmatically (from Microsoft.CodeAnalysis.Project) check for <CodeAnalysisRuleSet> **Version Used**: 
3.3.1

**Steps to Reproduce**:

1. Programmatically load a project using workspace.OpenProjectAsync.
2. Inspect the available properties available on the returned project.

We are attempting to write a tool that will do validation on our project files as they go into source control to ensure they have the appropriate style-related settings in place.   This includes several checks but there is one I haven't figured out how to do.  I am attempting to locate a way to identify whether a project has a <CodeAnalysisRuleSet> specified for all defined build configurations.

Am I missing a way to do this?

**Expected Behavior**:
A property or method is available to identify this.

**Actual Behavior**:
No property or method found to retrieve this data.",Area-IDE|Feature Request,jinujoseph|mavasani|jasonmalinowski,2/10/2019 1:53,
38975,Cannot apply null-conditional operator for Nullable<T> returned by null-conditional operator (CS0023),"**Version Used**: 
Visual Studio Community 2019 Version 16.2.5


**Steps to Reproduce**:

```C#
class Foo {
	public ClassType ClassMember { get; }
	public StructType StructMember { get; }
	public int PrimitiveMember { get; }
}

class ClassType {
	public int Value { get; }
}

struct StructType {
	public int Value { get; }
}

static void Main(string[] args) {
	Foo foo = null;
	int? a = foo?.ClassMember?.Value;             // ok
	int? b1 = foo?.StructMember?.Value;           // CS0023
	int? b2 = (foo?.StructMember)?.Value;         // ok
	string c = foo?.PrimitiveMember?.ToString();  // CS0023
}
```

I think there is no difference between b1 and b2 but cannot build b1.
","Cannot apply null-conditional operator for Nullable<T> returned by null-conditional operator (CS0023) **Version Used**: 
Visual Studio Community 2019 Version 16.2.5


**Steps to Reproduce**:

```C#
class Foo {
	public ClassType ClassMember { get; }
	public StructType StructMember { get; }
	public int PrimitiveMember { get; }
}

class ClassType {
	public int Value { get; }
}

struct StructType {
	public int Value { get; }
}

static void Main(string[] args) {
	Foo foo = null;
	int? a = foo?.ClassMember?.Value;             // ok
	int? b1 = foo?.StructMember?.Value;           // CS0023
	int? b2 = (foo?.StructMember)?.Value;         // ok
	string c = foo?.PrimitiveMember?.ToString();  // CS0023
}
```

I think there is no difference between b1 and b2 but cannot build b1.
",Area-Compilers|Question|Resolution-Answered,jinujoseph|gafter,1/10/2019 19:36,2/10/2019 7:31
38974,Fix NGEN failures,"Example failure: https://devdiv.visualstudio.com/DevDiv/_git/VS/pullrequest/204591?_a=overview 

These changes remove some dependencies that were added as part of [this change](https://github.com/dotnet/roslyn/commit/66a912c9463eebe832cf742d2fe8bb2e1a4600ec#diff-8b8f08ffbf7b863fb3700c1718eeb4cb)  making Microsoft.VisualStudio.LanguageServer.Protocol and Microsoft.VisualStudio.LanguageServer.Protocol.Extensions depend on the same versions that VS provides. These binaries are intended to be versioned differently and we ingest at a different cadence than VS. Once VS updated these dependencies we started to see NGEN failures with dll dependency resolution. ","Fix NGEN failures Example failure: https://devdiv.visualstudio.com/DevDiv/_git/VS/pullrequest/204591?_a=overview 

These changes remove some dependencies that were added as part of [this change](https://github.com/dotnet/roslyn/commit/66a912c9463eebe832cf742d2fe8bb2e1a4600ec#diff-8b8f08ffbf7b863fb3700c1718eeb4cb)  making Microsoft.VisualStudio.LanguageServer.Protocol and Microsoft.VisualStudio.LanguageServer.Protocol.Extensions depend on the same versions that VS provides. These binaries are intended to be versioned differently and we ingest at a different cadence than VS. Once VS updated these dependencies we started to see NGEN failures with dll dependency resolution. ",Area-Infrastructure|Urgency-Soon,ryzngard|RikkiGibson,1/10/2019 18:40,2/10/2019 6:17
38973,Add feature to upgrade existing IDE-generated `GetHashCode` methods to use `System.HashCode` if available.,"Fixes https://github.com/dotnet/roslyn/issues/38959

Looks like:

![image](https://user-images.githubusercontent.com/4564579/65937102-9f327700-e3d3-11e9-8ece-07e5ad1fee32.png)

Works for the different GetHashCode variants we produce for C# and VB as well as the Resharper style as well.

Todo: 

- [x] VB
- [x] tests.","Add feature to upgrade existing IDE-generated `GetHashCode` methods to use `System.HashCode` if available. Fixes https://github.com/dotnet/roslyn/issues/38959

Looks like:

![image](https://user-images.githubusercontent.com/4564579/65937102-9f327700-e3d3-11e9-8ece-07e5ad1fee32.png)

Works for the different GetHashCode variants we produce for C# and VB as well as the Resharper style as well.

Todo: 

- [x] VB
- [x] tests.",Area-IDE|Community,jasonmalinowski,,
38971,MSBuildWorkspace shouldn't attempt to remove properties declared in an imported file,"**Version Used**: 
16.3

**Steps to Reproduce**:

1. Use MSBuildWorkspace to load a project that uses https://github.com/onovotny/MSBuildSdkExtras

**Expected Behavior**:
Should work

**Actual Behavior**:
```
System.InvalidOperationException: Cannot modify an evaluated object originating in an imported file ""C:\Users\Administrator\.nuget\packages\msbuild.sdk.extras\1.6.68\Build\Inference.targets"".
   at Microsoft.Build.Shared.ErrorUtilities.ThrowInvalidOperation(String resourceName Object[] args)
   at Microsoft.Build.Shared.ErrorUtilities.VerifyThrowInvalidOperation(Boolean condition String resourceName Object arg0)
   at Microsoft.Build.Evaluation.Project.RemoveProperty(ProjectProperty property)
   at Microsoft.CodeAnalysis.MSBuild.ProjectFile.<GetProjectFileInfosAsync>d__16.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.CodeAnalysis.MSBuild.MSBuildProjectLoader.Worker.<DoOperationAndReportProgressAsync>d__17`1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.CodeAnalysis.MSBuild.MSBuildProjectLoader.Worker.<LoadProjectFileInfosAsync>d__19.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.CodeAnalysis.MSBuild.MSBuildProjectLoader.Worker.<LoadProjectInfosFromPathAsync>d__20.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
```

I suspect that this line is causing the issue:
https://github.com/dotnet/roslyn/blob/98ec28ef6f76a773a54a361ae939df51bcb9b92b/src/Workspaces/Core/MSBuild/MSBuild/ProjectFile/ProjectFile.cs#L78","MSBuildWorkspace shouldn't attempt to remove properties declared in an imported file **Version Used**: 
16.3

**Steps to Reproduce**:

1. Use MSBuildWorkspace to load a project that uses https://github.com/onovotny/MSBuildSdkExtras

**Expected Behavior**:
Should work

**Actual Behavior**:
```
System.InvalidOperationException: Cannot modify an evaluated object originating in an imported file ""C:\Users\Administrator\.nuget\packages\msbuild.sdk.extras\1.6.68\Build\Inference.targets"".
   at Microsoft.Build.Shared.ErrorUtilities.ThrowInvalidOperation(String resourceName Object[] args)
   at Microsoft.Build.Shared.ErrorUtilities.VerifyThrowInvalidOperation(Boolean condition String resourceName Object arg0)
   at Microsoft.Build.Evaluation.Project.RemoveProperty(ProjectProperty property)
   at Microsoft.CodeAnalysis.MSBuild.ProjectFile.<GetProjectFileInfosAsync>d__16.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.CodeAnalysis.MSBuild.MSBuildProjectLoader.Worker.<DoOperationAndReportProgressAsync>d__17`1.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.CodeAnalysis.MSBuild.MSBuildProjectLoader.Worker.<LoadProjectFileInfosAsync>d__19.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.CodeAnalysis.MSBuild.MSBuildProjectLoader.Worker.<LoadProjectInfosFromPathAsync>d__20.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
```

I suspect that this line is causing the issue:
https://github.com/dotnet/roslyn/blob/98ec28ef6f76a773a54a361ae939df51bcb9b92b/src/Workspaces/Core/MSBuild/MSBuild/ProjectFile/ProjectFile.cs#L78",Area-IDE|Bug|IDE-MSBuildWorkspace,jasonmalinowski,,
38970,Unify AnalyzerDriver.IsDiagnosticAnalyzerSuppressed with compiler's diagnostic filtering logic,See https://github.com/dotnet/roslyn/pull/38792#discussion_r329812476,Unify AnalyzerDriver.IsDiagnosticAnalyzerSuppressed with compiler's diagnostic filtering logic See https://github.com/dotnet/roslyn/pull/38792#discussion_r329812476,Area-Analyzers|Feature Request,mavasani|jinujoseph,1/10/2019 9:36,
38968,can't f5 into latest master,"When i try i get this error in the VS that has launched:

```

SetSite failed for package [CSharpPackage]Source: 'Microsoft.VisualStudio.LanguageServices' Description: Could not load file or assembly 'System.Collections.Immutable Version=1.2.4.0 Culture=neutral PublicKeyToken=b03f5f7f11d50a3a' or one of its dependencies. The located assembly's manifest definition does not match the assembly reference. (Exception from HRESULT: 0x80131040) System.IO.FileLoadException: Could not load file or assembly 'System.Collections.Immutable Version=1.2.4.0 Culture=neutral PublicKeyToken=b03f5f7f11d50a3a' or one of its dependencies. The located assembly's manifest definition does not match the assembly reference. (Exception from HRESULT: 0x80131040) File name: 'System.Collections.Immutable Version=1.2.4.0 Culture=neutral PublicKeyToken=b03f5f7f11d50a3a'   at Microsoft.VisualStudio.LanguageServices.Implementation.LanguageService.AbstractPackage`2.<InitializeAsync>d__8.MoveNext()   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start[TStateMachine](TStateMachine& stateMachine)   at Microsoft.VisualStudio.LanguageServices.Implementation.LanguageService.AbstractPackage`2.InitializeAsync(CancellationToken cancellationToken IProgress`1 progress)   at Microsoft.VisualStudio.LanguageServices.CSharp.LanguageService.CSharpPackage.<>n__0(CancellationToken cancellationToken IProgress`1 progress)   at Microsoft.VisualStudio.LanguageServices.CSharp.LanguageService.CSharpPackage.<InitializeAsync>d__2.MoveNext() --- End of stack trace from previous location where exception was thrown ---    at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)   at Microsoft.VisualStudio.Shell.AsyncPackage.<>c__DisplayClass19_0.<<Microsoft-VisualStudio-Shell-Interop-IAsyncLoadablePackageInitialize-Initialize>b__1>d.MoveNext() --- End of stack trace from previous location where exception was thrown ---   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)   at Microsoft.VisualStudio.Threading.JoinableTask.<JoinAsync>d__68.MoveNext() --- End of stack trace from previous location where exception was thrown ---    at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()   at Microsoft.VisualStudio.Services.VsTask.RethrowException(AggregateException e)   at Microsoft.VisualStudio.Services.VsTask.InternalGetResult(Boolean ignoreUIThreadCheck)   at Microsoft.VisualStudio.Services.VsTask.GetResult() WRN: Assembly binding logging is turned OFF. To enable assembly bind failure logging set the registry value [HKLM\Software\Microsoft\Fusion!EnableLog] (DWORD) to 1. Note: There is some performance penalty associated with assembly bind failure logging. To turn this feature off remove the registry value [HKLM\Software\Microsoft\Fusion!EnableLog].
--
```","can't f5 into latest master When i try i get this error in the VS that has launched:

```

SetSite failed for package [CSharpPackage]Source: 'Microsoft.VisualStudio.LanguageServices' Description: Could not load file or assembly 'System.Collections.Immutable Version=1.2.4.0 Culture=neutral PublicKeyToken=b03f5f7f11d50a3a' or one of its dependencies. The located assembly's manifest definition does not match the assembly reference. (Exception from HRESULT: 0x80131040) System.IO.FileLoadException: Could not load file or assembly 'System.Collections.Immutable Version=1.2.4.0 Culture=neutral PublicKeyToken=b03f5f7f11d50a3a' or one of its dependencies. The located assembly's manifest definition does not match the assembly reference. (Exception from HRESULT: 0x80131040) File name: 'System.Collections.Immutable Version=1.2.4.0 Culture=neutral PublicKeyToken=b03f5f7f11d50a3a'   at Microsoft.VisualStudio.LanguageServices.Implementation.LanguageService.AbstractPackage`2.<InitializeAsync>d__8.MoveNext()   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start[TStateMachine](TStateMachine& stateMachine)   at Microsoft.VisualStudio.LanguageServices.Implementation.LanguageService.AbstractPackage`2.InitializeAsync(CancellationToken cancellationToken IProgress`1 progress)   at Microsoft.VisualStudio.LanguageServices.CSharp.LanguageService.CSharpPackage.<>n__0(CancellationToken cancellationToken IProgress`1 progress)   at Microsoft.VisualStudio.LanguageServices.CSharp.LanguageService.CSharpPackage.<InitializeAsync>d__2.MoveNext() --- End of stack trace from previous location where exception was thrown ---    at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)   at Microsoft.VisualStudio.Shell.AsyncPackage.<>c__DisplayClass19_0.<<Microsoft-VisualStudio-Shell-Interop-IAsyncLoadablePackageInitialize-Initialize>b__1>d.MoveNext() --- End of stack trace from previous location where exception was thrown ---   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)   at Microsoft.VisualStudio.Threading.JoinableTask.<JoinAsync>d__68.MoveNext() --- End of stack trace from previous location where exception was thrown ---    at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()   at Microsoft.VisualStudio.Services.VsTask.RethrowException(AggregateException e)   at Microsoft.VisualStudio.Services.VsTask.InternalGetResult(Boolean ignoreUIThreadCheck)   at Microsoft.VisualStudio.Services.VsTask.GetResult() WRN: Assembly binding logging is turned OFF. To enable assembly bind failure logging set the registry value [HKLM\Software\Microsoft\Fusion!EnableLog] (DWORD) to 1. Note: There is some performance penalty associated with assembly bind failure logging. To turn this feature off remove the registry value [HKLM\Software\Microsoft\Fusion!EnableLog].
--
```",Area-Infrastructure|Contributor Pain,RikkiGibson,,
38967,Fix language check for netcoreapp3.1,"Now checks if the version is < netcoreapp3.0 or netstandard2.1 instead of checking
if they're not equal.","Fix language check for netcoreapp3.1 Now checks if the version is < netcoreapp3.0 or netstandard2.1 instead of checking
if they're not equal.",Area-Compilers,agocke|nguerrera|rainersigwald,1/10/2019 8:29,2/10/2019 5:57
38966,C# 8 by default for netcoreapp3.1,It currently defaults to C# 7.3.,C# 8 by default for netcoreapp3.1 It currently defaults to C# 7.3.,Area-Compilers,jinujoseph|agocke,1/10/2019 7:51,2/10/2019 5:57
38964,Merge master to features/local-function-attributes,"
This is an automatically generated pull request from master into features/local-function-attributes.
(created from a manual run of the PR generation tool)

``` bash
git fetch --all
git checkout merges/master-to-features/local-function-attributes
git reset --hard upstream/features/local-function-attributes
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-features/local-function-attributes --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge master to features/local-function-attributes 
This is an automatically generated pull request from master into features/local-function-attributes.
(created from a manual run of the PR generation tool)

``` bash
git fetch --all
git checkout merges/master-to-features/local-function-attributes
git reset --hard upstream/features/local-function-attributes
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-features/local-function-attributes --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|CyrusNajmabadi|RikkiGibson,1/10/2019 7:06,2/10/2019 7:29
38963,Merge master to master-vs-deps,"
This is an automatically generated pull request from master into master-vs-deps.
(created from a manual run of the PR generation tool)

``` bash
git fetch --all
git checkout merges/master-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge master to master-vs-deps 
This is an automatically generated pull request from master into master-vs-deps.
(created from a manual run of the PR generation tool)

``` bash
git fetch --all
git checkout merges/master-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|JoeRobich,1/10/2019 7:06,2/10/2019 5:24
38962,Merge release/dev16.4-preview1-vs-deps to master-vs-deps,"
This is an automatically generated pull request from release/dev16.4-preview1-vs-deps into master-vs-deps.
(created from a manual run of the PR generation tool)

``` bash
git fetch --all
git checkout merges/release/dev16.4-preview1-vs-deps-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/release/dev16.4-preview1-vs-deps
# Fix merge conflicts
git commit
git push upstream merges/release/dev16.4-preview1-vs-deps-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge release/dev16.4-preview1-vs-deps to master-vs-deps 
This is an automatically generated pull request from release/dev16.4-preview1-vs-deps into master-vs-deps.
(created from a manual run of the PR generation tool)

``` bash
git fetch --all
git checkout merges/release/dev16.4-preview1-vs-deps-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/release/dev16.4-preview1-vs-deps
# Fix merge conflicts
git commit
git push upstream merges/release/dev16.4-preview1-vs-deps-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|RikkiGibson|JoeRobich,1/10/2019 7:05,2/10/2019 6:55
38961,IAsyncEnumerable iterator method generates InvalidProgramException at runtime,"**Version Used**: Core 3.0.100

**Steps to Reproduce**:

1) Call this function:


        object _splitsLock = new object();
        public async IAsyncEnumerable<SplitBatch> GetSplits(IEnumerable<string> ids
            DateTime from DateTime to [EnumeratorCancellation] CancellationToken ct)
        {
            if (to == from)
                yield break;
            try
            {
            }
            finally
            {
                lock (_splitsLock)
                    Console.WriteLine("""");
            }
        }


**Expected Behavior**: No InvalidProgramException

**Actual Behavior**: InvalidProgramException

I stripped it of most code while still triggering the error. The lock in the finally block is needed to trigger the exception. Function is called from a grpc streaming server call in asp.net core.","IAsyncEnumerable iterator method generates InvalidProgramException at runtime **Version Used**: Core 3.0.100

**Steps to Reproduce**:

1) Call this function:


        object _splitsLock = new object();
        public async IAsyncEnumerable<SplitBatch> GetSplits(IEnumerable<string> ids
            DateTime from DateTime to [EnumeratorCancellation] CancellationToken ct)
        {
            if (to == from)
                yield break;
            try
            {
            }
            finally
            {
                lock (_splitsLock)
                    Console.WriteLine("""");
            }
        }


**Expected Behavior**: No InvalidProgramException

**Actual Behavior**: InvalidProgramException

I stripped it of most code while still triggering the error. The lock in the finally block is needed to trigger the exception. Function is called from a grpc streaming server call in asp.net core.",4 - In Review|Area-Compilers|Bug,jcouv,,
38960,Allow conversion of GetAwaiter extension method this arg,Fixes #30956,Allow conversion of GetAwaiter extension method this arg Fixes #30956,Area-Compilers,jcouv,,
38959,IDE should detect previously generated 'GetHashCode' and offer to upgrade it to use System.HashCode if available.,,IDE should detect previously generated 'GetHashCode' and offer to upgrade it to use System.HashCode if available. ,4 - In Review|Area-IDE|Feature Request,CyrusNajmabadi,,
38958,AnalyzerDriver is needs refactoring,There are now many fields/properties that are confusing including a mix of ConcurrentDictionary and Dictionary with no clear annotation on what the threading model of the type is.,AnalyzerDriver is needs refactoring There are now many fields/properties that are confusing including a mix of ConcurrentDictionary and Dictionary with no clear annotation on what the threading model of the type is.,Area-Analyzers|Area-Compilers|Concept-Design Debt,agocke|gafter,1/10/2019 5:33,
38957,Null assignable to non-null type via tuple default value,"**Version Used**: 
![image](https://user-images.githubusercontent.com/41759/65908449-52bb4d00-e37b-11e9-9bd8-eefa999d862e.png)

**Steps to Reproduce**:

```C#
using System;

#nullable enable

class C
{
    private readonly int X = 1;

    static (C C bool B) F()
    {
        return default;
    }

    static void Main()
    {
        var (c _) = F();
        Console.WriteLine(c.X);
    }
}
```

**Expected Behavior**:

Warning on `return default`.

**Actual Behavior**:

No warning.

The warning is reported if we return `(default default)` or `(null false)`.","Null assignable to non-null type via tuple default value **Version Used**: 
![image](https://user-images.githubusercontent.com/41759/65908449-52bb4d00-e37b-11e9-9bd8-eefa999d862e.png)

**Steps to Reproduce**:

```C#
using System;

#nullable enable

class C
{
    private readonly int X = 1;

    static (C C bool B) F()
    {
        return default;
    }

    static void Main()
    {
        var (c _) = F();
        Console.WriteLine(c.X);
    }
}
```

**Expected Behavior**:

Warning on `return default`.

**Actual Behavior**:

No warning.

The warning is reported if we return `(default default)` or `(null false)`.",Area-Compilers|Bug|Language-C#|New Language Feature - Nullable Reference Types,tmat|gafter,1/10/2019 5:11,
38956,Compile without switch optimizations,"# Issue Title

Is possible to specify some flags in the compiler for disable some optimizations? 

# General

As i know when a switch have a lot of entries is added a method `ComputeStringHash` is possible to prevent this optimizations?","Compile without switch optimizations # Issue Title

Is possible to specify some flags in the compiler for disable some optimizations? 

# General

As i know when a switch have a lot of entries is added a method `ComputeStringHash` is possible to prevent this optimizations?",Area-Compilers|Question|Resolution-Answered,gafter,1/10/2019 4:40,1/10/2019 6:41
38955,Skip flaky tests,"Skips all tests that have been mentioned as flaky in #29483 (some were already being skipped)

There is a PR out that is supposed to actually fix the tests but it has been out for several months and still not merged so I would like to just address this now as it is costing hours in code flow to have these tests fail intermittently.

/cc @jaredpar","Skip flaky tests Skips all tests that have been mentioned as flaky in #29483 (some were already being skipped)

There is a PR out that is supposed to actually fix the tests but it has been out for several months and still not merged so I would like to just address this now as it is costing hours in code flow to have these tests fail intermittently.

/cc @jaredpar",Area-Infrastructure|Flaky|Test,RikkiGibson|jaredpar,1/10/2019 4:19,1/10/2019 7:35
38954,Include source files w/o method bodies in the PDB documents,"Currently the compiler does not list source files in the debug documents in the PDB that are part of the compilation but do not have any method body. These documents are only added in order to support sequence points.

There are other scenarios than stepping that would benefit from all source files being captured in the PDB. For example [Go To Definition](https://github.com/dotnet/roslyn/issues/24349) or validating that the assembly was built from specific source file content for auditing or [EnC](https://github.com/dotnet/roslyn/pull/38905). 

UPDATE:
Debugging of UWP and Blazor projects is currently broken because EnC is not able to determine the checksum of source files that are missing.

","Include source files w/o method bodies in the PDB documents Currently the compiler does not list source files in the debug documents in the PDB that are part of the compilation but do not have any method body. These documents are only added in order to support sequence points.

There are other scenarios than stepping that would benefit from all source files being captured in the PDB. For example [Go To Definition](https://github.com/dotnet/roslyn/issues/24349) or validating that the assembly was built from specific source file content for auditing or [EnC](https://github.com/dotnet/roslyn/pull/38905). 

UPDATE:
Debugging of UWP and Blazor projects is currently broken because EnC is not able to determine the checksum of source files that are missing.

",Area-Compilers|Feature Request|Interactive-Debugging,ivanbasov,,
38953,IDE0008 (Use explicit type) Fix All operation is too broad,"**Version Used**: Visual Studio 16.4 Preview 1

**Steps to Reproduce**:

```
csharp_style_var_elsewhere = false:silent
csharp_style_var_for_built_in_types = false:warning
csharp_style_var_when_type_is_apparent = false:silent
```

```csharp
class ClassName
{
  void Method()
  {
    var x = new object();
    var y = 0;
  }
}
```

Apply Fix All in Solution for the warning reported on `var y`.

**Expected Behavior**:

```csharp
class ClassName
{
  void Method()
  {
    var x = new object();
    int y = 0;
  }
}
```

**Actual Behavior**:

```csharp
class ClassName
{
  void Method()
  {
    object x = new object();
    int y = 0;
  }
}
```
","IDE0008 (Use explicit type) Fix All operation is too broad **Version Used**: Visual Studio 16.4 Preview 1

**Steps to Reproduce**:

```
csharp_style_var_elsewhere = false:silent
csharp_style_var_for_built_in_types = false:warning
csharp_style_var_when_type_is_apparent = false:silent
```

```csharp
class ClassName
{
  void Method()
  {
    var x = new object();
    var y = 0;
  }
}
```

Apply Fix All in Solution for the warning reported on `var y`.

**Expected Behavior**:

```csharp
class ClassName
{
  void Method()
  {
    var x = new object();
    int y = 0;
  }
}
```

**Actual Behavior**:

```csharp
class ClassName
{
  void Method()
  {
    object x = new object();
    int y = 0;
  }
}
```
",Area-IDE|Concept-Continuous Improvement|IDE-CodeStyle|help wanted,sharwell|jasonmalinowski|jinujoseph,1/10/2019 1:38,
38952,Spelling fixes,,Spelling fixes ,Community,nnpcYvIVl|genlu,30/09/2019 23:30,1/10/2019 4:20
38951,Spelling fixes,,Spelling fixes ,Area-IDE|Community,genlu,,
38950,There's no way to get a display string for a NamedType with access modifiers,"**Version Used**: 

Microsoft.CodeAnalysis.CSharp (2.10.0)
Microsoft.CodeAnalysis.VisualBasic (2.10.0)

**Steps to Reproduce**:

Create a class:

```csharp
public class GenericType<U V>
    where U : struct
    where V : class System.IDisposable
{
    public System.Collections.Generic.IEnumerable<U> Method(V v) => null;
}
```

Declare a display format like this:

```csharp
private static SymbolDisplayFormat DeclarationDisplayFormat =
    new SymbolDisplayFormat(
            globalNamespaceStyle: SymbolDisplayGlobalNamespaceStyle.Omitted
            typeQualificationStyle: SymbolDisplayTypeQualificationStyle.NameOnly
            genericsOptions:
                SymbolDisplayGenericsOptions.IncludeTypeParameters|
                SymbolDisplayGenericsOptions.IncludeTypeConstraints |
                SymbolDisplayGenericsOptions.IncludeVariance
            memberOptions:
                SymbolDisplayMemberOptions.IncludeParameters |
                SymbolDisplayMemberOptions.IncludeType |
                SymbolDisplayMemberOptions.IncludeRef |
                SymbolDisplayMemberOptions.IncludeModifiers |
                SymbolDisplayMemberOptions.IncludeAccessibility |
                SymbolDisplayMemberOptions.IncludeExplicitInterface |
                SymbolDisplayMemberOptions.None
            extensionMethodStyle:
                SymbolDisplayExtensionMethodStyle.Default
            parameterOptions:
                SymbolDisplayParameterOptions.IncludeName |
                SymbolDisplayParameterOptions.IncludeType |
                SymbolDisplayParameterOptions.IncludeParamsRefOut |
                SymbolDisplayParameterOptions.IncludeDefaultValue |
                SymbolDisplayParameterOptions.IncludeExtensionThis |
                SymbolDisplayParameterOptions.None
            propertyStyle:
                SymbolDisplayPropertyStyle.ShowReadWriteDescriptor
            localOptions:
                SymbolDisplayLocalOptions.IncludeType |
                SymbolDisplayLocalOptions.IncludeRef |
                SymbolDisplayLocalOptions.None
            kindOptions:
                SymbolDisplayKindOptions.IncludeMemberKeyword |
                SymbolDisplayKindOptions.IncludeTypeKeyword
            miscellaneousOptions:
                SymbolDisplayMiscellaneousOptions.EscapeKeywordIdentifiers |
                SymbolDisplayMiscellaneousOptions.UseSpecialTypes);
```

Call `symbol.ToDisplayString(DeclarationDisplayFormat)` on the symbol for the class.

**Expected Behavior**:

`public class GenericType<U V> where U : struct where V : class`

**Actual Behavior**:

`class GenericType<U V> where U : struct where V : class`
","There's no way to get a display string for a NamedType with access modifiers **Version Used**: 

Microsoft.CodeAnalysis.CSharp (2.10.0)
Microsoft.CodeAnalysis.VisualBasic (2.10.0)

**Steps to Reproduce**:

Create a class:

```csharp
public class GenericType<U V>
    where U : struct
    where V : class System.IDisposable
{
    public System.Collections.Generic.IEnumerable<U> Method(V v) => null;
}
```

Declare a display format like this:

```csharp
private static SymbolDisplayFormat DeclarationDisplayFormat =
    new SymbolDisplayFormat(
            globalNamespaceStyle: SymbolDisplayGlobalNamespaceStyle.Omitted
            typeQualificationStyle: SymbolDisplayTypeQualificationStyle.NameOnly
            genericsOptions:
                SymbolDisplayGenericsOptions.IncludeTypeParameters|
                SymbolDisplayGenericsOptions.IncludeTypeConstraints |
                SymbolDisplayGenericsOptions.IncludeVariance
            memberOptions:
                SymbolDisplayMemberOptions.IncludeParameters |
                SymbolDisplayMemberOptions.IncludeType |
                SymbolDisplayMemberOptions.IncludeRef |
                SymbolDisplayMemberOptions.IncludeModifiers |
                SymbolDisplayMemberOptions.IncludeAccessibility |
                SymbolDisplayMemberOptions.IncludeExplicitInterface |
                SymbolDisplayMemberOptions.None
            extensionMethodStyle:
                SymbolDisplayExtensionMethodStyle.Default
            parameterOptions:
                SymbolDisplayParameterOptions.IncludeName |
                SymbolDisplayParameterOptions.IncludeType |
                SymbolDisplayParameterOptions.IncludeParamsRefOut |
                SymbolDisplayParameterOptions.IncludeDefaultValue |
                SymbolDisplayParameterOptions.IncludeExtensionThis |
                SymbolDisplayParameterOptions.None
            propertyStyle:
                SymbolDisplayPropertyStyle.ShowReadWriteDescriptor
            localOptions:
                SymbolDisplayLocalOptions.IncludeType |
                SymbolDisplayLocalOptions.IncludeRef |
                SymbolDisplayLocalOptions.None
            kindOptions:
                SymbolDisplayKindOptions.IncludeMemberKeyword |
                SymbolDisplayKindOptions.IncludeTypeKeyword
            miscellaneousOptions:
                SymbolDisplayMiscellaneousOptions.EscapeKeywordIdentifiers |
                SymbolDisplayMiscellaneousOptions.UseSpecialTypes);
```

Call `symbol.ToDisplayString(DeclarationDisplayFormat)` on the symbol for the class.

**Expected Behavior**:

`public class GenericType<U V> where U : struct where V : class`

**Actual Behavior**:

`class GenericType<U V> where U : struct where V : class`
",Area-Compilers,jinujoseph,30/09/2019 19:18,2/10/2019 4:10
38949,False-positive wrong null-coalescing-operator ( ?? operator ) programmer-code-error.,"**Version Used**: 
Microsoft Visual Studio 2019 Preview Version 16.4.0 Preview 1.0
dotnetcore 3.0.100
Windows 10 Pro
**Steps to Reproduce**:

1. Create *.cs file in VS and paste this code:
```
using Microsoft.CodeAnalysis;
using Microsoft.CodeAnalysis.CSharp;

namespace SomeNamespace
{
    internal class SomeClass
    {
        private static string ArrangeUsingRoslyn__SameLogic(string csCode)
        {
            var tree = CSharpSyntaxTree.ParseText(csCode);

            if (tree == null || tree.TryGetRoot(out SyntaxNode root) == false)
            {
                return csCode;
            }

            return root.ToFullString();
        }

        private static string ArrangeUsingRoslyn__SameLogic2(string csCode)
        {
            var tree = CSharpSyntaxTree.ParseText(csCode);

            if ((tree?.TryGetRoot(out SyntaxNode root) ?? false) == false)
            {
                return csCode;
            }

            return root.ToFullString();
        }
    }
}
```
3. ArrangeUsingRoslyn__SameLogic(...) and ArrangeUsingRoslyn__SameLogic2(...) contains the same logic.

**Expected Behavior**:

No errors detected in code.

**Actual Behavior**:
![image](https://user-images.githubusercontent.com/6695244/65862640-5b118900-e377-11e9-8920-92ec2ec00ed0.png)
Error in code:
> 'root' is not null here.
> Use of unassigned local variable 'root'

Wrong null-coalescing-operator ( ?? operator ) parsing.","False-positive, wrong null-coalescing-operator ( ?? operator ) programmer-code-error. **Version Used**: 
Microsoft Visual Studio 2019 Preview Version 16.4.0 Preview 1.0
dotnetcore 3.0.100
Windows 10 Pro
**Steps to Reproduce**:

1. Create *.cs file in VS and paste this code:
```
using Microsoft.CodeAnalysis;
using Microsoft.CodeAnalysis.CSharp;

namespace SomeNamespace
{
    internal class SomeClass
    {
        private static string ArrangeUsingRoslyn__SameLogic(string csCode)
        {
            var tree = CSharpSyntaxTree.ParseText(csCode);

            if (tree == null || tree.TryGetRoot(out SyntaxNode root) == false)
            {
                return csCode;
            }

            return root.ToFullString();
        }

        private static string ArrangeUsingRoslyn__SameLogic2(string csCode)
        {
            var tree = CSharpSyntaxTree.ParseText(csCode);

            if ((tree?.TryGetRoot(out SyntaxNode root) ?? false) == false)
            {
                return csCode;
            }

            return root.ToFullString();
        }
    }
}
```
3. ArrangeUsingRoslyn__SameLogic(...) and ArrangeUsingRoslyn__SameLogic2(...) contains the same logic.

**Expected Behavior**:

No errors detected in code.

**Actual Behavior**:
![image](https://user-images.githubusercontent.com/6695244/65862640-5b118900-e377-11e9-8920-92ec2ec00ed0.png)
Error in code:
> 'root' is not null here.
> Use of unassigned local variable 'root'

Wrong null-coalescing-operator ( ?? operator ) parsing.",Area-Compilers|Question|Resolution-Answered,jinujoseph|gafter,30/09/2019 18:46,
38948,Fix typos,,Fix typos ,Area-Compilers,jcouv,,
38947,Erroneous error!  IDE1007 The name 'var' does not exist in the current context,"Using VS 2019:  16.4.0 Preview 1.0

Consider this code:
```
using System;

namespace ConsoleApp3
{
    class Program
    {
        static void Main(string[] args)
        {
            Action a = () =>
            {
                var (x y) = (4 5);
#warning Hi
            };
        }
    }
}
```

It's fine.  But the error window shows: `IDE1007 The name 'var' does not exist in the current context` and a red squiggly appears under the word 'var'.

It compiles without any errors though.

Any of the following will remove the IDE1007 error:
- Don't deconstruct the tuple.  `var x = (4 5)`
- Move the offending code into void Main() instead of in a lambda.
- Remove the #warning (The problem only exists if there are any warnings in the lambda's scope whether naturally or by creating one with #warning)
","Erroneous error!  IDE1007 The name 'var' does not exist in the current context Using VS 2019:  16.4.0 Preview 1.0

Consider this code:
```
using System;

namespace ConsoleApp3
{
    class Program
    {
        static void Main(string[] args)
        {
            Action a = () =>
            {
                var (x y) = (4 5);
#warning Hi
            };
        }
    }
}
```

It's fine.  But the error window shows: `IDE1007 The name 'var' does not exist in the current context` and a red squiggly appears under the word 'var'.

It compiles without any errors though.

Any of the following will remove the IDE1007 error:
- Don't deconstruct the tuple.  `var x = (4 5)`
- Move the offending code into void Main() instead of in a lambda.
- Remove the #warning (The problem only exists if there are any warnings in the lambda's scope whether naturally or by creating one with #warning)
",Area-IDE|Bug|help wanted,jinujoseph|sharwell,30/09/2019 3:50,
38945,[WIP] Use camelCase for variables and method arguments,,[WIP] Use camelCase for variables and method arguments ,Area-Compilers,jcouv,29/09/2019 22:58,
38944,Erroneous suggestion IDE0067 for disposable object used in 'await using (...) { }',"**Version Used**:
Version 16.4.0 Preview 1.0
VisualStudio.16.Preview/16.4.0-pre.1.0+29319.158

**Steps to Reproduce**:
Paste the following code into a project:
```cs
using System;
using System.IO;
using System.Threading.Tasks;

static class DisposingAnalysis
{
    static void ImplicitSync(ReadOnlySpan<byte> bytes)
    {
        //No suggestions expected
        using var stream = new MemoryStream();
        stream.Write(bytes);
    }

    static async Task ImplicitAsync(ReadOnlyMemory<byte> bytes)
    {
        //No suggestions expected
        await using var stream = new MemoryStream();
        await stream.WriteAsync(bytes);
    }

    static void ExplicitSync(ReadOnlySpan<byte> bytes)
    {
        //IDE0063: 'using' statement can be simplified expected
        using (var stream = new MemoryStream())
        {
            stream.Write(bytes);
        }
    }

    static async Task ExplicitAsync(ReadOnlyMemory<byte> bytes)
    {
        //IDE0063 *AND* IDE0067: Disposable object created by 'new MemoryStream()' is never disposed
        await using (var stream = new MemoryStream())
        {
            await stream.WriteAsync(bytes);
        }
    }
}
```

**Expected Behavior**:
Only IDE0063 is reported for both of the explicit syntax methods to point out the new Implictly Scoped `using` Statement syntax.

**Actual Behavior**:
The combination of the older explicitly-scoped syntax and async disposable makes the compiler/IDE think the object will not get disposed and reports IDE0067 in addition to the expected behavior.","Erroneous suggestion IDE0067 for disposable object used in 'await using (...) { }' **Version Used**:
Version 16.4.0 Preview 1.0
VisualStudio.16.Preview/16.4.0-pre.1.0+29319.158

**Steps to Reproduce**:
Paste the following code into a project:
```cs
using System;
using System.IO;
using System.Threading.Tasks;

static class DisposingAnalysis
{
    static void ImplicitSync(ReadOnlySpan<byte> bytes)
    {
        //No suggestions expected
        using var stream = new MemoryStream();
        stream.Write(bytes);
    }

    static async Task ImplicitAsync(ReadOnlyMemory<byte> bytes)
    {
        //No suggestions expected
        await using var stream = new MemoryStream();
        await stream.WriteAsync(bytes);
    }

    static void ExplicitSync(ReadOnlySpan<byte> bytes)
    {
        //IDE0063: 'using' statement can be simplified expected
        using (var stream = new MemoryStream())
        {
            stream.Write(bytes);
        }
    }

    static async Task ExplicitAsync(ReadOnlyMemory<byte> bytes)
    {
        //IDE0063 *AND* IDE0067: Disposable object created by 'new MemoryStream()' is never disposed
        await using (var stream = new MemoryStream())
        {
            await stream.WriteAsync(bytes);
        }
    }
}
```

**Expected Behavior**:
Only IDE0063 is reported for both of the explicit syntax methods to point out the new Implictly Scoped `using` Statement syntax.

**Actual Behavior**:
The combination of the older explicitly-scoped syntax and async disposable makes the compiler/IDE think the object will not get disposed and reports IDE0067 in addition to the expected behavior.",Area-IDE|Bug,mavasani,,
38942,System.Index indexing for arrays does not use pattern-based Index,https://sharplab.io/#v2:EYLgtghgzgLgpgJwDQxASwDYB8ACAmARgFgAoHABgAIcCAWAblNJwGZq9KBhS0gb1MqDqBAGyU0AOxiUAsgApJMANoBdShAQIAlEMEBeAHzrNSgHoEV9SgHprlAO4ALAJ4B+AUI+CaYgMaONWTkaKlhtIUNKMLMLRhJdL2ExRSCAZQAHCAkAHkUjKHSJHUiCiRjLRIT4oR9xKSCAGTRYXKkjDFhi9thyuIBfIA==,System.Index indexing for arrays does not use pattern-based Index https://sharplab.io/#v2:EYLgtghgzgLgpgJwDQxASwDYB8ACAmARgFgAoHABgAIcCAWAblNJwGZq9KBhS0gb1MqDqBAGyU0AOxiUAsgApJMANoBdShAQIAlEMEBeAHzrNSgHoEV9SgHprlAO4ALAJ4B+AUI+CaYgMaONWTkaKlhtIUNKMLMLRhJdL2ExRSCAZQAHCAkAHkUjKHSJHUiCiRjLRIT4oR9xKSCAGTRYXKkjDFhi9thyuIBfIA==,Area-Compilers,agocke,,
38941,C# compiler should treat return value of SingleOrDefault as nullable for enumerables with reference types,"**Version Used**: .NET Core SDK 3.0.100

**Steps to Reproduce**:

```csharp
#nullable enable

public class DemoClass
{
    public object DemoMethod() => new object[0].SingleOrDefault();
}
```

**Expected Behavior**:

C# compiler detects the return value of SingleOrDefault as nullable and therefore emits warning CS8603.

**Actual Behavior**:

No warning is emitted.","C# compiler should treat return value of SingleOrDefault as nullable for enumerables with reference types **Version Used**: .NET Core SDK 3.0.100

**Steps to Reproduce**:

```csharp
#nullable enable

public class DemoClass
{
    public object DemoMethod() => new object[0].SingleOrDefault();
}
```

**Expected Behavior**:

C# compiler detects the return value of SingleOrDefault as nullable and therefore emits warning CS8603.

**Actual Behavior**:

No warning is emitted.",Area-Compilers|Bug|New Language Feature - Nullable Reference Types,gafter,29/09/2019 2:37,
39032,System.InvalidOperationException: 'The project already references the target project.' and `Loading Intellsense` never finished in VS16.4Preview1/16.3.1,"**Version Used**: 
VS16.4Preview1

<del>Not sure but I remember that doesn't happen with latest preview version of VS16.3. It not happen with `Preview Features`/`Allow partial loading of projects during solution open` disabled.</del>
It's strange that I can also see the same thing happen on VS16.3.1 today or with `partial loading` disabled today. Just step 4 and 5 or 4.B is needed.

Not sure it's an issue of roslyn or VS.

**Steps to Reproduce**:

1. Enable `Preview Features`/`Allow partial loading of projects during solution open` in VS16.4Preview1 and restart.
2. Open the attached solutions(All cs files are removed. I tried to rename the projects and folders but failed)
[Solution.zip](https://github.com/dotnet/roslyn/files/3665454/Solution.zip)

3. Wait and see whether the task `Loading Intellsense` can finish or not.(sometimes it even failed at the first time)

4. If it finished click `File/Close Solutions` and reopen the solution again.
5. Wait and see the task `Loading Intellsense` never finish.

4.B Maybe you can also see the same thing when you edit `Server.Core.csproj` online(inside VS with the whole solution open) just needed to change the `TargetFrameworks` from `net472;netcoreapp3.0` to `net472;netcoreapp2.1` or revert.


**Expected Behavior**:
Intellsense should always end.

**Actual Behavior**:
![image](https://user-images.githubusercontent.com/1819074/65815472-7a4ad200-e222-11e9-92ec-55db1f6c7535.png)
![image](https://user-images.githubusercontent.com/1819074/65815851-0eb73380-e227-11e9-9558-8642a83bdb9f.png)


It just never finished but no CPU is used.

And attach an debugger on VS only show an strange exception throw by roslyn on the 3 projects unable to load.
```cs
System.InvalidOperationException: 'The project already references the target project.'
   at Microsoft.CodeAnalysis.SolutionState.CheckNotContainsProjectReference(ProjectId projectId ProjectReference referencedProject)
   at Microsoft.CodeAnalysis.SolutionState.AddProjectReferences(ProjectId projectId IEnumerable`1 projectReferences)
   at Microsoft.CodeAnalysis.Solution.AddProjectReferences(ProjectId projectId IEnumerable`1 projectReferences)
   at Microsoft.VisualStudio.LanguageServices.Implementation.ProjectSystem.VisualStudioProject.<>c__DisplayClass75_0.<OnBatchScopeDisposed>b__0(Solution solution)
   at Microsoft.VisualStudio.LanguageServices.Implementation.ProjectSystem.VisualStudioWorkspaceImpl.ApplyBatchChangeToWorkspace(Func`2 mutation)
   at Microsoft.VisualStudio.LanguageServices.Implementation.ProjectSystem.VisualStudioProject.OnBatchScopeDisposed()
   at Microsoft.VisualStudio.LanguageServices.Implementation.ProjectSystem.VisualStudioProject.BatchScope.Dispose()
   at Microsoft.VisualStudio.LanguageServices.Implementation.ProjectSystem.CPS.CPSProject.EndBatch()
   at Microsoft.VisualStudio.ProjectSystem.LanguageServices.WorkspaceProjectContextHost.WorkspaceProjectContextHostInstance.<ApplyProjectChangesUnderLockAsync>d__19.MoveNext()
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start[TStateMachine](TStateMachine& stateMachine)
   at Microsoft.VisualStudio.ProjectSystem.LanguageServices.WorkspaceProjectContextHost.WorkspaceProjectContextHostInstance.ApplyProjectChangesUnderLockAsync(IProjectVersionedValue`1 update Boolean evaluation CancellationToken cancellationToken)
   at Microsoft.VisualStudio.ProjectSystem.LanguageServices.WorkspaceProjectContextHost.WorkspaceProjectContextHostInstance.<>c__DisplayClass18_0.<OnProjectChangedAsync>b__0(CancellationToken ct)
   at Microsoft.VisualStudio.ProjectSystem.OnceInitializedOnceDisposedUnderLockAsync.<>c__DisplayClass7_0.<ExecuteUnderLockCoreAsync>b__0()
   at Microsoft.VisualStudio.Threading.ReentrantSemaphore.StackSemaphore.<>c__DisplayClass3_0.<<ExecuteAsync>b__0>d.MoveNext()
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start[TStateMachine](TStateMachine& stateMachine)
   at Microsoft.VisualStudio.Threading.ReentrantSemaphore.StackSemaphore.<>c__DisplayClass3_0.<ExecuteAsync>b__0()
   at Microsoft.VisualStudio.Threading.JoinableTaskFactory.ExecuteJob[T](Func`1 asyncMethod JoinableTask job)
   at Microsoft.VisualStudio.Threading.ReentrantSemaphore.ExecuteCoreAsync(Func`1 semaphoreUser)
   at Microsoft.VisualStudio.Threading.ReentrantSemaphore.StackSemaphore.<ExecuteAsync>d__3.MoveNext()
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start[TStateMachine](TStateMachine& stateMachine)
   at Microsoft.VisualStudio.Threading.ReentrantSemaphore.StackSemaphore.ExecuteAsync(Func`1 operation CancellationToken cancellationToken)
   at Microsoft.VisualStudio.ProjectSystem.OnceInitializedOnceDisposedUnderLockAsync.<ExecuteUnderLockCoreAsync>d__7.MoveNext()
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start[TStateMachine](TStateMachine& stateMachine)
   at Microsoft.VisualStudio.ProjectSystem.OnceInitializedOnceDisposedUnderLockAsync.ExecuteUnderLockCoreAsync(Func`2 action CancellationToken cancellationToken)
   at Microsoft.VisualStudio.ProjectSystem.LanguageServices.WorkspaceProjectContextHost.WorkspaceProjectContextHostInstance.OnProjectChangedAsync(IProjectVersionedValue`1 update Boolean evaluation)
   at Microsoft.VisualStudio.ProjectSystem.LanguageServices.WorkspaceProjectContextHost.WorkspaceProjectContextHostInstance.<InitializeCoreAsync>b__14_1(IProjectVersionedValue`1 e)
   at Microsoft.VisualStudio.ProjectSystem.ActionBlockSlimAsync`1.ProcessInputAsync(TInput input)
   at Microsoft.VisualStudio.ProjectSystem.DataReceivingBlockSlim`1.<ProcessInputQueueAsync>d__5.MoveNext()
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start[TStateMachine](TStateMachine& stateMachine)
   at Microsoft.VisualStudio.ProjectSystem.DataReceivingBlockSlim`1.ProcessInputQueueAsync(InputDataBuffer inputQueue)
   at Microsoft.VisualStudio.ProjectSystem.DataReceivingBlockSlim`1.<>c.<System.Threading.Tasks.Dataflow.ITargetBlock<TInput>.OfferMessage>b__2_0(Object s)
   at System.Threading.Tasks.Task`1.InnerInvoke()
   at System.Threading.Tasks.Task.Execute()
   at System.Threading.Tasks.Task.ExecutionContextCallback(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext ContextCallback callback Object state Boolean preserveSyncCtx)
   at System.Threading.ExecutionContext.Run(ExecutionContext executionContext ContextCallback callback Object state Boolean preserveSyncCtx)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot)
   at System.Threading.Tasks.Task.ExecuteEntry(Boolean bPreventDoubleExecution)
   at System.Threading.Tasks.Task.System.Threading.IThreadPoolWorkItem.ExecuteWorkItem()
   at System.Threading.ThreadPoolWorkQueue.Dispatch()
   at System.Threading._ThreadPoolWaitCallback.PerformWaitCallback()
```
And then an assert failed.
```cs
System.InvalidOperationException: 'Unexpected false'
   at Roslyn.Utilities.Contract.ThrowIfFalse(bool condition string message)
   at Microsoft.VisualStudio.LanguageServices.Implementation.ProjectSystem.CPS.CPSProject.EndBatch()
```

","System.InvalidOperationException: 'The project already references the target project.' and `Loading Intellsense` never finished in VS16.4Preview1/16.3.1 **Version Used**: 
VS16.4Preview1

<del>Not sure but I remember that doesn't happen with latest preview version of VS16.3. It not happen with `Preview Features`/`Allow partial loading of projects during solution open` disabled.</del>
It's strange that I can also see the same thing happen on VS16.3.1 today or with `partial loading` disabled today. Just step 4 and 5 or 4.B is needed.

Not sure it's an issue of roslyn or VS.

**Steps to Reproduce**:

1. Enable `Preview Features`/`Allow partial loading of projects during solution open` in VS16.4Preview1 and restart.
2. Open the attached solutions(All cs files are removed. I tried to rename the projects and folders but failed)
[Solution.zip](https://github.com/dotnet/roslyn/files/3665454/Solution.zip)

3. Wait and see whether the task `Loading Intellsense` can finish or not.(sometimes it even failed at the first time)

4. If it finished click `File/Close Solutions` and reopen the solution again.
5. Wait and see the task `Loading Intellsense` never finish.

4.B Maybe you can also see the same thing when you edit `Server.Core.csproj` online(inside VS with the whole solution open) just needed to change the `TargetFrameworks` from `net472;netcoreapp3.0` to `net472;netcoreapp2.1` or revert.


**Expected Behavior**:
Intellsense should always end.

**Actual Behavior**:
![image](https://user-images.githubusercontent.com/1819074/65815472-7a4ad200-e222-11e9-92ec-55db1f6c7535.png)
![image](https://user-images.githubusercontent.com/1819074/65815851-0eb73380-e227-11e9-9558-8642a83bdb9f.png)


It just never finished but no CPU is used.

And attach an debugger on VS only show an strange exception throw by roslyn on the 3 projects unable to load.
```cs
System.InvalidOperationException: 'The project already references the target project.'
   at Microsoft.CodeAnalysis.SolutionState.CheckNotContainsProjectReference(ProjectId projectId ProjectReference referencedProject)
   at Microsoft.CodeAnalysis.SolutionState.AddProjectReferences(ProjectId projectId IEnumerable`1 projectReferences)
   at Microsoft.CodeAnalysis.Solution.AddProjectReferences(ProjectId projectId IEnumerable`1 projectReferences)
   at Microsoft.VisualStudio.LanguageServices.Implementation.ProjectSystem.VisualStudioProject.<>c__DisplayClass75_0.<OnBatchScopeDisposed>b__0(Solution solution)
   at Microsoft.VisualStudio.LanguageServices.Implementation.ProjectSystem.VisualStudioWorkspaceImpl.ApplyBatchChangeToWorkspace(Func`2 mutation)
   at Microsoft.VisualStudio.LanguageServices.Implementation.ProjectSystem.VisualStudioProject.OnBatchScopeDisposed()
   at Microsoft.VisualStudio.LanguageServices.Implementation.ProjectSystem.VisualStudioProject.BatchScope.Dispose()
   at Microsoft.VisualStudio.LanguageServices.Implementation.ProjectSystem.CPS.CPSProject.EndBatch()
   at Microsoft.VisualStudio.ProjectSystem.LanguageServices.WorkspaceProjectContextHost.WorkspaceProjectContextHostInstance.<ApplyProjectChangesUnderLockAsync>d__19.MoveNext()
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start[TStateMachine](TStateMachine& stateMachine)
   at Microsoft.VisualStudio.ProjectSystem.LanguageServices.WorkspaceProjectContextHost.WorkspaceProjectContextHostInstance.ApplyProjectChangesUnderLockAsync(IProjectVersionedValue`1 update Boolean evaluation CancellationToken cancellationToken)
   at Microsoft.VisualStudio.ProjectSystem.LanguageServices.WorkspaceProjectContextHost.WorkspaceProjectContextHostInstance.<>c__DisplayClass18_0.<OnProjectChangedAsync>b__0(CancellationToken ct)
   at Microsoft.VisualStudio.ProjectSystem.OnceInitializedOnceDisposedUnderLockAsync.<>c__DisplayClass7_0.<ExecuteUnderLockCoreAsync>b__0()
   at Microsoft.VisualStudio.Threading.ReentrantSemaphore.StackSemaphore.<>c__DisplayClass3_0.<<ExecuteAsync>b__0>d.MoveNext()
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start[TStateMachine](TStateMachine& stateMachine)
   at Microsoft.VisualStudio.Threading.ReentrantSemaphore.StackSemaphore.<>c__DisplayClass3_0.<ExecuteAsync>b__0()
   at Microsoft.VisualStudio.Threading.JoinableTaskFactory.ExecuteJob[T](Func`1 asyncMethod JoinableTask job)
   at Microsoft.VisualStudio.Threading.ReentrantSemaphore.ExecuteCoreAsync(Func`1 semaphoreUser)
   at Microsoft.VisualStudio.Threading.ReentrantSemaphore.StackSemaphore.<ExecuteAsync>d__3.MoveNext()
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start[TStateMachine](TStateMachine& stateMachine)
   at Microsoft.VisualStudio.Threading.ReentrantSemaphore.StackSemaphore.ExecuteAsync(Func`1 operation CancellationToken cancellationToken)
   at Microsoft.VisualStudio.ProjectSystem.OnceInitializedOnceDisposedUnderLockAsync.<ExecuteUnderLockCoreAsync>d__7.MoveNext()
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start[TStateMachine](TStateMachine& stateMachine)
   at Microsoft.VisualStudio.ProjectSystem.OnceInitializedOnceDisposedUnderLockAsync.ExecuteUnderLockCoreAsync(Func`2 action CancellationToken cancellationToken)
   at Microsoft.VisualStudio.ProjectSystem.LanguageServices.WorkspaceProjectContextHost.WorkspaceProjectContextHostInstance.OnProjectChangedAsync(IProjectVersionedValue`1 update Boolean evaluation)
   at Microsoft.VisualStudio.ProjectSystem.LanguageServices.WorkspaceProjectContextHost.WorkspaceProjectContextHostInstance.<InitializeCoreAsync>b__14_1(IProjectVersionedValue`1 e)
   at Microsoft.VisualStudio.ProjectSystem.ActionBlockSlimAsync`1.ProcessInputAsync(TInput input)
   at Microsoft.VisualStudio.ProjectSystem.DataReceivingBlockSlim`1.<ProcessInputQueueAsync>d__5.MoveNext()
   at System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start[TStateMachine](TStateMachine& stateMachine)
   at Microsoft.VisualStudio.ProjectSystem.DataReceivingBlockSlim`1.ProcessInputQueueAsync(InputDataBuffer inputQueue)
   at Microsoft.VisualStudio.ProjectSystem.DataReceivingBlockSlim`1.<>c.<System.Threading.Tasks.Dataflow.ITargetBlock<TInput>.OfferMessage>b__2_0(Object s)
   at System.Threading.Tasks.Task`1.InnerInvoke()
   at System.Threading.Tasks.Task.Execute()
   at System.Threading.Tasks.Task.ExecutionContextCallback(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext ContextCallback callback Object state Boolean preserveSyncCtx)
   at System.Threading.ExecutionContext.Run(ExecutionContext executionContext ContextCallback callback Object state Boolean preserveSyncCtx)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot)
   at System.Threading.Tasks.Task.ExecuteEntry(Boolean bPreventDoubleExecution)
   at System.Threading.Tasks.Task.System.Threading.IThreadPoolWorkItem.ExecuteWorkItem()
   at System.Threading.ThreadPoolWorkQueue.Dispatch()
   at System.Threading._ThreadPoolWaitCallback.PerformWaitCallback()
```
And then an assert failed.
```cs
System.InvalidOperationException: 'Unexpected false'
   at Roslyn.Utilities.Contract.ThrowIfFalse(bool condition string message)
   at Microsoft.VisualStudio.LanguageServices.Implementation.ProjectSystem.CPS.CPSProject.EndBatch()
```

",Area-IDE|Bug|IDE-Project,jasonmalinowski,,
38939,Broken Nuget package Microsoft.VisualStudio.Shell.15.0,The first dependency of the latest version of package [`Microsoft.VisualStudio.Shell.15.0`](https://www.nuget.org/packages/Microsoft.VisualStudio.Shell.15.0/) [`Microsoft.ServiceHub.Framework`](https://www.nuget.org/packages/Microsoft.ServiceHub.Framework/) is broken. Can someone please forward this issue to the SDK team?,Broken Nuget package Microsoft.VisualStudio.Shell.15.0 The first dependency of the latest version of package [`Microsoft.VisualStudio.Shell.15.0`](https://www.nuget.org/packages/Microsoft.VisualStudio.Shell.15.0/) [`Microsoft.ServiceHub.Framework`](https://www.nuget.org/packages/Microsoft.ServiceHub.Framework/) is broken. Can someone please forward this issue to the SDK team?,Area-Infrastructure,gafter|NextTurn,28/09/2019 22:08,14/10/2019 18:22
38937,Allow parsing of attributes on any statement.,"Tagging @RikkiGibson 

I recommend reading with whitespace diffs off.  This PR incorporates https://github.com/dotnet/roslyn/pull/38935.  If we can get that merged in first it will make this PR easier to read.

TODO: 
- [x] tests for all forms.","Allow parsing of attributes on any statement. Tagging @RikkiGibson 

I recommend reading with whitespace diffs off.  This PR incorporates https://github.com/dotnet/roslyn/pull/38935.  If we can get that merged in first it will make this PR easier to read.

TODO: 
- [x] tests for all forms.",Area-Compilers|Community,CyrusNajmabadi|RikkiGibson|jinujoseph|333fred|gafter,28/09/2019 14:33,5/10/2019 4:13
38936,Task already completed exception in Workspace.TryApplyChanges,"In my Visual Studio extension I create a temporary workspace like this:
```
Microsoft.CodeAnalysis.Workspace w = new Workspace();
Microsoft.CodeAnalysis.Project project = w.CurrentSolution.AddProject();
w.TryApplyChanges(project.Solution);
```
It worked fine for several years but after the recent VS 2019 16.3.0 update it generates the following exception:

> System.InvalidOperationException: An attempt was made to transition a task to a final state when it had already completed.
>    at System.Threading.Tasks.TaskCompletionSource`1.SetResult(TResult result)
>    at Microsoft.VisualStudio.LanguageServices.Implementation.LanguageService.LanguageServerClientEventListener.StartListening(Workspace workspace Object serviceOpt)
>    at Microsoft.CodeAnalysis.Host.DefaultWorkspaceEventListenerServiceFactory.Service.EnsureListeners()
>    at Microsoft.CodeAnalysis.Workspace.GetEventHandlers[T](String eventName)
>    at Microsoft.CodeAnalysis.Workspace.RaiseWorkspaceChangedEventAsync(WorkspaceChangeKind kind Solution oldSolution Solution newSolution ProjectId projectId DocumentId documentId)
>    at Microsoft.CodeAnalysis.Workspace.OnProjectAdded_NoLock(ProjectInfo projectInfo Boolean silent)
>    at Microsoft.CodeAnalysis.Workspace.OnProjectAdded(ProjectInfo projectInfo Boolean silent)
>    at Microsoft.CodeAnalysis.Workspace.ApplyProjectAdded(ProjectInfo project)
>    at Microsoft.CodeAnalysis.Workspace.TryApplyChanges(Solution newSolution IProgressTracker progressTracker)
>    at Microsoft.CodeAnalysis.Workspace.TryApplyChanges(Solution newSolution)

Note that it looks very much like a race condition because I don't see the error when running the code first time on a ""cold"" machine. But when all assemblies are already in memory the exception occurs every time.

Looking at source:
```
        public void StartListening(Workspace workspace object serviceOpt)
        {
            // mark that roslyn solution is added
            _taskCompletionSource.SetResult(null);
        }
```
Maybe there should be a check that result is not yet set?
","Task already completed exception in Workspace.TryApplyChanges In my Visual Studio extension I create a temporary workspace like this:
```
Microsoft.CodeAnalysis.Workspace w = new Workspace();
Microsoft.CodeAnalysis.Project project = w.CurrentSolution.AddProject();
w.TryApplyChanges(project.Solution);
```
It worked fine for several years but after the recent VS 2019 16.3.0 update it generates the following exception:

> System.InvalidOperationException: An attempt was made to transition a task to a final state when it had already completed.
>    at System.Threading.Tasks.TaskCompletionSource`1.SetResult(TResult result)
>    at Microsoft.VisualStudio.LanguageServices.Implementation.LanguageService.LanguageServerClientEventListener.StartListening(Workspace workspace Object serviceOpt)
>    at Microsoft.CodeAnalysis.Host.DefaultWorkspaceEventListenerServiceFactory.Service.EnsureListeners()
>    at Microsoft.CodeAnalysis.Workspace.GetEventHandlers[T](String eventName)
>    at Microsoft.CodeAnalysis.Workspace.RaiseWorkspaceChangedEventAsync(WorkspaceChangeKind kind Solution oldSolution Solution newSolution ProjectId projectId DocumentId documentId)
>    at Microsoft.CodeAnalysis.Workspace.OnProjectAdded_NoLock(ProjectInfo projectInfo Boolean silent)
>    at Microsoft.CodeAnalysis.Workspace.OnProjectAdded(ProjectInfo projectInfo Boolean silent)
>    at Microsoft.CodeAnalysis.Workspace.ApplyProjectAdded(ProjectInfo project)
>    at Microsoft.CodeAnalysis.Workspace.TryApplyChanges(Solution newSolution IProgressTracker progressTracker)
>    at Microsoft.CodeAnalysis.Workspace.TryApplyChanges(Solution newSolution)

Note that it looks very much like a race condition because I don't see the error when running the code first time on a ""cold"" machine. But when all assemblies are already in memory the exception occurs every time.

Looking at source:
```
        public void StartListening(Workspace workspace object serviceOpt)
        {
            // mark that roslyn solution is added
            _taskCompletionSource.SetResult(null);
        }
```
Maybe there should be a check that result is not yet set?
",Area-IDE|Bug|IDE-MSBuildWorkspace,gafter|jinujoseph,28/09/2019 13:49,
38935,Simplify parsing of attributes,"I recommend reviewing this with whitespace changes *off*.

Our existing parsing strategy was pretty strange given that we would create a mutable builder fill it with parsed attributes then pass that builder along.  This was confusing and potentially error prone as no downstream consumers were ever expected to continue mutating the list.  It also meant in several places we needed more complex try/finally logic to place things back in the pool.

I've moved to an approach where we just parse out hte attribute list on demand and then pass along to whoever wants to consume it.

~Note: i would like to do this next with modifiers.  Though i am *less* certain if that will be possible due to downstream consumers possibly wanting to mutate hte modifiers list after the initial parsing.~

Update: modifiers looks to be much harder/out-of-scope.  The mods list is definitely mutated post creation making it less suitable for this sort of up-front realization of the list. ","Simplify parsing of attributes I recommend reviewing this with whitespace changes *off*.

Our existing parsing strategy was pretty strange given that we would create a mutable builder fill it with parsed attributes then pass that builder along.  This was confusing and potentially error prone as no downstream consumers were ever expected to continue mutating the list.  It also meant in several places we needed more complex try/finally logic to place things back in the pool.

I've moved to an approach where we just parse out hte attribute list on demand and then pass along to whoever wants to consume it.

~Note: i would like to do this next with modifiers.  Though i am *less* certain if that will be possible due to downstream consumers possibly wanting to mutate hte modifiers list after the initial parsing.~

Update: modifiers looks to be much harder/out-of-scope.  The mods list is definitely mutated post creation making it less suitable for this sort of up-front realization of the list. ",Area-Compilers|Community,jcouv,,
38934,Use Enhanced Colors For VB is only listed under C #,"_This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/idea/734508/use-enhanced-colors-for-vb-is-only-listed-under-c.html)._

---
Visual Basic options should be selectable under Visual Basic or listed in 2 places also the text should be &quot;Use Enhanced Colors for C# and Visual Basic&quot; not just &quot;Basic&quot;

---
### Original Comments

#### Jane Wu [MSFT] on 9/16/2019 00:19 AM: 

<p>Thank you for taking the time to provide your suggestion. We will do some preliminary checks to make sure we can proceed further.  We’ll provide an update once the issue has been triaged by the product team.</p>
","Use Enhanced Colors For VB is only listed under C # _This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/idea/734508/use-enhanced-colors-for-vb-is-only-listed-under-c.html)._

---
Visual Basic options should be selectable under Visual Basic or listed in 2 places also the text should be &quot;Use Enhanced Colors for C# and Visual Basic&quot; not just &quot;Basic&quot;

---
### Original Comments

#### Jane Wu [MSFT] on 9/16/2019 00:19 AM: 

<p>Thank you for taking the time to provide your suggestion. We will do some preliminary checks to make sure we can proceed further.  We’ll provide an update once the issue has been triaged by the product team.</p>
",Area-IDE|Concept-Continuous Improvement,gafter|jinujoseph|JoeRobich|kendrahavens|paul1956,28/09/2019 9:13,5/10/2019 3:00
38932,Collapse to Definitions does not collapse enum types,"_This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/idea/732602/ctrl-m-o??????????enum.html)._

---
Ctrl and M-O cannot collapse internal types such as enum

---
### Original Comments

#### Jane Wu [MSFT] on 9/16/2019 00:23 AM: 

<p>Thank you for taking the time to provide your suggestion. We will do some preliminary checks to make sure we can proceed further.  We’ll provide an update once the issue has been triaged by the product team.</p>
","Collapse to Definitions does not collapse enum types _This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/idea/732602/ctrl-m-o??????????enum.html)._

---
Ctrl and M-O cannot collapse internal types such as enum

---
### Original Comments

#### Jane Wu [MSFT] on 9/16/2019 00:23 AM: 

<p>Thank you for taking the time to provide your suggestion. We will do some preliminary checks to make sure we can proceed further.  We’ll provide an update once the issue has been triaged by the product team.</p>
",Area-IDE|Developer Community|Question|Resolution-By Design,gafter|jinujoseph|sharwell|ryzngard,28/09/2019 8:53,8/10/2019 9:37
38931,Intellsense left hand talk to right,"_This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/idea/730687/intellsense-left-hand-talk-to-right.html)._

---
There are a number of rules and tools to help the developer. One of these is being able to add a missing USING reference. Another is enforcing rules about where a USING statement should appear in a code file. PLEASE make it so the two understand each other. It's really annoying to have an automatically added 'anything' immediatley become a problem.

---
### Original Comments

#### Jane Wu [MSFT] on 9/11/2019 11:44 PM: 

<p>Thank you for taking the time to provide your suggestion. We will do some preliminary checks to make sure we can proceed further.  We’ll provide an update once the issue has been triaged by the product team.</p>
","Intellsense left hand talk to right _This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/idea/730687/intellsense-left-hand-talk-to-right.html)._

---
There are a number of rules and tools to help the developer. One of these is being able to add a missing USING reference. Another is enforcing rules about where a USING statement should appear in a code file. PLEASE make it so the two understand each other. It's really annoying to have an automatically added 'anything' immediatley become a problem.

---
### Original Comments

#### Jane Wu [MSFT] on 9/11/2019 11:44 PM: 

<p>Thank you for taking the time to provide your suggestion. We will do some preliminary checks to make sure we can proceed further.  We’ll provide an update once the issue has been triaged by the product team.</p>
",Area-IDE|Resolution-Duplicate,gafter|jinujoseph,28/09/2019 8:41,2/10/2019 4:32
38929,Fix crash in flow analysis,"When we added support for tracking static fields as part of nullable
analysis we used -1 for their containing slot. Negative numbers are
not meant to be used as actual slots and flowed through the flow analysis
code they are only used as sentinels from slot-returning methods to indicate
that the variable in question is not tracked. The appropriate root
slot for a static variable is the same as the root slot for a top-level tracked
variable (like a local) which is 0.

Fixes #38725","Fix crash in flow analysis When we added support for tracking static fields as part of nullable
analysis we used -1 for their containing slot. Negative numbers are
not meant to be used as actual slots and flowed through the flow analysis
code they are only used as sentinels from slot-returning methods to indicate
that the variable in question is not tracked. The appropriate root
slot for a static variable is the same as the root slot for a top-level tracked
variable (like a local) which is 0.

Fixes #38725",Area-Compilers,agocke|jcouv,28/09/2019 7:52,5/10/2019 5:03
38928,show outlining for comments (separate option),"_This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/idea/725721/show-outlining-for-comments-separate-option.html)._

---
**Now:**
Show outlining for comments and preprocessor regions 

**Suggest:**
Show outlining for comments
Show outlining for preprocessor regions

---
### Original Comments

#### Jane Wu [MSFT] on 9/9/2019 00:02 AM: 

<p>Thank you for taking the time to provide your suggestion. We will do some preliminary checks to make sure we can proceed further.  We’ll provide an update once the issue has been triaged by the product team.</p>
","show outlining for comments (separate option) _This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/idea/725721/show-outlining-for-comments-separate-option.html)._

---
**Now:**
Show outlining for comments and preprocessor regions 

**Suggest:**
Show outlining for comments
Show outlining for preprocessor regions

---
### Original Comments

#### Jane Wu [MSFT] on 9/9/2019 00:02 AM: 

<p>Thank you for taking the time to provide your suggestion. We will do some preliminary checks to make sure we can proceed further.  We’ll provide an update once the issue has been triaged by the product team.</p>
",Area-IDE|Feature Request|Need Design Review,gafter|jinujoseph,28/09/2019 7:33,
38927,Copy fully qualified name of selected identifier,"_This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/idea/725281/copy-fully-qualified-name-of-selected-identifier.html)._

---
Often I want to share a class or a function or a member etc with another team member  and browsing in VS I can easily copy a name like &quot;Foo&quot; and send it to them but that is ambiguous for them to find in a very large codebase.

Instead I'd like to send them the fully qualified namespace &quot;Team::Project::Component::Foo&quot;
I find myself doing this a lot the hard way by hovering over the object to see it's intellisense info and typing tha tout manually which is error prone and tedious.

---
### Original Comments

#### Jane Wu [MSFT] on 9/5/2019 11:22 PM: 

<p>Thank you for taking the time to provide your suggestion. We will do some preliminary checks to make sure we can proceed further.  We’ll provide an update once the issue has been triaged by the product team.</p>
","Copy fully qualified name of selected identifier _This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/idea/725281/copy-fully-qualified-name-of-selected-identifier.html)._

---
Often I want to share a class or a function or a member etc with another team member  and browsing in VS I can easily copy a name like &quot;Foo&quot; and send it to them but that is ambiguous for them to find in a very large codebase.

Instead I'd like to send them the fully qualified namespace &quot;Team::Project::Component::Foo&quot;
I find myself doing this a lot the hard way by hovering over the object to see it's intellisense info and typing tha tout manually which is error prone and tedious.

---
### Original Comments

#### Jane Wu [MSFT] on 9/5/2019 11:22 PM: 

<p>Thank you for taking the time to provide your suggestion. We will do some preliminary checks to make sure we can proceed further.  We’ll provide an update once the issue has been triaged by the product team.</p>
",Area-External,kendrahavens|gafter|jinujoseph,28/09/2019 7:29,2/10/2019 4:30
38925,Prevent unbound lambdas from remaining in the trees after initial binding,"In some cases unbound lambdas remain in the bound tree after initial binding and have to be dealt with by later passes.  About this the code has a comment

``` c#
        // UNDONE: [MattWar]
        // UNDONE: Here we enable the consumer of an unbound lambda that could not be 
        // UNDONE: successfully converted to a best bound lambda to do error recovery 
        // UNDONE: by either picking an existing binding or by binding the body using
        // UNDONE: error types for parameter types as necessary. This is not exactly
        // UNDONE: the strategy we discussed in the design meeting; rather there we
        // UNDONE: decided to do this more the way we did it in the native compiler:
        // UNDONE: there we wrote a post-processing pass that searched the tree for
        // UNDONE: unbound lambdas and did this sort of replacement on them so that
        // UNDONE: we never observed an unbound lambda in the tree.
        // UNDONE:
        // UNDONE: I think that is a reasonable approach but it is not implemented yet.
        // UNDONE: When we figure out precisely where that rewriting pass should go 
        // UNDONE: we can use the gear implemented in this method as an implementation
        // UNDONE: detail of it.
```

However we now *do* have a place for this rewriting to go: `BindToTypeForErrorRecovery`

It would be nice to ""clean"" the initial bound tree of unbound lambdas.
","Prevent unbound lambdas from remaining in the trees after initial binding In some cases unbound lambdas remain in the bound tree after initial binding and have to be dealt with by later passes.  About this the code has a comment

``` c#
        // UNDONE: [MattWar]
        // UNDONE: Here we enable the consumer of an unbound lambda that could not be 
        // UNDONE: successfully converted to a best bound lambda to do error recovery 
        // UNDONE: by either picking an existing binding or by binding the body using
        // UNDONE: error types for parameter types as necessary. This is not exactly
        // UNDONE: the strategy we discussed in the design meeting; rather there we
        // UNDONE: decided to do this more the way we did it in the native compiler:
        // UNDONE: there we wrote a post-processing pass that searched the tree for
        // UNDONE: unbound lambdas and did this sort of replacement on them so that
        // UNDONE: we never observed an unbound lambda in the tree.
        // UNDONE:
        // UNDONE: I think that is a reasonable approach but it is not implemented yet.
        // UNDONE: When we figure out precisely where that rewriting pass should go 
        // UNDONE: we can use the gear implemented in this method as an implementation
        // UNDONE: detail of it.
```

However we now *do* have a place for this rewriting to go: `BindToTypeForErrorRecovery`

It would be nice to ""clean"" the initial bound tree of unbound lambdas.
",Area-Compilers|Concept-Design Debt,gafter,,
38924,Share name for semantic classification view tagger provider and buffe…,"…r tagger provider

Editor team has requested that we share the name on our semantic classification view tagger and bugger tagger providers. This allows them to implement the following strategy to avoid creating both taggers where possible:

1. Create the view taggers first.
2. Keep track of the names of the view tagger providers that created a tagger for a particular buffer.
3. Don’t call buffer tagger providers for a buffer if it has the same name as a view tagger provider that provided a tagger for that buffer.

This also requires that the returned tagger returns tags when either GetTags() or GetAllTags() is called.","Share name for semantic classification view tagger provider and buffe… …r tagger provider

Editor team has requested that we share the name on our semantic classification view tagger and bugger tagger providers. This allows them to implement the following strategy to avoid creating both taggers where possible:

1. Create the view taggers first.
2. Keep track of the names of the view tagger providers that created a tagger for a particular buffer.
3. Don’t call buffer tagger providers for a buffer if it has the same name as a view tagger provider that provided a tagger for that buffer.

This also requires that the returned tagger returns tags when either GetTags() or GetAllTags() is called.",Area-IDE,mavasani,28/09/2019 6:43,
38923,Consolidate many quick fixes to simplify class creation.,"_This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/idea/656674/consolidate-many-quick-fixes-to-simplify-class-cre.html)._

---
<p>When I create a new class in my project it usually needs a handful of dependencies injected via constructor. Right now I do that by typing out a constructor parameter pushing Alt-Enter to bring up &quot;Quick Fixes&quot; then choosing the &quot;create and initialize field&quot; or &quot;create and initialize property&quot; fix as appropriate.</p> <p>C# record types and representative constructors have spent at least half a decade in spec Hell but I think the IDE has the tools to do this:</p> <ol>
<li>Create a new type.</li> <li>Type all of the constructor parameters.</li> <li>When I Alt-Enter and choose Quick Fixes I want a &quot;create and initialize all&quot; quick fix that does what it says for any parameters that aren't currently initialized.</li></ol> <p>For example suppose I had this constructor:</p> <pre>public Example(IDependency dependency ILogger logger) {}</pre> <p>After the quick fix this would be the result if I chose &quot;create and initialize all as fields&quot;.</p> <pre>private readonly IDependency _dependency;
private readonly ILogger _logger;

public Example(IDependency dependency ILogger logger)
{
    _dependency = dependency;
    _logger = logger;
}
</pre><p>Similar options would exist for properties. I'd use this many times daily.</p>

---
### Original Comments

#### Jane Wu [MSFT] on 7/23/2019 01:53 AM: 

<p>Thank you for taking the time to provide your suggestion. We will do some preliminary checks to make sure we can proceed further.  We’ll provide an update once the issue has been triaged by the product team.</p>
","Consolidate many quick fixes to simplify class creation. _This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/idea/656674/consolidate-many-quick-fixes-to-simplify-class-cre.html)._

---
<p>When I create a new class in my project it usually needs a handful of dependencies injected via constructor. Right now I do that by typing out a constructor parameter pushing Alt-Enter to bring up &quot;Quick Fixes&quot; then choosing the &quot;create and initialize field&quot; or &quot;create and initialize property&quot; fix as appropriate.</p> <p>C# record types and representative constructors have spent at least half a decade in spec Hell but I think the IDE has the tools to do this:</p> <ol>
<li>Create a new type.</li> <li>Type all of the constructor parameters.</li> <li>When I Alt-Enter and choose Quick Fixes I want a &quot;create and initialize all&quot; quick fix that does what it says for any parameters that aren't currently initialized.</li></ol> <p>For example suppose I had this constructor:</p> <pre>public Example(IDependency dependency ILogger logger) {}</pre> <p>After the quick fix this would be the result if I chose &quot;create and initialize all as fields&quot;.</p> <pre>private readonly IDependency _dependency;
private readonly ILogger _logger;

public Example(IDependency dependency ILogger logger)
{
    _dependency = dependency;
    _logger = logger;
}
</pre><p>Similar options would exist for properties. I'd use this many times daily.</p>

---
### Original Comments

#### Jane Wu [MSFT] on 7/23/2019 01:53 AM: 

<p>Thank you for taking the time to provide your suggestion. We will do some preliminary checks to make sure we can proceed further.  We’ll provide an update once the issue has been triaged by the product team.</p>
",Area-IDE|Developer Community|Feature Request|Need Design Review,gafter|jinujoseph,28/09/2019 6:35,
38922,Handle reparenting LocalFunction TypeParameters with nullablility reinference,"```cs
using System;
#nullable enable
class C
{
    public static Action<T> Create<T>(T t Action<T> a) => throw null!;
	public static T[] Create<T>(T t) => throw null!;

    public static void M(object? o)
    {
        var a = Create(o o1 => {
            LocalFunction(o1);
            T LocalFunction<T>(T t) 
            {
                _ = Create(t); // Type argument for Create needs to be reparented
				var d = new D<T>(); // Type argument in D's substituted type needs to be reparented
				d.DoSomething(t); // Argument of the function needs to be reparented
				return d.Prop; // Return type needs to be reparented
            }
        });
    }
}
class D<T>
{
	public void DoSomething(T t) => throw null!;
	public T Prop { get; }
}
```

The parent of that type parameter T should be the given local function and all usages of that type parameter need to be substituted as well. This includes:
* Regular usage as a type symbol
* Use in substitution for other type symbols
* Use as the return/argument types off of calls from other substituted types.","Handle reparenting LocalFunction TypeParameters with nullablility reinference ```cs
using System;
#nullable enable
class C
{
    public static Action<T> Create<T>(T t Action<T> a) => throw null!;
	public static T[] Create<T>(T t) => throw null!;

    public static void M(object? o)
    {
        var a = Create(o o1 => {
            LocalFunction(o1);
            T LocalFunction<T>(T t) 
            {
                _ = Create(t); // Type argument for Create needs to be reparented
				var d = new D<T>(); // Type argument in D's substituted type needs to be reparented
				d.DoSomething(t); // Argument of the function needs to be reparented
				return d.Prop; // Return type needs to be reparented
            }
        });
    }
}
class D<T>
{
	public void DoSomething(T t) => throw null!;
	public T Prop { get; }
}
```

The parent of that type parameter T should be the given local function and all usages of that type parameter need to be substituted as well. This includes:
* Regular usage as a type symbol
* Use in substitution for other type symbols
* Use as the return/argument types off of calls from other substituted types.",Area-Compilers|Bug|New Language Feature - Nullable Semantic Model,333fred,28/09/2019 5:48,
38921,Incorrect IDE0044 when NRTs are enabled the class is generic and the field is only set by a non-this reference,"Visual Studio 16.3.1 and 16.4p1

IDE0044 should not be reported.

```cs
class GenericClass<T>
{
    // IDE0044 Make field readonly
    private int field;

    public static void Method(GenericClass<T> instance)
    {
        instance.field++;
    }
}
```

Similarly:

```cs
class GenericClass<T>
{
    // IDE0044 Make field readonly
    private int field;

    public struct Helper
    {
        private readonly GenericClass<T> instance;

        public Helper(GenericClass<T> instance)
        {
            this.instance = instance;
        }

        public void Method()
        {
            instance.field++;
        }
    }
}
```

Csproj:
```xml
<Project Sdk=""Microsoft.NET.Sdk"">

  <PropertyGroup>
    <TargetFramework>netcoreapp3.0</TargetFramework>
    <LangVersion>latest</LangVersion>
    <Nullable>enable</Nullable>
  </PropertyGroup>

</Project>
```","Incorrect IDE0044 when NRTs are enabled, the class is generic, and the field is only set by a non-this reference Visual Studio 16.3.1 and 16.4p1

IDE0044 should not be reported.

```cs
class GenericClass<T>
{
    // IDE0044 Make field readonly
    private int field;

    public static void Method(GenericClass<T> instance)
    {
        instance.field++;
    }
}
```

Similarly:

```cs
class GenericClass<T>
{
    // IDE0044 Make field readonly
    private int field;

    public struct Helper
    {
        private readonly GenericClass<T> instance;

        public Helper(GenericClass<T> instance)
        {
            this.instance = instance;
        }

        public void Method()
        {
            instance.field++;
        }
    }
}
```

Csproj:
```xml
<Project Sdk=""Microsoft.NET.Sdk"">

  <PropertyGroup>
    <TargetFramework>netcoreapp3.0</TargetFramework>
    <LangVersion>latest</LangVersion>
    <Nullable>enable</Nullable>
  </PropertyGroup>

</Project>
```",Area-IDE|Bug|IDE-CodeStyle|help wanted,jnm2|mavasani|333fred|chsienki|gafter|jinujoseph|jasonmalinowski,28/09/2019 5:19,
38920,Remove experimentation for file rename with inline rename,This is no longer an experiment. ,Remove experimentation for file rename with inline rename This is no longer an experiment. ,Area-IDE,ryzngard,28/09/2019 5:07,2/10/2019 6:53
38919,mbox shortcut changes in WPF,"_This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/idea/554389/mbox-shortcut-changes-in-wpf.html)._

---
<p>In WPF/C# I used mbox shortcut. At that time this code was inputed.</p><pre>System.Windows.Forms.MessageBox.Show(&quot;Test&quot;);
</pre><p>But I want to enter the code below in WPF.</p><pre>System.Windows.MessageBox.Show(&quot;Test&quot;);</pre><p>or</p><pre>using System.Windows;
// Some Code
MessageBox.Show(&quot;Test&quot;);  // Where I used shortcut</pre><p></p>

---
### Original Comments

#### Jane Wu [MSFT] on 5/5/2019 03:20 AM: 

<p>Thank you for taking the time to provide your suggestion. We will do some preliminary checks to make sure we can proceed further.&nbsp;We'll provide an update once the issue has been triaged by the product team.</p>
#### Kendra Havens [MSFT] on 9/27/2019 11:03 AM: 

<p>Thank you for filing this feedback! I'm going to move this to our open source repository on GitHub for further discussion with the community.</p>
","mbox shortcut changes in WPF _This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/idea/554389/mbox-shortcut-changes-in-wpf.html)._

---
<p>In WPF/C# I used mbox shortcut. At that time this code was inputed.</p><pre>System.Windows.Forms.MessageBox.Show(&quot;Test&quot;);
</pre><p>But I want to enter the code below in WPF.</p><pre>System.Windows.MessageBox.Show(&quot;Test&quot;);</pre><p>or</p><pre>using System.Windows;
// Some Code
MessageBox.Show(&quot;Test&quot;);  // Where I used shortcut</pre><p></p>

---
### Original Comments

#### Jane Wu [MSFT] on 5/5/2019 03:20 AM: 

<p>Thank you for taking the time to provide your suggestion. We will do some preliminary checks to make sure we can proceed further.&nbsp;We'll provide an update once the issue has been triaged by the product team.</p>
#### Kendra Havens [MSFT] on 9/27/2019 11:03 AM: 

<p>Thank you for filing this feedback! I'm going to move this to our open source repository on GitHub for further discussion with the community.</p>
",Area-IDE|Blocked|Feature Request,gafter|jinujoseph|sharwell,28/09/2019 4:04,
38918,"Inline Rename: Cannot type ""."" when renaming namespace","**Version Used**: 3.3

**Steps to Reproduce**:

1. Right-click a namespace in any C# file.
2. Select ""Rename"" menu item.
3. Type a new namespace that include a ""."" character.

**Expected Behavior**:

You can type or paste a ""."" character as long as it is a valid namespace string.

**Actual Behavior**:

You cannot type a ""."" character. If you attempt to paste one the outline becomes red and the popup in the corner of the editor says ""The new name is not a valid identifier.""

**Bonus**: In an ASP.NET Core app if you hit return anyway at this point a yellow bar appears indicating that a `NotSupportedException` has been raised.

```
    <description>System.NotSupportedException: Changing document &apos;C:\Users\sandy\source\repos\WebApplication1\WebApplication1\Pages\_ViewImports.g.cs&apos; is not supported.&#x000D;&#x000A;   at Microsoft.CodeAnalysis.Workspace.CheckAllowedProjectChanges(ProjectChanges projectChanges)&#x000D;&#x000A;   at Microsoft.CodeAnalysis.Workspace.CheckAllowedSolutionChanges(SolutionChanges solutionChanges)&#x000D;&#x000A;   at Microsoft.CodeAnalysis.Workspace.TryApplyChanges(Solution newSolution IProgressTracker progressTracker)&#x000D;&#x000A;   at Microsoft.VisualStudio.LanguageServices.Implementation.ProjectSystem.VisualStudioWorkspaceImpl.TryApplyChanges(Solution newSolution IProgressTracker progressTracker)&#x000D;&#x000A;   at Microsoft.CodeAnalysis.Workspace.TryApplyChanges(Solution newSolution)&#x000D;&#x000A;   at Microsoft.CodeAnalysis.Editor.Implementation.InlineRename.InlineRenameSession.ApplyRename(Solution newSolution IWaitContext waitContext)&#x000D;&#x000A;   at Microsoft.CodeAnalysis.Editor.Implementation.InlineRename.InlineRenameSession.CommitCore(IWaitContext waitContext Boolean previewChanges)&#x000D;&#x000A;   at Microsoft.CodeAnalysis.Editor.Implementation.InlineRename.InlineRenameSession.&lt;&gt;c__DisplayClass76_0.&lt;Commit&gt;b__0(IWaitContext waitContext)&#x000D;&#x000A;   at Microsoft.VisualStudio.LanguageServices.Implementation.Utilities.VisualStudioWaitIndicator.Wait(String title String message Boolean allowCancel Boolean showProgress Action`1 action)&#x000D;&#x000A;   at Microsoft.CodeAnalysis.Editor.Implementation.InlineRename.InlineRenameSession.Commit(Boolean previewChanges)&#x000D;&#x000A;   at Microsoft.CodeAnalysis.Editor.Implementation.InlineRename.RenameCommandHandler.ExecuteCommand(ReturnKeyCommandArgs args CommandExecutionContext context)&#x000D;&#x000A;   at Microsoft.VisualStudio.Commanding.CommandHandlerExtensions.ExecuteCommand[T](ICommandHandler commandHandler T args Action nextCommandHandler CommandExecutionContext executionContext)&#x000D;&#x000A;   at Microsoft.VisualStudio.UI.Text.Commanding.Implementation.EditorCommandHandlerService.&lt;&gt;c__DisplayClass13_1`1.&lt;Execute&gt;b__1()&#x000D;&#x000A;   at Microsoft.VisualStudio.Text.Utilities.GuardedOperations.CallExtensionPoint(Object errorSource Action call Predicate`1 exceptionFilter)&#x000D;&#x000A;--- End of stack trace from previous location where exception was thrown ---&#x000D;&#x000A;   at Microsoft.VisualStudio.Telemetry.WindowsErrorReporting.WatsonReport.GetClrWatsonExceptionInfo(Exception exceptionObject)</description>
```

In a simple console app you can hit return and the namespace rename will be successful.","Inline Rename: Cannot type ""."" when renaming namespace **Version Used**: 3.3

**Steps to Reproduce**:

1. Right-click a namespace in any C# file.
2. Select ""Rename"" menu item.
3. Type a new namespace that include a ""."" character.

**Expected Behavior**:

You can type or paste a ""."" character as long as it is a valid namespace string.

**Actual Behavior**:

You cannot type a ""."" character. If you attempt to paste one the outline becomes red and the popup in the corner of the editor says ""The new name is not a valid identifier.""

**Bonus**: In an ASP.NET Core app if you hit return anyway at this point a yellow bar appears indicating that a `NotSupportedException` has been raised.

```
    <description>System.NotSupportedException: Changing document &apos;C:\Users\sandy\source\repos\WebApplication1\WebApplication1\Pages\_ViewImports.g.cs&apos; is not supported.&#x000D;&#x000A;   at Microsoft.CodeAnalysis.Workspace.CheckAllowedProjectChanges(ProjectChanges projectChanges)&#x000D;&#x000A;   at Microsoft.CodeAnalysis.Workspace.CheckAllowedSolutionChanges(SolutionChanges solutionChanges)&#x000D;&#x000A;   at Microsoft.CodeAnalysis.Workspace.TryApplyChanges(Solution newSolution IProgressTracker progressTracker)&#x000D;&#x000A;   at Microsoft.VisualStudio.LanguageServices.Implementation.ProjectSystem.VisualStudioWorkspaceImpl.TryApplyChanges(Solution newSolution IProgressTracker progressTracker)&#x000D;&#x000A;   at Microsoft.CodeAnalysis.Workspace.TryApplyChanges(Solution newSolution)&#x000D;&#x000A;   at Microsoft.CodeAnalysis.Editor.Implementation.InlineRename.InlineRenameSession.ApplyRename(Solution newSolution IWaitContext waitContext)&#x000D;&#x000A;   at Microsoft.CodeAnalysis.Editor.Implementation.InlineRename.InlineRenameSession.CommitCore(IWaitContext waitContext Boolean previewChanges)&#x000D;&#x000A;   at Microsoft.CodeAnalysis.Editor.Implementation.InlineRename.InlineRenameSession.&lt;&gt;c__DisplayClass76_0.&lt;Commit&gt;b__0(IWaitContext waitContext)&#x000D;&#x000A;   at Microsoft.VisualStudio.LanguageServices.Implementation.Utilities.VisualStudioWaitIndicator.Wait(String title String message Boolean allowCancel Boolean showProgress Action`1 action)&#x000D;&#x000A;   at Microsoft.CodeAnalysis.Editor.Implementation.InlineRename.InlineRenameSession.Commit(Boolean previewChanges)&#x000D;&#x000A;   at Microsoft.CodeAnalysis.Editor.Implementation.InlineRename.RenameCommandHandler.ExecuteCommand(ReturnKeyCommandArgs args CommandExecutionContext context)&#x000D;&#x000A;   at Microsoft.VisualStudio.Commanding.CommandHandlerExtensions.ExecuteCommand[T](ICommandHandler commandHandler T args Action nextCommandHandler CommandExecutionContext executionContext)&#x000D;&#x000A;   at Microsoft.VisualStudio.UI.Text.Commanding.Implementation.EditorCommandHandlerService.&lt;&gt;c__DisplayClass13_1`1.&lt;Execute&gt;b__1()&#x000D;&#x000A;   at Microsoft.VisualStudio.Text.Utilities.GuardedOperations.CallExtensionPoint(Object errorSource Action call Predicate`1 exceptionFilter)&#x000D;&#x000A;--- End of stack trace from previous location where exception was thrown ---&#x000D;&#x000A;   at Microsoft.VisualStudio.Telemetry.WindowsErrorReporting.WatsonReport.GetClrWatsonExceptionInfo(Exception exceptionObject)</description>
```

In a simple console app you can hit return and the namespace rename will be successful.",Resolution-Duplicate,sharwell,28/09/2019 3:55,28/09/2019 4:21
38916,Formatting of type parameter with attribute includes a line break,"A line break is included in the formatting of a type parameter with an attribute.

Create a .NET Core 3.0 C# project and Go To Definition on `System.IEquatable<T>`:

<img width=""348"" alt=""GoToDefinition"" src=""https://user-images.githubusercontent.com/10732005/65788125-42069f00-e10f-11e9-8a48-37789d7c50b3.PNG"">
","Formatting of type parameter with attribute includes a line break A line break is included in the formatting of a type parameter with an attribute.

Create a .NET Core 3.0 C# project and Go To Definition on `System.IEquatable<T>`:

<img width=""348"" alt=""GoToDefinition"" src=""https://user-images.githubusercontent.com/10732005/65788125-42069f00-e10f-11e9-8a48-37789d7c50b3.PNG"">
",Area-IDE|Bug|IDE-Formatter|Resolution-Fixed,sharwell,,
38915,typo: ahve -> have,,typo: ahve -> have ,Area-IDE|Community,sharwell|jinujoseph,28/09/2019 1:12,28/09/2019 5:06
38914,'Suppress diagnostic' should appear before 'Configure diagnostic',"**Version Used**: 16.4 Preview 1

**Steps to Reproduce**:

1. Expand the light bulb for a diagnostic
2. Attempt to suppress the diagnostic

**Expected Behavior**:

The localized action (suppress diagnostic) should appear before the project-wide action (configure diagnostic). This matches the default selection of 'Fix single' when 'Fix All' is also available.

**Actual Behavior**:

Suppressing diagnostics now takes several additional steps relative to earlier releases because it is more deeply nested and not selected by default.
![image](https://user-images.githubusercontent.com/1408396/65779687-17134f80-e0fd-11e9-9793-ee6ad68434c8.png)
","'Suppress diagnostic' should appear before 'Configure diagnostic' **Version Used**: 16.4 Preview 1

**Steps to Reproduce**:

1. Expand the light bulb for a diagnostic
2. Attempt to suppress the diagnostic

**Expected Behavior**:

The localized action (suppress diagnostic) should appear before the project-wide action (configure diagnostic). This matches the default selection of 'Fix single' when 'Fix All' is also available.

**Actual Behavior**:

Suppressing diagnostics now takes several additional steps relative to earlier releases because it is more deeply nested and not selected by default.
![image](https://user-images.githubusercontent.com/1408396/65779687-17134f80-e0fd-11e9-9793-ee6ad68434c8.png)
",Area-IDE|Bug|IDE-CodeStyle|Need Design Review,sharwell|kendrahavens|mavasani|jinujoseph,28/09/2019 1:02,
38911,rename ProgressStatus.Stoped --> Stopped,Fixes #38039,rename ProgressStatus.Stoped --> Stopped Fixes #38039,Area-IDE|Community,reaction1989|sharwell|jinujoseph,27/09/2019 21:31,30/09/2019 18:00
38910,Nullable version of unmanaged type should be unmanaged too,"**Version Used**: VS 16.3.1

Following code:
```C#
private static void Foo<T>()
    where T : unmanaged
{ }

private static unsafe void Bar()
{
    Foo<int?>();
}
```
reports error: ""The type 'int? must be a non-nullable value type...'"".

[Documentation](https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/builtin-types/unmanaged-types) states: ""Any user-defined struct type that contains fields of unmanaged types..."". Don't know why it talks only about ""user-defined"" structs (maybe because of ```Span<T>```?) but I don't know about any reason for disallowing nullable types. They are just structs with two fields (```bool``` and ```T```). So when ```T``` is unmanaged than ```T?``` is unmanaged too.

I'm really depressed of this. I've expected constructed unmanaged types would have worked already in C# 7.3. Now I hoped it would be supported by 8.0 because of explicit addition of support for constructed unmanaged types but it's still not usable enough.
Now I'm workarounding this issue by using ```Unsafe``` class and using runtime checks for checking that ```T``` is unmanaged/blittable (allowing nullable types). It would be nice to have compile time support for this.

Thanks.","Nullable version of unmanaged type should be unmanaged too **Version Used**: VS 16.3.1

Following code:
```C#
private static void Foo<T>()
    where T : unmanaged
{ }

private static unsafe void Bar()
{
    Foo<int?>();
}
```
reports error: ""The type 'int? must be a non-nullable value type...'"".

[Documentation](https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/builtin-types/unmanaged-types) states: ""Any user-defined struct type that contains fields of unmanaged types..."". Don't know why it talks only about ""user-defined"" structs (maybe because of ```Span<T>```?) but I don't know about any reason for disallowing nullable types. They are just structs with two fields (```bool``` and ```T```). So when ```T``` is unmanaged than ```T?``` is unmanaged too.

I'm really depressed of this. I've expected constructed unmanaged types would have worked already in C# 7.3. Now I hoped it would be supported by 8.0 because of explicit addition of support for constructed unmanaged types but it's still not usable enough.
Now I'm workarounding this issue by using ```Unsafe``` class and using runtime checks for checking that ```T``` is unmanaged/blittable (allowing nullable types). It would be nice to have compile time support for this.

Thanks.",Area-Compilers|Bug,sharwell|huoyaoyuan|gafter|davidwrighton,27/09/2019 20:49,
38909,CS8509 is not trigged when null is missing as a pattern when matching a nullable value type,"Dear Sir/Madam

**Version Used**: 
Visual Studio 2019 16.3.1

**Steps to Reproduce**:

1. Use a switch expression on a nullable value type
2. Do not use the `null` pattern
```
bool? input = null;
input switch // No warning
{
    true => ""true""
    false => ""false""
};
```

**Expected Behavior**:

The expected behaviour is a warning forunexhaustive patterns CS8509.
Just as in the following cases
```
double? input = null;
input switch // Warning	CS8509 The switch expression does not handle all possible inputs (it is not exhaustive).
{
    true => ""true""
    null => ""null""
};

#nullable enable
string? input = null;
input switch // Warning	CS8509 The switch expression does not handle all possible inputs (it is not exhaustive).
{
    { } => ""not null""
};
```

**Actual Behavior**:
No warning while there is an unexhaustive pattern.

Thank you in advance.

Regards
NiekGr","CS8509 is not trigged when null is missing as a pattern when matching a nullable value type Dear Sir/Madam

**Version Used**: 
Visual Studio 2019 16.3.1

**Steps to Reproduce**:

1. Use a switch expression on a nullable value type
2. Do not use the `null` pattern
```
bool? input = null;
input switch // No warning
{
    true => ""true""
    false => ""false""
};
```

**Expected Behavior**:

The expected behaviour is a warning forunexhaustive patterns CS8509.
Just as in the following cases
```
double? input = null;
input switch // Warning	CS8509 The switch expression does not handle all possible inputs (it is not exhaustive).
{
    true => ""true""
    null => ""null""
};

#nullable enable
string? input = null;
input switch // Warning	CS8509 The switch expression does not handle all possible inputs (it is not exhaustive).
{
    { } => ""not null""
};
```

**Actual Behavior**:
No warning while there is an unexhaustive pattern.

Thank you in advance.

Regards
NiekGr",Area-Compilers|New Language Feature - Pattern Matching|Resolution-By Design,sharwell|gafter,27/09/2019 20:31,5/10/2019 10:09
38908,Add codefix for CS0708,"**Description**
This PR provides a code-fix for the compiler error `CS0708`.

**Issues fixed**
Fix #31838 ","Add codefix for CS0708 **Description**
This PR provides a code-fix for the compiler error `CS0708`.

**Issues fixed**
Fix #31838 ",Area-IDE|Community,mavasani,,
38907,Fix smart indent with hard tabs (merge to master),This pull request merges #38893 forward to master (version 16.4 preview 2).,Fix smart indent with hard tabs (merge to master) This pull request merges #38893 forward to master (version 16.4 preview 2).,Area-IDE,sharwell|jinujoseph,27/09/2019 15:12,28/09/2019 5:48
38906,Improved formatting of comments and suppressions,"Review by commit is highly recommended to understand the state of the work (each commit is a distinct and non-breaking change).

Fixes #16681 
Fixes #38224","Improved formatting of comments and suppressions Review by commit is highly recommended to understand the state of the work (each commit is a distinct and non-breaking change).

Fixes #16681 
Fixes #38224",Area-IDE,sharwell|mavasani,27/09/2019 14:35,28/09/2019 3:40
38905,EnC: Track documents that do not match the debuggee,"The current Project System design doesn't allow us to capture a solution snapshot at the start of a debug session that would reflect the exact content of the source files on disk the assembly was built with (https://github.com/dotnet/project-system/issues/5457). Roslyn relies on file system watches to detect changes in the source files. Events from the watcher may be handled by Roslyn at any point in time after the debugging started or not at all since the OS does not guarantee the events to be triggered.

The PR adds a source file content checksum validation before the EnC service starts computation that depends on the content of a document at the start of the debug session. The validation compares the checksum stored in the PDB by the compiler with the current content of the file on disk. Documents are considered out-of-sync until the EnC service observes file content with matching checksum.

Fixes https://dev.azure.com/devdiv/DevDiv/_workitems/edit/970821
Fixes https://dev.azure.com/devdiv/DevDiv/_workitems/edit/992537

TODO:
To fix UWP apps [899910](https://devdiv.visualstudio.com/DevDiv/_workitems/edit/899910) we would need to implement https://github.com/dotnet/roslyn/issues/38954. UWP generates an `.g.cs` file with an empty class so the file is not listed in the PDB and also when launched for the first time the document that's added to the workspace is empty. Since there is no checksum to compare to the EnC service considers the empty document a baseline document and then reports rude edit when the file gets updated to the empty class.","EnC: Track documents that do not match the debuggee The current Project System design doesn't allow us to capture a solution snapshot at the start of a debug session that would reflect the exact content of the source files on disk the assembly was built with (https://github.com/dotnet/project-system/issues/5457). Roslyn relies on file system watches to detect changes in the source files. Events from the watcher may be handled by Roslyn at any point in time after the debugging started or not at all since the OS does not guarantee the events to be triggered.

The PR adds a source file content checksum validation before the EnC service starts computation that depends on the content of a document at the start of the debug session. The validation compares the checksum stored in the PDB by the compiler with the current content of the file on disk. Documents are considered out-of-sync until the EnC service observes file content with matching checksum.

Fixes https://dev.azure.com/devdiv/DevDiv/_workitems/edit/970821
Fixes https://dev.azure.com/devdiv/DevDiv/_workitems/edit/992537

TODO:
To fix UWP apps [899910](https://devdiv.visualstudio.com/DevDiv/_workitems/edit/899910) we would need to implement https://github.com/dotnet/roslyn/issues/38954. UWP generates an `.g.cs` file with an empty class so the file is not listed in the PDB and also when launched for the first time the document that's added to the workspace is empty. Since there is no checksum to compare to the EnC service considers the empty document a baseline document and then reports rude edit when the file gets updated to the empty class.",Area-Compilers|Area-IDE,jcouv,,
38904,Completion: refactor FilterResult,"Due to getting rid of the old completion we are allowed now to simplify more completion code:
1. Merge ExtendedFilterResult to FilterResult and rename both to MatchResult.
2. Remove FilterText from MatchResult - it is common for all MatchResult in the current ItemManager call.
3. Move HighlightedSpans to MatchResult because we calculate them based on Match. No need to create and maintain a separate collection of CompletionItemWithHighlight until responding to the Editor.
4. Extract TryCreateMatchResult from the loop of creating MatchResults.
5. Merge IsHardSelection with ShouldSoftSelectItem (one just called another and reverted result)

4. ","Completion: refactor FilterResult Due to getting rid of the old completion we are allowed now to simplify more completion code:
1. Merge ExtendedFilterResult to FilterResult and rename both to MatchResult.
2. Remove FilterText from MatchResult - it is common for all MatchResult in the current ItemManager call.
3. Move HighlightedSpans to MatchResult because we calculate them based on Match. No need to create and maintain a separate collection of CompletionItemWithHighlight until responding to the Editor.
4. Extract TryCreateMatchResult from the loop of creating MatchResults.
5. Merge IsHardSelection with ShouldSoftSelectItem (one just called another and reverted result)

4. ",Area-IDE|Concept-Continuous Improvement|IDE-IntelliSense,ivanbasov,27/09/2019 12:00,28/09/2019 10:50
38903,Merge master to master-vs-deps,"
This is an automatically generated pull request from master into master-vs-deps.

``` bash
git fetch --all
git checkout merges/master-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge master to master-vs-deps 
This is an automatically generated pull request from master into master-vs-deps.

``` bash
git fetch --all
git checkout merges/master-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|RikkiGibson,27/09/2019 10:02,1/10/2019 5:43
38902,Merge release/dev16.4-preview1 to release/dev16.4-preview1-vs-deps,"
This is an automatically generated pull request from release/dev16.4-preview1 into release/dev16.4-preview1-vs-deps.

``` bash
git fetch --all
git checkout merges/release/dev16.4-preview1-to-release/dev16.4-preview1-vs-deps
git reset --hard upstream/release/dev16.4-preview1-vs-deps
git merge upstream/release/dev16.4-preview1
# Fix merge conflicts
git commit
git push upstream merges/release/dev16.4-preview1-to-release/dev16.4-preview1-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge release/dev16.4-preview1 to release/dev16.4-preview1-vs-deps 
This is an automatically generated pull request from release/dev16.4-preview1 into release/dev16.4-preview1-vs-deps.

``` bash
git fetch --all
git checkout merges/release/dev16.4-preview1-to-release/dev16.4-preview1-vs-deps
git reset --hard upstream/release/dev16.4-preview1-vs-deps
git merge upstream/release/dev16.4-preview1
# Fix merge conflicts
git commit
git push upstream merges/release/dev16.4-preview1-to-release/dev16.4-preview1-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|RikkiGibson,27/09/2019 10:02,1/10/2019 5:51
38901,Merge release/dev16.4-preview1 to master,"
This is an automatically generated pull request from release/dev16.4-preview1 into master.

``` bash
git fetch --all
git checkout merges/release/dev16.4-preview1-to-master
git reset --hard upstream/master
git merge upstream/release/dev16.4-preview1
# Fix merge conflicts
git commit
git push upstream merges/release/dev16.4-preview1-to-master --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge release/dev16.4-preview1 to master 
This is an automatically generated pull request from release/dev16.4-preview1 into master.

``` bash
git fetch --all
git checkout merges/release/dev16.4-preview1-to-master
git reset --hard upstream/master
git merge upstream/release/dev16.4-preview1
# Fix merge conflicts
git commit
git push upstream merges/release/dev16.4-preview1-to-master --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|Blocked,dotnet-bot|RikkiGibson|genlu,27/09/2019 10:00,2/10/2019 6:55
38900,[IDE0069] Disposable fields when passed from the outside should not be disposed,"**Version Used**: 
Visual Studio 16.3.0

**Steps to Reproduce**:

According to [CA2213](https://docs.microsoft.com/en-us/visualstudio/code-quality/ca2213-disposable-fields-should-be-disposed?view=vs-2019) only disposable fields that were created locally should be disposed inside the `Dispose` method. But **If the object is created or assigned outside of type T the rule does not fire. This reduces noise for cases where the containing type doesn't own the responsibility for disposing of the object.**.

It means that the following code should not trigger IDE0069:

```csharp
internal class FooBar : IDisposable
{
    private readonly Stream _d;

    public FooBar(Stream d)
    {
        _d = d;
    }

    public void Dispose()
    {
        throw new NotImplementedException();
    }

    public override string ToString()
    {
        return _d.ToString();
    }
}
```

But it does.

**Expected Behavior**:

`FooBar` should not have any IDE0069 diagnostics.

**Actual Behavior**:

The IDE0069 diagnostic is emitted for disposable fields passed via constructor
","[IDE0069] Disposable fields when passed from the outside should not be disposed **Version Used**: 
Visual Studio 16.3.0

**Steps to Reproduce**:

According to [CA2213](https://docs.microsoft.com/en-us/visualstudio/code-quality/ca2213-disposable-fields-should-be-disposed?view=vs-2019) only disposable fields that were created locally should be disposed inside the `Dispose` method. But **If the object is created or assigned outside of type T the rule does not fire. This reduces noise for cases where the containing type doesn't own the responsibility for disposing of the object.**.

It means that the following code should not trigger IDE0069:

```csharp
internal class FooBar : IDisposable
{
    private readonly Stream _d;

    public FooBar(Stream d)
    {
        _d = d;
    }

    public void Dispose()
    {
        throw new NotImplementedException();
    }

    public override string ToString()
    {
        return _d.ToString();
    }
}
```

But it does.

**Expected Behavior**:

`FooBar` should not have any IDE0069 diagnostics.

**Actual Behavior**:

The IDE0069 diagnostic is emitted for disposable fields passed via constructor
",Area-IDE|Question,sharwell|mavasani|jinujoseph,27/09/2019 9:50,
38899,"Intellisense is not very smart suggests ""struct"" instead of ""string""","_This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/726472/intellisense-is-not-very-smart-suggests-struct-ins.html)._

---
Let's say I'm defining a simple class in C#. Now I want to define a string member so I type &quot;public str&quot;. At this point Intellisense suggests

struct

instead of

string

In order to autocomplete &quot;string&quot; I must type &quot;i&quot; or else &lt;up&gt; once to focus it in the drop down.

This seems entirely wrong because string is much more likely to be used here; in fact struct is (I believe) not even legal here. &quot;string&quot; also comes fiirst alphabetically so why suggest &quot;struct&quot; instead?

---
### Original Comments

#### Visual Studio Feedback System on 9/9/2019 03:35 AM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>


---
### Original Solutions
(no solutions)","Intellisense is not very smart, suggests ""struct"" instead of ""string"" _This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/726472/intellisense-is-not-very-smart-suggests-struct-ins.html)._

---
Let's say I'm defining a simple class in C#. Now I want to define a string member so I type &quot;public str&quot;. At this point Intellisense suggests

struct

instead of

string

In order to autocomplete &quot;string&quot; I must type &quot;i&quot; or else &lt;up&gt; once to focus it in the drop down.

This seems entirely wrong because string is much more likely to be used here; in fact struct is (I believe) not even legal here. &quot;string&quot; also comes fiirst alphabetically so why suggest &quot;struct&quot; instead?

---
### Original Comments

#### Visual Studio Feedback System on 9/9/2019 03:35 AM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>


---
### Original Solutions
(no solutions)",Area-IDE|Bug,gafter|jinujoseph,27/09/2019 9:28,
38898,Incorrect CS0411 (type argument inference failure) with three projects when one uses NRTs and one doesn't,"**Version Used**: Visual Studio 16.3.1

MSBuild at the command line and VS builds both incorrectly fail with this build output:

> error CS0411: The type arguments for method 'ProjectAStaticClass.GenericMethod\<T>(IBaseInterface\<T>)'
cannot be inferred from the usage. Try specifying the type arguments explicitly.

If you remove `<Nullable>enable</Nullable>` from ProjectA (see below) or add it to ProjectB ProjectC will stop failing with this bogus error.

The error list sometimes shows this error until you navigate to it. Then it disappears. Other times the VS build fails and the error list stays showing 0 errors. If you specify the type argument the IDE greys it because it's redundant.

Self-contained repro: [TypeArgumentInferenceFailure.zip](https://github.com/dotnet/roslyn/files/3660231/TypeArgumentInferenceFailure.zip)

Run Repro.ps1. (Adjust the msbuild path if you don't have VS 2019 Enterprise installed at the default location.)

/cc @jcouv @333fred at @CyrusNajmabadi's recommendation","Incorrect CS0411 (type argument inference failure) with three projects when one uses NRTs and one doesn't **Version Used**: Visual Studio 16.3.1

MSBuild at the command line and VS builds both incorrectly fail with this build output:

> error CS0411: The type arguments for method 'ProjectAStaticClass.GenericMethod\<T>(IBaseInterface\<T>)'
cannot be inferred from the usage. Try specifying the type arguments explicitly.

If you remove `<Nullable>enable</Nullable>` from ProjectA (see below) or add it to ProjectB ProjectC will stop failing with this bogus error.

The error list sometimes shows this error until you navigate to it. Then it disappears. Other times the VS build fails and the error list stays showing 0 errors. If you specify the type argument the IDE greys it because it's redundant.

Self-contained repro: [TypeArgumentInferenceFailure.zip](https://github.com/dotnet/roslyn/files/3660231/TypeArgumentInferenceFailure.zip)

Run Repro.ps1. (Adjust the msbuild path if you don't have VS 2019 Enterprise installed at the default location.)

/cc @jcouv @333fred at @CyrusNajmabadi's recommendation",Area-Compilers|New Language Feature - Nullable Reference Types,jcouv,,
38897,References to VB.NET methods are not showing up in CodeLens if they are in an aspx page.,"_This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/720917/references-to-vbnet-methods-are-not-showing-up-in.html)._

---
What steps will reproduce the problem?
1. Create a VB.NET class in project A with some methods
2. Create an aspx page in a separate project B in the same solution.
3. In one of the aspx pages refereence one of your methods from project A.
4. Look at CodeLens  for your methods in project A.

What is the expected output? What do you see instead?
Expected: CodeLens shows usages of the methods.
Actual: CodeLens does not show usages of the methods; you hvae to use Find to find them.

---
### Original Comments

#### Visual Studio Feedback System on 9/4/2019 00:26 AM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>


---
### Original Solutions
(no solutions)","References to VB.NET methods are not showing up in CodeLens if they are in an aspx page. _This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/720917/references-to-vbnet-methods-are-not-showing-up-in.html)._

---
What steps will reproduce the problem?
1. Create a VB.NET class in project A with some methods
2. Create an aspx page in a separate project B in the same solution.
3. In one of the aspx pages refereence one of your methods from project A.
4. Look at CodeLens  for your methods in project A.

What is the expected output? What do you see instead?
Expected: CodeLens shows usages of the methods.
Actual: CodeLens does not show usages of the methods; you hvae to use Find to find them.

---
### Original Comments

#### Visual Studio Feedback System on 9/4/2019 00:26 AM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>


---
### Original Solutions
(no solutions)",Area-IDE|Bug|IDE-IntelliSense,gafter|jinujoseph,27/09/2019 9:21,
38896,The IDE does not respect 'open brace on new line' preferences for switch expressions.,"_This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/719582/the-ide-does-not-respect-open-brace-on-new-line-pr.html)._

---
The 'fix formatting' option and automatic formatting seem to really want to put the open brace on a new line in code such as the following:
```
allWires.Append(i switch {
	0 =&gt; &quot;CutFirstWire CutSecondWire&quot;
	1 =&gt; &quot; CutThirdWire&quot;
	2 =&gt; &quot; CutFourthWire&quot;
	3 =&gt; &quot; CutFifthWire&quot;
	_ =&gt; &quot;&quot;
});
```
This occurs even with `csharp_new_line_before_open_brace = none` specified in `.editorconfig` and there is no option in the GUI for switch expressions. Such an option should be added.

---
### Original Comments

#### Visual Studio Feedback System on 9/2/2019 00:38 AM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>


---
### Original Solutions
(no solutions)","The IDE does not respect 'open brace on new line' preferences for switch expressions. _This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/719582/the-ide-does-not-respect-open-brace-on-new-line-pr.html)._

---
The 'fix formatting' option and automatic formatting seem to really want to put the open brace on a new line in code such as the following:
```
allWires.Append(i switch {
	0 =&gt; &quot;CutFirstWire CutSecondWire&quot;
	1 =&gt; &quot; CutThirdWire&quot;
	2 =&gt; &quot; CutFourthWire&quot;
	3 =&gt; &quot; CutFifthWire&quot;
	_ =&gt; &quot;&quot;
});
```
This occurs even with `csharp_new_line_before_open_brace = none` specified in `.editorconfig` and there is no option in the GUI for switch expressions. Such an option should be added.

---
### Original Comments

#### Visual Studio Feedback System on 9/2/2019 00:38 AM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>


---
### Original Solutions
(no solutions)",Area-IDE|Concept-Continuous Improvement|IDE-Formatter|Resolution-Duplicate,sharwell|jinujoseph,27/09/2019 9:16,15/10/2019 8:59
38895,Visual Studio 2019 code format outputs wrong code when using Unicode character U+00A0 NBSP,"_This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/715936/visual-studio-2019-code-format-outputs-wrong-code.html)._

---
See example code to reproduce the issue.
You can format with Edit/Advanced/Format Document

Note that both lines using `new T()` contain U+00A0 character which is of Zs category and thus a valid space.
The `{typeof(T)&nbsp;new&nbsp;T()}`  will become `{typeof(T)newT()}` after formatting resulting in compilation error.

Reproduced with 16.2.3

```
using System;
using System.Collections.Generic;

namespace Unicode
{
    public class T
    {
        internal static readonly Dictionary&lt;Type T&gt; WillFailOnFormat = new Dictionary&lt;Type T&gt;
        {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{typeof(T)&nbsp;new&nbsp;T()}
        };
        
internal&nbsp;static&nbsp;T&nbsp;WillNotFailOnFormat&nbsp;=&nbsp;new&nbsp;T();
    }
}

```

---
### Original Comments

#### Ivan LE LANN on 8/28/2019 09:30 AM: 

It seems that special space characters in example code where sadly removed during submission process.<br>I cannot upload any attachment from work so anyone wanting to reproduce will have to manually replace the ASCII space between ""new"" and ""T"" with U+00A0.<br>
#### Visual Studio Feedback System on 8/30/2019 00:08 AM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>


---
### Original Solutions
(no solutions)","Visual Studio 2019 code format outputs wrong code when using Unicode character U+00A0 NBSP _This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/715936/visual-studio-2019-code-format-outputs-wrong-code.html)._

---
See example code to reproduce the issue.
You can format with Edit/Advanced/Format Document

Note that both lines using `new T()` contain U+00A0 character which is of Zs category and thus a valid space.
The `{typeof(T)&nbsp;new&nbsp;T()}`  will become `{typeof(T)newT()}` after formatting resulting in compilation error.

Reproduced with 16.2.3

```
using System;
using System.Collections.Generic;

namespace Unicode
{
    public class T
    {
        internal static readonly Dictionary&lt;Type T&gt; WillFailOnFormat = new Dictionary&lt;Type T&gt;
        {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{typeof(T)&nbsp;new&nbsp;T()}
        };
        
internal&nbsp;static&nbsp;T&nbsp;WillNotFailOnFormat&nbsp;=&nbsp;new&nbsp;T();
    }
}

```

---
### Original Comments

#### Ivan LE LANN on 8/28/2019 09:30 AM: 

It seems that special space characters in example code where sadly removed during submission process.<br>I cannot upload any attachment from work so anyone wanting to reproduce will have to manually replace the ASCII space between ""new"" and ""T"" with U+00A0.<br>
#### Visual Studio Feedback System on 8/30/2019 00:08 AM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>


---
### Original Solutions
(no solutions)",4 - In Review|Area-IDE|Bug|IDE-Formatter,sharwell|jinujoseph,27/09/2019 9:05,
38894,Move to Platform team's Find All References Kind Column,"Delete a bunch of code on Roslyn side which is no longer necessary as we don't own the Kind column anymore it has been moved to the platform layer and shared with other teams.

I have also cleaned up some code in this space for newly added ContainingType and ContainingMember columns.

Fixes VSO bug [#822324](https://devdiv.visualstudio.com/DevDiv/_workitems/edit/822324)","Move to Platform team's Find All References Kind Column Delete a bunch of code on Roslyn side which is no longer necessary as we don't own the Kind column anymore it has been moved to the platform layer and shared with other teams.

I have also cleaned up some code in this space for newly added ContainingType and ContainingMember columns.

Fixes VSO bug [#822324](https://devdiv.visualstudio.com/DevDiv/_workitems/edit/822324)",Area-IDE,mavasani|jaredpar|jasonmalinowski|dpoeschl|agocke|JoeRobich|jinujoseph,27/09/2019 7:56,30/09/2019 5:00
38893,Fix smart indent with hard tabs (16.3 servicing),"Fixes #38798
Fixes #38819

### Customer scenario

When a user with indentation set to hard tabs is editing code the code will not be correctly indented in some cases. These cases include:

* The caret is placed to the left of the first non-whitespace character but not all the way left to column 1. For example the caret is typically in an affected location if the user presses <kbd>Home</kbd>.
* The caret is placed between two parts of a compound statement such as the situation described by https://github.com/dotnet/roslyn/issues/38819#issuecomment-534728599.

### Bugs this fixes

#38798 
#38819 
https://devdiv.visualstudio.com/DevDiv/_workitems/edit/987951 ([Public link](https://developercommunity.visualstudio.com/content/problem/745432/c-smart-indenting-is-broken-in-1630.html))

### Workarounds if any

None.

### Risk

Low.

### Performance impact

Negligible. No significant changes to existing code paths.

### Is this a regression from a previous update?

Yes regression from previous minor version.

### Root cause analysis

Hard tabs was an untested configuration for indentation. The existing test suite was updated to also test hard tabs for indentation in all scenarios previously covered by spaces only.

### How was the bug found?

Customer reported.

### Test documentation updated?

No.","Fix smart indent with hard tabs (16.3 servicing) Fixes #38798
Fixes #38819

### Customer scenario

When a user with indentation set to hard tabs is editing code the code will not be correctly indented in some cases. These cases include:

* The caret is placed to the left of the first non-whitespace character but not all the way left to column 1. For example the caret is typically in an affected location if the user presses <kbd>Home</kbd>.
* The caret is placed between two parts of a compound statement such as the situation described by https://github.com/dotnet/roslyn/issues/38819#issuecomment-534728599.

### Bugs this fixes

#38798 
#38819 
https://devdiv.visualstudio.com/DevDiv/_workitems/edit/987951 ([Public link](https://developercommunity.visualstudio.com/content/problem/745432/c-smart-indenting-is-broken-in-1630.html))

### Workarounds if any

None.

### Risk

Low.

### Performance impact

Negligible. No significant changes to existing code paths.

### Is this a regression from a previous update?

Yes regression from previous minor version.

### Root cause analysis

Hard tabs was an untested configuration for indentation. The existing test suite was updated to also test hard tabs for indentation in all scenarios previously covered by spaces only.

### How was the bug found?

Customer reported.

### Test documentation updated?

No.",Area-IDE|Needs Shiproom Approval,sharwell|jinujoseph,27/09/2019 7:37,
38891,Merge master to features/local-function-attributes,"
This is an automatically generated pull request from master into features/local-function-attributes.
(created from a manual run of the PR generation tool)

``` bash
git fetch --all
git checkout merges/master-to-features/local-function-attributes
git reset --hard upstream/features/local-function-attributes
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-features/local-function-attributes --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge master to features/local-function-attributes 
This is an automatically generated pull request from master into features/local-function-attributes.
(created from a manual run of the PR generation tool)

``` bash
git fetch --all
git checkout merges/master-to-features/local-function-attributes
git reset --hard upstream/features/local-function-attributes
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-features/local-function-attributes --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|RikkiGibson,27/09/2019 4:43,1/10/2019 4:02
38890,Merge master to master-vs-deps,"
This is an automatically generated pull request from master into master-vs-deps.
(created from a manual run of the PR generation tool)

``` bash
git fetch --all
git checkout merges/master-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge master to master-vs-deps 
This is an automatically generated pull request from master into master-vs-deps.
(created from a manual run of the PR generation tool)

``` bash
git fetch --all
git checkout merges/master-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|JoeRobich,27/09/2019 4:43,27/09/2019 8:29
38889,Merge release/dev16.4-preview1-vs-deps to master-vs-deps,"
This is an automatically generated pull request from release/dev16.4-preview1-vs-deps into master-vs-deps.
(created from a manual run of the PR generation tool)

``` bash
git fetch --all
git checkout merges/release/dev16.4-preview1-vs-deps-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/release/dev16.4-preview1-vs-deps
# Fix merge conflicts
git commit
git push upstream merges/release/dev16.4-preview1-vs-deps-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge release/dev16.4-preview1-vs-deps to master-vs-deps 
This is an automatically generated pull request from release/dev16.4-preview1-vs-deps into master-vs-deps.
(created from a manual run of the PR generation tool)

``` bash
git fetch --all
git checkout merges/release/dev16.4-preview1-vs-deps-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/release/dev16.4-preview1-vs-deps
# Fix merge conflicts
git commit
git push upstream merges/release/dev16.4-preview1-vs-deps-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|JoeRobich,27/09/2019 4:42,27/09/2019 8:30
38888,Merge release/dev16.4-preview1 to master,"
This is an automatically generated pull request from release/dev16.4-preview1 into master.
(created from a manual run of the PR generation tool)

``` bash
git fetch --all
git checkout merges/release/dev16.4-preview1-to-master
git reset --hard upstream/master
git merge upstream/release/dev16.4-preview1
# Fix merge conflicts
git commit
git push upstream merges/release/dev16.4-preview1-to-master --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge release/dev16.4-preview1 to master 
This is an automatically generated pull request from release/dev16.4-preview1 into master.
(created from a manual run of the PR generation tool)

``` bash
git fetch --all
git checkout merges/release/dev16.4-preview1-to-master
git reset --hard upstream/master
git merge upstream/release/dev16.4-preview1
# Fix merge conflicts
git commit
git push upstream merges/release/dev16.4-preview1-to-master --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|genlu,27/09/2019 4:42,27/09/2019 7:34
38887,Fix an accidental reverse caused by a bad merge,"The change was originally made in PR #37894. However it was later overwritten by auto-merge when flowing changes from 16.3 to 16.4p1 in this commit https://github.com/dotnet/roslyn/commit/7b852992edd8fddf1fce2854cedb764741c3087d

This PR restore the code to the correct state which matches what we shipped in 16.4p1

Thanks @RikkiGibson for noticing this issue!

FYI @ivanbasov @dotnet/roslyn-infrastructure ","Fix an accidental reverse caused by a bad merge The change was originally made in PR #37894. However it was later overwritten by auto-merge when flowing changes from 16.3 to 16.4p1 in this commit https://github.com/dotnet/roslyn/commit/7b852992edd8fddf1fce2854cedb764741c3087d

This PR restore the code to the correct state which matches what we shipped in 16.4p1

Thanks @RikkiGibson for noticing this issue!

FYI @ivanbasov @dotnet/roslyn-infrastructure ",Area-Infrastructure,genlu|ivanbasov|RikkiGibson|jaredpar|jasonmalinowski|dpoeschl|agocke|JoeRobich|jinujoseph,27/09/2019 4:27,27/09/2019 6:30
38886,Add editorconfig options to bulk configure analyzer diagnostics,"Fixes #38674

Following new editorconfig options are added to allow changing the default severity of analyzer diagnostics:
1. Category based configuration:
```
[*.cs]
dotnet_analyzer_diagnostic.category-{category}.severity = error | warning | suggestion | silent | none
```

2. All analyzer diagnostics bulk configuration:
```
[*.cs]
dotnet_analyzer_diagnostic.severity = error | warning | suggestion | silent | none
```

Specific diagnostic ID configuration always takes precedence over either of the above options.
Category based configuration takes precedence over all analyzer diagnostics bulk configuration.","Add editorconfig options to bulk configure analyzer diagnostics Fixes #38674

Following new editorconfig options are added to allow changing the default severity of analyzer diagnostics:
1. Category based configuration:
```
[*.cs]
dotnet_analyzer_diagnostic.category-{category}.severity = error | warning | suggestion | silent | none
```

2. All analyzer diagnostics bulk configuration:
```
[*.cs]
dotnet_analyzer_diagnostic.severity = error | warning | suggestion | silent | none
```

Specific diagnostic ID configuration always takes precedence over either of the above options.
Category based configuration takes precedence over all analyzer diagnostics bulk configuration.",Area-Analyzers|Area-Compilers,agocke,,
38885,IDE0059 - Unneccessary assignment is not reported in a Test class using XUnit and Mock,"**Version Used**: 
16.3.0
.net core SDK 2.2.402

**Steps to Reproduce**:
I have some tests using Xunit and Mock when  I use Setup in a mock IDE0059 is not reported.
Here is a little example

```csharp
using System;
using System.Threading.Tasks;
using Gbm.Api.Crm.Repositories.Abstractions;
using Moq;
using Xunit;


public class Ide0059Test
{
    [Fact]
    public void Test_IDE0059_Not_Firing()
    {
        Guid contractId = Guid.NewGuid();
        Guid accountId = Guid.NewGuid(); // ide0059 not reported

        var contractRepository = new Mock<IContractRepository>();
        contractRepository
           .Setup(m => m.FindByIdAsync(It.Is<Guid>(i => i == contractId)))
           .Returns(Task.FromResult((Crm.Repositories.Abstractions.DataContracts.Contract)null))
           .Verifiable();
    }
    [Fact]
    public void Test_IDE0059_Firing()
    {
        Guid contractId = Guid.NewGuid();
        Guid accountId = Guid.NewGuid(); // ide0059 error
        if (contractId != default)
        {
            Console.WriteLine(contractId);
        }
    }
}
```

**Expected Behavior**:
IDE0059 warning
**Actual Behavior**:
No warning
","IDE0059 - Unneccessary assignment is not reported in a Test class using XUnit and Mock **Version Used**: 
16.3.0
.net core SDK 2.2.402

**Steps to Reproduce**:
I have some tests using Xunit and Mock when  I use Setup in a mock IDE0059 is not reported.
Here is a little example

```csharp
using System;
using System.Threading.Tasks;
using Gbm.Api.Crm.Repositories.Abstractions;
using Moq;
using Xunit;


public class Ide0059Test
{
    [Fact]
    public void Test_IDE0059_Not_Firing()
    {
        Guid contractId = Guid.NewGuid();
        Guid accountId = Guid.NewGuid(); // ide0059 not reported

        var contractRepository = new Mock<IContractRepository>();
        contractRepository
           .Setup(m => m.FindByIdAsync(It.Is<Guid>(i => i == contractId)))
           .Returns(Task.FromResult((Crm.Repositories.Abstractions.DataContracts.Contract)null))
           .Verifiable();
    }
    [Fact]
    public void Test_IDE0059_Firing()
    {
        Guid contractId = Guid.NewGuid();
        Guid accountId = Guid.NewGuid(); // ide0059 error
        if (contractId != default)
        {
            Console.WriteLine(contractId);
        }
    }
}
```

**Expected Behavior**:
IDE0059 warning
**Actual Behavior**:
No warning
",Area-IDE|Bug|IDE-CodeStyle|Resolution-By Design,mavasani,,
38884,Unable to find package Microsoft.DotNet.Arcade.Sdk while Restore.cmd,"This might be duplicated or a dumb question but I am having this issue and have no idea what's going on under the hood :( 

**Version Used**: 

Commit: `8c8cdca` (master)
VS 2019 16.3 
   * C# VB MSBuild .NET Core and Visual Studio Extensibility are installed
   * ""Use Previews"" is checked

**Steps to Reproduce**:
```
$ git clean -dfx
$ .\Restore.cmd -v diag
```

**Expected Behavior**:
The toolset is supposed to be Restored.

**Actual Behavior**:
It tries to find the 'arcade' package in the wrong place.

```
PS C:\Users\enghq\workspace\roslyn> git clean -dfx
Removing .dotnet/
Removing .tools/
Removing artifacts/
PS C:\Users\enghq\workspace\roslyn> .\Restore.cmd -v diag
Roslyn.sln:
dotnet-install: Downloading link: https://dotnetcli.azureedge.net/dotnet/Sdk/3.0.100-preview6-012264/dotnet-sdk-3.0.100-preview6-012264-win-x64.zip
dotnet-install: Extracting zip from https://dotnetcli.azureedge.net/dotnet/Sdk/3.0.100-preview6-012264/dotnet-sdk-3.0.100-preview6-012264-win-x64.zip
dotnet-install: Adding to current process PATH: ""C:\Users\enghq\workspace\roslyn\.dotnet\"". Note: This change will not be visible if PowerShell was run as a child process.
dotnet-install: Installation finished
Downloading vswhere
C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\MSBuild\Current\Bin\msbuild.exe /nologo /clp:Summary /clp:ErrorsOnly;NoSummary /m /nr:True /p:ContinuousIntegrationBuild=False /p:TreatWarningsAsErrors=false /p:__ToolsetLocationOutputFile=C:\Users\enghq\workspace\roslyn\artifacts\toolset\1.0.0-beta.19463.3.txt /t:__WriteToolsetLocation /v:diag C:\Users\enghq\workspace\roslyn\artifacts\toolset\restore.proj
02:11:30.856     0>C:\Users\enghq\workspace\roslyn\artifacts\toolset\restore.proj : error : Unable to find package Microsoft.DotNet.Arcade.Sdk. No packages exist with this id in source(s): Microsoft Visual Studio Offline Packages nuget.org
02:11:30.856     0>C:\Users\enghq\workspace\roslyn\artifacts\toolset\restore.proj : error : C:\Users\enghq\workspace\roslyn\.dotnet\sdk\3.0.100-preview6-012264\Sdks\Microsoft.DotNet.Arcade.Sdk\Sdk not found. Check that a recent enough .NET Core SDK is installed and/or increase the version specified in global.json.
02:11:30.862     1>C:\Users\enghq\workspace\roslyn\artifacts\toolset\restore.proj : error MSB4236: The SDK 'Microsoft.DotNet.Arcade.Sdk' specified could not be found.
Build failed.
```

**FYI**
`dotnet restore Roslyn.sln` also doesn't work. 
","Unable to find package Microsoft.DotNet.Arcade.Sdk while Restore.cmd This might be duplicated or a dumb question but I am having this issue and have no idea what's going on under the hood :( 

**Version Used**: 

Commit: `8c8cdca` (master)
VS 2019 16.3 
   * C# VB MSBuild .NET Core and Visual Studio Extensibility are installed
   * ""Use Previews"" is checked

**Steps to Reproduce**:
```
$ git clean -dfx
$ .\Restore.cmd -v diag
```

**Expected Behavior**:
The toolset is supposed to be Restored.

**Actual Behavior**:
It tries to find the 'arcade' package in the wrong place.

```
PS C:\Users\enghq\workspace\roslyn> git clean -dfx
Removing .dotnet/
Removing .tools/
Removing artifacts/
PS C:\Users\enghq\workspace\roslyn> .\Restore.cmd -v diag
Roslyn.sln:
dotnet-install: Downloading link: https://dotnetcli.azureedge.net/dotnet/Sdk/3.0.100-preview6-012264/dotnet-sdk-3.0.100-preview6-012264-win-x64.zip
dotnet-install: Extracting zip from https://dotnetcli.azureedge.net/dotnet/Sdk/3.0.100-preview6-012264/dotnet-sdk-3.0.100-preview6-012264-win-x64.zip
dotnet-install: Adding to current process PATH: ""C:\Users\enghq\workspace\roslyn\.dotnet\"". Note: This change will not be visible if PowerShell was run as a child process.
dotnet-install: Installation finished
Downloading vswhere
C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\MSBuild\Current\Bin\msbuild.exe /nologo /clp:Summary /clp:ErrorsOnly;NoSummary /m /nr:True /p:ContinuousIntegrationBuild=False /p:TreatWarningsAsErrors=false /p:__ToolsetLocationOutputFile=C:\Users\enghq\workspace\roslyn\artifacts\toolset\1.0.0-beta.19463.3.txt /t:__WriteToolsetLocation /v:diag C:\Users\enghq\workspace\roslyn\artifacts\toolset\restore.proj
02:11:30.856     0>C:\Users\enghq\workspace\roslyn\artifacts\toolset\restore.proj : error : Unable to find package Microsoft.DotNet.Arcade.Sdk. No packages exist with this id in source(s): Microsoft Visual Studio Offline Packages nuget.org
02:11:30.856     0>C:\Users\enghq\workspace\roslyn\artifacts\toolset\restore.proj : error : C:\Users\enghq\workspace\roslyn\.dotnet\sdk\3.0.100-preview6-012264\Sdks\Microsoft.DotNet.Arcade.Sdk\Sdk not found. Check that a recent enough .NET Core SDK is installed and/or increase the version specified in global.json.
02:11:30.862     1>C:\Users\enghq\workspace\roslyn\artifacts\toolset\restore.proj : error MSB4236: The SDK 'Microsoft.DotNet.Arcade.Sdk' specified could not be found.
Build failed.
```

**FYI**
`dotnet restore Roslyn.sln` also doesn't work. 
",Area-Infrastructure|Contributor Pain,tmat|jaredpar|jasonmalinowski|dpoeschl|agocke|JoeRobich|jinujoseph|sharwell,27/09/2019 3:20,28/09/2019 1:52
38883,Bump format version,,Bump format version ,Area-Infrastructure,JoeRobich|jaredpar|dotnet-bot|sharwell,27/09/2019 2:57,27/09/2019 5:52
38881,Spelling fixes,,Spelling fixes ,Area-IDE|Community,nnpcYvIVl|jinujoseph,26/09/2019 23:58,27/09/2019 3:02
38880,Spelling fixes,,Spelling fixes ,Area-IDE|Community,JoeRobich,,
38879,Convert to conditional expression refactoring disgards null-forgiving operator,"**Version Used**: Visual Studio 2019 Version 16.4

**Steps to Reproduce**:

```cs
#nullable enable

class Program
{
    public static string Method(bool empty)
    {
        if (empty)
        {
            return string.Empty;
        }

        return null!;
    }
}
```

**Expected Behavior**:

```cs
#nullable enable

class Program
{
    public static string Method(bool empty)
    {
        return empty ? string.Empty : null!;
    }
}
```

**Actual Behavior**:

```cs
#nullable enable

class Program
{
    public static string Method(bool empty)
    {
        return empty ? string.Empty : null;
    }
}
```","Convert to conditional expression refactoring disgards null-forgiving operator **Version Used**: Visual Studio 2019 Version 16.4

**Steps to Reproduce**:

```cs
#nullable enable

class Program
{
    public static string Method(bool empty)
    {
        if (empty)
        {
            return string.Empty;
        }

        return null!;
    }
}
```

**Expected Behavior**:

```cs
#nullable enable

class Program
{
    public static string Method(bool empty)
    {
        return empty ? string.Empty : null!;
    }
}
```

**Actual Behavior**:

```cs
#nullable enable

class Program
{
    public static string Method(bool empty)
    {
        return empty ? string.Empty : null;
    }
}
```",Area-IDE|Bug|New Language Feature - Nullable Semantic Model,ryzngard,,
38878,Intellisense should not show GetType for span,"**Version Used**: master

**Steps to Reproduce**:

```csharp
using System;

public class C {
    public static void M() {
        var span = new int[]{}.AsSpan();
        span.GetType();
    }
}
```

The above fails to compile with the following error:

error CS0029: Cannot implicitly convert type 'System.Span<int>' to 'object'

Therefore it would be best if intellisense didn't suggest the GetType() method. Alternatively span could hide GetType with a working non boxing implementation.","Intellisense should not show GetType for span **Version Used**: master

**Steps to Reproduce**:

```csharp
using System;

public class C {
    public static void M() {
        var span = new int[]{}.AsSpan();
        span.GetType();
    }
}
```

The above fails to compile with the following error:

error CS0029: Cannot implicitly convert type 'System.Span<int>' to 'object'

Therefore it would be best if intellisense didn't suggest the GetType() method. Alternatively span could hide GetType with a working non boxing implementation.",Area-IDE|Concept-Continuous Improvement|IDE-IntelliSense|help wanted,sharwell,26/09/2019 23:03,
38877,Spelling fixes,,Spelling fixes ,Area-IDE|Community,dibarbet,,
38876,IDE0039 (Use local function) should not be reported if casting would be required,"**Version Used**: 
VS2019 16.4 P1

**Steps to Reproduce**:
```csharp
        using System;

        public class Test
        {
            public void Example()
            {
                Func<int bool> func = _ => true;

                Do(func);
            }

            public void Do(Func<int bool> f) { }
            public void Do(Predicate<int> p) { }
        }
```

**Expected/Actual Behavior**:
IDE0039 is suggested and codefix is available - it introduces local function and then adds explicit cast to `Func`:
```csharp
static bool func(int _) => true;

Do((Func<int bool>)func);
```

It probably makes no sense right?","IDE0039 (Use local function) should not be reported, if casting would be required **Version Used**: 
VS2019 16.4 P1

**Steps to Reproduce**:
```csharp
        using System;

        public class Test
        {
            public void Example()
            {
                Func<int bool> func = _ => true;

                Do(func);
            }

            public void Do(Func<int bool> f) { }
            public void Do(Predicate<int> p) { }
        }
```

**Expected/Actual Behavior**:
IDE0039 is suggested and codefix is available - it introduces local function and then adds explicit cast to `Func`:
```csharp
static bool func(int _) => true;

Do((Func<int bool>)func);
```

It probably makes no sense right?",Area-IDE|Concept-Continuous Improvement|Need Design Review,gafter|jinujoseph,26/09/2019 20:27,
38875,OpenSolutionAsync appears to die quietly,"**Version Used**: 
netcoreapp2.2 commandline project
VS Code (VS 2017 is installed as well)

    <PackageReference Include=""CommandLineParser"" Version=""2.6.0"" />
    <PackageReference Include=""Gremlin.Net"" Version=""3.4.3"" />
    <PackageReference Include=""Microsoft.Build"" Version=""16.0.461"" ExcludeAssets=""runtime""/>
    <PackageReference Include=""Microsoft.Build.Framework"" Version=""16.0.461"" ExcludeAssets=""runtime"" />
    <PackageReference Include=""Microsoft.CodeAnalysis"" Version=""3.3.1"" />
    <PackageReference Include=""Microsoft.CodeAnalysis.CSharp"" Version=""3.3.1"" />
    <PackageReference Include=""Microsoft.CodeAnalysis.CSharp.Workspaces"" Version=""3.3.1"" />
    <PackageReference Include=""Microsoft.CodeAnalysis.Workspaces.MSBuild"" Version=""3.3.1"" />

**Steps to Reproduce**:

    internal class ConsoleProjectLoadProgress : IProgress<ProjectLoadProgress>
    {
        public void Report(ProjectLoadProgress value)
        {
            Console.WriteLine(value);
        }
    }

    internal class SourceAnalysis 
    {
        internal static void OnWorkspaceFailed(object sender WorkspaceDiagnosticEventArgs args)
        {
            Console.WriteLine(args.Diagnostic.Message);
        }

        internal static async Task ProcessSolution(string path)
        {
            Console.WriteLine($""Loading {path}"");
            using (var workspace = MSBuildWorkspace.Create())
            {
                workspace.WorkspaceFailed += OnWorkspaceFailed;

                var progress = new ConsoleProjectLoadProgress();
                var solution = await workspace.OpenSolutionAsync(path progress);
                Console.WriteLine($""{path} loaded."");

**Expected Behavior**:

Message displayed on screen
Console.WriteLine($""{path} loaded."");

**Actual Behavior**:
It is not hitting the WorkspaceFailed delegate or the progress updater. It just exits with code 0.

I followed steps in https://stackoverflow.com/questions/25070323/roslyn-workspace-opensolutionasync-projects-always-empty to no avail

","OpenSolutionAsync appears to die quietly **Version Used**: 
netcoreapp2.2 commandline project
VS Code (VS 2017 is installed as well)

    <PackageReference Include=""CommandLineParser"" Version=""2.6.0"" />
    <PackageReference Include=""Gremlin.Net"" Version=""3.4.3"" />
    <PackageReference Include=""Microsoft.Build"" Version=""16.0.461"" ExcludeAssets=""runtime""/>
    <PackageReference Include=""Microsoft.Build.Framework"" Version=""16.0.461"" ExcludeAssets=""runtime"" />
    <PackageReference Include=""Microsoft.CodeAnalysis"" Version=""3.3.1"" />
    <PackageReference Include=""Microsoft.CodeAnalysis.CSharp"" Version=""3.3.1"" />
    <PackageReference Include=""Microsoft.CodeAnalysis.CSharp.Workspaces"" Version=""3.3.1"" />
    <PackageReference Include=""Microsoft.CodeAnalysis.Workspaces.MSBuild"" Version=""3.3.1"" />

**Steps to Reproduce**:

    internal class ConsoleProjectLoadProgress : IProgress<ProjectLoadProgress>
    {
        public void Report(ProjectLoadProgress value)
        {
            Console.WriteLine(value);
        }
    }

    internal class SourceAnalysis 
    {
        internal static void OnWorkspaceFailed(object sender WorkspaceDiagnosticEventArgs args)
        {
            Console.WriteLine(args.Diagnostic.Message);
        }

        internal static async Task ProcessSolution(string path)
        {
            Console.WriteLine($""Loading {path}"");
            using (var workspace = MSBuildWorkspace.Create())
            {
                workspace.WorkspaceFailed += OnWorkspaceFailed;

                var progress = new ConsoleProjectLoadProgress();
                var solution = await workspace.OpenSolutionAsync(path progress);
                Console.WriteLine($""{path} loaded."");

**Expected Behavior**:

Message displayed on screen
Console.WriteLine($""{path} loaded."");

**Actual Behavior**:
It is not hitting the WorkspaceFailed delegate or the progress updater. It just exits with code 0.

I followed steps in https://stackoverflow.com/questions/25070323/roslyn-workspace-opensolutionasync-projects-always-empty to no avail

",Area-IDE|Bug|IDE-MSBuildWorkspace,gafter|jinujoseph,26/09/2019 19:16,
38874,#pragma warning disable nullable does not disable warning,"**Version Used**:
 VS Mac 8.3.0 - Roslyn 3.3.1-beta3-19454-05
VS Win 16.3

**Steps to Reproduce**:

Posted on the Developer Community forum:

https://developercommunity.visualstudio.com/content/problem/745884/vs-for-mac-does-not-respect-pragma-warning-nullabl.html

1. .NET Standard project with:
```
		<LangVersion>8.0</LangVersion>
		<Nullable>enable</Nullable>
```
2. Add a public property to a class in the project.
3. Warnings about a non-nullable property shown in the editor.
4. Add a pragma to disable the check.

```
public class Class1
{
#pragma warning disable nullable
        public string Foo { get; set; }
#pragma warning restore nullable
}
```

**Expected Behavior**:

The documentation indicates that this feature is available and should remove the warning shown in the text editor.

https://docs.microsoft.com/en-us/dotnet/csharp/nullable-references#nullable-contexts

**Actual Behavior**:

The warning about the non-nullable property is still shown in the text editor.

Using `#nullable disable' at the top of the file works.
Using the code CS8618 instead of nullable in the disable pragma also works.

There are a few existing Roslyn issues which are possibly related:

https://github.com/dotnet/roslyn/issues/36550
https://github.com/dotnet/roslyn/issues/35747

Not sure if the documentation is incorrect here.","#pragma warning disable nullable does not disable warning **Version Used**:
 VS Mac 8.3.0 - Roslyn 3.3.1-beta3-19454-05
VS Win 16.3

**Steps to Reproduce**:

Posted on the Developer Community forum:

https://developercommunity.visualstudio.com/content/problem/745884/vs-for-mac-does-not-respect-pragma-warning-nullabl.html

1. .NET Standard project with:
```
		<LangVersion>8.0</LangVersion>
		<Nullable>enable</Nullable>
```
2. Add a public property to a class in the project.
3. Warnings about a non-nullable property shown in the editor.
4. Add a pragma to disable the check.

```
public class Class1
{
#pragma warning disable nullable
        public string Foo { get; set; }
#pragma warning restore nullable
}
```

**Expected Behavior**:

The documentation indicates that this feature is available and should remove the warning shown in the text editor.

https://docs.microsoft.com/en-us/dotnet/csharp/nullable-references#nullable-contexts

**Actual Behavior**:

The warning about the non-nullable property is still shown in the text editor.

Using `#nullable disable' at the top of the file works.
Using the code CS8618 instead of nullable in the disable pragma also works.

There are a few existing Roslyn issues which are possibly related:

https://github.com/dotnet/roslyn/issues/36550
https://github.com/dotnet/roslyn/issues/35747

Not sure if the documentation is incorrect here.",Area-Compilers|Documentation,jcouv,,
38873,Fix refout internal attribute constructor fatal exception,"Fix issue with ""FATAL UNHANDLED EXCEPTION"" being thrown by Roslyn when using /refout and compiling C# code that uses a custom attribute with an `internal` constructor. The issue below contains more details.

Fixes issue https://github.com/dotnet/roslyn/issues/38444","Fix refout internal attribute constructor fatal exception Fix issue with ""FATAL UNHANDLED EXCEPTION"" being thrown by Roslyn when using /refout and compiling C# code that uses a custom attribute with an `internal` constructor. The issue below contains more details.

Fixes issue https://github.com/dotnet/roslyn/issues/38444",Area-Compilers|Community|PR For Personal Review Only,jcouv|jaredpar|agocke|333fred|gafter|RikkiGibson|VSadov|AlekseyTs|cston|chsienki|fayrose,26/09/2019 18:35,
38872,Can't install VS2019 since: VS_InstallerShell.exe has an invalid certificate,"download vs_enterprise__1063459011.1568747910.exe and excute will generate:
C:\Program Files (x86)\Microsoft Visual Studio\Installer
But then the window is closed and vs2019 isn't installed.
Execute vs_installer.exe will show:
VS_InstallerShell.exe has an invalid certificate. Please ensure the appropriate Microsoft certificates are installed.

I search in internet so many pepple have this problem.","Can't install VS2019 since: VS_InstallerShell.exe has an invalid certificate download vs_enterprise__1063459011.1568747910.exe and excute will generate:
C:\Program Files (x86)\Microsoft Visual Studio\Installer
But then the window is closed and vs2019 isn't installed.
Execute vs_installer.exe will show:
VS_InstallerShell.exe has an invalid certificate. Please ensure the appropriate Microsoft certificates are installed.

I search in internet so many pepple have this problem.",Area-External,gafter,26/09/2019 17:48,
38871,No warning or suggestion when non-nullable reference is compared against null,"**Version Used**: 
Microsoft Visual Studio 2019 Community Version 16.3.1
.NET Core Version 3.0.100

In csproj we have this
```xml
<PropertyGroup>
    <TargetFramework>netcoreapp3.0</TargetFramework>
    <LangVersion>8.0</LangVersion>
    <Nullable>enable</Nullable>
</PropertyGroup>
```

**Steps to Reproduce**:

1. 
```csharp
public class Foo
{
  public string Name { get; set; } = string.Empty;
}
```
2. 
```csharp
var foo = new Foo();
if (foo.Name == null)
{
  // stuff
}
```

**Expected Behavior**:
`if (foo.Name == null)` would produce warning or suggestion. I would prefer warning.

**Actual Behavior**:
No warning or suggestion from `if (foo.Name == null)`
","No warning or suggestion when non-nullable reference is compared against null **Version Used**: 
Microsoft Visual Studio 2019 Community Version 16.3.1
.NET Core Version 3.0.100

In csproj we have this
```xml
<PropertyGroup>
    <TargetFramework>netcoreapp3.0</TargetFramework>
    <LangVersion>8.0</LangVersion>
    <Nullable>enable</Nullable>
</PropertyGroup>
```

**Steps to Reproduce**:

1. 
```csharp
public class Foo
{
  public string Name { get; set; } = string.Empty;
}
```
2. 
```csharp
var foo = new Foo();
if (foo.Name == null)
{
  // stuff
}
```

**Expected Behavior**:
`if (foo.Name == null)` would produce warning or suggestion. I would prefer warning.

**Actual Behavior**:
No warning or suggestion from `if (foo.Name == null)`
",Area-Compilers|Area-IDE|New Language Feature - Nullable Reference Types|Resolution-By Design,jcouv|gafter,26/09/2019 17:13,27/09/2019 5:25
38870,Add missing parsing test for TypeOf expr IsNot type,,Add missing parsing test for TypeOf expr IsNot type ,Area-Compilers|Community|Test,AdamSpeight2008|jcouv,26/09/2019 17:05,27/09/2019 9:20
38868,Generate direct GetHashCode calls for value types,"Closes #31984.

? I updated the PR to reflect my discovery at https://github.com/dotnet/roslyn/issues/31984#issuecomment-535310922.","Generate direct GetHashCode calls for value types Closes #31984.

? I updated the PR to reflect my discovery at https://github.com/dotnet/roslyn/issues/31984#issuecomment-535310922.",Area-IDE|Community,jasonmalinowski,,
38867,[WIP] Fix compiler package setup for CPS based projects,,,Area-Compilers,jmarolf|jinujoseph,26/09/2019 12:23,
38866,EnC: Investigate cases when semantic analysis results shouldn't be cached per document,"Tracking TODO in code.

It is possible that the result of Rude Edit semantic analysis of an unchanged document will change if there another document is updated. If we encounter a significant case of this we should consider caching such a result per project rather then per document. Also we might be observing an older semantics if the document that is causing the change is out-of-sync --
e.g. the binary was built with an overload C.M(object) but a generator updated class C to also contain C.M(string) which change we have not observed yet. Then call-sites of C.M in a changed document observed by the analysis will be seen as C.M(object) instead of the true C.M(string).","EnC: Investigate cases when semantic analysis results shouldn't be cached per document Tracking TODO in code.

It is possible that the result of Rude Edit semantic analysis of an unchanged document will change if there another document is updated. If we encounter a significant case of this we should consider caching such a result per project rather then per document. Also we might be observing an older semantics if the document that is causing the change is out-of-sync --
e.g. the binary was built with an overload C.M(object) but a generator updated class C to also contain C.M(string) which change we have not observed yet. Then call-sites of C.M in a changed document observed by the analysis will be seen as C.M(object) instead of the true C.M(string).",Area-Interactive|Interactive-EnC,tmat|gafter,26/09/2019 11:56,
38865,Crash in suppression,"Not sure how to repro this.

Got this error:

```

System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. Parameter name: length   at Microsoft.CodeAnalysis.Text.TextSpan..ctor(Int32 start Int32 length)   at
 Microsoft.CodeAnalysis.CodeFixes.Suppression.AbstractSuppressionCodeFixProvider.PragmaHelpers.NormalizeTriviaOnTokens(AbstractSuppressionCodeFixProvider fixer Document& document SuppressionTargetInfo& suppressionTargetInfo)   at
 Microsoft.CodeAnalysis.CodeFixes.Suppression.AbstractSuppressionCodeFixProvider.<GetSuppressionsAsync>d__30.MoveNext() --- End of stack trace from previous location where exception was thrown ---    at
 System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)   at
 System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)   at Microsoft.CodeAnalysis.CodeFixes.Suppression.AbstractSuppressionCodeFixProvider.<GetSuppressionsAsync>d__28.MoveNext() --- End of stack trace from previous location where exception was thrown ---    at
 System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)   at
 System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)   at Microsoft.CodeAnalysis.Extensions.IExtensionManagerExtensions.<PerformFunctionAsync>d__3`1.MoveNext() --- End of stack trace from previous location where exception was thrown ---    at
 Microsoft.VisualStudio.Telemetry.WindowsErrorReporting.WatsonReport.GetClrWatsonExceptionInfo(Exception exceptionObject)
--
```","Crash in suppression Not sure how to repro this.

Got this error:

```

System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. Parameter name: length   at Microsoft.CodeAnalysis.Text.TextSpan..ctor(Int32 start Int32 length)   at
 Microsoft.CodeAnalysis.CodeFixes.Suppression.AbstractSuppressionCodeFixProvider.PragmaHelpers.NormalizeTriviaOnTokens(AbstractSuppressionCodeFixProvider fixer Document& document SuppressionTargetInfo& suppressionTargetInfo)   at
 Microsoft.CodeAnalysis.CodeFixes.Suppression.AbstractSuppressionCodeFixProvider.<GetSuppressionsAsync>d__30.MoveNext() --- End of stack trace from previous location where exception was thrown ---    at
 System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)   at
 System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)   at Microsoft.CodeAnalysis.CodeFixes.Suppression.AbstractSuppressionCodeFixProvider.<GetSuppressionsAsync>d__28.MoveNext() --- End of stack trace from previous location where exception was thrown ---    at
 System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)   at
 System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)   at Microsoft.CodeAnalysis.Extensions.IExtensionManagerExtensions.<PerformFunctionAsync>d__3`1.MoveNext() --- End of stack trace from previous location where exception was thrown ---    at
 Microsoft.VisualStudio.Telemetry.WindowsErrorReporting.WatsonReport.GetClrWatsonExceptionInfo(Exception exceptionObject)
--
```",Area-IDE|Resolution-Duplicate,mavasani|jcouv|sharwell,26/09/2019 10:50,2/10/2019 4:16
38864,Merge master to features/local-function-attributes,"
This is an automatically generated pull request from master into features/local-function-attributes.

``` bash
git fetch --all
git checkout merges/master-to-features/local-function-attributes
git reset --hard upstream/features/local-function-attributes
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-features/local-function-attributes --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge master to features/local-function-attributes 
This is an automatically generated pull request from master into features/local-function-attributes.

``` bash
git fetch --all
git checkout merges/master-to-features/local-function-attributes
git reset --hard upstream/features/local-function-attributes
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-features/local-function-attributes --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|RikkiGibson,26/09/2019 10:02,27/09/2019 3:44
38863,Merge master to master-vs-deps,"
This is an automatically generated pull request from master into master-vs-deps.

``` bash
git fetch --all
git checkout merges/master-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge master to master-vs-deps 
This is an automatically generated pull request from master into master-vs-deps.

``` bash
git fetch --all
git checkout merges/master-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|RikkiGibson,26/09/2019 10:02,27/09/2019 3:46
38862,Add test for SkipLocalsInit in default interface implementations,Relates to https://github.com/dotnet/roslyn/issues/25780 (test plan for skip locals init),Add test for SkipLocalsInit in default interface implementations Relates to https://github.com/dotnet/roslyn/issues/25780 (test plan for skip locals init),Area-Compilers|Test,jcouv,,
38860,Avoid crash on concat on structs with ToString member,Fixes https://github.com/dotnet/roslyn/issues/38858,Avoid crash on concat on structs with ToString member Fixes https://github.com/dotnet/roslyn/issues/38858,Area-Compilers,jcouv,,
38859,Add analyzer driver editorconfig option for end users to configure ge…,"…nerated code

Implements https://github.com/dotnet/roslyn/issues/38674#issuecomment-534621058
Fixes #3705","Add analyzer driver editorconfig option for end users to configure ge… …nerated code

Implements https://github.com/dotnet/roslyn/issues/38674#issuecomment-534621058
Fixes #3705",Area-Analyzers|Area-Compilers,mavasani|agocke,26/09/2019 7:45,2/10/2019 6:43
38858,Enum with ToString member crashes in string concatenation,"@vertygo reported a crash in [another thread](https://github.com/dotnet/roslyn/issues/38725#issuecomment-534981484).
From investigating the crash dump file that he shared with me I narrowed down a repro. The issue happens if you have an enum with a `ToString` member and use it in a string concatenation.

```C#
using System;
public class C 
{
    public void M(D c) 
    {
        _ = c + """";
    }
}
public enum D { A = 1 B = 2 ToString = 4 }
```

[sharplab](https://sharplab.io/#v2:EYLgtghgzgLgpgJwDQxASwDYB8ACAmARgFgAoHAZgAJ9KBhS0gb1MteqpwBZKBZACgAilAMYBKBiTaVmkqWwD6lALwjKAakoAiTQG4WbAL6kjZKnAB2AVzCUhjSgEFllAkkoAhZ3jcAVAPYAyjAIaOYA5s7cBkA=)","Enum with ToString member crashes in string concatenation @vertygo reported a crash in [another thread](https://github.com/dotnet/roslyn/issues/38725#issuecomment-534981484).
From investigating the crash dump file that he shared with me I narrowed down a repro. The issue happens if you have an enum with a `ToString` member and use it in a string concatenation.

```C#
using System;
public class C 
{
    public void M(D c) 
    {
        _ = c + """";
    }
}
public enum D { A = 1 B = 2 ToString = 4 }
```

[sharplab](https://sharplab.io/#v2:EYLgtghgzgLgpgJwDQxASwDYB8ACAmARgFgAoHAZgAJ9KBhS0gb1MteqpwBZKBZACgAilAMYBKBiTaVmkqWwD6lALwjKAakoAiTQG4WbAL6kjZKnAB2AVzCUhjSgEFllAkkoAhZ3jcAVAPYAyjAIaOYA5s7cBkA=)",Area-Compilers|Bug|Resolution-Fixed|Urgency-Soon,jcouv,,
38857,Crash in add-import,"Getting this callstack that is bringing down add-import:

```
System.InvalidOperationException : This instance must be flushed before being reinitialized.
   at Nerdbank.Streams.BufferTextWriter.Initialize(IBufferWriter`1 bufferWriterEncoding encoding)
   at StreamJsonRpc.JsonMessageFormatter.WriteJToken(IBufferWriter`1 contentBufferJToken json)
   at StreamJsonRpc.JsonMessageFormatter.Serialize(IBufferWriter`1 contentBufferJsonRpcMessage message)
   at StreamJsonRpc.HeaderDelimitedMessageHandler.Write(JsonRpcMessage contentCancellationToken cancellationToken)
   at StreamJsonRpc.PipeMessageHandler.WriteCoreAsync(JsonRpcMessage contentCancellationToken cancellationToken)
   at async StreamJsonRpc.MessageHandlerBase.WriteAsync(<Unknown Parameters>)
   at async StreamJsonRpc.JsonRpc.TransmitAsync(<Unknown Parameters>)
   at System.Threading.Tasks.ValueTask.ThrowIfCompletedUnsuccessfully()
   at async StreamJsonRpc.JsonRpc.InvokeCoreAsync[TResult](<Unknown Parameters>)
   at async Microsoft.ServiceHub.Framework.RemoteServiceBroker.GetPipeAsync(<Unknown Parameters>)
   at async Microsoft.ServiceHub.Client.HubClient.GetPipeAsync(<Unknown Parameters>)
   at async Microsoft.ServiceHub.Client.HubClient.RequestServiceAsync(<Unknown Parameters>)
   at async Microsoft.VisualStudio.LanguageServices.Remote.ServiceHubRemoteHostClient.Connections.RetryRemoteCallAsync[TExceptionTResult](<Unknown Parameters>)
   at async Microsoft.VisualStudio.LanguageServices.Remote.ServiceHubRemoteHostClient.Connections.RequestServiceAsync(<Unknown Parameters>)
   at async Microsoft.VisualStudio.LanguageServices.Remote.ServiceHubRemoteHostClient.ConnectionManager.TryCreateNewConnectionAsync(<Unknown Parameters>)
   at async Microsoft.CodeAnalysis.Remote.RemoteHostClientExtensions.TryCreateSessionAsync(<Unknown Parameters>)
   at async Microsoft.CodeAnalysis.Remote.RemoteHostClientExtensions.TryCreateCodeAnalysisSessionAsync(<Unknown Parameters>)
   at async Microsoft.CodeAnalysis.Remote.RemoteHostClientExtensions.TryRunCodeAnalysisRemoteAsync[T](<Unknown Parameters>)
   at async Microsoft.CodeAnalysis.AddImport.AbstractAddImportFeatureService`1.GetFixesAsync[TSimpleNameSyntax](<Unknown Parameters>)
   at async Microsoft.CodeAnalysis.AddImport.AbstractAddImportFeatureService`1.GetFixesForDiagnosticsAsync[TSimpleNameSyntax](<Unknown Parameters>)
   at async Microsoft.CodeAnalysis.AddImport.AbstractAddImportCodeFixProvider.RegisterCodeFixesAsync(<Unknown Parameters>)
   at async Microsoft.CodeAnalysis.CodeFixes.CodeFixService.GetCodeFixesAsync(<Unknown Parameters>)
   at async Microsoft.CodeAnalysis.Extensions.IExtensionManagerExtensions.PerformFunctionAsync[T](<Unknown Parameters>)
```

Something is up with OOP.","Crash in add-import Getting this callstack that is bringing down add-import:

```
System.InvalidOperationException : This instance must be flushed before being reinitialized.
   at Nerdbank.Streams.BufferTextWriter.Initialize(IBufferWriter`1 bufferWriterEncoding encoding)
   at StreamJsonRpc.JsonMessageFormatter.WriteJToken(IBufferWriter`1 contentBufferJToken json)
   at StreamJsonRpc.JsonMessageFormatter.Serialize(IBufferWriter`1 contentBufferJsonRpcMessage message)
   at StreamJsonRpc.HeaderDelimitedMessageHandler.Write(JsonRpcMessage contentCancellationToken cancellationToken)
   at StreamJsonRpc.PipeMessageHandler.WriteCoreAsync(JsonRpcMessage contentCancellationToken cancellationToken)
   at async StreamJsonRpc.MessageHandlerBase.WriteAsync(<Unknown Parameters>)
   at async StreamJsonRpc.JsonRpc.TransmitAsync(<Unknown Parameters>)
   at System.Threading.Tasks.ValueTask.ThrowIfCompletedUnsuccessfully()
   at async StreamJsonRpc.JsonRpc.InvokeCoreAsync[TResult](<Unknown Parameters>)
   at async Microsoft.ServiceHub.Framework.RemoteServiceBroker.GetPipeAsync(<Unknown Parameters>)
   at async Microsoft.ServiceHub.Client.HubClient.GetPipeAsync(<Unknown Parameters>)
   at async Microsoft.ServiceHub.Client.HubClient.RequestServiceAsync(<Unknown Parameters>)
   at async Microsoft.VisualStudio.LanguageServices.Remote.ServiceHubRemoteHostClient.Connections.RetryRemoteCallAsync[TExceptionTResult](<Unknown Parameters>)
   at async Microsoft.VisualStudio.LanguageServices.Remote.ServiceHubRemoteHostClient.Connections.RequestServiceAsync(<Unknown Parameters>)
   at async Microsoft.VisualStudio.LanguageServices.Remote.ServiceHubRemoteHostClient.ConnectionManager.TryCreateNewConnectionAsync(<Unknown Parameters>)
   at async Microsoft.CodeAnalysis.Remote.RemoteHostClientExtensions.TryCreateSessionAsync(<Unknown Parameters>)
   at async Microsoft.CodeAnalysis.Remote.RemoteHostClientExtensions.TryCreateCodeAnalysisSessionAsync(<Unknown Parameters>)
   at async Microsoft.CodeAnalysis.Remote.RemoteHostClientExtensions.TryRunCodeAnalysisRemoteAsync[T](<Unknown Parameters>)
   at async Microsoft.CodeAnalysis.AddImport.AbstractAddImportFeatureService`1.GetFixesAsync[TSimpleNameSyntax](<Unknown Parameters>)
   at async Microsoft.CodeAnalysis.AddImport.AbstractAddImportFeatureService`1.GetFixesForDiagnosticsAsync[TSimpleNameSyntax](<Unknown Parameters>)
   at async Microsoft.CodeAnalysis.AddImport.AbstractAddImportCodeFixProvider.RegisterCodeFixesAsync(<Unknown Parameters>)
   at async Microsoft.CodeAnalysis.CodeFixes.CodeFixService.GetCodeFixesAsync(<Unknown Parameters>)
   at async Microsoft.CodeAnalysis.Extensions.IExtensionManagerExtensions.PerformFunctionAsync[T](<Unknown Parameters>)
```

Something is up with OOP.",Area-IDE|Resolution-Duplicate,gafter|jinujoseph|sharwell,26/09/2019 6:42,2/10/2019 4:13
38856,Merge master to features/local-function-attributes,"
This is an automatically generated pull request from master into features/local-function-attributes.
(created from a manual run of the PR generation tool)

``` bash
git fetch --all
git checkout merges/master-to-features/local-function-attributes
git reset --hard upstream/features/local-function-attributes
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-features/local-function-attributes --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge master to features/local-function-attributes 
This is an automatically generated pull request from master into features/local-function-attributes.
(created from a manual run of the PR generation tool)

``` bash
git fetch --all
git checkout merges/master-to-features/local-function-attributes
git reset --hard upstream/features/local-function-attributes
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-features/local-function-attributes --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|RikkiGibson|agocke,26/09/2019 5:22,26/09/2019 9:02
38855,Provide signature help for collection initializers,"Fixes https://github.com/dotnet/roslyn/issues/38850

i recommend viewing with whitespace diffs off.

Looks like this:

![image](https://user-images.githubusercontent.com/4564579/65630637-acda9d80-df8a-11e9-93c8-92c9e2591705.png)

Todo:

- [x] VB support
- [x] Tests","Provide signature help for collection initializers Fixes https://github.com/dotnet/roslyn/issues/38850

i recommend viewing with whitespace diffs off.

Looks like this:

![image](https://user-images.githubusercontent.com/4564579/65630637-acda9d80-df8a-11e9-93c8-92c9e2591705.png)

Todo:

- [x] VB support
- [x] Tests",Area-IDE|Community,ivanbasov,,
38854,show Potential Fixes,"_This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/736875/show-potential-fixes-1.html)._

---
unable to see show potential fixes option if the list is huge (refer attachment for better understanding)

---
### Original Comments

#### Visual Studio Feedback System on 9/17/2019 11:34 PM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>

#### Visual Studio Feedback System on 9/19/2019 03:00 PM: 

<p>This issue is currently being investigated. Our team will get back to you if either more information is needed a workaround is available or the issue is resolved.</p>


---
### Original Solutions
(no solutions)","show Potential Fixes _This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/736875/show-potential-fixes-1.html)._

---
unable to see show potential fixes option if the list is huge (refer attachment for better understanding)

---
### Original Comments

#### Visual Studio Feedback System on 9/17/2019 11:34 PM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>

#### Visual Studio Feedback System on 9/19/2019 03:00 PM: 

<p>This issue is currently being investigated. Our team will get back to you if either more information is needed a workaround is available or the issue is resolved.</p>


---
### Original Solutions
(no solutions)",Area-IDE|Feature Request|Need Design Review,mavasani|jinujoseph,26/09/2019 4:40,
38853,x == default is valid object equality for reference types,"Since we've received significant feedback on part of the compat break we took in 16.4p1 we're making a refinement to reduce the negative impact.
`t == default` for unconstrained types will remain an error (introduced in 16.4p1) but `x == default` will be re-allowed for reference types (could bind as object equality).

Fixes https://github.com/dotnet/roslyn/issues/38643
Relates to https://github.com/dotnet/roslyn/pull/37596 (16.4p1 breaking changes)","x == default is valid object equality for reference types Since we've received significant feedback on part of the compat break we took in 16.4p1 we're making a refinement to reduce the negative impact.
`t == default` for unconstrained types will remain an error (introduced in 16.4p1) but `x == default` will be re-allowed for reference types (could bind as object equality).

Fixes https://github.com/dotnet/roslyn/issues/38643
Relates to https://github.com/dotnet/roslyn/pull/37596 (16.4p1 breaking changes)",Area-Compilers,jcouv,,
38852,"Falsy compiler warning: ""Not exhaustive check"" [CS8509]","_This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/744153/falsy-compiler-warning-not-exhaustive-check-cs8509.html)._

---
<p>If we use switch expression like this:</p>
<pre>something switch {
    { } =&gt; <span class=hljs-number>1</span>
    <span class=hljs-keyword>null</span> =&gt; <span class=hljs-number>2</span>
}
</pre>
<p>Complier will complain that this switch is not exhaustive because it does not include <em>discard arm</em> (default).<br>
Since this is not true then the warning should <strong>not</strong> be reported here.</p>
<p><strong>Note:</strong> it is not even possible to somehow add the discard branch (in any place) to satify the compiler becuase that would lead to the compilation error:<br>
Error CS8510: The pattern has already been handled by a previous arm of the switch expression.</p>

---
### Original Comments

#### Visual Studio Feedback System on 9/24/2019 01:08 AM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>


---
### Original Solutions
(no solutions)","Falsy compiler warning: ""Not exhaustive check"" [CS8509] _This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/744153/falsy-compiler-warning-not-exhaustive-check-cs8509.html)._

---
<p>If we use switch expression like this:</p>
<pre>something switch {
    { } =&gt; <span class=hljs-number>1</span>
    <span class=hljs-keyword>null</span> =&gt; <span class=hljs-number>2</span>
}
</pre>
<p>Complier will complain that this switch is not exhaustive because it does not include <em>discard arm</em> (default).<br>
Since this is not true then the warning should <strong>not</strong> be reported here.</p>
<p><strong>Note:</strong> it is not even possible to somehow add the discard branch (in any place) to satify the compiler becuase that would lead to the compilation error:<br>
Error CS8510: The pattern has already been handled by a previous arm of the switch expression.</p>

---
### Original Comments

#### Visual Studio Feedback System on 9/24/2019 01:08 AM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>


---
### Original Solutions
(no solutions)",Area-Compilers|Investigation Required,agocke|gafter,26/09/2019 3:09,
38851,[release/dev16.3-vs-deps] Update dependencies from dotnet/arcade,"This pull request updates the following dependencies

[marker]: <> (Begin:ef0a7d9c-37a9-4bca-b183-08d73687fe54)
## From https://github.com/dotnet/arcade
- **Build**: 20190924.3
- **Date Produced**: 9/24/2019 6:16 PM
- **Commit**: 0e9ffd6464aff37aef2dc41dc2162d258f266e32
- **Branch**: refs/heads/release/3.x
- **Updates**:
  - **Microsoft.DotNet.Arcade.Sdk** -> 1.0.0-beta.19474.3

[marker]: <> (End:ef0a7d9c-37a9-4bca-b183-08d73687fe54)



","[release/dev16.3-vs-deps] Update dependencies from dotnet/arcade This pull request updates the following dependencies

[marker]: <> (Begin:ef0a7d9c-37a9-4bca-b183-08d73687fe54)
## From https://github.com/dotnet/arcade
- **Build**: 20190924.3
- **Date Produced**: 9/24/2019 6:16 PM
- **Commit**: 0e9ffd6464aff37aef2dc41dc2162d258f266e32
- **Branch**: refs/heads/release/3.x
- **Updates**:
  - **Microsoft.DotNet.Arcade.Sdk** -> 1.0.0-beta.19474.3

[marker]: <> (End:ef0a7d9c-37a9-4bca-b183-08d73687fe54)



",Area-Infrastructure,dotnet-maestro[bot]|jinujoseph,26/09/2019 2:14,
38850,Signature help in collection inializers,"Collection initializers are just a syntactic sugar for calling an `Add()` method. When calling the `Add()` method explicitly I get signature help:

<img width=""487"" alt=""ci1"" src=""https://user-images.githubusercontent.com/5169960/65613389-cc61ce00-df6a-11e9-949d-4f60050a5537.png"">

However when using the collection initializer syntax I don't:

<img width=""237"" alt=""ci2"" src=""https://user-images.githubusercontent.com/5169960/65613387-cc61ce00-df6a-11e9-90b4-f904ed4c5b3e.png"">

**Version Used**: 

Microsoft Visual Studio Enterprise 2019 Int Preview
Version 16.4.0 Preview 2.0 [29322.22.master]
VisualStudio.16.IntPreview/16.4.0-pre.2.0+29322.22.master","Signature help in collection inializers Collection initializers are just a syntactic sugar for calling an `Add()` method. When calling the `Add()` method explicitly I get signature help:

<img width=""487"" alt=""ci1"" src=""https://user-images.githubusercontent.com/5169960/65613389-cc61ce00-df6a-11e9-949d-4f60050a5537.png"">

However when using the collection initializer syntax I don't:

<img width=""237"" alt=""ci2"" src=""https://user-images.githubusercontent.com/5169960/65613387-cc61ce00-df6a-11e9-90b4-f904ed4c5b3e.png"">

**Version Used**: 

Microsoft Visual Studio Enterprise 2019 Int Preview
Version 16.4.0 Preview 2.0 [29322.22.master]
VisualStudio.16.IntPreview/16.4.0-pre.2.0+29322.22.master",4 - In Review|Area-IDE|Concept-Continuous Improvement,jasonmalinowski|gafter|CyrusNajmabadi|jinujoseph|ivanbasov|RikkiGibson,26/09/2019 1:04,4/10/2019 7:52
38849,Update IOperationTests_IDelegateCreationExpression.vb,Spelling fix,Update IOperationTests_IDelegateCreationExpression.vb Spelling fix,Area-Compilers|Community,nnpcYvIVl|sharwell|jcouv,26/09/2019 0:18,26/09/2019 9:32
38848,Update TypeImportCompletionItem.cs,Spelling fix,Update TypeImportCompletionItem.cs Spelling fix,Area-IDE|Community,nnpcYvIVl|sharwell|jinujoseph,26/09/2019 0:14,26/09/2019 3:09
38847,Update DecisionDagBuilder.cs,Spelling fix,Update DecisionDagBuilder.cs Spelling fix,Area-Compilers|Community,nnpcYvIVl|sharwell|jcouv,26/09/2019 0:11,26/09/2019 9:26
38846,Update SyntaxGeneratorTests.cs,Spelling fix,Update SyntaxGeneratorTests.cs Spelling fix,Area-IDE|Community,nnpcYvIVl|sharwell|jinujoseph,26/09/2019 0:08,26/09/2019 3:10
38845,Update AbstractAddAccessibilityModifiersCodeFixProvider.cs,Spelling fix,Update AbstractAddAccessibilityModifiersCodeFixProvider.cs Spelling fix,Area-IDE|Community,nnpcYvIVl|sharwell|jinujoseph,26/09/2019 0:04,26/09/2019 3:10
38844,Incorrect analysis: IDE0059 Unnecessary assignment of a value,"**Version Used**: 16.4

**Steps to Reproduce**:

1. Open up SignService.sln from https://github.com/dotnet/SignService
2. See messages

**Expected Behavior**:
No false analysis


**Actual Behavior**:
```
Severity	Code	Description	Project	File	Line	Suppression State
Message	IDE0059	Unnecessary assignment of a value to 'ppKey'	SignService	D:\dev\SignService\src\SignService\Utils\DistinguishedNameParser.cs	23	Active
Message	IDE0059	Unnecessary assignment of a value to 'ppVal'	SignService	D:\dev\SignService\src\SignService\Utils\DistinguishedNameParser.cs	23	Active
```
Those out variables are used in a while loop and then passed into `Marshal.PtrToStringUni`.

https://github.com/dotnet/SignService/blob/aa17184f886b647042c0d6d8323e2d21943e3fb5/src/SignService/Utils/DistinguishedNameParser.cs#L23-L30

The suggestion to use a discard is wrong.
","Incorrect analysis: IDE0059 Unnecessary assignment of a value **Version Used**: 16.4

**Steps to Reproduce**:

1. Open up SignService.sln from https://github.com/dotnet/SignService
2. See messages

**Expected Behavior**:
No false analysis


**Actual Behavior**:
```
Severity	Code	Description	Project	File	Line	Suppression State
Message	IDE0059	Unnecessary assignment of a value to 'ppKey'	SignService	D:\dev\SignService\src\SignService\Utils\DistinguishedNameParser.cs	23	Active
Message	IDE0059	Unnecessary assignment of a value to 'ppVal'	SignService	D:\dev\SignService\src\SignService\Utils\DistinguishedNameParser.cs	23	Active
```
Those out variables are used in a while loop and then passed into `Marshal.PtrToStringUni`.

https://github.com/dotnet/SignService/blob/aa17184f886b647042c0d6d8323e2d21943e3fb5/src/SignService/Utils/DistinguishedNameParser.cs#L23-L30

The suggestion to use a discard is wrong.
",Area-IDE|Bug|IDE-CodeStyle|help wanted,sharwell|jinujoseph,25/09/2019 23:31,
38843,Merge release/dev16.4-preview1 to release/dev16.4-preview1-vs-deps,"
This is an automatically generated pull request from release/dev16.4-preview1 into release/dev16.4-preview1-vs-deps.

``` bash
git fetch --all
git checkout merges/release/dev16.4-preview1-to-release/dev16.4-preview1-vs-deps
git reset --hard upstream/release/dev16.4-preview1-vs-deps
git merge upstream/release/dev16.4-preview1
# Fix merge conflicts
git commit
git push upstream merges/release/dev16.4-preview1-to-release/dev16.4-preview1-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge release/dev16.4-preview1 to release/dev16.4-preview1-vs-deps 
This is an automatically generated pull request from release/dev16.4-preview1 into release/dev16.4-preview1-vs-deps.

``` bash
git fetch --all
git checkout merges/release/dev16.4-preview1-to-release/dev16.4-preview1-vs-deps
git reset --hard upstream/release/dev16.4-preview1-vs-deps
git merge upstream/release/dev16.4-preview1
# Fix merge conflicts
git commit
git push upstream merges/release/dev16.4-preview1-to-release/dev16.4-preview1-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|RikkiGibson,25/09/2019 22:02,27/09/2019 3:45
38842,IDE0063 code fixer deletes indents,"**Version Used**: Visual Studio 2019 Version 16.3.0

**Steps to Reproduce**:
1. Set csproj's `LangVersion` to `latest`
2. Write a following code:
```cs
using System;
using System.IO;

class C
{
    static void Main()
    {
        // IDE0063 'using' statement can be simplified
        using (var stream = new MemoryStream())
        {
            _ = new Action(
                    () => { }
                );
        }
    }
}

```
3. Apply `Use simple 'using' statement`

**Expected Behavior**:
Code fixer keeps indents like this:
```cs
using System;
using System.IO;

class C
{
    static void Main()
    {
        // IDE0063 'using' statement can be simplified
        using var stream = new MemoryStream();
        _ = new Action(
                () => { }
            );
    }
}
```

**Actual Behavior**:
Code fixer deletes indents:
```cs
using System;
using System.IO;

class C
{
    static void Main()
    {
        // IDE0063 'using' statement can be simplified
        using var stream = new MemoryStream();
        _ = new Action(
() => { }
);
    }
}
```","IDE0063 code fixer deletes indents **Version Used**: Visual Studio 2019 Version 16.3.0

**Steps to Reproduce**:
1. Set csproj's `LangVersion` to `latest`
2. Write a following code:
```cs
using System;
using System.IO;

class C
{
    static void Main()
    {
        // IDE0063 'using' statement can be simplified
        using (var stream = new MemoryStream())
        {
            _ = new Action(
                    () => { }
                );
        }
    }
}

```
3. Apply `Use simple 'using' statement`

**Expected Behavior**:
Code fixer keeps indents like this:
```cs
using System;
using System.IO;

class C
{
    static void Main()
    {
        // IDE0063 'using' statement can be simplified
        using var stream = new MemoryStream();
        _ = new Action(
                () => { }
            );
    }
}
```

**Actual Behavior**:
Code fixer deletes indents:
```cs
using System;
using System.IO;

class C
{
    static void Main()
    {
        // IDE0063 'using' statement can be simplified
        using var stream = new MemoryStream();
        _ = new Action(
() => { }
);
    }
}
```",Area-IDE|Bug|IDE-CodeStyle|help wanted,sharwell|jinujoseph,25/09/2019 19:36,
38841,Fix crash that would happen when renaming in mixed f#/c# project.,Fixes https://github.com/dotnet/roslyn/issues/28474,Fix crash that would happen when renaming in mixed f#/c# project. Fixes https://github.com/dotnet/roslyn/issues/28474,Area-IDE|Community,jasonmalinowski,,
38840,Test output contains hundreds of useless messages.,"Messages are of the form:

```
[9/24/2019 5:42:57.705 PM Informational] Updating view 437433286
[9/24/2019 5:42:57.710 PM Informational] Updating view 437433286
[9/24/2019 5:42:58.251 PM Informational] [xUnit.net 00:00:00.00] xUnit.net VSTest Adapter v2.4.1-pre.build.4059 (32-bit Desktop .NET 4.0.30319.42000)
[9/24/2019 5:42:58.783 PM Informational] [xUnit.net 00:00:00.53]   Starting:    Microsoft.CodeAnalysis.EditorFeatures2.UnitTests
[9/24/2019 5:43:00.080 PM Informational] Trying to update view 437433286
[9/24/2019 5:43:00.080 PM Informational] Updating view 437433286
[9/24/2019 5:43:00.135 PM Informational] Updating view 437433286
```

Looks like someone may have left in unintentional debug spew causing all these pointless ""updating view"" messages to go into the output log.","Test output contains hundreds of useless messages. Messages are of the form:

```
[9/24/2019 5:42:57.705 PM Informational] Updating view 437433286
[9/24/2019 5:42:57.710 PM Informational] Updating view 437433286
[9/24/2019 5:42:58.251 PM Informational] [xUnit.net 00:00:00.00] xUnit.net VSTest Adapter v2.4.1-pre.build.4059 (32-bit Desktop .NET 4.0.30319.42000)
[9/24/2019 5:42:58.783 PM Informational] [xUnit.net 00:00:00.53]   Starting:    Microsoft.CodeAnalysis.EditorFeatures2.UnitTests
[9/24/2019 5:43:00.080 PM Informational] Trying to update view 437433286
[9/24/2019 5:43:00.080 PM Informational] Updating view 437433286
[9/24/2019 5:43:00.135 PM Informational] Updating view 437433286
```

Looks like someone may have left in unintentional debug spew causing all these pointless ""updating view"" messages to go into the output log.",Area-External,kendrahavens|jinujoseph|shyamnamboodiripad|CyrusNajmabadi|AbhitejJohn|gafter,25/09/2019 10:43,26/09/2019 7:29
38839,Update required version of VS in Building doc,Now that we've merged 16.3-vs-deps back we should update the required version of VS.,Update required version of VS in Building doc Now that we've merged 16.3-vs-deps back we should update the required version of VS.,Area-IDE|Documentation,JoeRobich|jinujoseph,25/09/2019 10:39,25/09/2019 15:14
38838,Merge master to master-vs-deps,"
This is an automatically generated pull request from master into master-vs-deps.

``` bash
git fetch --all
git checkout merges/master-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge master to master-vs-deps 
This is an automatically generated pull request from master into master-vs-deps.

``` bash
git fetch --all
git checkout merges/master-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|RikkiGibson|agocke,25/09/2019 10:02,26/09/2019 9:01
38837,Merge release/dev16.4-preview1-vs-deps to master-vs-deps,"
This is an automatically generated pull request from release/dev16.4-preview1-vs-deps into master-vs-deps.

``` bash
git fetch --all
git checkout merges/release/dev16.4-preview1-vs-deps-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/release/dev16.4-preview1-vs-deps
# Fix merge conflicts
git commit
git push upstream merges/release/dev16.4-preview1-vs-deps-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge release/dev16.4-preview1-vs-deps to master-vs-deps 
This is an automatically generated pull request from release/dev16.4-preview1-vs-deps into master-vs-deps.

``` bash
git fetch --all
git checkout merges/release/dev16.4-preview1-vs-deps-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/release/dev16.4-preview1-vs-deps
# Fix merge conflicts
git commit
git push upstream merges/release/dev16.4-preview1-vs-deps-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|RikkiGibson,25/09/2019 10:01,27/09/2019 3:44
38836,"`is object` is not considered a ""pure"" null test","```C#

using System;
#nullable enable
public class C {
    public void M(String s) {
        if (s is object) s.ToString();
        
        s.ToCharArray(); // no warning here?
    }
}
```","`is object` is not considered a ""pure"" null test ```C#

using System;
#nullable enable
public class C {
    public void M(String s) {
        if (s is object) s.ToString();
        
        s.ToCharArray(); // no warning here?
    }
}
```",Area-Compilers,agocke,25/09/2019 9:19,25/09/2019 9:48
38833,Pass the actual code action span to the server when calculating code …,"…actions.

Previously liveshare was computing the diagnostics on the code action location and passing the diagnostic's span to the server.  This caused code actions that expect a caret position to never work if there was another diagnostic at the same location (e.g. move type to file I've fixed that in https://github.com/dotnet/roslyn/pull/38787).

Either way we shouldn't be modifying the user specified span.","Pass the actual code action span to the server when calculating code … …actions.

Previously liveshare was computing the diagnostics on the code action location and passing the diagnostic's span to the server.  This caused code actions that expect a caret position to never work if there was another diagnostic at the same location (e.g. move type to file I've fixed that in https://github.com/dotnet/roslyn/pull/38787).

Either way we shouldn't be modifying the user specified span.",Area-IDE,dibarbet,25/09/2019 7:09,27/09/2019 8:48
38832,Map string offsets to columns to ensure proper tab indentation.,Fixes https://github.com/dotnet/roslyn/issues/38819,Map string offsets to columns to ensure proper tab indentation. Fixes https://github.com/dotnet/roslyn/issues/38819,Area-IDE|Blocked|Community,sharwell,,
38831,Change icon for target type completion filter,"Fix #37531 

![image](https://user-images.githubusercontent.com/788783/65548648-ae478f80-ded0-11e9-90b9-083cd4792087.png)
","Change icon for target type completion filter Fix #37531 

![image](https://user-images.githubusercontent.com/788783/65548648-ae478f80-ded0-11e9-90b9-083cd4792087.png)
",Area-IDE,genlu,25/09/2019 6:39,25/09/2019 13:57
38830,"Test plan for ""function pointers""","- [Proposal](https://github.com/dotnet/csharplang/blob/master/proposals/function-pointers.md)
- [Championed issue](https://github.com/dotnet/csharplang/issues/191)

- [ ] Specification checked in to `csharplang`.
- [ ] Tests based on specification...
","Test plan for ""function pointers"" - [Proposal](https://github.com/dotnet/csharplang/blob/master/proposals/function-pointers.md)
- [Championed issue](https://github.com/dotnet/csharplang/issues/191)

- [ ] Specification checked in to `csharplang`.
- [ ] Tests based on specification...
",Area-Compilers|Test,333fred,,
38829,Update AnalysisContextInfoTests.cs,Spelling fix,Update AnalysisContextInfoTests.cs Spelling fix,Area-Compilers|Community,nnpcYvIVl|jinujoseph|jcouv,25/09/2019 5:35,26/09/2019 9:26
38828,Update Binder_Lookup.vb,Spelling fix,Update Binder_Lookup.vb Spelling fix,Area-Compilers|Community,nnpcYvIVl|jinujoseph|jcouv,25/09/2019 5:30,26/09/2019 9:26
38827,Add support for SuppressMessageAttribute.MessageId ,"There is no option to avoid consequent violation to suppressed rule applied to method. To do so analyzers should support [_MessageId_](https://docs.microsoft.com/en-us/dotnet/api/system.diagnostics.codeanalysis.suppressmessageattribute.messageid?view=netframework-4.8#System_Diagnostics_CodeAnalysis_SuppressMessageAttribute_MessageId) property.

    [SuppressMessage(""SomeCat"" ""SomeRule"")]
    void SomeMethod()
    {
     // line violating SomeRule
    } 

Relevant articles:
1. SuppressMessageAttribute Class/[Examples](https://docs.microsoft.com/en-us/dotnet/api/system.diagnostics.codeanalysis.suppressmessageattribute?view=netframework-4.8#examples)
2. Suppress code analysis warnings/[Suppress selective violations within a method body](https://docs.microsoft.com/en-us/visualstudio/code-quality/in-source-suppression-overview?view=vs-2019#suppress-selective-violations-within-a-method-body)

Further more if _MessageId_ is specified _SuppressMessageAttribute_ is ignored i.e. error is reported anyway (by _Managed Binary Analysis_).

`[SuppressMessage(""SomeCat"" ""SomeRule MessageId = ""someVar"")]`

_Pragma warning disable_ is not symbol based. Since using statements denotes code blocks pragma can disable consequent violations also.","Add support for SuppressMessageAttribute.MessageId  There is no option to avoid consequent violation to suppressed rule applied to method. To do so analyzers should support [_MessageId_](https://docs.microsoft.com/en-us/dotnet/api/system.diagnostics.codeanalysis.suppressmessageattribute.messageid?view=netframework-4.8#System_Diagnostics_CodeAnalysis_SuppressMessageAttribute_MessageId) property.

    [SuppressMessage(""SomeCat"" ""SomeRule"")]
    void SomeMethod()
    {
     // line violating SomeRule
    } 

Relevant articles:
1. SuppressMessageAttribute Class/[Examples](https://docs.microsoft.com/en-us/dotnet/api/system.diagnostics.codeanalysis.suppressmessageattribute?view=netframework-4.8#examples)
2. Suppress code analysis warnings/[Suppress selective violations within a method body](https://docs.microsoft.com/en-us/visualstudio/code-quality/in-source-suppression-overview?view=vs-2019#suppress-selective-violations-within-a-method-body)

Further more if _MessageId_ is specified _SuppressMessageAttribute_ is ignored i.e. error is reported anyway (by _Managed Binary Analysis_).

`[SuppressMessage(""SomeCat"" ""SomeRule MessageId = ""someVar"")]`

_Pragma warning disable_ is not symbol based. Since using statements denotes code blocks pragma can disable consequent violations also.",Area-Analyzers|Feature Request|Resolution-By Design,jinujoseph|mavasani,25/09/2019 5:29,25/09/2019 23:12
38826,Update CompilerNuGetCheckerUtil.cs,Spelling fixes,Update CompilerNuGetCheckerUtil.cs Spelling fixes,Area-Infrastructure|Community,nnpcYvIVl|jinujoseph,25/09/2019 5:27,
38825,Fix server capabilities initialization and remove previous experiment…,"… iteration.

Since we're going to test with the new tagger remove the previous experiment implementation.","Fix server capabilities initialization and remove previous experiment… … iteration.

Since we're going to test with the new tagger remove the previous experiment implementation.",Area-IDE,dibarbet,25/09/2019 5:26,2/10/2019 8:31
38824,Update README.md,Spelling fixes,Update README.md Spelling fixes,Area-Infrastructure|Community,jasonmalinowski,,
38823,Update utils.ps1,Spelling fixes,Update utils.ps1 Spelling fixes,Area-Infrastructure|Community,JoeRobich,,
38822,IDE1008 when constructor called without optional parameters inside incomplete lambda,"**Version Used**: .NET Core 3.0.100 (stable) Visual Studio Community 2019 version 16.3.0 (stable)

``` csharp
using System;

namespace Test
{
    public class InstanceType
    {
        public InstanceType(object? a = null) { }
    }

    public static class Example
    {
        public static void Test()
        {
            Action lambda = () =>
            {
                var _ = new InstanceType();  // IDE1008: 'InstanceType' does not contain a constructor that takes that many arguments
                var _ = 0  // CS1002: ; expected
            };
        }
    }
}
```

There are two types of errors displayed in this code:

* CS1002: This is expected.  My cursor is at the end of this line; I'm currently writing the remainder of the lambda.  I haven't completed the line yet.
* IDE1008: This is unexpected even with my code in an incomplete state.

For this issue to occur the following conditions have to be met:

* The constructor definition must have at least one optional parameter.
* The constructor call must omit at least one optional parameter.
* The constructor call must be inside a statement lambda.
* There must be an unterminated statement inside the lambda.

This is problematic in some scenarios.  For example say I'm in the process of writing a lambda:

``` csharp
Action lambda = () =>
{
    var a = new InstanceType();

    // ...

    a.  // My cursor is here.
};
```

I've written a line to instantiate an `InstanceType` and store it in `a`.  I want to do something with `a` so I type `a.` expecting to see autocompletion options.  The autocompletion list will appear but I'll also receive an error on my constructor call which brings into question the validity of the autocompletion results--did I make a mistake that will cause `a` to be a different type from what I intended?  So I go back to fix the error before completing the line on which I'm currently working--but the error isn't real.

Now I understand that this is incomplete code so errors are expected to appear.  However Visual Studio normally seems to be quite intelligent about handling incomplete code; for example this problem doesn't occur in normal method bodies only statement lambdas.  The errors it does display typically make sense such as when non-void lambda doesn't have a return statement yet.","IDE1008 when constructor called without optional parameters inside incomplete lambda **Version Used**: .NET Core 3.0.100 (stable) Visual Studio Community 2019 version 16.3.0 (stable)

``` csharp
using System;

namespace Test
{
    public class InstanceType
    {
        public InstanceType(object? a = null) { }
    }

    public static class Example
    {
        public static void Test()
        {
            Action lambda = () =>
            {
                var _ = new InstanceType();  // IDE1008: 'InstanceType' does not contain a constructor that takes that many arguments
                var _ = 0  // CS1002: ; expected
            };
        }
    }
}
```

There are two types of errors displayed in this code:

* CS1002: This is expected.  My cursor is at the end of this line; I'm currently writing the remainder of the lambda.  I haven't completed the line yet.
* IDE1008: This is unexpected even with my code in an incomplete state.

For this issue to occur the following conditions have to be met:

* The constructor definition must have at least one optional parameter.
* The constructor call must omit at least one optional parameter.
* The constructor call must be inside a statement lambda.
* There must be an unterminated statement inside the lambda.

This is problematic in some scenarios.  For example say I'm in the process of writing a lambda:

``` csharp
Action lambda = () =>
{
    var a = new InstanceType();

    // ...

    a.  // My cursor is here.
};
```

I've written a line to instantiate an `InstanceType` and store it in `a`.  I want to do something with `a` so I type `a.` expecting to see autocompletion options.  The autocompletion list will appear but I'll also receive an error on my constructor call which brings into question the validity of the autocompletion results--did I make a mistake that will cause `a` to be a different type from what I intended?  So I go back to fix the error before completing the line on which I'm currently working--but the error isn't real.

Now I understand that this is incomplete code so errors are expected to appear.  However Visual Studio normally seems to be quite intelligent about handling incomplete code; for example this problem doesn't occur in normal method bodies only statement lambdas.  The errors it does display typically make sense such as when non-void lambda doesn't have a return statement yet.",Area-IDE|Bug|help wanted,sharwell|mavasani|jasonmalinowski|jinujoseph,25/09/2019 4:47,
38821,"Test plan for ""native ints""","[Championed issue](https://github.com/dotnet/csharplang/issues/435)

- [ ] Specification checked in to `csharplang`.
","Test plan for ""native ints"" [Championed issue](https://github.com/dotnet/csharplang/issues/435)

- [ ] Specification checked in to `csharplang`.
",Area-Compilers|Test,cston,,
38820,"Test plan for ""lambda discard parameters""","[Championed issue](https://github.com/dotnet/csharplang/issues/111)

- [ ] Specification checked in to `csharplang`.

## Open issues for LDM:
- [ ] Should we produce a distinct error for `out` or `ref` discard?","Test plan for ""lambda discard parameters"" [Championed issue](https://github.com/dotnet/csharplang/issues/111)

- [ ] Specification checked in to `csharplang`.

## Open issues for LDM:
- [ ] Should we produce a distinct error for `out` or `ref` discard?",Area-Compilers|Test,jcouv,,
38819,Code formatting breaks briefly after code is fixed,"**Version Used**: 
Roslyn (Language Service)
3.3.1-beta3-19454-05+3b423bd305daf81076d4d7b105101361c2

**Steps to Reproduce**:

1. Put a C# file into a non-compilable state briefly and fix it. ie a simple if block condition
2. Hit enter. The cursor isn't aligned to the expected location

**Expected Behavior**:
Correct indentation

**Actual Behavior**:
Only indents once


Tabs are used for all indenting in this file.

![incorrect_formatting_csharp](https://user-images.githubusercontent.com/49821/65534575-ff4d8880-debc-11e9-8fa4-088cd82141f2.gif)
","Code formatting breaks briefly after code is fixed **Version Used**: 
Roslyn (Language Service)
3.3.1-beta3-19454-05+3b423bd305daf81076d4d7b105101361c2

**Steps to Reproduce**:

1. Put a C# file into a non-compilable state briefly and fix it. ie a simple if block condition
2. Hit enter. The cursor isn't aligned to the expected location

**Expected Behavior**:
Correct indentation

**Actual Behavior**:
Only indents once


Tabs are used for all indenting in this file.

![incorrect_formatting_csharp](https://user-images.githubusercontent.com/49821/65534575-ff4d8880-debc-11e9-8fa4-088cd82141f2.gif)
",4 - In Review|Area-IDE|Bug,jinujoseph|CyrusNajmabadi|sharwell,25/09/2019 3:18,28/09/2019 5:48
38818,Update Language Feature Status,"@jaredpar @gafter Let me know if we need more updates. 
@jaredpar We'll need to start thinking about assigning buddies.","Update Language Feature Status @jaredpar @gafter Let me know if we need more updates. 
@jaredpar We'll need to start thinking about assigning buddies.",Area-Compilers|Documentation,jcouv,,
38817,roslyn analyzers (to check xml documentation) reporting error on build but later removed on live analysis,"**Version Used**: 2.9.2

**Steps to Reproduce**:
we have an analyzer to check XML comments on methods. While building the solution Analyzer reports errors wrongly. it shows an error even if there are XML comments. These errors are later removed upon opening the file -

```
private static void AnalyzeMethodsToCheckXmlComments(SyntaxNodeAnalysisContext syntaxNodeAnalysisContext)
        {

           var a= syntaxNodeAnalysisContext.Node.SyntaxTree?.Options.DocumentationMode
                != DocumentationMode.None;
            if (a) { 
                var node = syntaxNodeAnalysisContext.Node as MethodDeclarationSyntax;

                if (node != null && !node.Modifiers.Any(SyntaxKind.PublicKeyword))
                    return;

                var xmlTrivia = node?.GetLeadingTrivia()
                    .Select(i => i.GetStructure())
                    .OfType<DocumentationCommentTriviaSyntax>()
                    .FirstOrDefault();

                if (xmlTrivia == null)
                {
                    syntaxNodeAnalysisContext.ReportDiagnostic(
                        Diagnostic.Create(Rule node?.Identifier.GetLocation() ""Missing Xml Comments.""));
                    return;
                }

                var hasSummary = xmlTrivia.ChildNodes()
                    .OfType<XmlElementSyntax>()
                    .Any(i => i.StartTag.Name.ToString().Equals(""summary""));

                if (!hasSummary)
                {
                    syntaxNodeAnalysisContext.ReportDiagnostic(
                        Diagnostic.Create(Rule node.Identifier.GetLocation() ""Missing Summary in Xml Comments.""));
                    return;
                }

                var allParamNameAttributes = xmlTrivia.ChildNodes()
                    .OfType<XmlElementSyntax>()
                    .Where(i => i.StartTag.Name.ToString().Equals(""param""))
                    .SelectMany(i => i.StartTag.Attributes.OfType<XmlNameAttributeSyntax>()).ToList();

                foreach (var param in node.ParameterList.Parameters)
                {
                    var existsInXmlTrivia = allParamNameAttributes
                        .Any(i => i.Identifier.ToString().Equals(param.Identifier.Text));

                    if (existsInXmlTrivia)
                    {
                        continue;
                    }
                    syntaxNodeAnalysisContext.ReportDiagnostic(
                        Diagnostic.Create(ParameterRule param.GetLocation() ""Parameter Not Documented in Xml Comments.""));
                    return;
                }
            }
        }
```

**Expected Behavior**:
Errors should not show up on the build
**Actual Behavior**:
 Errors show up on build but removed when the file is opened","roslyn analyzers (to check xml documentation) reporting error on build but later removed on live analysis **Version Used**: 2.9.2

**Steps to Reproduce**:
we have an analyzer to check XML comments on methods. While building the solution Analyzer reports errors wrongly. it shows an error even if there are XML comments. These errors are later removed upon opening the file -

```
private static void AnalyzeMethodsToCheckXmlComments(SyntaxNodeAnalysisContext syntaxNodeAnalysisContext)
        {

           var a= syntaxNodeAnalysisContext.Node.SyntaxTree?.Options.DocumentationMode
                != DocumentationMode.None;
            if (a) { 
                var node = syntaxNodeAnalysisContext.Node as MethodDeclarationSyntax;

                if (node != null && !node.Modifiers.Any(SyntaxKind.PublicKeyword))
                    return;

                var xmlTrivia = node?.GetLeadingTrivia()
                    .Select(i => i.GetStructure())
                    .OfType<DocumentationCommentTriviaSyntax>()
                    .FirstOrDefault();

                if (xmlTrivia == null)
                {
                    syntaxNodeAnalysisContext.ReportDiagnostic(
                        Diagnostic.Create(Rule node?.Identifier.GetLocation() ""Missing Xml Comments.""));
                    return;
                }

                var hasSummary = xmlTrivia.ChildNodes()
                    .OfType<XmlElementSyntax>()
                    .Any(i => i.StartTag.Name.ToString().Equals(""summary""));

                if (!hasSummary)
                {
                    syntaxNodeAnalysisContext.ReportDiagnostic(
                        Diagnostic.Create(Rule node.Identifier.GetLocation() ""Missing Summary in Xml Comments.""));
                    return;
                }

                var allParamNameAttributes = xmlTrivia.ChildNodes()
                    .OfType<XmlElementSyntax>()
                    .Where(i => i.StartTag.Name.ToString().Equals(""param""))
                    .SelectMany(i => i.StartTag.Attributes.OfType<XmlNameAttributeSyntax>()).ToList();

                foreach (var param in node.ParameterList.Parameters)
                {
                    var existsInXmlTrivia = allParamNameAttributes
                        .Any(i => i.Identifier.ToString().Equals(param.Identifier.Text));

                    if (existsInXmlTrivia)
                    {
                        continue;
                    }
                    syntaxNodeAnalysisContext.ReportDiagnostic(
                        Diagnostic.Create(ParameterRule param.GetLocation() ""Parameter Not Documented in Xml Comments.""));
                    return;
                }
            }
        }
```

**Expected Behavior**:
Errors should not show up on the build
**Actual Behavior**:
 Errors show up on build but removed when the file is opened",Area-IDE|Bug|Investigation Required,mavasani,,
38816,NetCore-CSharpCompilation does not resolve systemtypes like enum in referenced assemblies,"**Version Used**: 3.3.1 and many lower versions with NetCore3.0

**Steps to Reproduce**: ExampleCode:
```csharp
using Microsoft.CodeAnalysis;
using Microsoft.CodeAnalysis.CSharp;
using System;
using System.Collections.Generic;
using System.Linq;

namespace CSharpCompilationTest
{
    class Program
    {
        const string document = @""
namespace ProjectWithAssembly
{
    public enum TestEnum
    {
        Hello World
    }

}
"";
        static void Main(string[] args)
        {
            var assemblies = new[] { typeof(object).Assembly.Location typeof(TestEnum).Assembly.Location }.Select(path=>MetadataReference.CreateFromFile(path)).ToList();
            var options = new CSharpCompilationOptions(OutputKind.DynamicallyLinkedLibrary);
            var complilation = CSharpCompilation.Create(""ProjectWithAssembly"" new SyntaxTree[] { SyntaxFactory.ParseSyntaxTree(document) } assemblies options);
            var enumType = complilation.GetTypeByMetadataName(""CSharpCompilationTest.TestEnum"");
            var alsoEnumType = complilation.GetTypeByMetadataName(""ProjectWithAssembly.TestEnum"");

            Console.WriteLine($""{enumType}:\t{enumType.TypeKind}\r\n{alsoEnumType}:\t{alsoEnumType.TypeKind}"");
        }
    }

    public enum TestEnum
    {
        Hello World
    }
}
```

**Expected Behavior**: Both TypeSymbols are `TypeKind.Enum`.

**Actual Behavior**: The TypeSymbol in the referenced assembly is `TypeKind.Class`. Seems like it can not link from the assembly to the CoreLib since the baseclass is ErrorType. This does work in netframework and maybe some earlier versions of net core.

I discovered this while investigating why docfx can not generate documentation correctly for netCore. [For Reference](https://github.com/dotnet/docfx/issues/4952).","NetCore-CSharpCompilation does not resolve systemtypes like enum in referenced assemblies **Version Used**: 3.3.1 and many lower versions with NetCore3.0

**Steps to Reproduce**: ExampleCode:
```csharp
using Microsoft.CodeAnalysis;
using Microsoft.CodeAnalysis.CSharp;
using System;
using System.Collections.Generic;
using System.Linq;

namespace CSharpCompilationTest
{
    class Program
    {
        const string document = @""
namespace ProjectWithAssembly
{
    public enum TestEnum
    {
        Hello World
    }

}
"";
        static void Main(string[] args)
        {
            var assemblies = new[] { typeof(object).Assembly.Location typeof(TestEnum).Assembly.Location }.Select(path=>MetadataReference.CreateFromFile(path)).ToList();
            var options = new CSharpCompilationOptions(OutputKind.DynamicallyLinkedLibrary);
            var complilation = CSharpCompilation.Create(""ProjectWithAssembly"" new SyntaxTree[] { SyntaxFactory.ParseSyntaxTree(document) } assemblies options);
            var enumType = complilation.GetTypeByMetadataName(""CSharpCompilationTest.TestEnum"");
            var alsoEnumType = complilation.GetTypeByMetadataName(""ProjectWithAssembly.TestEnum"");

            Console.WriteLine($""{enumType}:\t{enumType.TypeKind}\r\n{alsoEnumType}:\t{alsoEnumType.TypeKind}"");
        }
    }

    public enum TestEnum
    {
        Hello World
    }
}
```

**Expected Behavior**: Both TypeSymbols are `TypeKind.Enum`.

**Actual Behavior**: The TypeSymbol in the referenced assembly is `TypeKind.Class`. Seems like it can not link from the assembly to the CoreLib since the baseclass is ErrorType. This does work in netframework and maybe some earlier versions of net core.

I discovered this while investigating why docfx can not generate documentation correctly for netCore. [For Reference](https://github.com/dotnet/docfx/issues/4952).",Area-Compilers|Investigation Required,jcouv,25/09/2019 1:01,
38815,Merge master to master-vs-deps,"
This is an automatically generated pull request from master into master-vs-deps.

``` bash
git fetch --all
git checkout merges/master-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge master to master-vs-deps 
This is an automatically generated pull request from master into master-vs-deps.

``` bash
git fetch --all
git checkout merges/master-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|dotnet-automerge-bot,24/09/2019 22:02,25/09/2019 6:00
38814,Merge release/dev16.4-preview1 to release/dev16.4-preview1-vs-deps,"
This is an automatically generated pull request from release/dev16.4-preview1 into release/dev16.4-preview1-vs-deps.

``` bash
git fetch --all
git checkout merges/release/dev16.4-preview1-to-release/dev16.4-preview1-vs-deps
git reset --hard upstream/release/dev16.4-preview1-vs-deps
git merge upstream/release/dev16.4-preview1
# Fix merge conflicts
git commit
git push upstream merges/release/dev16.4-preview1-to-release/dev16.4-preview1-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge release/dev16.4-preview1 to release/dev16.4-preview1-vs-deps 
This is an automatically generated pull request from release/dev16.4-preview1 into release/dev16.4-preview1-vs-deps.

``` bash
git fetch --all
git checkout merges/release/dev16.4-preview1-to-release/dev16.4-preview1-vs-deps
git reset --hard upstream/release/dev16.4-preview1-vs-deps
git merge upstream/release/dev16.4-preview1
# Fix merge conflicts
git commit
git push upstream merges/release/dev16.4-preview1-to-release/dev16.4-preview1-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|dotnet-automerge-bot,24/09/2019 22:02,25/09/2019 6:30
38813,Merge release/dev16.4-preview1 to master,"
This is an automatically generated pull request from release/dev16.4-preview1 into master.

``` bash
git fetch --all
git checkout merges/release/dev16.4-preview1-to-master
git reset --hard upstream/master
git merge upstream/release/dev16.4-preview1
# Fix merge conflicts
git commit
git push upstream merges/release/dev16.4-preview1-to-master --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge release/dev16.4-preview1 to master 
This is an automatically generated pull request from release/dev16.4-preview1 into master.

``` bash
git fetch --all
git checkout merges/release/dev16.4-preview1-to-master
git reset --hard upstream/master
git merge upstream/release/dev16.4-preview1
# Fix merge conflicts
git commit
git push upstream merges/release/dev16.4-preview1-to-master --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|JoeRobich|jasonmalinowski,24/09/2019 22:00,27/09/2019 3:15
38812,C#8 compiler reports CS8620 for IEnumerable<T?> after filtering for not null,"**Version Used**: 
dotnet-sdk-3.0.100

**Steps to Reproduce**:
enable nullable
```csharp
public static void Run()
{
    var enumerable = Enumerable.Range(1 10).Select(i => i % 2 == 0 ? null : i.ToString());
    var notNulls = enumerable.Where(item => item != null);
    Check(notNulls);
}
private static void Check(IEnumerable<string> notNull) { }
```

**Expected Behavior**:
no warning

**Actual Behavior**:
Warning CS8620 Argument of type 'IEnumerable<string?>' cannot be used for parameter 'notNull' of type 'IEnumerable<string>' in 'void Check(IEnumerable<string> notNull)' due to differences in the nullability of reference types.

my current workaround is
```csharp
    var notNulls = enumerable.Where(item => item != null).Select(item => item!);
```","C#8 compiler reports CS8620 for IEnumerable<T?> after filtering for not null **Version Used**: 
dotnet-sdk-3.0.100

**Steps to Reproduce**:
enable nullable
```csharp
public static void Run()
{
    var enumerable = Enumerable.Range(1 10).Select(i => i % 2 == 0 ? null : i.ToString());
    var notNulls = enumerable.Where(item => item != null);
    Check(notNulls);
}
private static void Check(IEnumerable<string> notNull) { }
```

**Expected Behavior**:
no warning

**Actual Behavior**:
Warning CS8620 Argument of type 'IEnumerable<string?>' cannot be used for parameter 'notNull' of type 'IEnumerable<string>' in 'void Check(IEnumerable<string> notNull)' due to differences in the nullability of reference types.

my current workaround is
```csharp
    var notNulls = enumerable.Where(item => item != null).Select(item => item!);
```",Area-Compilers|Area-Language Design|New Language Feature - Nullable Reference Types,jcouv,24/09/2019 19:13,
38811,support local functions inside static in signature help,"Fixes signature help part of https://github.com/dotnet/roslyn/issues/38074

Thank you for discussions @svick  @CyrusNajmabadi  @miloush and @333fred !

Tests were copied from https://github.com/dotnet/roslyn/commit/62918fc39895da53eb4ce76b4a83a949746220e8
It is weird but I could not cherry-pick it.","support local functions inside static in signature help Fixes signature help part of https://github.com/dotnet/roslyn/issues/38074

Thank you for discussions @svick  @CyrusNajmabadi  @miloush and @333fred !

Tests were copied from https://github.com/dotnet/roslyn/commit/62918fc39895da53eb4ce76b4a83a949746220e8
It is weird but I could not cherry-pick it.",Area-IDE|IDE-IntelliSense,ivanbasov|svick|333fred|CyrusNajmabadi,24/09/2019 12:00,28/09/2019 8:01
38810,Support SkipLocalsInit on event accessors,Relates to https://github.com/dotnet/roslyn/issues/25780 (test plan for skip locals init),Support SkipLocalsInit on event accessors Relates to https://github.com/dotnet/roslyn/issues/25780 (test plan for skip locals init),Area-Compilers,jcouv,,
38809,Use new Span/Memory APIs on System.Collections.Immutable,,Use new Span/Memory APIs on System.Collections.Immutable ,Area-Compilers,agocke|jaredpar|333fred|RikkiGibson,24/09/2019 11:15,27/09/2019 7:24
38808,Parse attributes on local function declarations,"Related to #38801

Attributes on local function parameters or type parameters are already parsed as expected but they simply give errors. This PR adds an AttributeLists property to LocalFunctionStatementSyntax and parses the attributes into that property.","Parse attributes on local function declarations Related to #38801

Attributes on local function parameters or type parameters are already parsed as expected but they simply give errors. This PR adds an AttributeLists property to LocalFunctionStatementSyntax and parses the attributes into that property.",Area-Compilers,RikkiGibson|jaredpar|agocke|333fred|gafter|VSadov|AlekseyTs|cston|jcouv|chsienki|fayrose,24/09/2019 9:37,28/09/2019 7:58
38807,Merge master to master-vs-deps,"
This is an automatically generated pull request from master into master-vs-deps.
(created from a manual run of the PR generation tool)

``` bash
git fetch --all
git checkout merges/master-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge master to master-vs-deps 
This is an automatically generated pull request from master into master-vs-deps.
(created from a manual run of the PR generation tool)

``` bash
git fetch --all
git checkout merges/master-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|dotnet-automerge-bot,24/09/2019 8:49,24/09/2019 10:30
38806,Merge release/dev16.3 to release/dev16.3-vs-deps,"
This is an automatically generated pull request from release/dev16.3 into release/dev16.3-vs-deps.
(created from a manual run of the PR generation tool)

``` bash
git fetch --all
git checkout merges/release/dev16.3-to-release/dev16.3-vs-deps
git reset --hard upstream/release/dev16.3-vs-deps
git merge upstream/release/dev16.3
# Fix merge conflicts
git commit
git push upstream merges/release/dev16.3-to-release/dev16.3-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge release/dev16.3 to release/dev16.3-vs-deps 
This is an automatically generated pull request from release/dev16.3 into release/dev16.3-vs-deps.
(created from a manual run of the PR generation tool)

``` bash
git fetch --all
git checkout merges/release/dev16.3-to-release/dev16.3-vs-deps
git reset --hard upstream/release/dev16.3-vs-deps
git merge upstream/release/dev16.3
# Fix merge conflicts
git commit
git push upstream merges/release/dev16.3-to-release/dev16.3-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|dotnet-automerge-bot,24/09/2019 8:49,24/09/2019 10:30
38805,Merge release/dev16.3 to release/dev16.4-preview1,"
This is an automatically generated pull request from release/dev16.3 into release/dev16.4-preview1.
(created from a manual run of the PR generation tool)

``` bash
git fetch --all
git checkout merges/release/dev16.3-to-release/dev16.4-preview1
git reset --hard upstream/release/dev16.4-preview1
git merge upstream/release/dev16.3
# Fix merge conflicts
git commit
git push upstream merges/release/dev16.3-to-release/dev16.4-preview1 --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge release/dev16.3 to release/dev16.4-preview1 
This is an automatically generated pull request from release/dev16.3 into release/dev16.4-preview1.
(created from a manual run of the PR generation tool)

``` bash
git fetch --all
git checkout merges/release/dev16.3-to-release/dev16.4-preview1
git reset --hard upstream/release/dev16.4-preview1
git merge upstream/release/dev16.3
# Fix merge conflicts
git commit
git push upstream merges/release/dev16.3-to-release/dev16.4-preview1 --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|dotnet-automerge-bot,24/09/2019 8:48,24/09/2019 11:30
38803,Add options to configure background analysis in the IDE,"1. Option to **enable power save mode**: Fixes #38429. This option turns off all the background analysis and also turns off remote host (RoslynCodeAnalysis service hub process) for C# and VB projects to reduce memory consumption in this mode. This option turns off most of the background analyses that are executed by the solution crawler. We still execute the bare minimum analysis for a reasonable editing experience: compiler analyzer to get compiler warnings/errors and also execute the add usings and remove unncessary usings analyzers. We can tune this required analysis set in future as required.

2. Option to **disable live analyzer execution**: There have been lot of requests in past to give users a single knob to turn on/off execution of all Roslyn analyzers in the IDE (third party analyzers + IDE code style analyzers which are enabled by default).

I have also hooked up the low virtual memory listener which detects low VM and used to turn off just the full solution analysis to now instead turn on a forced power save mode for the current VS session (which also turns off full solution analysis along with other background analyses).

**TODOs:**
1. More manual testing
2. Get design consensus on the preferred option(s):
   1. 2 options (current PR): Options to configure Power save mode and Analyzer execution
   2. Single option to configure Power save mode only
   3. Multiple options: One top level option to configure Power save mode with lot of individual options to control individual background analyses. This is less preferable due to overload of options and information for users.","Add options to configure background analysis in the IDE 1. Option to **enable power save mode**: Fixes #38429. This option turns off all the background analysis and also turns off remote host (RoslynCodeAnalysis service hub process) for C# and VB projects to reduce memory consumption in this mode. This option turns off most of the background analyses that are executed by the solution crawler. We still execute the bare minimum analysis for a reasonable editing experience: compiler analyzer to get compiler warnings/errors and also execute the add usings and remove unncessary usings analyzers. We can tune this required analysis set in future as required.

2. Option to **disable live analyzer execution**: There have been lot of requests in past to give users a single knob to turn on/off execution of all Roslyn analyzers in the IDE (third party analyzers + IDE code style analyzers which are enabled by default).

I have also hooked up the low virtual memory listener which detects low VM and used to turn off just the full solution analysis to now instead turn on a forced power save mode for the current VS session (which also turns off full solution analysis along with other background analyses).

**TODOs:**
1. More manual testing
2. Get design consensus on the preferred option(s):
   1. 2 options (current PR): Options to configure Power save mode and Analyzer execution
   2. Single option to configure Power save mode only
   3. Multiple options: One top level option to configure Power save mode with lot of individual options to control individual background analyses. This is less preferable due to overload of options and information for users.",Area-IDE,mavasani|heejaechang|sharwell|CyrusNajmabadi|vatsalyaagrawal|jinujoseph,24/09/2019 7:00,
38802,Move optimization around use of Nullable type in Boolean Expressions into LocalRewriter and eliminate invalid optimization.,"Fixes #38305.

The goal of optimization is to eliminate the need to deal with instances of Nullable(Of Boolean) type as early as possible and as a result simplify evaluation of built-in OrElse/AndAlso operators by eliminating the need to use three-valued Boolean logic. The optimization is possible because when an entire Boolean Expression is evaluated to Null that has the same effect as if result of evaluation was False. However we do want to preserve the original order of evaluation according to language rules.","Move optimization around use of Nullable type in Boolean Expressions into LocalRewriter and eliminate invalid optimization. Fixes #38305.

The goal of optimization is to eliminate the need to deal with instances of Nullable(Of Boolean) type as early as possible and as a result simplify evaluation of built-in OrElse/AndAlso operators by eliminating the need to use three-valued Boolean logic. The optimization is possible because when an entire Boolean Expression is evaluated to Null that has the same effect as if result of evaluation was False. However we do want to preserve the original order of evaluation according to language rules.",Area-Compilers|Language-VB,jcouv,,
38801,"Test plan for ""local function attributes""","Championed issue: dotnet/csharplang#1888

- [ ] Specification checked in to `csharplang`.
- [ ] attribute on declaration
- [ ] attribute on return type
- [ ] attribute on type parameters
- [ ] attribute on parameters
- [ ] interaction with potentially ambiguous syntax?
- [ ] speculative semantic model #24135
- [ ] expected diagnostics when binding a local function statement in speculative semantic model
- [ ] Scrub references (skipped tests and such) referencing this issue
- [ ] ...","Test plan for ""local function attributes"" Championed issue: dotnet/csharplang#1888

- [ ] Specification checked in to `csharplang`.
- [ ] attribute on declaration
- [ ] attribute on return type
- [ ] attribute on type parameters
- [ ] attribute on parameters
- [ ] interaction with potentially ambiguous syntax?
- [ ] speculative semantic model #24135
- [ ] expected diagnostics when binding a local function statement in speculative semantic model
- [ ] Scrub references (skipped tests and such) referencing this issue
- [ ] ...",Area-Compilers|Test,RikkiGibson,,
38799,Add telemetry for target type completion,"#38096
Want to monitor the perf and make sure it doesn't regress when rolling out to broader audience.

@dotnet/roslyn-ide ","Add telemetry for target type completion #38096
Want to monitor the perf and make sure it doesn't regress when rolling out to broader audience.

@dotnet/roslyn-ide ",Area-IDE|Tenet-Telemetry,genlu|DustinCampbell|jasonmalinowski|dpoeschl|ryzngard|JoeRobich|heejaechang|sharwell|petrroll|ivanbasov|dibarbet|vatsalyaagrawal|mavasani|jinujoseph|allisonchou|Cosifne|chborl,24/09/2019 4:24,24/09/2019 7:14
38798,Indent characters change from tabs to spaces at line break,"_This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/742548/indent-characters-change-from-tabs-to-spaces-at-li.html)._

---
[regression] [worked-in:16.3 preview 1]
my settings
indenting: Smart
Tab size: 4
Indent size: 4
Keep tabs: true

The sample code is as follows.

```cs
namespace Sample
{
	public class Hoge
	{
		public int Test()
		{
			int x = 1;
			return x;
		}
	}
}
```

If you place a cursor at the beginning of &quot;int x&quot; and type enter key the indent of the new line is incorrect.
There should be 3 tabs but 3 spaces as shown in the code below.

```cs
namespace Sample
{
	public class Hoge
	{
		public int Test()
		{
			
   int x = 1;
			return x;
		}
	}
}
```

In VS2019 (not preview) and previous VS2019 preview the line was broken correctly like the following code.

```cs
namespace Sample
{
	public class Hoge
	{
		public int Test()
		{

			int x = 1;
			return x;
		}
	}
}
```

---
### Original Comments

#### Visual Studio Feedback System on 9/23/2019 02:37 AM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>


---
### Original Solutions
(no solutions)","Indent characters change from tabs to spaces at line break _This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/742548/indent-characters-change-from-tabs-to-spaces-at-li.html)._

---
[regression] [worked-in:16.3 preview 1]
my settings
indenting: Smart
Tab size: 4
Indent size: 4
Keep tabs: true

The sample code is as follows.

```cs
namespace Sample
{
	public class Hoge
	{
		public int Test()
		{
			int x = 1;
			return x;
		}
	}
}
```

If you place a cursor at the beginning of &quot;int x&quot; and type enter key the indent of the new line is incorrect.
There should be 3 tabs but 3 spaces as shown in the code below.

```cs
namespace Sample
{
	public class Hoge
	{
		public int Test()
		{
			
   int x = 1;
			return x;
		}
	}
}
```

In VS2019 (not preview) and previous VS2019 preview the line was broken correctly like the following code.

```cs
namespace Sample
{
	public class Hoge
	{
		public int Test()
		{

			int x = 1;
			return x;
		}
	}
}
```

---
### Original Comments

#### Visual Studio Feedback System on 9/23/2019 02:37 AM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>


---
### Original Solutions
(no solutions)",Area-IDE|Bug|IDE-Formatter|Resolution-Fixed,sharwell,,
38797,Documentation comment auto completion should not generate <returns> for indexers,"**Version Used**: Visual Studio 2019 Version 16.3

**Steps to Reproduce**:

```cs
public class Program
{
    public object this[int index]
    {
        get => throw new System.NotImplementedException();
        set => throw new System.NotImplementedException();
    }
}
```

**Expected Behavior**:

```cs
public class Program
{
    /// <summary>
    /// 
    /// </summary>
    /// <param name=""index""></param>
    /// <value></value>
    public object this[int index]
    {
        get => throw new System.NotImplementedException();
        set => throw new System.NotImplementedException();
    }
}
```

-or-

```cs
public class Program
{
    /// <summary>
    /// 
    /// </summary>
    /// <param name=""index""></param>
    public object this[int index]
    {
        get => throw new System.NotImplementedException();
        set => throw new System.NotImplementedException();
    }
}
```

**Actual Behavior**:

```cs
public class Program
{
    /// <summary>
    /// 
    /// </summary>
    /// <param name=""index""></param>
    /// <returns></returns>
    public object this[int index]
    {
        get => throw new System.NotImplementedException();
        set => throw new System.NotImplementedException();
    }
}
```","Documentation comment auto completion should not generate <returns> for indexers **Version Used**: Visual Studio 2019 Version 16.3

**Steps to Reproduce**:

```cs
public class Program
{
    public object this[int index]
    {
        get => throw new System.NotImplementedException();
        set => throw new System.NotImplementedException();
    }
}
```

**Expected Behavior**:

```cs
public class Program
{
    /// <summary>
    /// 
    /// </summary>
    /// <param name=""index""></param>
    /// <value></value>
    public object this[int index]
    {
        get => throw new System.NotImplementedException();
        set => throw new System.NotImplementedException();
    }
}
```

-or-

```cs
public class Program
{
    /// <summary>
    /// 
    /// </summary>
    /// <param name=""index""></param>
    public object this[int index]
    {
        get => throw new System.NotImplementedException();
        set => throw new System.NotImplementedException();
    }
}
```

**Actual Behavior**:

```cs
public class Program
{
    /// <summary>
    /// 
    /// </summary>
    /// <param name=""index""></param>
    /// <returns></returns>
    public object this[int index]
    {
        get => throw new System.NotImplementedException();
        set => throw new System.NotImplementedException();
    }
}
```",Area-IDE|Bug|IDE-IntelliSense,sharwell,,
38796,IDE0067 False Positive,"**Version Used**: VS2019 16.2.5 

**Steps to Reproduce**:
```csharp
        public override Stream ToStream<T>(T input)
        {
            if (input == null) throw new ArgumentNullException(nameof(input));

#pragma warning disable IDE0067 // Dispose objects before losing scope
            // This method creates a new stream.  It's pointless to return a disposed object.
            return ToStreamAsync(input).GetAwaiter().GetResult();
#pragma warning restore IDE0067 // Dispose objects before losing scope
        }
```

**Expected Behavior**:
Disposed state of the return value should be ignored.  It's never appropriate for a return value to be disposed when returned.  Particularly if the instance is created as new inside the method and then used as a return value.

**Actual Behavior**:
Get IDE0067 warning saying the object should be disposed before losing scope.
","IDE0067 False Positive **Version Used**: VS2019 16.2.5 

**Steps to Reproduce**:
```csharp
        public override Stream ToStream<T>(T input)
        {
            if (input == null) throw new ArgumentNullException(nameof(input));

#pragma warning disable IDE0067 // Dispose objects before losing scope
            // This method creates a new stream.  It's pointless to return a disposed object.
            return ToStreamAsync(input).GetAwaiter().GetResult();
#pragma warning restore IDE0067 // Dispose objects before losing scope
        }
```

**Expected Behavior**:
Disposed state of the return value should be ignored.  It's never appropriate for a return value to be disposed when returned.  Particularly if the instance is created as new inside the method and then used as a return value.

**Actual Behavior**:
Get IDE0067 warning saying the object should be disposed before losing scope.
",Area-IDE|Bug,mavasani,,
38795,Nullability-related bug producing BadImageFormatException,"While doing some NRE work on Npgsql I came across a subtle bug that triggers a BadImageFormatException in runtime. Following is a minimal repro using dotnet SDK 3.0.100-rc1-014190:

```c#
static class Program
{
    static void Main()
    {
        var x = typeof(Bar<>);
        Console.WriteLine(x);
    }
}

public class Bar<T>
{
    public override bool Equals(object? o) => o is Bar<T> range;
    public override int GetHashCode() => 0;
}
```

Disabling nullability specifically around the Equals method makes the error go away.

The repro is available in https://github.com/roji/CompilerNullabilityBug.","Nullability-related bug producing BadImageFormatException While doing some NRE work on Npgsql I came across a subtle bug that triggers a BadImageFormatException in runtime. Following is a minimal repro using dotnet SDK 3.0.100-rc1-014190:

```c#
static class Program
{
    static void Main()
    {
        var x = typeof(Bar<>);
        Console.WriteLine(x);
    }
}

public class Bar<T>
{
    public override bool Equals(object? o) => o is Bar<T> range;
    public override int GetHashCode() => 0;
}
```

Disabling nullability specifically around the Equals method makes the error go away.

The repro is available in https://github.com/roji/CompilerNullabilityBug.",Area-Compilers|Bug|New Language Feature - Nullable Reference Types|Resolution-Duplicate|Urgency-Soon,gafter|jcouv|roji,23/09/2019 19:09,24/09/2019 6:34
38794,Quick info cannot show type for linq group variable declaration,"**Version Used**: 
VS 16.3 Preview 4

<img width=""355"" alt=""image"" src=""https://user-images.githubusercontent.com/5644458/65390432-5fdfa700-dd91-11e9-9d33-aa3b928a0e23.png"">
<img width=""334"" alt=""image"" src=""https://user-images.githubusercontent.com/5644458/65390436-70901d00-dd91-11e9-968b-fdb90221027b.png"">
","Quick info cannot show type for linq group variable declaration **Version Used**: 
VS 16.3 Preview 4

<img width=""355"" alt=""image"" src=""https://user-images.githubusercontent.com/5644458/65390432-5fdfa700-dd91-11e9-9d33-aa3b928a0e23.png"">
<img width=""334"" alt=""image"" src=""https://user-images.githubusercontent.com/5644458/65390436-70901d00-dd91-11e9-968b-fdb90221027b.png"">
",Area-IDE|Bug|IDE-IntelliSense|help wanted,gafter|jinujoseph|RikkiGibson,23/09/2019 1:34,8/10/2019 5:16
38793,Analyzer driver perf optimization,"This change optimizes the analyzer driver to avoid redundant analyzer callbacks in presence of source file based suppressions to improve the overall performance for analyzer execution. Current editorconfig design allows user to configure diagnostic severities for specific source file(s). If user has suppressed all diagnostics that an analyzer can report on a specific file then executing the analyzer on such a file is redundant and can be avoided by the driver except for the below cases:

1. Non-configurable analyzers: If an analyzer reports any non-configurable diagnostic skipping any callbacks for this analyzer is not possible. User configurations will anyway not be respected and reported diagnostics cannot be suppressed.
2. Stateful analyzers (Compilation Start/End analyzers and Symbol Start/End analyzers): These analyzers have an analysis scope that is broader than a single file. They are handled separately based on whether or not they have registered to analyzer generate code:
   1. Registered to analyze generated code: Skipping any analyzer callbacks for these analyzers is not possible it will break the analyzers as they need to analyze all parts of the symbol/compilation to function properly. See analyzer [API](http://source.roslyn.io/#q=ConfigureGeneratedCodeAnalysis) for configuring generated code callbacks.
   2. Not registered to analyze generated code: Skipping analyzer callbacks for suppressed files for these analyzers is fine. By definition such analyzers do not require to analyze all files in compilation as it anyways skips generated code.
3. Symbol analyzers: Symbol analysis callbacks can only be skipped if the analyzer is suppressed on all files corresponding to symbol's declaration locations.","Analyzer driver perf optimization This change optimizes the analyzer driver to avoid redundant analyzer callbacks in presence of source file based suppressions to improve the overall performance for analyzer execution. Current editorconfig design allows user to configure diagnostic severities for specific source file(s). If user has suppressed all diagnostics that an analyzer can report on a specific file then executing the analyzer on such a file is redundant and can be avoided by the driver except for the below cases:

1. Non-configurable analyzers: If an analyzer reports any non-configurable diagnostic skipping any callbacks for this analyzer is not possible. User configurations will anyway not be respected and reported diagnostics cannot be suppressed.
2. Stateful analyzers (Compilation Start/End analyzers and Symbol Start/End analyzers): These analyzers have an analysis scope that is broader than a single file. They are handled separately based on whether or not they have registered to analyzer generate code:
   1. Registered to analyze generated code: Skipping any analyzer callbacks for these analyzers is not possible it will break the analyzers as they need to analyze all parts of the symbol/compilation to function properly. See analyzer [API](http://source.roslyn.io/#q=ConfigureGeneratedCodeAnalysis) for configuring generated code callbacks.
   2. Not registered to analyze generated code: Skipping analyzer callbacks for suppressed files for these analyzers is fine. By definition such analyzers do not require to analyze all files in compilation as it anyways skips generated code.
3. Symbol analyzers: Symbol analysis callbacks can only be skipped if the analyzer is suppressed on all files corresponding to symbol's declaration locations.",Area-Analyzers|Area-Compilers,agocke,,
38792,Allow disabled by default analyzers to be enabled with editorconfig e…,"…ntries.

We now mark analyzer as not suppressed if at least one syntax tree in compilation has DiagnosticOptions that has non-suppress severity.","Allow disabled by default analyzers to be enabled with editorconfig e… …ntries.

We now mark analyzer as not suppressed if at least one syntax tree in compilation has DiagnosticOptions that has non-suppress severity.",Area-Analyzers|Area-Compilers,mavasani,23/09/2019 1:21,1/10/2019 9:36
38791,Compiler incorrectly interprets ?? operator and reports CS8602 on later dereference,"**Version Used**: .NET Core SDK 3.0.100-rc1-014190

**Steps to Reproduce**:

```
git clone https://github.com/aarnott/Nerdbank.Streams.git
cd Nerdbank.Streams
git checkout efceb295908f8d5fe1904ed139347fcf12c0871e
dotnet build src
```

**Expected Behavior**:

No warnings.

**Actual Behavior**:

```
StreamPipeReader.cs(12897): warning CS8602: Dereference of a possibly null reference. [D:\git\Nerdbank.Streams\src\Nerdbank.Streams\Nerdbank.Streams.csproj]
StreamPipeWriter.cs(9897): warning CS8602: Dereference of a possibly null reference. [D:\git\Nerdbank.Streams\src\Nerdbank.Streams\Nerdbank.Streams.csproj]
MultiplexingStream.Channel.cs(25225): warning CS8602: Dereference of a possibly null reference. [D:\git\Nerdbank.Streams\src\Nerdbank.Streams\Nerdbank.Streams.csproj]
MultiplexingStream.Channel.cs(59221): warning CS8602: Dereference of a possibly null reference. [D:\git\Nerdbank.Streams\src\Nerdbank.Streams\Nerdbank.Streams.csproj]
MultiplexingStream.Channel.cs(25225): warning CS8602: Dereference of a possibly null reference. [D:\git\Nerdbank.Streams\src\Nerdbank.Streams\Nerdbank.Streams.csproj]
StreamPipeWriter.cs(9897): warning CS8602: Dereference of a possibly null reference. [D:\git\Nerdbank.Streams\src\Nerdbank.Streams\Nerdbank.Streams.csproj]
StreamPipeReader.cs(12897): warning CS8602: Dereference of a possibly null reference. [D:\git\Nerdbank.Streams\src\Nerdbank.Streams\Nerdbank.Streams.csproj]
MultiplexingStream.Channel.cs(59221): warning CS8602: Dereference of a possibly null reference. [D:\git\Nerdbank.Streams\src\Nerdbank.Streams\Nerdbank.Streams.csproj]
```

Each of these warnings comes after a `??` operator. For example:

```cs
            if (this.flushCancellationSource?.IsCancellationRequested ?? true)
            {
                this.flushCancellationSource = new CancellationTokenSource();
            }

            using (var cts = CancellationTokenSource.CreateLinkedTokenSource(cancellationToken this.flushCancellationSource.Token))
```

The compiler flags the last dereference of `this.flushCancellationSource` as a possible null dereference even though the if check above guarantees otherwise.","Compiler incorrectly interprets ?? operator and reports CS8602 on later dereference **Version Used**: .NET Core SDK 3.0.100-rc1-014190

**Steps to Reproduce**:

```
git clone https://github.com/aarnott/Nerdbank.Streams.git
cd Nerdbank.Streams
git checkout efceb295908f8d5fe1904ed139347fcf12c0871e
dotnet build src
```

**Expected Behavior**:

No warnings.

**Actual Behavior**:

```
StreamPipeReader.cs(12897): warning CS8602: Dereference of a possibly null reference. [D:\git\Nerdbank.Streams\src\Nerdbank.Streams\Nerdbank.Streams.csproj]
StreamPipeWriter.cs(9897): warning CS8602: Dereference of a possibly null reference. [D:\git\Nerdbank.Streams\src\Nerdbank.Streams\Nerdbank.Streams.csproj]
MultiplexingStream.Channel.cs(25225): warning CS8602: Dereference of a possibly null reference. [D:\git\Nerdbank.Streams\src\Nerdbank.Streams\Nerdbank.Streams.csproj]
MultiplexingStream.Channel.cs(59221): warning CS8602: Dereference of a possibly null reference. [D:\git\Nerdbank.Streams\src\Nerdbank.Streams\Nerdbank.Streams.csproj]
MultiplexingStream.Channel.cs(25225): warning CS8602: Dereference of a possibly null reference. [D:\git\Nerdbank.Streams\src\Nerdbank.Streams\Nerdbank.Streams.csproj]
StreamPipeWriter.cs(9897): warning CS8602: Dereference of a possibly null reference. [D:\git\Nerdbank.Streams\src\Nerdbank.Streams\Nerdbank.Streams.csproj]
StreamPipeReader.cs(12897): warning CS8602: Dereference of a possibly null reference. [D:\git\Nerdbank.Streams\src\Nerdbank.Streams\Nerdbank.Streams.csproj]
MultiplexingStream.Channel.cs(59221): warning CS8602: Dereference of a possibly null reference. [D:\git\Nerdbank.Streams\src\Nerdbank.Streams\Nerdbank.Streams.csproj]
```

Each of these warnings comes after a `??` operator. For example:

```cs
            if (this.flushCancellationSource?.IsCancellationRequested ?? true)
            {
                this.flushCancellationSource = new CancellationTokenSource();
            }

            using (var cts = CancellationTokenSource.CreateLinkedTokenSource(cancellationToken this.flushCancellationSource.Token))
```

The compiler flags the last dereference of `this.flushCancellationSource` as a possible null dereference even though the if check above guarantees otherwise.",Area-Compilers|New Language Feature - Nullable Reference Types|Resolution-Duplicate,AArnott|RikkiGibson,22/09/2019 0:09,23/09/2019 5:30
38790,Merge master to master-vs-deps,"
This is an automatically generated pull request from master into master-vs-deps.

``` bash
git fetch --all
git checkout merges/master-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge master to master-vs-deps 
This is an automatically generated pull request from master into master-vs-deps.

``` bash
git fetch --all
git checkout merges/master-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|RikkiGibson|dotnet-automerge-bot,21/09/2019 10:02,24/09/2019 8:00
38789,Enable more xUnit analyzer rules,"This enables the following xUnit analyzer rules:

- xUnit2000 - literal or constant value should be first in Assert.Equal"" is a valid assert but very noisy. Will do the refactoring later
- xUnit2003 - do not use Assert.Equal for null value"" is a valid assert but very noisy right now 
- xUnit2004 - do not use Assert.Equal for boolean conditions"" is a valid assert but very noisy right now
- xUnit2007 - do not use Assert.IsType(typeof...)"" is a valid assert but very noisy right now 
- xUnit2015 - do not use typeof() expression to check the exception type. "" is a valid assert but very noisy right now 
","Enable more xUnit analyzer rules This enables the following xUnit analyzer rules:

- xUnit2000 - literal or constant value should be first in Assert.Equal"" is a valid assert but very noisy. Will do the refactoring later
- xUnit2003 - do not use Assert.Equal for null value"" is a valid assert but very noisy right now 
- xUnit2004 - do not use Assert.Equal for boolean conditions"" is a valid assert but very noisy right now
- xUnit2007 - do not use Assert.IsType(typeof...)"" is a valid assert but very noisy right now 
- xUnit2015 - do not use typeof() expression to check the exception type. "" is a valid assert but very noisy right now 
",Area-Compilers|Area-IDE,jcouv,,
38788,Use default parameter values in flow analysis,"Closes #37903

/cc @jcouv. This flows data around in a somewhat disjunct way but I felt that adding lots of additional return values (i.e. `ImmutableArray<BoundExpression> arguments ImmutableArray<BoundExpression> argumentsNoConversions ImmutableArray<Conversion> conversions`) which ""augment"" the original arrays with the default parameter values was also kind of clumsy.","Use default parameter values in flow analysis Closes #37903

/cc @jcouv. This flows data around in a somewhat disjunct way but I felt that adding lots of additional return values (i.e. `ImmutableArray<BoundExpression> arguments ImmutableArray<BoundExpression> argumentsNoConversions ImmutableArray<Conversion> conversions`) which ""augment"" the original arrays with the default parameter values was also kind of clumsy.",Area-Compilers|New Language Feature - Nullable Reference Types,jcouv,,
38787,Allow selection in move type to file,Currently move type to file only works if you put the caret in the type name.  So use the new refactoring helpers to define the span where move type to file should be offered.,Allow selection in move type to file Currently move type to file only works if you put the caret in the type name.  So use the new refactoring helpers to define the span where move type to file should be offered.,Area-IDE,dibarbet|CyrusNajmabadi|mavasani|petrroll,21/09/2019 9:05,24/09/2019 6:35
38786,Implement lambda discard parameters,"In the new language version when more than one parameter of a lambda/delegate is an underscore we allow it and bind them as discard parameter symbols (which are like regular parameters but without names).

https://github.com/dotnet/csharplang/issues/111

Test plan: https://github.com/dotnet/roslyn/issues/38820","Implement lambda discard parameters In the new language version when more than one parameter of a lambda/delegate is an underscore we allow it and bind them as discard parameter symbols (which are like regular parameters but without names).

https://github.com/dotnet/csharplang/issues/111

Test plan: https://github.com/dotnet/roslyn/issues/38820",Area-Compilers,jcouv,,
38785,Refresh features/compiler branch with latest bits from master,,Refresh features/compiler branch with latest bits from master ,,jcouv,,
38784,Add a comment explaining the recently added cycle detection code and its relation to the language specification.,,Add a comment explaining the recently added cycle detection code and its relation to the language specification. ,Area-Compilers|Documentation,gafter,,
38783,Operators are classified as methods in tooltips,"**Version Used**: VS 16.2

**Steps to Reproduce**:

- Hover over any of the operators below `==` `!=` `<`

```C#
namespace ConsoleApp3
{
    class Program
    {
        static void Main(string[] args)
        {
            _ = 1 == 1;
            _ = 1 != 1;
            _ = 1 < 1;
        }
    }
}
```

**Expected Behavior**:

They get the same color as shown in the editor

**Actual Behavior**:

They get the same color as methods

This also happens in the 'Find All References' window.","Operators are classified as methods in tooltips **Version Used**: VS 16.2

**Steps to Reproduce**:

- Hover over any of the operators below `==` `!=` `<`

```C#
namespace ConsoleApp3
{
    class Program
    {
        static void Main(string[] args)
        {
            _ = 1 == 1;
            _ = 1 != 1;
            _ = 1 < 1;
        }
    }
}
```

**Expected Behavior**:

They get the same color as shown in the editor

**Actual Behavior**:

They get the same color as methods

This also happens in the 'Find All References' window.",Area-IDE|Bug,JoeRobich,,
38782,Problem with using common .editorconfig file (imported in csproj) in Visual Studio 2019 Preview 4,"**Version Used**: 

Visual Studio 2019 Preview 4
Microsoft.CodeAnalysis.FxCopAnalyzers v2.9.4

**Steps to Reproduce**:

I want to streamlime code analysis and the respetive rules accross multiple projects and teams.

We used to do that by having a NuGet package that imported analyzers to projects (Microsoft.CodeAnalysis.FxCopAnalyzers and StyleCop.Analyzers) and defined a ruleset to define how each rule was handled by VS (error warning etc.).

I have been trying to setup this using a common .editorconfig file instead of the ruleset. The problem is that settings like the following just seem to be ignored when the .editorconfig file is imported from a shared folder.

```
dotnet_diagnostic.CA1062.severity = error
```

For the purpose of testing this I have a very simple scenario that illustrates the problem.

The .editorconfig file is as follows:

```
[*.cs]
dotnet_diagnostic.CA1062.severity = error
#dotnet_code_quality.null_check_validation_methods = NotNull
```

Now this file is imported in a csproj like this:

```
<Project Sdk=""Microsoft.NET.Sdk"">
    <PropertyGroup>
        <TargetFramework>netstandard2.0</TargetFramework>
    </PropertyGroup>
    <Import Project=""..\..\_Shared\Build.props"" />
    <ItemGroup>
        <PackageReference Include=""Microsoft.CodeAnalysis.FxCopAnalyzers"" Version=""2.9.4"">
            <PrivateAssets>All</PrivateAssets>
        </PackageReference>
    </ItemGroup>
</Project>
```

Build.props is like this:

```
<Project>
    <PropertyGroup>
    <SkipDefaultEditorConfigAsAdditionalFile>true</SkipDefaultEditorConfigAsAdditionalFile>
    </PropertyGroup>
    <ItemGroup Condition=""Exists('$(MSBuildThisFileDirectory)\.editorconfig')"" >
        <AdditionalFiles Include=""$(MSBuildThisFileDirectory)\.editorconfig"" />
    </ItemGroup>
</Project>
```

**Expected Behavior**:

The following code is supposed to trigger an **error on CA1062** (validation of input):

```
public int Calculate(InputData input)
{
    SmartGuard.NotNull(nameof(input) input);
    if (this.Multiply)
    {
        return input.Value * 2;
    }
    else
    {
        return input.Value + 2;
    }
}
```

**Actual Behavior**:

But the result is a **warning** which means that `CA1062.severity` is being ignored.

Now if I change .editorconfig and uncomment the second line:

```
[*.cs]
dotnet_diagnostic.CA1062.severity = error
dotnet_code_quality.null_check_validation_methods = NotNull
```

The error goes way which means that `null_check_validation_methods` is being considered.

Why is that `CA1062.severity` is being ignored?

","Problem with using common .editorconfig file (imported in csproj) in Visual Studio 2019 Preview 4 **Version Used**: 

Visual Studio 2019 Preview 4
Microsoft.CodeAnalysis.FxCopAnalyzers v2.9.4

**Steps to Reproduce**:

I want to streamlime code analysis and the respetive rules accross multiple projects and teams.

We used to do that by having a NuGet package that imported analyzers to projects (Microsoft.CodeAnalysis.FxCopAnalyzers and StyleCop.Analyzers) and defined a ruleset to define how each rule was handled by VS (error warning etc.).

I have been trying to setup this using a common .editorconfig file instead of the ruleset. The problem is that settings like the following just seem to be ignored when the .editorconfig file is imported from a shared folder.

```
dotnet_diagnostic.CA1062.severity = error
```

For the purpose of testing this I have a very simple scenario that illustrates the problem.

The .editorconfig file is as follows:

```
[*.cs]
dotnet_diagnostic.CA1062.severity = error
#dotnet_code_quality.null_check_validation_methods = NotNull
```

Now this file is imported in a csproj like this:

```
<Project Sdk=""Microsoft.NET.Sdk"">
    <PropertyGroup>
        <TargetFramework>netstandard2.0</TargetFramework>
    </PropertyGroup>
    <Import Project=""..\..\_Shared\Build.props"" />
    <ItemGroup>
        <PackageReference Include=""Microsoft.CodeAnalysis.FxCopAnalyzers"" Version=""2.9.4"">
            <PrivateAssets>All</PrivateAssets>
        </PackageReference>
    </ItemGroup>
</Project>
```

Build.props is like this:

```
<Project>
    <PropertyGroup>
    <SkipDefaultEditorConfigAsAdditionalFile>true</SkipDefaultEditorConfigAsAdditionalFile>
    </PropertyGroup>
    <ItemGroup Condition=""Exists('$(MSBuildThisFileDirectory)\.editorconfig')"" >
        <AdditionalFiles Include=""$(MSBuildThisFileDirectory)\.editorconfig"" />
    </ItemGroup>
</Project>
```

**Expected Behavior**:

The following code is supposed to trigger an **error on CA1062** (validation of input):

```
public int Calculate(InputData input)
{
    SmartGuard.NotNull(nameof(input) input);
    if (this.Multiply)
    {
        return input.Value * 2;
    }
    else
    {
        return input.Value + 2;
    }
}
```

**Actual Behavior**:

But the result is a **warning** which means that `CA1062.severity` is being ignored.

Now if I change .editorconfig and uncomment the second line:

```
[*.cs]
dotnet_diagnostic.CA1062.severity = error
dotnet_code_quality.null_check_validation_methods = NotNull
```

The error goes way which means that `null_check_validation_methods` is being considered.

Why is that `CA1062.severity` is being ignored?

",Area-IDE|Question|Resolution-Duplicate,mavasani,,
38781,Static method isn't rendered in bold in nameof operator,"**Version Used**: Visual Studio 2019 Version 16.3

**Steps to Reproduce**:

```cs
public static class Type
{
    public static int Field;

    public static int Property { get; set; }

    public static void Method()
    {
        _ = nameof(Type);
        _ = nameof(Field);
        _ = nameof(Property);
        _ = nameof(Method); // Regular
        System.Action action = Method; // Bold
    }
}
```

**Expected Behavior**:

`Method` in `nameof` operator is rendered in bold.

**Actual Behavior**:

`Method` in `nameof` operator is rendered regularly.","Static method isn't rendered in bold in nameof operator **Version Used**: Visual Studio 2019 Version 16.3

**Steps to Reproduce**:

```cs
public static class Type
{
    public static int Field;

    public static int Property { get; set; }

    public static void Method()
    {
        _ = nameof(Type);
        _ = nameof(Field);
        _ = nameof(Property);
        _ = nameof(Method); // Regular
        System.Action action = Method; // Bold
    }
}
```

**Expected Behavior**:

`Method` in `nameof` operator is rendered in bold.

**Actual Behavior**:

`Method` in `nameof` operator is rendered regularly.",Area-IDE|Bug|help wanted,sharwell|NextTurn,20/09/2019 22:15,
38780,Merge master to master-vs-deps,"
This is an automatically generated pull request from master into master-vs-deps.

``` bash
git fetch --all
git checkout merges/master-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge master to master-vs-deps 
This is an automatically generated pull request from master into master-vs-deps.

``` bash
git fetch --all
git checkout merges/master-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|dotnet-automerge-bot,20/09/2019 22:02,21/09/2019 8:00
38779,Avoid throw an first chance XmlException in `ISymbolExtensions.GetDocumentationComment()` when xmlText is empty?,"**Version Used**: 
master-vs-deps(9401294549bd1559b0b409f620ea639f309fe2b5)
Related to #36028

**Steps to Reproduce**:

1. Hover cursor on any params of non-override methods with document or on any local vars in VS.

**Expected Behavior**:
No first chance exceptions should be throw.

**Actual Behavior**:
An `XmlException` is throw and catched. It's useless when `xmlText` is empty.","Avoid throw an first chance XmlException in `ISymbolExtensions.GetDocumentationComment()` when xmlText is empty? **Version Used**: 
master-vs-deps(9401294549bd1559b0b409f620ea639f309fe2b5)
Related to #36028

**Steps to Reproduce**:

1. Hover cursor on any params of non-override methods with document or on any local vars in VS.

**Expected Behavior**:
No first chance exceptions should be throw.

**Actual Behavior**:
An `XmlException` is throw and catched. It's useless when `xmlText` is empty.",Area-IDE|Concept-Continuous Improvement|IDE-IntelliSense|help wanted,sharwell,20/09/2019 19:51,
38778,Custom columns are blank when FAR on a literal,"**Version Used**: 

**Steps to Reproduce**:

1.  Open VS and create a console app with this code:
```csharp
    class Program
    {
        static void Main(string[] args)
        {
            string s = ""asdf"";
        }
    }
```
2. Select the string `""asdf""` right click and choose Find All References
3. If Containing Member Containing Type or Kind columns are not displayed right click on the column labels in the FAR window and show them

**Expected Behavior**:
Containing Member should be Main
Containing Type should be Program 
Kind should be Read

**Actual Behavior**:
The columns are empty","Custom columns are blank when FAR on a literal **Version Used**: 

**Steps to Reproduce**:

1.  Open VS and create a console app with this code:
```csharp
    class Program
    {
        static void Main(string[] args)
        {
            string s = ""asdf"";
        }
    }
```
2. Select the string `""asdf""` right click and choose Find All References
3. If Containing Member Containing Type or Kind columns are not displayed right click on the column labels in the FAR window and show them

**Expected Behavior**:
Containing Member should be Main
Containing Type should be Program 
Kind should be Read

**Actual Behavior**:
The columns are empty",Area-IDE|Concept-Continuous Improvement|help wanted,chborl|jinujoseph,20/09/2019 8:31,
38777,Warning IDE0044 - not valid,"_This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/734633/warning-ide0044-not-valid.html)._

---
The following class gives a warning on the field Foo &quot;IDE0044 Make field readonly&quot; which seems invalid.
Public Class Class1
    Private Foo(10) As Integer    ' or Dim Foo

Public Sub Bar()     ' or Private Sub
        Foo(0) = 1
    End Sub
End Class

Also the &quot;Quick Actions&quot; provided are not valid for example making it a property.

---
### Original Comments

#### Visual Studio Feedback System on 9/16/2019 02:14 AM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>


---
### Original Solutions
(no solutions)","Warning IDE0044 - not valid _This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/734633/warning-ide0044-not-valid.html)._

---
The following class gives a warning on the field Foo &quot;IDE0044 Make field readonly&quot; which seems invalid.
Public Class Class1
    Private Foo(10) As Integer    ' or Dim Foo

Public Sub Bar()     ' or Private Sub
        Foo(0) = 1
    End Sub
End Class

Also the &quot;Quick Actions&quot; provided are not valid for example making it a property.

---
### Original Comments

#### Visual Studio Feedback System on 9/16/2019 02:14 AM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>


---
### Original Solutions
(no solutions)",Area-IDE|Question|Resolution-Duplicate,gafter|mavasani|jinujoseph|sharwell,20/09/2019 8:08,25/09/2019 5:42
38776,Code Snippet replacement parameters do not respect spaces on insertion,"_This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/734632/code-snippet-replacement-parameters-do-not-respect.html)._

---
What steps will reproduce the problem?
1. Create a code snippet that includes a literal replacement variable declaration where the placeholder is separated from succeeding text by one or more spaces as in:

```
&lt;Snippet&gt;
  &lt;Code Language=&quot;CSharp&quot;&gt;
    &lt;![CDATA[
      public class Serializer : JsonConverter&lt;$ClassName$&gt;
      {
          public override $ClassName$ ReadJson(JsonReader reader Type objectType $ClassName$ existingValue)
          {
          }
      }
    ]]&gt;
  &lt;/Code&gt;
  &lt;Declarations&gt;
    &lt;Literal&gt;
        &lt;ID&gt;ClassName&lt;/ID&gt;
        &lt;ToolTip&gt;Specify the name of the class to convert.&lt;/ToolTip&gt;
    &lt;/Literal&gt;
  &lt;/Declarations&gt;
&lt;/Snippet&gt;
```

2. Insert the snippet into a code file press Tab type the replacement parameter e.g. &quot;MyClass&quot; and then press Enter.
3. Observe the inserted code.

What is the expected output? What do you see instead?

Expected:

```
public class Serializer : JsonConverter&lt;MyClass&gt;
{
   public override MyClass ReadJson(JsonReader reader Type objectType MyClass existingValue)
   {
   }
}
```

Actual:

```
public class Serializer : JsonConverter&lt;MyClass&gt;
{
   public override MyClassReadJson(JsonReader reader Type objectType MyClassexistingValue)
   {
   }
}
```

Please provide any additional information below.

Spaces are removed after all instances of the inserted literal replacement parameter values rendering the entire snippet feature no better than copy-and-paste since the developer now has to manually examine the inserted code searching for every occurrence of the substituted variable.

---
### Original Comments

#### Visual Studio Feedback System on 9/16/2019 02:42 AM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>


---
### Original Solutions
(no solutions)","Code Snippet replacement parameters do not respect spaces on insertion _This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/734632/code-snippet-replacement-parameters-do-not-respect.html)._

---
What steps will reproduce the problem?
1. Create a code snippet that includes a literal replacement variable declaration where the placeholder is separated from succeeding text by one or more spaces as in:

```
&lt;Snippet&gt;
  &lt;Code Language=&quot;CSharp&quot;&gt;
    &lt;![CDATA[
      public class Serializer : JsonConverter&lt;$ClassName$&gt;
      {
          public override $ClassName$ ReadJson(JsonReader reader Type objectType $ClassName$ existingValue)
          {
          }
      }
    ]]&gt;
  &lt;/Code&gt;
  &lt;Declarations&gt;
    &lt;Literal&gt;
        &lt;ID&gt;ClassName&lt;/ID&gt;
        &lt;ToolTip&gt;Specify the name of the class to convert.&lt;/ToolTip&gt;
    &lt;/Literal&gt;
  &lt;/Declarations&gt;
&lt;/Snippet&gt;
```

2. Insert the snippet into a code file press Tab type the replacement parameter e.g. &quot;MyClass&quot; and then press Enter.
3. Observe the inserted code.

What is the expected output? What do you see instead?

Expected:

```
public class Serializer : JsonConverter&lt;MyClass&gt;
{
   public override MyClass ReadJson(JsonReader reader Type objectType MyClass existingValue)
   {
   }
}
```

Actual:

```
public class Serializer : JsonConverter&lt;MyClass&gt;
{
   public override MyClassReadJson(JsonReader reader Type objectType MyClassexistingValue)
   {
   }
}
```

Please provide any additional information below.

Spaces are removed after all instances of the inserted literal replacement parameter values rendering the entire snippet feature no better than copy-and-paste since the developer now has to manually examine the inserted code searching for every occurrence of the substituted variable.

---
### Original Comments

#### Visual Studio Feedback System on 9/16/2019 02:42 AM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>


---
### Original Solutions
(no solutions)",Area-IDE|Bug|IDE-Formatter|help wanted,gafter|jinujoseph,20/09/2019 8:07,
38775,IntelliSense uses wrong types for lambdas passed using named parameters,"_This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/734521/intellisense-uses-wrong-types-for-lambdas-passed-u.html)._

---
If you have a method which accepts multiple lambdas as arguments and use named parameters to pass the lambdas in a different order IntelliSense within a passed lambda body will use the wrong types for completion against the lambda's parameters in the lambda body. That was a big sentence.

```csharp
void MethodWithMultipleLambdaArguments(
    Action<(int x int y)> action
    Action<IEnumerable<string>> checkThings = null)
{
    checkThings?.Invoke(new[]
    {
            ""a""
            ""b""
        });
    action((1 2));
}

public void DoSomething()
{
    MethodWithMultipleLambdaArguments(checkThings: things =>
    {
        things.«here»
    } action: pair =>
    {

    });
}
```

If you take the above code in a C# class in Visual Studio remove the “«here»” and then try completion from where “«here»” was you will see something like this:

![autocompletion for `action`’s parameter shown when completing against `checkThings`’s parameter](https://i.imgur.com/RhFi3QR.png)

I think that there is something like incomplete type information being calculated because the lambda has a syntax error preventing it from being fully resolved by the C# compiler. However in this case with named parameters and a limited number of possible matching method overrides (in this case exactly one) the compiler should have enough information to calculate the correct types for the lambda’s parameter.

---
### Original Comments

#### Visual Studio Feedback System on 9/16/2019 03:48 AM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>

#### Nathan Phillip Brink (binki) on 9/16/2019 06:43 AM: 

<p>P.S. in case it was not clear the expected behavior would be to show the completions for `IEnumerable&lt;string&gt;` since that is the type of the `things` parameter.</p>


---
### Original Solutions
(no solutions)","IntelliSense uses wrong types for lambdas passed using named parameters _This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/734521/intellisense-uses-wrong-types-for-lambdas-passed-u.html)._

---
If you have a method which accepts multiple lambdas as arguments and use named parameters to pass the lambdas in a different order IntelliSense within a passed lambda body will use the wrong types for completion against the lambda's parameters in the lambda body. That was a big sentence.

```csharp
void MethodWithMultipleLambdaArguments(
    Action<(int x int y)> action
    Action<IEnumerable<string>> checkThings = null)
{
    checkThings?.Invoke(new[]
    {
            ""a""
            ""b""
        });
    action((1 2));
}

public void DoSomething()
{
    MethodWithMultipleLambdaArguments(checkThings: things =>
    {
        things.«here»
    } action: pair =>
    {

    });
}
```

If you take the above code in a C# class in Visual Studio remove the “«here»” and then try completion from where “«here»” was you will see something like this:

![autocompletion for `action`’s parameter shown when completing against `checkThings`’s parameter](https://i.imgur.com/RhFi3QR.png)

I think that there is something like incomplete type information being calculated because the lambda has a syntax error preventing it from being fully resolved by the C# compiler. However in this case with named parameters and a limited number of possible matching method overrides (in this case exactly one) the compiler should have enough information to calculate the correct types for the lambda’s parameter.

---
### Original Comments

#### Visual Studio Feedback System on 9/16/2019 03:48 AM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>

#### Nathan Phillip Brink (binki) on 9/16/2019 06:43 AM: 

<p>P.S. in case it was not clear the expected behavior would be to show the completions for `IEnumerable&lt;string&gt;` since that is the type of the `things` parameter.</p>


---
### Original Solutions
(no solutions)",Area-IDE|Bug|IDE-IntelliSense|help wanted,gafter|jinujoseph|jcouv,20/09/2019 8:05,
38774,C# suggested parameter name is PascalCased,"_This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/735864/c-suggested-parameter-name-is-pascalcased.html)._

---
What steps will reproduce the problem?
1. Write out a method signature including parameters.
2. After typing a parameter type press space.

What is the expected output? What do you see instead?

I expect the C# language service to suggest a parameter name based on the type name in camelCase.
Instead it shows it to me in PascalCase.

.NET naming has a very strong precedent for using camelCase for parameter names. C# used to do this properly but it seems to have regressed recently.
See screenshot.

---
### Original Comments

#### Visual Studio Feedback System on 9/16/2019 08:27 PM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>


---
### Original Solutions
(no solutions)","C# suggested parameter name is PascalCased _This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/735864/c-suggested-parameter-name-is-pascalcased.html)._

---
What steps will reproduce the problem?
1. Write out a method signature including parameters.
2. After typing a parameter type press space.

What is the expected output? What do you see instead?

I expect the C# language service to suggest a parameter name based on the type name in camelCase.
Instead it shows it to me in PascalCase.

.NET naming has a very strong precedent for using camelCase for parameter names. C# used to do this properly but it seems to have regressed recently.
See screenshot.

---
### Original Comments

#### Visual Studio Feedback System on 9/16/2019 08:27 PM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>


---
### Original Solutions
(no solutions)",Area-IDE|Bug,gafter|jinujoseph,20/09/2019 7:58,25/09/2019 5:36
38773,IDE0009 claims `this.` must precede reference to local method in delegate constructor,"_This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/726242/ide0009-claims-this-must-precede-reference-to-loca.html)._

---
[regression] [worked-in:16.3]
What steps will reproduce the problem?

1. Have an .editorconfig file with `dotnet_style_qualification_for_method = true:warning`
1. Define a local method
2. Use that local method name as the argument to a delegate constructor.

What is the expected output? What do you see instead?

I expect no warnings.

I see an IDE0009 warning saying I must qualify the local method reference with `this.`.
Yet of course if I add `this.` then there's an error because local methods must not be qualified that way.

---
### Original Comments

#### Visual Studio Feedback System on 9/8/2019 11:40 PM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>


---
### Original Solutions
(no solutions)","IDE0009 claims `this.` must precede reference to local method in delegate constructor _This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/726242/ide0009-claims-this-must-precede-reference-to-loca.html)._

---
[regression] [worked-in:16.3]
What steps will reproduce the problem?

1. Have an .editorconfig file with `dotnet_style_qualification_for_method = true:warning`
1. Define a local method
2. Use that local method name as the argument to a delegate constructor.

What is the expected output? What do you see instead?

I expect no warnings.

I see an IDE0009 warning saying I must qualify the local method reference with `this.`.
Yet of course if I add `this.` then there's an error because local methods must not be qualified that way.

---
### Original Comments

#### Visual Studio Feedback System on 9/8/2019 11:40 PM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>


---
### Original Solutions
(no solutions)",Area-IDE,gafter|jinujoseph,20/09/2019 7:42,25/09/2019 5:35
38772,Copy value from field on MarshalByRef object to call ToString(),Fixes https://github.com/dotnet/roslyn/issues/37830,Copy value from field on MarshalByRef object to call ToString() Fixes https://github.com/dotnet/roslyn/issues/37830,Area-Compilers,jcouv,,
38771,Switch expression conversion creates broken code due to unspecific var return,"_This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/725942/switch-expression-conversion-creates-broken-code-d.html)._

---
Hence the following code:

```cs
using System;

namespace ConsoleApp1
{
    interface IFruit { }
    class Apple : IFruit { }
    class Banana : IFruit { }

class Program
    {
        static void Main(string[] args)
        {
            IFruit fruit;
            switch (args[0])
            {
                case &quot;apple&quot;:
                    fruit = new Apple();
                    break;
                case &quot;banana&quot;:
                    fruit = new Banana();
                    break;
                default:
                    throw new InvalidOperationException(&quot;Unknown fruit.&quot;);
            }
            Console.WriteLine(fruit. ToString());
        }
    }
}
```

The switch expression conversion suggests creating the following code:
```
var fruit = (args[0]) switch // C8506 No best type was found for the switch expression.
{
    &quot;apple&quot; =&gt; new Apple()
    &quot;banana&quot; =&gt; new Banana()
    _ =&gt; throw new InvalidOperationException(&quot;Unknown fruit.&quot;)
};
```

However the use of `var` causes the error `No best type was found for the switch expression.` which should be `IFruit`. There is no helper to change `var` explicitly to `IFruit`. If the conversion would've taken the original declaration of `IFruit` or the nearest compatible type there would have been no problem.
```cs
IFruit fruit = (args[0]) switch
{
    &quot;apple&quot; =&gt; new Apple()
    &quot;banana&quot; =&gt; new Banana()
    _ =&gt; throw new InvalidOperationException(&quot;Unknown fruit.&quot;)
};
```

I don't expect helpers to create broken code; and it would be nice to have this fixed :-)

---
### Original Comments

#### Visual Studio Feedback System on 9/9/2019 01:17 AM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>


---
### Original Solutions
(no solutions)","Switch expression conversion creates broken code due to unspecific var return _This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/725942/switch-expression-conversion-creates-broken-code-d.html)._

---
Hence the following code:

```cs
using System;

namespace ConsoleApp1
{
    interface IFruit { }
    class Apple : IFruit { }
    class Banana : IFruit { }

class Program
    {
        static void Main(string[] args)
        {
            IFruit fruit;
            switch (args[0])
            {
                case &quot;apple&quot;:
                    fruit = new Apple();
                    break;
                case &quot;banana&quot;:
                    fruit = new Banana();
                    break;
                default:
                    throw new InvalidOperationException(&quot;Unknown fruit.&quot;);
            }
            Console.WriteLine(fruit. ToString());
        }
    }
}
```

The switch expression conversion suggests creating the following code:
```
var fruit = (args[0]) switch // C8506 No best type was found for the switch expression.
{
    &quot;apple&quot; =&gt; new Apple()
    &quot;banana&quot; =&gt; new Banana()
    _ =&gt; throw new InvalidOperationException(&quot;Unknown fruit.&quot;)
};
```

However the use of `var` causes the error `No best type was found for the switch expression.` which should be `IFruit`. There is no helper to change `var` explicitly to `IFruit`. If the conversion would've taken the original declaration of `IFruit` or the nearest compatible type there would have been no problem.
```cs
IFruit fruit = (args[0]) switch
{
    &quot;apple&quot; =&gt; new Apple()
    &quot;banana&quot; =&gt; new Banana()
    _ =&gt; throw new InvalidOperationException(&quot;Unknown fruit.&quot;)
};
```

I don't expect helpers to create broken code; and it would be nice to have this fixed :-)

---
### Original Comments

#### Visual Studio Feedback System on 9/9/2019 01:17 AM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>


---
### Original Solutions
(no solutions)",Area-IDE|Bug|IDE-CodeStyle,allisonchou,,
38770,Ctrl+click a URL in a string literal takes you to the String class definition instead of following the link,"_This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/716317/ctrlclick-a-url-in-a-string-literal-takes-you-to-t.html)._

---
What steps will reproduce the problem?
1. Put a URL inside a C# string literal. Ex: &quot;https://github.com/dotnet/corefx/issues/30691&quot;
2. Inside the VS C# editior click the URL while holding the Ctrl key

What is the expected output? What do you see instead?

I expect for the URL to be opened in my default browser. Instead I get taken to the System.String class metadata or a decompiled version of the System.String reference assembly (which all no-op but that's another issue).

---
### Original Comments

#### Visual Studio Feedback System on 8/29/2019 07:12 PM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>


---
### Original Solutions
(no solutions)","Ctrl+click a URL in a string literal takes you to the String class definition instead of following the link _This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/716317/ctrlclick-a-url-in-a-string-literal-takes-you-to-t.html)._

---
What steps will reproduce the problem?
1. Put a URL inside a C# string literal. Ex: &quot;https://github.com/dotnet/corefx/issues/30691&quot;
2. Inside the VS C# editior click the URL while holding the Ctrl key

What is the expected output? What do you see instead?

I expect for the URL to be opened in my default browser. Instead I get taken to the System.String class metadata or a decompiled version of the System.String reference assembly (which all no-op but that's another issue).

---
### Original Comments

#### Visual Studio Feedback System on 8/29/2019 07:12 PM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>


---
### Original Solutions
(no solutions)",Area-IDE|Bug|Resolution-Not Reproducible,sharwell,,
38769,Support for reinferred lambdas in GetSymbolInfo and GetDeclaredSymbol,"We now support exposing reinferred lambda symbols via GetSymbolInfo. As part of this we have to recreate any local or parameter symbols who's `ContainingSymbol` would have been the original lambda symbol. As part of that I've created a simple reinferred variable tracker as part of the NullableWalker that is mutable inside a single pass of the walker and has a hierarchy of previous passes. SemanticModel will now use this for getting reinferred local symbols instead of recreating the symbols itself. @dotnet/roslyn-compiler for review.

Closes https://github.com/dotnet/roslyn/issues/38555 by linking to the original bug and skips a new test.","Support for reinferred lambdas in GetSymbolInfo and GetDeclaredSymbol We now support exposing reinferred lambda symbols via GetSymbolInfo. As part of this we have to recreate any local or parameter symbols who's `ContainingSymbol` would have been the original lambda symbol. As part of that I've created a simple reinferred variable tracker as part of the NullableWalker that is mutable inside a single pass of the walker and has a hierarchy of previous passes. SemanticModel will now use this for getting reinferred local symbols instead of recreating the symbols itself. @dotnet/roslyn-compiler for review.

Closes https://github.com/dotnet/roslyn/issues/38555 by linking to the original bug and skips a new test.",Area-Compilers|New Language Feature - Nullable Semantic Model,333fred|jaredpar|agocke|gafter|RikkiGibson|VSadov|AlekseyTs|cston|jcouv|chsienki|fayrose|jasonmalinowski|ryzngard,20/09/2019 5:50,6/10/2019 17:44
38767,MoveToNamespace should support moving a single type from global NS ,"Currently this is supported only when the selected member is the only one declared in the global NS in the document.

","MoveToNamespace should support moving a single type from global NS  Currently this is supported only when the selected member is the only one declared in the global NS in the document.

",Area-IDE|Concept-Continuous Improvement|IDE-CodeStyle|help wanted,genlu|jinujoseph,20/09/2019 4:03,
38766,Feature Request: NewLinesForBracesInMethodsWithMultilineParameters,"I was directed here from an `omnisharp-vscode` issue: https://github.com/OmniSharp/omnisharp-vscode/issues/3283

With dependency injection. I like my constructors formatted like this:

```
public MyClass(
    MyClass2 myClass2
    MyClass3 myClass3
) {
    _myClass2 = myClass2;
    _myClass3 = myClass3;
}
```

However the best I can do (that I know of) with the options given is:

```
public MyClass(
    MyClass2 myClass2
    MyClass3 myClass3
) 
{ // gross
    _myClass2 = myClass2;
    _myClass3 = myClass3;
}
```

Is it possible to add a special option for that case? I'd still like a child constructor to appear like this:

```
public MyClass(
    MyClass2 myClass2
    MyClass3 myClass3
) : base(myClass2 myClass3)
{
    _myClass2 = myClass2;
    _myClass3 = myClass3;
}
```","Feature Request: NewLinesForBracesInMethodsWithMultilineParameters I was directed here from an `omnisharp-vscode` issue: https://github.com/OmniSharp/omnisharp-vscode/issues/3283

With dependency injection. I like my constructors formatted like this:

```
public MyClass(
    MyClass2 myClass2
    MyClass3 myClass3
) {
    _myClass2 = myClass2;
    _myClass3 = myClass3;
}
```

However the best I can do (that I know of) with the options given is:

```
public MyClass(
    MyClass2 myClass2
    MyClass3 myClass3
) 
{ // gross
    _myClass2 = myClass2;
    _myClass3 = myClass3;
}
```

Is it possible to add a special option for that case? I'd still like a child constructor to appear like this:

```
public MyClass(
    MyClass2 myClass2
    MyClass3 myClass3
) : base(myClass2 myClass3)
{
    _myClass2 = myClass2;
    _myClass3 = myClass3;
}
```",Area-IDE|Feature Request|Resolution-Duplicate,gafter|jinujoseph|sharwell|ryzngard,20/09/2019 3:31,8/10/2019 9:37
38765,BoundBadExpression.Symbols has null elements,When we assume that `BoundBadExpression.Symbols` contains no nulls ImplicitArrayCreationExpression_Error_NonArrayInitExpr TestPragmaWarningOnEveryNodes and DontCrash all fail as the array does have null elements. This is likely a bug in the compiler and we should fix that. When that's fixed the annotation of the array should be updated back to `ImmutableArray<Symbol>`,BoundBadExpression.Symbols has null elements When we assume that `BoundBadExpression.Symbols` contains no nulls ImplicitArrayCreationExpression_Error_NonArrayInitExpr TestPragmaWarningOnEveryNodes and DontCrash all fail as the array does have null elements. This is likely a bug in the compiler and we should fix that. When that's fixed the annotation of the array should be updated back to `ImmutableArray<Symbol>`,Area-Compilers|Bug,333fred,20/09/2019 3:21,
38764,[master] Update dependencies from dotnet/arcade,"This pull request updates the following dependencies

[marker]: <> (Begin:567feadf-e495-4ebb-cee4-08d67668456c)
## From https://github.com/dotnet/arcade
- **Build**: 20190923.5
- **Date Produced**: 9/24/2019 4:15 AM
- **Commit**: ef4b288de587f0b86e65b3950e9095f714808ade
- **Branch**: refs/heads/master
- **Updates**:
  - **Microsoft.DotNet.Arcade.Sdk** -> 5.0.0-beta.19473.5

[marker]: <> (End:567feadf-e495-4ebb-cee4-08d67668456c)

















","[master] Update dependencies from dotnet/arcade This pull request updates the following dependencies

[marker]: <> (Begin:567feadf-e495-4ebb-cee4-08d67668456c)
## From https://github.com/dotnet/arcade
- **Build**: 20190923.5
- **Date Produced**: 9/24/2019 4:15 AM
- **Commit**: ef4b288de587f0b86e65b3950e9095f714808ade
- **Branch**: refs/heads/master
- **Updates**:
  - **Microsoft.DotNet.Arcade.Sdk** -> 5.0.0-beta.19473.5

[marker]: <> (End:567feadf-e495-4ebb-cee4-08d67668456c)

















",Area-Infrastructure,dotnet-maestro[bot]|jinujoseph,19/09/2019 22:09,27/09/2019 10:55
38763,Merge master to master-vs-deps,"
This is an automatically generated pull request from master into master-vs-deps.

``` bash
git fetch --all
git checkout merges/master-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge master to master-vs-deps 
This is an automatically generated pull request from master into master-vs-deps.

``` bash
git fetch --all
git checkout merges/master-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,ivanbasov,,
38762,Expand selection on method should include XML docs,"**Version Used**: 16.4.0-pre.2.0+29318.173.master

**Steps to Reproduce**:

```c#
class C
{
    /// <summary>A method</summary>
    void M()
    {
    }
}
```

1. With the caret inside method `M` invoke _Expand Selection_ until the selection spans `void M() { }`
2. Invoke _Expand Selection_ again

**Expected Behavior**:

Selection expands to include XML doc and method body.

**Actual Behavior**:

Ensure class `C` is selected.


This makes it hard to perform follow on actions such as:

- comment entire method without leaving invalid dangling documentation
- cut method to clipboard to paste somewhere else","Expand selection on method should include XML docs **Version Used**: 16.4.0-pre.2.0+29318.173.master

**Steps to Reproduce**:

```c#
class C
{
    /// <summary>A method</summary>
    void M()
    {
    }
}
```

1. With the caret inside method `M` invoke _Expand Selection_ until the selection spans `void M() { }`
2. Invoke _Expand Selection_ again

**Expected Behavior**:

Selection expands to include XML doc and method body.

**Actual Behavior**:

Ensure class `C` is selected.


This makes it hard to perform follow on actions such as:

- comment entire method without leaving invalid dangling documentation
- cut method to clipboard to paste somewhere else",Area-IDE|Concept-Continuous Improvement|IDE-CodeStyle|help wanted,drewnoakes|jinujoseph,19/09/2019 21:34,
38761,The SyntaxKind Enum could be in a separate library.,"The `SyntaxKind Enum` should be in a separate library as its source is duplicated in multiple projects in the solution. eg `Microsoft.CodeAnalysis.VisualBasic` and `VisualBasicSyntaxGenerator` 
This also the same for CSharp projects.

Maybe we should start to separate them out along with the helper methods to a library dll. So there isn't a mismatch.","The SyntaxKind Enum could be in a separate library. The `SyntaxKind Enum` should be in a separate library as its source is duplicated in multiple projects in the solution. eg `Microsoft.CodeAnalysis.VisualBasic` and `VisualBasicSyntaxGenerator` 
This also the same for CSharp projects.

Maybe we should start to separate them out along with the helper methods to a library dll. So there isn't a mismatch.",Area-Compilers|Resolution-By Design|Tenet-Performance,sharwell,,
38760,Cache AnalyzerConfigOptionsResult instances,"A common case for editorconfig is for most of the source files to have the same
options specified which means if we store options for each source file it's
likely we'll have many duplicate sets. This change adds a cache to AnalyzerConfigSet
to try to de-dup identical options dictionaries to a single shared instance.","Cache AnalyzerConfigOptionsResult instances A common case for editorconfig is for most of the source files to have the same
options specified which means if we store options for each source file it's
likely we'll have many duplicate sets. This change adds a cache to AnalyzerConfigSet
to try to de-dup identical options dictionaries to a single shared instance.",Area-Compilers,agocke|jasonmalinowski,19/09/2019 16:03,26/09/2019 3:04
38759,Refactoring: remove CompltetionItemFilter,,Refactoring: remove CompltetionItemFilter ,Area-IDE|IDE-IntelliSense,ivanbasov|sharwell|KirillOsenkov|genlu|sandyarmstrong,19/09/2019 15:55,28/09/2019 6:51
38758,Confirm required CancellationToken for Formatter.OrganizeImportsAsync,#38593 adds this method with a required cancellation token which aligns with asynchronous usage analyzers that require cancellation tokens be passed to methods that take them. The new API deviates from existing patterns so it should be confirmed in design review.,Confirm required CancellationToken for Formatter.OrganizeImportsAsync #38593 adds this method with a required cancellation token which aligns with asynchronous usage analyzers that require cancellation tokens be passed to methods that take them. The new API deviates from existing patterns so it should be confirmed in design review.,Area-IDE|Concept-API,jasonmalinowski,,
38757,Merge master to master-vs-deps,"
This is an automatically generated pull request from master into master-vs-deps.

``` bash
git fetch --all
git checkout merges/master-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge master to master-vs-deps 
This is an automatically generated pull request from master into master-vs-deps.

``` bash
git fetch --all
git checkout merges/master-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|dotnet-automerge-bot,19/09/2019 10:02,19/09/2019 11:30
38756,Verify semantic model on suppression operator,"Uncommenting some verification in tests for suppressions.
Closes https://github.com/dotnet/roslyn/issues/32661
Closes https://github.com/dotnet/roslyn/issues/38343

Also closes https://github.com/dotnet/roslyn/issues/38543 (problem with binding of async lambdas allowing a void to be returned) by adding a test","Verify semantic model on suppression operator Uncommenting some verification in tests for suppressions.
Closes https://github.com/dotnet/roslyn/issues/32661
Closes https://github.com/dotnet/roslyn/issues/38343

Also closes https://github.com/dotnet/roslyn/issues/38543 (problem with binding of async lambdas allowing a void to be returned) by adding a test",Area-Compilers|New Language Feature - Nullable Reference Types|Test,jcouv,,
38755,A C# option to indent/not indent `namespace` contents,"Added a C# formatting option to enable/disable (enabled by default) indentation for `namespace` contents.

Having this off is very useful for a couple of scenarios:
1. small screens such as laptop screens
2. diff viewing when two files have to be shown side by side (GitHub for example often has to wrap C# code because of long lines)

For example with option off:
```csharp
namespace MyNamespace {

using System;

class MyClass
{
    int f;
}
}
```

Option on:
```csharp
namespace MyNamespace {

  using System;

  class MyClass
  {
    int f;
  }
}
```

Closes #24129","A C# option to indent/not indent `namespace` contents Added a C# formatting option to enable/disable (enabled by default) indentation for `namespace` contents.

Having this off is very useful for a couple of scenarios:
1. small screens such as laptop screens
2. diff viewing when two files have to be shown side by side (GitHub for example often has to wrap C# code because of long lines)

For example with option off:
```csharp
namespace MyNamespace {

using System;

class MyClass
{
    int f;
}
}
```

Option on:
```csharp
namespace MyNamespace {

  using System;

  class MyClass
  {
    int f;
  }
}
```

Closes #24129",Area-IDE|Community|IDE-Formatter|Resolution-Won't Fix,JoeRobich|sharwell|jinujoseph,19/09/2019 9:30,1/10/2019 10:29
38754,Fix crash when moving type from global namespace,"Fixes internal bug
https://devdiv.visualstudio.com/DevDiv/_workitems/edit/980758

@ryzngard @dotnet/roslyn-ide ","Fix crash when moving type from global namespace Fixes internal bug
https://devdiv.visualstudio.com/DevDiv/_workitems/edit/980758

@ryzngard @dotnet/roslyn-ide ",Area-IDE,genlu|ryzngard|DustinCampbell|jasonmalinowski|dpoeschl|JoeRobich|heejaechang|sharwell|petrroll|ivanbasov|dibarbet|vatsalyaagrawal|mavasani|jinujoseph|allisonchou|Cosifne|chborl,19/09/2019 9:15,24/09/2019 4:00
38753,Use IContentType.IsOfType when checking for content type matches,A bug found while investigating https://github.com/dotnet/roslyn/issues/36984 was that the CodeCleanupFixerProvider was providing no fixers due to expecting an exact match of the text buffer's content type. It is recommended to use `IsOfType` to perform the comparison and this is how we check ContentTypes elsewhere.,Use IContentType.IsOfType when checking for content type matches A bug found while investigating https://github.com/dotnet/roslyn/issues/36984 was that the CodeCleanupFixerProvider was providing no fixers due to expecting an exact match of the text buffer's content type. It is recommended to use `IsOfType` to perform the comparison and this is how we check ContentTypes elsewhere.,Area-IDE,JoeRobich|heejaechang|sharwell,19/09/2019 8:45,19/09/2019 12:01
38752,Fix TakeIncrementalSnapshot crash,"Closes #37868

I can't think of any non-error scenarios where you would go into a conditional state on the LHS of an assignment operator and learn something meaningful about the nullability of variables. So I fixed the crash by always unsplitting the state after visiting the left side of an assignment operator.","Fix TakeIncrementalSnapshot crash Closes #37868

I can't think of any non-error scenarios where you would go into a conditional state on the LHS of an assignment operator and learn something meaningful about the nullability of variables. So I fixed the crash by always unsplitting the state after visiting the left side of an assignment operator.",Area-Compilers|New Language Feature - Nullable Reference Types,jcouv,,
38751,Fix typo and add richer info to rename test failure message,"```diff
-There were additional related locations than were unasserted:
+There were additional related locations that were unasserted:
+Foo @Test1.cs[12..15)
+Bar @Test1.cs[30..33)
```

Ideas welcome.","Fix typo and add richer info to rename test failure message ```diff
-There were additional related locations than were unasserted:
+There were additional related locations that were unasserted:
+Foo @Test1.cs[12..15)
+Bar @Test1.cs[30..33)
```

Ideas welcome.",Area-IDE|Community,genlu,,
38750,Ensure target-typed constructs are bound during initial binding in an error scenario.,Fixes #38686,Ensure target-typed constructs are bound during initial binding in an error scenario. Fixes #38686,Area-Compilers,gafter,,
38749,Change the Using organizer to not use ElasticTrivia for the NewLine,"Code Cleanup removes and sorts usings prior to running the whitespace formatter. The Using organizer used elastic trivia for the newline that it introduced between using groups which would get eaten by the formatter.

Fixes #36984","Change the Using organizer to not use ElasticTrivia for the NewLine Code Cleanup removes and sorts usings prior to running the whitespace formatter. The Using organizer used elastic trivia for the newline that it introduced between using groups which would get eaten by the formatter.

Fixes #36984",Area-IDE,JoeRobich,19/09/2019 5:39,19/09/2019 12:01
38748,WIP: Change Signature - Add parameter,,WIP: Change Signature - Add parameter ,Area-IDE|PR For Personal Review Only,ivanbasov|jinujoseph,19/09/2019 4:44,
38747,Merge master to master-vs-deps,"
This is an automatically generated pull request from master into master-vs-deps.
(created from a manual run of the PR generation tool)

``` bash
git fetch --all
git checkout merges/master-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge master to master-vs-deps 
This is an automatically generated pull request from master into master-vs-deps.
(created from a manual run of the PR generation tool)

``` bash
git fetch --all
git checkout merges/master-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|JoeRobich,19/09/2019 3:26,19/09/2019 6:23
38746,Export EditorConfig from Tools Options to show up in Solution Explorer,"**Version Used**: 
Visual Studio 2019

**Steps to Reproduce**:

1. When I press **Generate .editorconfig file from settings** in Tools > Options: 
![code style](https://user-images.githubusercontent.com/46729679/65167327-3290a300-d9f7-11e9-83f5-2d6258fd31c3.png)


2. File Explorer should open to ask where the EditorConfig should be saved (project or solution level):
![save-editorconfig](https://user-images.githubusercontent.com/46729679/65167441-6a97e600-d9f7-11e9-813b-b69c083c1582.png)

3. Once I select **Save** the EditorConfig should show up in Solution Explorer depending on where it was saved (under a specific project or solution)

Currently the EditorConfig is only saved at the solution level and have to right click on the solution name in the Solution Explorer and select add existing item for the EditorConfig to show up in Solution Explorer and I believe we can eliminate that step as well:
![Annotation 2019-09-18 093916](https://user-images.githubusercontent.com/46729679/65167845-3244d780-d9f8-11e9-930e-34778d2df067.png)


","Export EditorConfig from Tools Options to show up in Solution Explorer **Version Used**: 
Visual Studio 2019

**Steps to Reproduce**:

1. When I press **Generate .editorconfig file from settings** in Tools > Options: 
![code style](https://user-images.githubusercontent.com/46729679/65167327-3290a300-d9f7-11e9-83f5-2d6258fd31c3.png)


2. File Explorer should open to ask where the EditorConfig should be saved (project or solution level):
![save-editorconfig](https://user-images.githubusercontent.com/46729679/65167441-6a97e600-d9f7-11e9-813b-b69c083c1582.png)

3. Once I select **Save** the EditorConfig should show up in Solution Explorer depending on where it was saved (under a specific project or solution)

Currently the EditorConfig is only saved at the solution level and have to right click on the solution name in the Solution Explorer and select add existing item for the EditorConfig to show up in Solution Explorer and I believe we can eliminate that step as well:
![Annotation 2019-09-18 093916](https://user-images.githubusercontent.com/46729679/65167845-3244d780-d9f8-11e9-930e-34778d2df067.png)


",4 - In Review|Area-IDE|Feature Request,mavasani,,
38745,Enhance local variable assignment tracking,"**Version Used**: 

Visual-Studio-2019-Version-16.2.5

**Steps to Reproduce**:

Consider the following code snippet:

```
void Foo(object key)
{
    IDictionary<object object> dictionary = CreateDictionary(); // May return null
    // Bar() returns an object
    var foo = dictionary?.TryGetValue(key out object fooValue) ?? false ? fooValue : Bar();
    //                                                                     ~~~~~~~~
}
```
**Expected Behavior**:

The compiler can statically prove that in the branch `fooValue` is used it is always assigned.

**Actual Behavior**:
The comiler errors:
> The local variable `fooValue` might not be initialized before accessing.","Enhance local variable assignment tracking **Version Used**: 

Visual-Studio-2019-Version-16.2.5

**Steps to Reproduce**:

Consider the following code snippet:

```
void Foo(object key)
{
    IDictionary<object object> dictionary = CreateDictionary(); // May return null
    // Bar() returns an object
    var foo = dictionary?.TryGetValue(key out object fooValue) ?? false ? fooValue : Bar();
    //                                                                     ~~~~~~~~
}
```
**Expected Behavior**:

The compiler can statically prove that in the branch `fooValue` is used it is always assigned.

**Actual Behavior**:
The comiler errors:
> The local variable `fooValue` might not be initialized before accessing.",Area-Compilers|Feature Request,jaredpar|RikkiGibson,18/09/2019 21:54,19/09/2019 16:14
38744,'Convert switch statement to switch expression' (IDE0066) throws away comments,"example:

``` c#
using System;

static class P
{
    static void Main()
    {
        string input = Whatever();
        int size;
        // IDE0066 here
        switch(input)
        {
            case ""abc"": size = 12; break; // because magic
            case ""def"": size = 42; break; // important comment
            default: size = -1; break; // everything else
        }
        Console.WriteLine(size);
    }

    static string Whatever() => throw new NotImplementedException();
}
```

expected output:

``` c#
        var size = input switch
        {
            ""abc"" => 12 // because magic
            ""def"" => 42 // important comment
            _ => -1 // everything else
        };
```

actual output:

``` c#
        var size = input switch
        {
            ""abc"" => 12
            ""def"" => 42
            _ => -1
        };
```

Note: I haven't thought through what this should do in the general case where comments could be on multiple lines but; comments are important - throwing them away seems bad.","'Convert switch statement to switch expression' (IDE0066) throws away comments example:

``` c#
using System;

static class P
{
    static void Main()
    {
        string input = Whatever();
        int size;
        // IDE0066 here
        switch(input)
        {
            case ""abc"": size = 12; break; // because magic
            case ""def"": size = 42; break; // important comment
            default: size = -1; break; // everything else
        }
        Console.WriteLine(size);
    }

    static string Whatever() => throw new NotImplementedException();
}
```

expected output:

``` c#
        var size = input switch
        {
            ""abc"" => 12 // because magic
            ""def"" => 42 // important comment
            _ => -1 // everything else
        };
```

actual output:

``` c#
        var size = input switch
        {
            ""abc"" => 12
            ""def"" => 42
            _ => -1
        };
```

Note: I haven't thought through what this should do in the general case where comments could be on multiple lines but; comments are important - throwing them away seems bad.",Area-IDE|Bug|IDE-CodeStyle|Resolution-Duplicate,jaredpar|jinujoseph|sharwell,18/09/2019 19:12,25/09/2019 5:24
38743,use var instead of explicit type incorrectly reported in non-nullable out variable declaration,"**Version Used**: VS 16.3 preview 1

**Steps to Reproduce**:

Set code style preferences to prefer var over explicit type.

Compile the following:

```csharp
#nullable enable
using System.Collections.Generic;

public class C {
    public void M() {
        var dic = new Dictionary<string string>
        { {""key"" ""value""}};
        
        dic.TryGetValue(""key"" out string value);
    }
}
```
**Expected Behavior**:

No message to prefer var over explicit type since `string` is different to `string?` 

**Actual Behavior**:

message to prefer var over explicit type.","use var instead of explicit type incorrectly reported in non-nullable out variable declaration **Version Used**: VS 16.3 preview 1

**Steps to Reproduce**:

Set code style preferences to prefer var over explicit type.

Compile the following:

```csharp
#nullable enable
using System.Collections.Generic;

public class C {
    public void M() {
        var dic = new Dictionary<string string>
        { {""key"" ""value""}};
        
        dic.TryGetValue(""key"" out string value);
    }
}
```
**Expected Behavior**:

No message to prefer var over explicit type since `string` is different to `string?` 

**Actual Behavior**:

message to prefer var over explicit type.",Area-IDE|Concept-Continuous Improvement,ryzngard,,
38742,Cannot supress nullable warning in out variable declaration ,"**Version Used**: master

**Steps to Reproduce**:

```csharp
#nullable enable
using System.Collections.Generic;

public class C {
    public void M() {
        var dic = new Dictionary<string string>
        { {""key"" ""value""}};
        
        dic.TryGetValue(""key"" out string value);
    }
}
```
produces the warning:

> warning CS8600: Converting null literal or possible null value to non-nullable type.

Adding a null suppression operator as `dic.TryGetValue(""key"" out string value!);` is a syntax error. 

> error CS1003: Syntax error '' expected
> error CS1525: Invalid expression term ')'.

Adding a null suppression operator as `dic.TryGetValue(""key"" out string value)!;` is a semantic error.

> error CS8598: The suppression operator is not allowed in this context
> error CS0201: Only assignment call increment decrement await and new object expressions can be used as a statement 

**Expected Behavior**:

Some way to suppress an nullable warning in out variable declaration 

**Actual Behavior**:

No way to suppress a nullable warning in out variable declaration 
","Cannot supress nullable warning in out variable declaration  **Version Used**: master

**Steps to Reproduce**:

```csharp
#nullable enable
using System.Collections.Generic;

public class C {
    public void M() {
        var dic = new Dictionary<string string>
        { {""key"" ""value""}};
        
        dic.TryGetValue(""key"" out string value);
    }
}
```
produces the warning:

> warning CS8600: Converting null literal or possible null value to non-nullable type.

Adding a null suppression operator as `dic.TryGetValue(""key"" out string value!);` is a syntax error. 

> error CS1003: Syntax error '' expected
> error CS1525: Invalid expression term ')'.

Adding a null suppression operator as `dic.TryGetValue(""key"" out string value)!;` is a semantic error.

> error CS8598: The suppression operator is not allowed in this context
> error CS0201: Only assignment call increment decrement await and new object expressions can be used as a statement 

**Expected Behavior**:

Some way to suppress an nullable warning in out variable declaration 

**Actual Behavior**:

No way to suppress a nullable warning in out variable declaration 
",Area-Compilers|Bug|Resolution-By Design,jcouv,,
38741,Roslyn can tear down VS if a progression search gets cancelled,"**Version Used**: 
Version 16.4.0 Preview 2.0 [29316.148.master]

**Steps to Reproduce**:

I was searching Solution Explorer and VS was torn down with the following. I cannot reproduce this so looks like timing issue. Looks like if OperationCanceledException leaks out of these lambdas VS is torn down: https://github.com/dotnet/roslyn/blob/7bc44488c661fd6bbb6c53f39512a6fe0cc5ef84/src/VisualStudio/Core/Def/Implementation/Progression/GraphQueryManager.cs#L156

```
Application: devenv.exe
Framework Version: v4.0.30319
Description: The application requested process termination through System.Environment.FailFast(string message).
Message: System.Threading.Tasks.TaskCanceledException: A task was canceled.
Stack:
   at System.Environment.FailFast(System.String System.Exception)
   at Microsoft.CodeAnalysis.FailFast.OnFatalException(System.Exception)
   at Microsoft.CodeAnalysis.ErrorReporting.FatalError.Report(System.Exception System.Action`1<System.Exception>)
   at Microsoft.CodeAnalysis.ErrorReporting.FatalError.ReportUnlessCanceled(System.Exception)
   at Roslyn.Utilities.TaskExtensions+<>c__DisplayClass6_0`1[[System.Boolean mscorlib Version=4.0.0.0 Culture=neutral PublicKeyToken=b77a5c561934e089]].<SafeContinueWith>g__outerFunction|0(System.Threading.Tasks.Task)
   at System.Threading.Tasks.Task.ThrowIfExceptional(Boolean)
   at System.Threading.Tasks.Task`1[[System.__Canon mscorlib Version=4.0.0.0 Culture=neutral PublicKeyToken=b77a5c561934e089]].GetResultCore(Boolean)
   at System.Threading.Tasks.Task`1[[System.__Canon mscorlib Version=4.0.0.0 Culture=neutral PublicKeyToken=b77a5c561934e089]].get_Result()
   at Microsoft.VisualStudio.LanguageServices.Implementation.Progression.GraphQueryManager+<>c__DisplayClass14_0.<PopulateContextGraphAsync>b__1(System.Threading.Tasks.Task`1<Microsoft.VisualStudio.LanguageServices.Implementation.Progression.GraphBuilder[]>)
   at Roslyn.Utilities.TaskExtensions+<>c__DisplayClass5_0`1[[System.__Canon mscorlib Version=4.0.0.0 Culture=neutral PublicKeyToken=b77a5c561934e089]].<SafeContinueWith>b__0(System.Threading.Tasks.Task)
   at Roslyn.Utilities.TaskExtensions+<>c__DisplayClass2_0.<SafeContinueWith>g__continuationFunction|0(System.Threading.Tasks.Task)
   at Roslyn.Utilities.TaskExtensions+<>c__DisplayClass6_0`1[[System.Boolean mscorlib Version=4.0.0.0 Culture=neutral PublicKeyToken=b77a5c561934e089]].<SafeContinueWith>g__outerFunction|0(System.Threading.Tasks.Task)
   at System.Threading.Tasks.ContinuationResultTaskFromTask`1[[System.Boolean mscorlib Version=4.0.0.0 Culture=neutral PublicKeyToken=b77a5c561934e089]].InnerInvoke()
   at System.Threading.Tasks.Task.Execute()
   at System.Threading.Tasks.Task.ExecutionContextCallback(System.Object)
   at System.Threading.ExecutionContext.RunInternal(System.Threading.ExecutionContext System.Threading.ContextCallback System.Object Boolean)
   at System.Threading.ExecutionContext.Run(System.Threading.ExecutionContext System.Threading.ContextCallback System.Object Boolean)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(System.Threading.Tasks.Task ByRef)
   at System.Threading.Tasks.Task.ExecuteEntry(Boolean)
   at System.Threading.Tasks.Task.System.Threading.IThreadPoolWorkItem.ExecuteWorkItem()
   at System.Threading.ThreadPoolWorkQueue.Dispatch()
   at System.Threading._ThreadPoolWaitCallback.PerformWaitCallback()
```
","Roslyn can tear down VS if a progression search gets cancelled **Version Used**: 
Version 16.4.0 Preview 2.0 [29316.148.master]

**Steps to Reproduce**:

I was searching Solution Explorer and VS was torn down with the following. I cannot reproduce this so looks like timing issue. Looks like if OperationCanceledException leaks out of these lambdas VS is torn down: https://github.com/dotnet/roslyn/blob/7bc44488c661fd6bbb6c53f39512a6fe0cc5ef84/src/VisualStudio/Core/Def/Implementation/Progression/GraphQueryManager.cs#L156

```
Application: devenv.exe
Framework Version: v4.0.30319
Description: The application requested process termination through System.Environment.FailFast(string message).
Message: System.Threading.Tasks.TaskCanceledException: A task was canceled.
Stack:
   at System.Environment.FailFast(System.String System.Exception)
   at Microsoft.CodeAnalysis.FailFast.OnFatalException(System.Exception)
   at Microsoft.CodeAnalysis.ErrorReporting.FatalError.Report(System.Exception System.Action`1<System.Exception>)
   at Microsoft.CodeAnalysis.ErrorReporting.FatalError.ReportUnlessCanceled(System.Exception)
   at Roslyn.Utilities.TaskExtensions+<>c__DisplayClass6_0`1[[System.Boolean mscorlib Version=4.0.0.0 Culture=neutral PublicKeyToken=b77a5c561934e089]].<SafeContinueWith>g__outerFunction|0(System.Threading.Tasks.Task)
   at System.Threading.Tasks.Task.ThrowIfExceptional(Boolean)
   at System.Threading.Tasks.Task`1[[System.__Canon mscorlib Version=4.0.0.0 Culture=neutral PublicKeyToken=b77a5c561934e089]].GetResultCore(Boolean)
   at System.Threading.Tasks.Task`1[[System.__Canon mscorlib Version=4.0.0.0 Culture=neutral PublicKeyToken=b77a5c561934e089]].get_Result()
   at Microsoft.VisualStudio.LanguageServices.Implementation.Progression.GraphQueryManager+<>c__DisplayClass14_0.<PopulateContextGraphAsync>b__1(System.Threading.Tasks.Task`1<Microsoft.VisualStudio.LanguageServices.Implementation.Progression.GraphBuilder[]>)
   at Roslyn.Utilities.TaskExtensions+<>c__DisplayClass5_0`1[[System.__Canon mscorlib Version=4.0.0.0 Culture=neutral PublicKeyToken=b77a5c561934e089]].<SafeContinueWith>b__0(System.Threading.Tasks.Task)
   at Roslyn.Utilities.TaskExtensions+<>c__DisplayClass2_0.<SafeContinueWith>g__continuationFunction|0(System.Threading.Tasks.Task)
   at Roslyn.Utilities.TaskExtensions+<>c__DisplayClass6_0`1[[System.Boolean mscorlib Version=4.0.0.0 Culture=neutral PublicKeyToken=b77a5c561934e089]].<SafeContinueWith>g__outerFunction|0(System.Threading.Tasks.Task)
   at System.Threading.Tasks.ContinuationResultTaskFromTask`1[[System.Boolean mscorlib Version=4.0.0.0 Culture=neutral PublicKeyToken=b77a5c561934e089]].InnerInvoke()
   at System.Threading.Tasks.Task.Execute()
   at System.Threading.Tasks.Task.ExecutionContextCallback(System.Object)
   at System.Threading.ExecutionContext.RunInternal(System.Threading.ExecutionContext System.Threading.ContextCallback System.Object Boolean)
   at System.Threading.ExecutionContext.Run(System.Threading.ExecutionContext System.Threading.ContextCallback System.Object Boolean)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(System.Threading.Tasks.Task ByRef)
   at System.Threading.Tasks.Task.ExecuteEntry(Boolean)
   at System.Threading.Tasks.Task.System.Threading.IThreadPoolWorkItem.ExecuteWorkItem()
   at System.Threading.ThreadPoolWorkQueue.Dispatch()
   at System.Threading._ThreadPoolWaitCallback.PerformWaitCallback()
```
",Area-IDE|Bug,jasonmalinowski,,
38740,Merge master to master-vs-deps,"
This is an automatically generated pull request from master into master-vs-deps.

``` bash
git fetch --all
git checkout merges/master-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge master to master-vs-deps 
This is an automatically generated pull request from master into master-vs-deps.

``` bash
git fetch --all
git checkout merges/master-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|dotnet-automerge-bot,18/09/2019 10:02,18/09/2019 11:30
38739,Remove unnecessary nullable suppression,I was looking at existing usages of nullable suppression operator in roslyn and noticed a couple of unnecessary ones.,Remove unnecessary nullable suppression I was looking at existing usages of nullable suppression operator in roslyn and noticed a couple of unnecessary ones.,Area-IDE,genlu|jinujoseph,18/09/2019 9:56,19/09/2019 3:46
38738,Add cycle detection for more scenarios involving looking in base interfaces.,Fixes #38735.,Add cycle detection for more scenarios involving looking in base interfaces. Fixes #38735.,Area-Compilers|Language-C#|New Language Feature - Default Interface Impl,AlekseyTs|gafter|jaredpar|agocke|333fred|RikkiGibson|VSadov|cston|jcouv|chsienki|fayrose,18/09/2019 9:17,19/09/2019 12:02
38737,"""Use simple 'using' statement"" throws away compiler directives","**Version Used**: 
Version 16.4.0 Preview 2.0 [29316.148.master]

Reported here: https://twitter.com/marcgravell/status/1173957452703895552.

**Steps to Reproduce**:

1. 
``` C#
    class Program
    {
        static void Demo()
        {
            // IDE0063 does the wrong thing here
            using (var obj = Dummy())
            {
#pragma warning disable CS0618 CS0612
#if !FOO
                LegacyMethod();
#endif
#pragma warning restore CS0618 CS0612
            }
        }
        static IDisposable Dummy() => throw new NotImplementedException();
        [Obsolete]
        static void LegacyMethod() => throw new NotImplementedException();
    }
```

**Expected Behavior**:
``` C#
    class Program
    {
        static void Demo()
        {
            // IDE0063 does the wrong thing here
            using var obj = Dummy();
#pragma warning disable CS0618 CS0612
#if !FOO
            LegacyMethod();
#endif
#pragma warning restore CS0618 CS0612
        }
        static IDisposable Dummy() => throw new NotImplementedException();
        [Obsolete]
        static void LegacyMethod() => throw new NotImplementedException();
    }
}
```

**Actual Behavior**:
``` C#
    class Program
    {
        static void Demo()
        {
            // IDE0063 does the wrong thing here
            using var obj = Dummy();
#pragma warning disable CS0618 CS0612
#if !FOO
            LegacyMethod();
        }
        static IDisposable Dummy() => throw new NotImplementedException();
        [Obsolete]
        static void LegacyMethod() => throw new NotImplementedException();
    }
```","""Use simple 'using' statement"" throws away compiler directives **Version Used**: 
Version 16.4.0 Preview 2.0 [29316.148.master]

Reported here: https://twitter.com/marcgravell/status/1173957452703895552.

**Steps to Reproduce**:

1. 
``` C#
    class Program
    {
        static void Demo()
        {
            // IDE0063 does the wrong thing here
            using (var obj = Dummy())
            {
#pragma warning disable CS0618 CS0612
#if !FOO
                LegacyMethod();
#endif
#pragma warning restore CS0618 CS0612
            }
        }
        static IDisposable Dummy() => throw new NotImplementedException();
        [Obsolete]
        static void LegacyMethod() => throw new NotImplementedException();
    }
```

**Expected Behavior**:
``` C#
    class Program
    {
        static void Demo()
        {
            // IDE0063 does the wrong thing here
            using var obj = Dummy();
#pragma warning disable CS0618 CS0612
#if !FOO
            LegacyMethod();
#endif
#pragma warning restore CS0618 CS0612
        }
        static IDisposable Dummy() => throw new NotImplementedException();
        [Obsolete]
        static void LegacyMethod() => throw new NotImplementedException();
    }
}
```

**Actual Behavior**:
``` C#
    class Program
    {
        static void Demo()
        {
            // IDE0063 does the wrong thing here
            using var obj = Dummy();
#pragma warning disable CS0618 CS0612
#if !FOO
            LegacyMethod();
        }
        static IDisposable Dummy() => throw new NotImplementedException();
        [Obsolete]
        static void LegacyMethod() => throw new NotImplementedException();
    }
```",Area-IDE|Bug,JoeRobich,,
38736,Update immutable arrays of symbols in the NullabilityRewriter,Will be necessary for the forthcoming lambda PR but as this is a seperable change I'm breaking it out first.,Update immutable arrays of symbols in the NullabilityRewriter Will be necessary for the forthcoming lambda PR but as this is a seperable change I'm breaking it out first.,Area-Compilers,333fred|jaredpar|agocke|gafter|RikkiGibson|VSadov|AlekseyTs|cston|jcouv|chsienki|fayrose,18/09/2019 7:41,19/09/2019 16:52
38735,Compiler stack overflow in cyclic base lookup (DIM),"The following test case crashes after https://github.com/dotnet/roslyn/pull/38564 has been merged

``` c#
        [Fact]
        public void NestedTypes_33()
        {
            var source1 =
@""
interface I1 : IA<int>.NF { }

interface IQ<T> { }

interface IA<T> : IB<IQ<T>> { }

interface IB<T> : IA<IQ<T>> { }
"";

            var compilation1 = CreateCompilation(source1 options: TestOptions.DebugDll
                                                 parseOptions: TestOptions.Regular);

            compilation1.VerifyDiagnostics(
                // some errors are expected:
                // error CS0426: The type name 'NF' does not exist in the type 'IA<int>'
                // error CS0529: Inherited interface 'IB<IQ<T>>' causes a cycle in the interface hierarchy of 'IA<T>'
                // error CS0529: Inherited interface 'IA<IQ<T>>' causes a cycle in the interface hierarchy of 'IB<T>'
                );
            CompileAndVerify(compilation1);
        }
```

I suspect the problem is a missing check `BaseTypeAnalysis.TypeDependsOn(...)` in the name lookup code added in #38564.
","Compiler stack overflow in cyclic base lookup (DIM) The following test case crashes after https://github.com/dotnet/roslyn/pull/38564 has been merged

``` c#
        [Fact]
        public void NestedTypes_33()
        {
            var source1 =
@""
interface I1 : IA<int>.NF { }

interface IQ<T> { }

interface IA<T> : IB<IQ<T>> { }

interface IB<T> : IA<IQ<T>> { }
"";

            var compilation1 = CreateCompilation(source1 options: TestOptions.DebugDll
                                                 parseOptions: TestOptions.Regular);

            compilation1.VerifyDiagnostics(
                // some errors are expected:
                // error CS0426: The type name 'NF' does not exist in the type 'IA<int>'
                // error CS0529: Inherited interface 'IB<IQ<T>>' causes a cycle in the interface hierarchy of 'IA<T>'
                // error CS0529: Inherited interface 'IA<IQ<T>>' causes a cycle in the interface hierarchy of 'IB<T>'
                );
            CompileAndVerify(compilation1);
        }
```

I suspect the problem is a missing check `BaseTypeAnalysis.TypeDependsOn(...)` in the name lookup code added in #38564.
",4 - In Review|Area-Compilers|Bug|New Language Feature - Default Interface Impl,AlekseyTs,,
38734,Add support for capture of implicit `this` parameter in MakeLocalFunctionStatic,This is an unaddressed issue from #37629. Currently we don't make codefix/refactoring available if this is the case.,Add support for capture of implicit `this` parameter in MakeLocalFunctionStatic This is an unaddressed issue from #37629. Currently we don't make codefix/refactoring available if this is the case.,Area-IDE|Bug,genlu|jinujoseph,18/09/2019 6:58,
38733,Convert MakeLocalFunctionStatic refactoring to analyzer/codefix,"With .editorconfig support.

Suggested via code review comment:
https://github.com/dotnet/roslyn/pull/37629#pullrequestreview-288915669","Convert MakeLocalFunctionStatic refactoring to analyzer/codefix With .editorconfig support.

Suggested via code review comment:
https://github.com/dotnet/roslyn/pull/37629#pullrequestreview-288915669",Area-IDE|Feature Request,genlu|jinujoseph,18/09/2019 6:56,
38732,Allow conversion of collection initializer Add extension method this arg,Fixes #38726,Allow conversion of collection initializer Add extension method this arg Fixes #38726,Area-Compilers,cston|jaredpar|333fred|AlekseyTs,18/09/2019 6:04,24/09/2019 4:03
38731,Detect when type/field declared in an interface shadows a member from base interface.,Fixes #38711.,Detect when type/field declared in an interface shadows a member from base interface. Fixes #38711.,Area-Compilers|Language-C#|New Language Feature - Default Interface Impl,AlekseyTs|jaredpar|agocke|333fred|gafter|RikkiGibson|VSadov|cston|jcouv|chsienki|fayrose,18/09/2019 6:03,19/09/2019 8:54
38730,Workaround to unblock builds,Same workaround as https://github.com/dotnet/roslyn/pull/38692,Workaround to unblock builds Same workaround as https://github.com/dotnet/roslyn/pull/38692,Area-Infrastructure,JoeRobich,18/09/2019 5:47,18/09/2019 7:06
38729,Mask the shift count during constant folding to imitate the X86 behavior when unspecified.,Fixes #38720,Mask the shift count during constant folding to imitate the X86 behavior when unspecified. Fixes #38720,Area-Compilers|Concept-Determinism,gafter,,
38728,Bad Change Preview,"Original code:
![image](https://user-images.githubusercontent.com/2371880/65068892-665bc200-d93e-11e9-9544-a0a8ef42c200.png)
Invoking ctrl+. on the `localFunction` variable:
![image](https://user-images.githubusercontent.com/2371880/65068874-5cd25a00-d93e-11e9-93c2-d7575735c1e0.png)

Note that the refactoring worked as you'd expect but the preview didn't show the change.","Bad Change Preview Original code:
![image](https://user-images.githubusercontent.com/2371880/65068892-665bc200-d93e-11e9-9544-a0a8ef42c200.png)
Invoking ctrl+. on the `localFunction` variable:
![image](https://user-images.githubusercontent.com/2371880/65068874-5cd25a00-d93e-11e9-93c2-d7575735c1e0.png)

Note that the refactoring worked as you'd expect but the preview didn't show the change.",Area-IDE|Bug|IDE-CodeStyle|Resolution-Duplicate,333fred|davkean,18/09/2019 4:30,18/09/2019 16:50
38727,Update Arcade common folder,Take the latest changes from Arcade to fix our signed build. [Test Build](https://devdiv.visualstudio.com/DevDiv/_build/results?buildId=3059123) ,Update Arcade common folder Take the latest changes from Arcade to fix our signed build. [Test Build](https://devdiv.visualstudio.com/DevDiv/_build/results?buildId=3059123) ,Area-Infrastructure,JoeRobich,18/09/2019 3:27,18/09/2019 7:06
38726,Incorrect IL generated for struct collection initializer call to Add extension method,"Compile:
```C#
using System;
using System.Collections;

interface IAppend
{
    void Append(object o);
}

struct S : IEnumerable IAppend
{
    IEnumerator IEnumerable.GetEnumerator() => null;
    void IAppend.Append(object o) { }
}

static class Program
{
    static void Add(this IAppend x object y)
    {
        x.Append(y);
    }
    static void Main()
    {
        _ = new S() { 1 2 };
    }
}
```
Execute:
```
Unhandled Exception: System.NullReferenceException:
    Object reference not set to an instance of an object.
   at Program.Add(IAppend x Object y)
   at Program.Main()
```
See https://github.com/dotnet/roslyn/issues/30956#issuecomment-435804724 for related issue with `await new S()`.","Incorrect IL generated for struct collection initializer call to Add extension method Compile:
```C#
using System;
using System.Collections;

interface IAppend
{
    void Append(object o);
}

struct S : IEnumerable IAppend
{
    IEnumerator IEnumerable.GetEnumerator() => null;
    void IAppend.Append(object o) { }
}

static class Program
{
    static void Add(this IAppend x object y)
    {
        x.Append(y);
    }
    static void Main()
    {
        _ = new S() { 1 2 };
    }
}
```
Execute:
```
Unhandled Exception: System.NullReferenceException:
    Object reference not set to an instance of an object.
   at Program.Add(IAppend x Object y)
   at Program.Main()
```
See https://github.com/dotnet/roslyn/issues/30956#issuecomment-435804724 for related issue with `await new S()`.",Area-Compilers|Bug,cston,,
38725,"""csc.exe"" exited with code -2146232797","**Version Used**: 
16.3.0 Preview 1
16.3.0 Preview 2
16.3.0 Preview 3
16.3.0 Preview 4

**Steps to Reproduce**:

I can't tell the only thing I see in VS is a one-line error message in build output:
C:\Program Files (x86)\Microsoft Visual Studio\2019\Preview\MSBuild\Current\Bin\Roslyn\Microsoft.CSharp.Core.targets(595): error MSB6006: ""csc.exe"" exited with code -2146232797.

At least I found this in the event log which should be related:
```
Application: csc.exe
Framework Version: v4.0.30319
Description: The application requested process termination through System.Environment.FailFast(string message).
Message: System.IndexOutOfRangeException: Index was outside the bounds of the array.
   at Microsoft.CodeAnalysis.CSharp.DefiniteAssignmentPass.IsCapturedInLocalFunction(Int32 slot)
   at Microsoft.CodeAnalysis.CSharp.DefiniteAssignmentPass.GetCapturedBitmask(BitVector& state)
   at Microsoft.CodeAnalysis.CSharp.DefiniteAssignmentPass.RecordCapturedChanges(BitVector& oldState BitVector& newState)
   at Microsoft.CodeAnalysis.CSharp.DefiniteAssignmentPass.RecordChangedVars(LocalState& oldWrites LocalState& newWrites BitVector& oldReads BitVector& newReads)
   at Microsoft.CodeAnalysis.CSharp.DefiniteAssignmentPass.VisitLocalFunctionStatement(BoundLocalFunctionStatement localFunc)
   at Microsoft.CodeAnalysis.CSharp.AbstractFlowPass`1.VisitWithStackGuard(BoundNode node)
   at Microsoft.CodeAnalysis.CSharp.AbstractFlowPass`1.VisitAlways(BoundNode node)
   at Microsoft.CodeAnalysis.CSharp.DefiniteAssignmentPass.VisitStatementsWithLocalFunctions(BoundBlock block)
   at Microsoft.CodeAnalysis.CSharp.DefiniteAssignmentPass.VisitBlock(BoundBlock node)
   at Microsoft.CodeAnalysis.CSharp.AbstractFlowPass`1.VisitWithStackGuard(BoundNode node)
   at Microsoft.CodeAnalysis.CSharp.AbstractFlowPass`1.VisitAlways(BoundNode node)
   at Microsoft.CodeAnalysis.CSharp.AbstractFlowPass`1.VisitForEachStatement(BoundForEachStatement node)
   at Microsoft.CodeAnalysis.CSharp.AbstractFlowPass`1.VisitWithStackGuard(BoundNode node)
   at Microsoft.CodeAnalysis.CSharp.AbstractFlowPass`1.VisitAlways(BoundNode node)
   at Microsoft.CodeAnalysis.CSharp.DefiniteAssignmentPass.VisitStatementsWithLocalFunctions(BoundBlock block)
   at Microsoft.CodeAnalysis.CSharp.DefiniteAssignmentPass.VisitBlock(BoundBlock node)
   at Microsoft.CodeAnalysis.CSharp.AbstractFlowPass`1.VisitWithStackGuard(BoundNode node)
   at Microsoft.CodeAnalysis.CSharp.AbstractFlowPass`1.VisitAlways(BoundNode node)
   at Microsoft.CodeAnalysis.CSharp.DefiniteAssignmentPass.VisitStatementsWithLocalFunctions(BoundBlock block)
   at Microsoft.CodeAnalysis.CSharp.DefiniteAssignmentPass.VisitBlock(BoundBlock node)
   at Microsoft.CodeAnalysis.CSharp.AbstractFlowPass`1.VisitWithStackGuard(BoundNode node)
   at Microsoft.CodeAnalysis.CSharp.AbstractFlowPass`1.VisitAlways(BoundNode node)
   at Microsoft.CodeAnalysis.CSharp.AbstractFlowPass`1.Scan(Boolean& badRegion)
   at Microsoft.CodeAnalysis.CSharp.DefiniteAssignmentPass.Scan(Boolean& badRegion)
   at Microsoft.CodeAnalysis.CSharp.UnassignedFieldsWalker.Scan(Boolean& badRegion)
   at Microsoft.CodeAnalysis.CSharp.AbstractFlowPass`1.Analyze(Boolean& badRegion Optional`1 initialState)
   at Microsoft.CodeAnalysis.CSharp.DefiniteAssignmentPass.Analyze(Boolean& badRegion DiagnosticBag diagnostics)
   at Microsoft.CodeAnalysis.CSharp.UnassignedFieldsWalker.Analyze(CSharpCompilation compilation MethodSymbol method BoundNode node DiagnosticBag diagnostics)
   at Microsoft.CodeAnalysis.CSharp.MethodCompiler.CompileMethod(MethodSymbol methodSymbol Int32 methodOrdinal ProcessedFieldInitializers& processedInitializers SynthesizedSubmissionFields previousSubmissionFields TypeCompilationState compilationState)
   at Microsoft.CodeAnalysis.CSharp.MethodCompiler.CompileNamedType(NamedTypeSymbol containingType)
   at Microsoft.CodeAnalysis.CSharp.MethodCompiler.<>c__DisplayClass22_0.<CompileNamedTypeAsTask>b__0()
Stack:
   at System.Environment.FailFast(System.String System.Exception)
   at Microsoft.CodeAnalysis.FatalError.ReportUnlessCanceled(System.Exception)
   at Microsoft.CodeAnalysis.CSharp.MethodCompiler+<>c__DisplayClass22_0.<CompileNamedTypeAsTask>b__0()
   at Microsoft.CodeAnalysis.CSharp.DefiniteAssignmentPass.IsCapturedInLocalFunction(Int32)
   at Microsoft.CodeAnalysis.CSharp.DefiniteAssignmentPass.GetCapturedBitmask(Microsoft.CodeAnalysis.BitVector ByRef)
   at Microsoft.CodeAnalysis.CSharp.DefiniteAssignmentPass.RecordCapturedChanges(Microsoft.CodeAnalysis.BitVector ByRef Microsoft.CodeAnalysis.BitVector ByRef)
   at Microsoft.CodeAnalysis.CSharp.DefiniteAssignmentPass.RecordChangedVars(LocalState ByRef LocalState ByRef Microsoft.CodeAnalysis.BitVector ByRef Microsoft.CodeAnalysis.BitVector ByRef)
   at Microsoft.CodeAnalysis.CSharp.DefiniteAssignmentPass.VisitLocalFunctionStatement(Microsoft.CodeAnalysis.CSharp.BoundLocalFunctionStatement)
   at Microsoft.CodeAnalysis.CSharp.AbstractFlowPass`1[[Microsoft.CodeAnalysis.CSharp.DefiniteAssignmentPass+LocalState Microsoft.CodeAnalysis.CSharp Version=3.3.0.0 Culture=neutral PublicKeyToken=31bf3856ad364e35]].VisitWithStackGuard(Microsoft.CodeAnalysis.CSharp.BoundNode)
   at Microsoft.CodeAnalysis.CSharp.AbstractFlowPass`1[[Microsoft.CodeAnalysis.CSharp.DefiniteAssignmentPass+LocalState Microsoft.CodeAnalysis.CSharp Version=3.3.0.0 Culture=neutral PublicKeyToken=31bf3856ad364e35]].VisitAlways(Microsoft.CodeAnalysis.CSharp.BoundNode)
   at Microsoft.CodeAnalysis.CSharp.DefiniteAssignmentPass.VisitStatementsWithLocalFunctions(Microsoft.CodeAnalysis.CSharp.BoundBlock)
   at Microsoft.CodeAnalysis.CSharp.DefiniteAssignmentPass.VisitBlock(Microsoft.CodeAnalysis.CSharp.BoundBlock)
   at Microsoft.CodeAnalysis.CSharp.AbstractFlowPass`1[[Microsoft.CodeAnalysis.CSharp.DefiniteAssignmentPass+LocalState Microsoft.CodeAnalysis.CSharp Version=3.3.0.0 Culture=neutral PublicKeyToken=31bf3856ad364e35]].VisitWithStackGuard(Microsoft.CodeAnalysis.CSharp.BoundNode)
   at Microsoft.CodeAnalysis.CSharp.AbstractFlowPass`1[[Microsoft.CodeAnalysis.CSharp.DefiniteAssignmentPass+LocalState Microsoft.CodeAnalysis.CSharp Version=3.3.0.0 Culture=neutral PublicKeyToken=31bf3856ad364e35]].VisitAlways(Microsoft.CodeAnalysis.CSharp.BoundNode)
   at Microsoft.CodeAnalysis.CSharp.AbstractFlowPass`1[[Microsoft.CodeAnalysis.CSharp.DefiniteAssignmentPass+LocalState Microsoft.CodeAnalysis.CSharp Version=3.3.0.0 Culture=neutral PublicKeyToken=31bf3856ad364e35]].VisitForEachStatement(Microsoft.CodeAnalysis.CSharp.BoundForEachStatement)
   at Microsoft.CodeAnalysis.CSharp.AbstractFlowPass`1[[Microsoft.CodeAnalysis.CSharp.DefiniteAssignmentPass+LocalState Microsoft.CodeAnalysis.CSharp Version=3.3.0.0 Culture=neutral PublicKeyToken=31bf3856ad364e35]].VisitWithStackGuard(Microsoft.CodeAnalysis.CSharp.BoundNode)
   at Microsoft.CodeAnalysis.CSharp.AbstractFlowPass`1[[Microsoft.CodeAnalysis.CSharp.DefiniteAssignmentPass+LocalState Microsoft.CodeAnalysis.CSharp Version=3.3.0.0 Culture=neutral PublicKeyToken=31bf3856ad364e35]].VisitAlways(Microsoft.CodeAnalysis.CSharp.BoundNode)
   at Microsoft.CodeAnalysis.CSharp.DefiniteAssignmentPass.VisitStatementsWithLocalFunctions(Microsoft.CodeAnalysis.CSharp.BoundBlock)
   at Microsoft.CodeAnalysis.CSharp.DefiniteAssignmentPass.VisitBlock(Microsoft.CodeAnalysis.CSharp.BoundBlock)
   at Microsoft.CodeAnalysis.CSharp.AbstractFlowPass`1[[Microsoft.CodeAnalysis.CSharp.DefiniteAssignmentPass+LocalState Microsoft.CodeAnalysis.CSharp Version=3.3.0.0 Culture=neutral PublicKeyToken=31bf3856ad364e35]].VisitWithStackGuard(Microsoft.CodeAnalysis.CSharp.BoundNode)
   at Microsoft.CodeAnalysis.CSharp.AbstractFlowPass`1[[Microsoft.CodeAnalysis.CSharp.DefiniteAssignmentPass+LocalState Microsoft.CodeAnalysis.CSharp Version=3.3.0.0 Culture=neutral PublicKeyToken=31bf3856ad364e35]].VisitAlways(Microsoft.CodeAnalysis.CSharp.BoundNode)
   at Microsoft.CodeAnalysis.CSharp.DefiniteAssignmentPass.VisitStatementsWithLocalFunctions(Microsoft.CodeAnalysis.CSharp.BoundBlock)
   at Microsoft.CodeAnalysis.CSharp.DefiniteAssignmentPass.VisitBlock(Microsoft.CodeAnalysis.CSharp.BoundBlock)
   at Microsoft.CodeAnalysis.CSharp.AbstractFlowPass`1[[Microsoft.CodeAnalysis.CSharp.DefiniteAssignmentPass+LocalState Microsoft.CodeAnalysis.CSharp Version=3.3.0.0 Culture=neutral PublicKeyToken=31bf3856ad364e35]].VisitWithStackGuard(Microsoft.CodeAnalysis.CSharp.BoundNode)
   at Microsoft.CodeAnalysis.CSharp.AbstractFlowPass`1[[Microsoft.CodeAnalysis.CSharp.DefiniteAssignmentPass+LocalState Microsoft.CodeAnalysis.CSharp Version=3.3.0.0 Culture=neutral PublicKeyToken=31bf3856ad364e35]].VisitAlways(Microsoft.CodeAnalysis.CSharp.BoundNode)
   at Microsoft.CodeAnalysis.CSharp.AbstractFlowPass`1[[Microsoft.CodeAnalysis.CSharp.DefiniteAssignmentPass+LocalState Microsoft.CodeAnalysis.CSharp Version=3.3.0.0 Culture=neutral PublicKeyToken=31bf3856ad364e35]].Scan(Boolean ByRef)
   at Microsoft.CodeAnalysis.CSharp.DefiniteAssignmentPass.Scan(Boolean ByRef)
   at Microsoft.CodeAnalysis.CSharp.UnassignedFieldsWalker.Scan(Boolean ByRef)
   at Microsoft.CodeAnalysis.CSharp.AbstractFlowPass`1[[Microsoft.CodeAnalysis.CSharp.DefiniteAssignmentPass+LocalState Microsoft.CodeAnalysis.CSharp Version=3.3.0.0 Culture=neutral PublicKeyToken=31bf3856ad364e35]].Analyze(Boolean ByRef Microsoft.CodeAnalysis.Optional`1<LocalState>)
   at Microsoft.CodeAnalysis.CSharp.DefiniteAssignmentPass.Analyze(Boolean ByRef Microsoft.CodeAnalysis.DiagnosticBag)
   at Microsoft.CodeAnalysis.CSharp.UnassignedFieldsWalker.Analyze(Microsoft.CodeAnalysis.CSharp.CSharpCompilation Microsoft.CodeAnalysis.CSharp.Symbols.MethodSymbol Microsoft.CodeAnalysis.CSharp.BoundNode Microsoft.CodeAnalysis.DiagnosticBag)
   at Microsoft.CodeAnalysis.CSharp.MethodCompiler.CompileMethod(Microsoft.CodeAnalysis.CSharp.Symbols.MethodSymbol Int32 ProcessedFieldInitializers ByRef Microsoft.CodeAnalysis.CSharp.SynthesizedSubmissionFields Microsoft.CodeAnalysis.CSharp.TypeCompilationState)
   at Microsoft.CodeAnalysis.CSharp.MethodCompiler.CompileNamedType(Microsoft.CodeAnalysis.CSharp.Symbols.NamedTypeSymbol)
   at Microsoft.CodeAnalysis.CSharp.MethodCompiler+<>c__DisplayClass22_0.<CompileNamedTypeAsTask>b__0()
   at Roslyn.Utilities.UICultureUtilities+<>c__DisplayClass5_0.<WithCurrentUICulture>b__0()
   at System.Threading.Tasks.Task.Execute()
   at System.Threading.ExecutionContext.RunInternal(System.Threading.ExecutionContext System.Threading.ContextCallback System.Object Boolean)
   at System.Threading.ExecutionContext.Run(System.Threading.ExecutionContext System.Threading.ContextCallback System.Object Boolean)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(System.Threading.Tasks.Task ByRef)
   at System.Threading.Tasks.Task.ExecuteEntry(Boolean)
   at System.Threading.ThreadPoolWorkQueue.Dispatch()
```

It's a huge WPF project being part of a huge solution (>130 projects) so I can't give any code. Please give a hint how to narrow this down (or get the jit debugger attached to the failing csc process).

(BTW: There is no problem with the release version of VS2019 16.2.x)","""csc.exe"" exited with code -2146232797 **Version Used**: 
16.3.0 Preview 1
16.3.0 Preview 2
16.3.0 Preview 3
16.3.0 Preview 4

**Steps to Reproduce**:

I can't tell the only thing I see in VS is a one-line error message in build output:
C:\Program Files (x86)\Microsoft Visual Studio\2019\Preview\MSBuild\Current\Bin\Roslyn\Microsoft.CSharp.Core.targets(595): error MSB6006: ""csc.exe"" exited with code -2146232797.

At least I found this in the event log which should be related:
```
Application: csc.exe
Framework Version: v4.0.30319
Description: The application requested process termination through System.Environment.FailFast(string message).
Message: System.IndexOutOfRangeException: Index was outside the bounds of the array.
   at Microsoft.CodeAnalysis.CSharp.DefiniteAssignmentPass.IsCapturedInLocalFunction(Int32 slot)
   at Microsoft.CodeAnalysis.CSharp.DefiniteAssignmentPass.GetCapturedBitmask(BitVector& state)
   at Microsoft.CodeAnalysis.CSharp.DefiniteAssignmentPass.RecordCapturedChanges(BitVector& oldState BitVector& newState)
   at Microsoft.CodeAnalysis.CSharp.DefiniteAssignmentPass.RecordChangedVars(LocalState& oldWrites LocalState& newWrites BitVector& oldReads BitVector& newReads)
   at Microsoft.CodeAnalysis.CSharp.DefiniteAssignmentPass.VisitLocalFunctionStatement(BoundLocalFunctionStatement localFunc)
   at Microsoft.CodeAnalysis.CSharp.AbstractFlowPass`1.VisitWithStackGuard(BoundNode node)
   at Microsoft.CodeAnalysis.CSharp.AbstractFlowPass`1.VisitAlways(BoundNode node)
   at Microsoft.CodeAnalysis.CSharp.DefiniteAssignmentPass.VisitStatementsWithLocalFunctions(BoundBlock block)
   at Microsoft.CodeAnalysis.CSharp.DefiniteAssignmentPass.VisitBlock(BoundBlock node)
   at Microsoft.CodeAnalysis.CSharp.AbstractFlowPass`1.VisitWithStackGuard(BoundNode node)
   at Microsoft.CodeAnalysis.CSharp.AbstractFlowPass`1.VisitAlways(BoundNode node)
   at Microsoft.CodeAnalysis.CSharp.AbstractFlowPass`1.VisitForEachStatement(BoundForEachStatement node)
   at Microsoft.CodeAnalysis.CSharp.AbstractFlowPass`1.VisitWithStackGuard(BoundNode node)
   at Microsoft.CodeAnalysis.CSharp.AbstractFlowPass`1.VisitAlways(BoundNode node)
   at Microsoft.CodeAnalysis.CSharp.DefiniteAssignmentPass.VisitStatementsWithLocalFunctions(BoundBlock block)
   at Microsoft.CodeAnalysis.CSharp.DefiniteAssignmentPass.VisitBlock(BoundBlock node)
   at Microsoft.CodeAnalysis.CSharp.AbstractFlowPass`1.VisitWithStackGuard(BoundNode node)
   at Microsoft.CodeAnalysis.CSharp.AbstractFlowPass`1.VisitAlways(BoundNode node)
   at Microsoft.CodeAnalysis.CSharp.DefiniteAssignmentPass.VisitStatementsWithLocalFunctions(BoundBlock block)
   at Microsoft.CodeAnalysis.CSharp.DefiniteAssignmentPass.VisitBlock(BoundBlock node)
   at Microsoft.CodeAnalysis.CSharp.AbstractFlowPass`1.VisitWithStackGuard(BoundNode node)
   at Microsoft.CodeAnalysis.CSharp.AbstractFlowPass`1.VisitAlways(BoundNode node)
   at Microsoft.CodeAnalysis.CSharp.AbstractFlowPass`1.Scan(Boolean& badRegion)
   at Microsoft.CodeAnalysis.CSharp.DefiniteAssignmentPass.Scan(Boolean& badRegion)
   at Microsoft.CodeAnalysis.CSharp.UnassignedFieldsWalker.Scan(Boolean& badRegion)
   at Microsoft.CodeAnalysis.CSharp.AbstractFlowPass`1.Analyze(Boolean& badRegion Optional`1 initialState)
   at Microsoft.CodeAnalysis.CSharp.DefiniteAssignmentPass.Analyze(Boolean& badRegion DiagnosticBag diagnostics)
   at Microsoft.CodeAnalysis.CSharp.UnassignedFieldsWalker.Analyze(CSharpCompilation compilation MethodSymbol method BoundNode node DiagnosticBag diagnostics)
   at Microsoft.CodeAnalysis.CSharp.MethodCompiler.CompileMethod(MethodSymbol methodSymbol Int32 methodOrdinal ProcessedFieldInitializers& processedInitializers SynthesizedSubmissionFields previousSubmissionFields TypeCompilationState compilationState)
   at Microsoft.CodeAnalysis.CSharp.MethodCompiler.CompileNamedType(NamedTypeSymbol containingType)
   at Microsoft.CodeAnalysis.CSharp.MethodCompiler.<>c__DisplayClass22_0.<CompileNamedTypeAsTask>b__0()
Stack:
   at System.Environment.FailFast(System.String System.Exception)
   at Microsoft.CodeAnalysis.FatalError.ReportUnlessCanceled(System.Exception)
   at Microsoft.CodeAnalysis.CSharp.MethodCompiler+<>c__DisplayClass22_0.<CompileNamedTypeAsTask>b__0()
   at Microsoft.CodeAnalysis.CSharp.DefiniteAssignmentPass.IsCapturedInLocalFunction(Int32)
   at Microsoft.CodeAnalysis.CSharp.DefiniteAssignmentPass.GetCapturedBitmask(Microsoft.CodeAnalysis.BitVector ByRef)
   at Microsoft.CodeAnalysis.CSharp.DefiniteAssignmentPass.RecordCapturedChanges(Microsoft.CodeAnalysis.BitVector ByRef Microsoft.CodeAnalysis.BitVector ByRef)
   at Microsoft.CodeAnalysis.CSharp.DefiniteAssignmentPass.RecordChangedVars(LocalState ByRef LocalState ByRef Microsoft.CodeAnalysis.BitVector ByRef Microsoft.CodeAnalysis.BitVector ByRef)
   at Microsoft.CodeAnalysis.CSharp.DefiniteAssignmentPass.VisitLocalFunctionStatement(Microsoft.CodeAnalysis.CSharp.BoundLocalFunctionStatement)
   at Microsoft.CodeAnalysis.CSharp.AbstractFlowPass`1[[Microsoft.CodeAnalysis.CSharp.DefiniteAssignmentPass+LocalState Microsoft.CodeAnalysis.CSharp Version=3.3.0.0 Culture=neutral PublicKeyToken=31bf3856ad364e35]].VisitWithStackGuard(Microsoft.CodeAnalysis.CSharp.BoundNode)
   at Microsoft.CodeAnalysis.CSharp.AbstractFlowPass`1[[Microsoft.CodeAnalysis.CSharp.DefiniteAssignmentPass+LocalState Microsoft.CodeAnalysis.CSharp Version=3.3.0.0 Culture=neutral PublicKeyToken=31bf3856ad364e35]].VisitAlways(Microsoft.CodeAnalysis.CSharp.BoundNode)
   at Microsoft.CodeAnalysis.CSharp.DefiniteAssignmentPass.VisitStatementsWithLocalFunctions(Microsoft.CodeAnalysis.CSharp.BoundBlock)
   at Microsoft.CodeAnalysis.CSharp.DefiniteAssignmentPass.VisitBlock(Microsoft.CodeAnalysis.CSharp.BoundBlock)
   at Microsoft.CodeAnalysis.CSharp.AbstractFlowPass`1[[Microsoft.CodeAnalysis.CSharp.DefiniteAssignmentPass+LocalState Microsoft.CodeAnalysis.CSharp Version=3.3.0.0 Culture=neutral PublicKeyToken=31bf3856ad364e35]].VisitWithStackGuard(Microsoft.CodeAnalysis.CSharp.BoundNode)
   at Microsoft.CodeAnalysis.CSharp.AbstractFlowPass`1[[Microsoft.CodeAnalysis.CSharp.DefiniteAssignmentPass+LocalState Microsoft.CodeAnalysis.CSharp Version=3.3.0.0 Culture=neutral PublicKeyToken=31bf3856ad364e35]].VisitAlways(Microsoft.CodeAnalysis.CSharp.BoundNode)
   at Microsoft.CodeAnalysis.CSharp.AbstractFlowPass`1[[Microsoft.CodeAnalysis.CSharp.DefiniteAssignmentPass+LocalState Microsoft.CodeAnalysis.CSharp Version=3.3.0.0 Culture=neutral PublicKeyToken=31bf3856ad364e35]].VisitForEachStatement(Microsoft.CodeAnalysis.CSharp.BoundForEachStatement)
   at Microsoft.CodeAnalysis.CSharp.AbstractFlowPass`1[[Microsoft.CodeAnalysis.CSharp.DefiniteAssignmentPass+LocalState Microsoft.CodeAnalysis.CSharp Version=3.3.0.0 Culture=neutral PublicKeyToken=31bf3856ad364e35]].VisitWithStackGuard(Microsoft.CodeAnalysis.CSharp.BoundNode)
   at Microsoft.CodeAnalysis.CSharp.AbstractFlowPass`1[[Microsoft.CodeAnalysis.CSharp.DefiniteAssignmentPass+LocalState Microsoft.CodeAnalysis.CSharp Version=3.3.0.0 Culture=neutral PublicKeyToken=31bf3856ad364e35]].VisitAlways(Microsoft.CodeAnalysis.CSharp.BoundNode)
   at Microsoft.CodeAnalysis.CSharp.DefiniteAssignmentPass.VisitStatementsWithLocalFunctions(Microsoft.CodeAnalysis.CSharp.BoundBlock)
   at Microsoft.CodeAnalysis.CSharp.DefiniteAssignmentPass.VisitBlock(Microsoft.CodeAnalysis.CSharp.BoundBlock)
   at Microsoft.CodeAnalysis.CSharp.AbstractFlowPass`1[[Microsoft.CodeAnalysis.CSharp.DefiniteAssignmentPass+LocalState Microsoft.CodeAnalysis.CSharp Version=3.3.0.0 Culture=neutral PublicKeyToken=31bf3856ad364e35]].VisitWithStackGuard(Microsoft.CodeAnalysis.CSharp.BoundNode)
   at Microsoft.CodeAnalysis.CSharp.AbstractFlowPass`1[[Microsoft.CodeAnalysis.CSharp.DefiniteAssignmentPass+LocalState Microsoft.CodeAnalysis.CSharp Version=3.3.0.0 Culture=neutral PublicKeyToken=31bf3856ad364e35]].VisitAlways(Microsoft.CodeAnalysis.CSharp.BoundNode)
   at Microsoft.CodeAnalysis.CSharp.DefiniteAssignmentPass.VisitStatementsWithLocalFunctions(Microsoft.CodeAnalysis.CSharp.BoundBlock)
   at Microsoft.CodeAnalysis.CSharp.DefiniteAssignmentPass.VisitBlock(Microsoft.CodeAnalysis.CSharp.BoundBlock)
   at Microsoft.CodeAnalysis.CSharp.AbstractFlowPass`1[[Microsoft.CodeAnalysis.CSharp.DefiniteAssignmentPass+LocalState Microsoft.CodeAnalysis.CSharp Version=3.3.0.0 Culture=neutral PublicKeyToken=31bf3856ad364e35]].VisitWithStackGuard(Microsoft.CodeAnalysis.CSharp.BoundNode)
   at Microsoft.CodeAnalysis.CSharp.AbstractFlowPass`1[[Microsoft.CodeAnalysis.CSharp.DefiniteAssignmentPass+LocalState Microsoft.CodeAnalysis.CSharp Version=3.3.0.0 Culture=neutral PublicKeyToken=31bf3856ad364e35]].VisitAlways(Microsoft.CodeAnalysis.CSharp.BoundNode)
   at Microsoft.CodeAnalysis.CSharp.AbstractFlowPass`1[[Microsoft.CodeAnalysis.CSharp.DefiniteAssignmentPass+LocalState Microsoft.CodeAnalysis.CSharp Version=3.3.0.0 Culture=neutral PublicKeyToken=31bf3856ad364e35]].Scan(Boolean ByRef)
   at Microsoft.CodeAnalysis.CSharp.DefiniteAssignmentPass.Scan(Boolean ByRef)
   at Microsoft.CodeAnalysis.CSharp.UnassignedFieldsWalker.Scan(Boolean ByRef)
   at Microsoft.CodeAnalysis.CSharp.AbstractFlowPass`1[[Microsoft.CodeAnalysis.CSharp.DefiniteAssignmentPass+LocalState Microsoft.CodeAnalysis.CSharp Version=3.3.0.0 Culture=neutral PublicKeyToken=31bf3856ad364e35]].Analyze(Boolean ByRef Microsoft.CodeAnalysis.Optional`1<LocalState>)
   at Microsoft.CodeAnalysis.CSharp.DefiniteAssignmentPass.Analyze(Boolean ByRef Microsoft.CodeAnalysis.DiagnosticBag)
   at Microsoft.CodeAnalysis.CSharp.UnassignedFieldsWalker.Analyze(Microsoft.CodeAnalysis.CSharp.CSharpCompilation Microsoft.CodeAnalysis.CSharp.Symbols.MethodSymbol Microsoft.CodeAnalysis.CSharp.BoundNode Microsoft.CodeAnalysis.DiagnosticBag)
   at Microsoft.CodeAnalysis.CSharp.MethodCompiler.CompileMethod(Microsoft.CodeAnalysis.CSharp.Symbols.MethodSymbol Int32 ProcessedFieldInitializers ByRef Microsoft.CodeAnalysis.CSharp.SynthesizedSubmissionFields Microsoft.CodeAnalysis.CSharp.TypeCompilationState)
   at Microsoft.CodeAnalysis.CSharp.MethodCompiler.CompileNamedType(Microsoft.CodeAnalysis.CSharp.Symbols.NamedTypeSymbol)
   at Microsoft.CodeAnalysis.CSharp.MethodCompiler+<>c__DisplayClass22_0.<CompileNamedTypeAsTask>b__0()
   at Roslyn.Utilities.UICultureUtilities+<>c__DisplayClass5_0.<WithCurrentUICulture>b__0()
   at System.Threading.Tasks.Task.Execute()
   at System.Threading.ExecutionContext.RunInternal(System.Threading.ExecutionContext System.Threading.ContextCallback System.Object Boolean)
   at System.Threading.ExecutionContext.Run(System.Threading.ExecutionContext System.Threading.ContextCallback System.Object Boolean)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(System.Threading.Tasks.Task ByRef)
   at System.Threading.Tasks.Task.ExecuteEntry(Boolean)
   at System.Threading.ThreadPoolWorkQueue.Dispatch()
```

It's a huge WPF project being part of a huge solution (>130 projects) so I can't give any code. Please give a hint how to narrow this down (or get the jit debugger attached to the failing csc process).

(BTW: There is no problem with the release version of VS2019 16.2.x)",Area-Compilers|Bug|New Language Feature - Local Functions,agocke,,
38724,Merge master to master-vs-deps,"
This is an automatically generated pull request from master into master-vs-deps.

``` bash
git fetch --all
git checkout merges/master-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge master to master-vs-deps 
This is an automatically generated pull request from master into master-vs-deps.

``` bash
git fetch --all
git checkout merges/master-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|dotnet-automerge-bot,17/09/2019 22:02,18/09/2019 0:00
38723,Type pattern: definite assignment false positive for struct that has only reference type properties and is declared in another assembly,"**Version Used**: 
Visual Studio 16.2.5
MSBuild 16.2.37902+b5aaefc9f
csc.exe 3.2.1-beta4-19408-03

**Steps to Reproduce**:
You need two assemblies for this `Lib` and `App` where `App` references `Lib`.
```csharp
// Lib
namespace Lib
{
	public struct StructWithStringProp
	{
		public string Text { get; set; }
	}
}

// App
namespace App
{
	internal class CallSites
	{
		private static string ExternalStringPropCallSite(Lib.StructWithStringProp? nullable)
		{
			bool flag = nullable is Lib.StructWithStringProp notNull;
			return flag ? notNull.ToString() : """";
		}
	}
}
```

**Expected Behavior**:
error CS0165: Use of unassigned local variable 'notNull'

**Actual Behavior**:
The code compiles.

**Additional information**:
If you make any of the following changes the code stops compiling and the expected error appears:
- replace struct's property with a field
- change struct's property type from `string` to let's say `int`
- move struct declaration from Lib to App

You can check out a solution that illustrates all these permutations and their effect on the compiler behavior [here](https://github.com/HellBrick/RoslynPatternMatchingDefiniteAssignmentIssue).","Type pattern: definite assignment false positive for struct that has only reference type properties and is declared in another assembly **Version Used**: 
Visual Studio 16.2.5
MSBuild 16.2.37902+b5aaefc9f
csc.exe 3.2.1-beta4-19408-03

**Steps to Reproduce**:
You need two assemblies for this `Lib` and `App` where `App` references `Lib`.
```csharp
// Lib
namespace Lib
{
	public struct StructWithStringProp
	{
		public string Text { get; set; }
	}
}

// App
namespace App
{
	internal class CallSites
	{
		private static string ExternalStringPropCallSite(Lib.StructWithStringProp? nullable)
		{
			bool flag = nullable is Lib.StructWithStringProp notNull;
			return flag ? notNull.ToString() : """";
		}
	}
}
```

**Expected Behavior**:
error CS0165: Use of unassigned local variable 'notNull'

**Actual Behavior**:
The code compiles.

**Additional information**:
If you make any of the following changes the code stops compiling and the expected error appears:
- replace struct's property with a field
- change struct's property type from `string` to let's say `int`
- move struct declaration from Lib to App

You can check out a solution that illustrates all these permutations and their effect on the compiler behavior [here](https://github.com/HellBrick/RoslynPatternMatchingDefiniteAssignmentIssue).",Area-Compilers,gafter|jcouv,17/09/2019 20:29,18/09/2019 4:11
38722,[Regression] CodeLens does not work for Visual Basic,"**Version Used**: 
Version 16.4.0 Preview 2.0 [29316.148.master]

**Steps to Reproduce**:
![image](https://user-images.githubusercontent.com/1103906/65011523-26550900-d957-11e9-89fe-bb7106b94db1.png)

**Expected Behavior**:
CodeLens to show

**Actual Behavior**:
Space is reserved for CodeLens but the lenses themselves don't show up.","[Regression] CodeLens does not work for Visual Basic **Version Used**: 
Version 16.4.0 Preview 2.0 [29316.148.master]

**Steps to Reproduce**:
![image](https://user-images.githubusercontent.com/1103906/65011523-26550900-d957-11e9-89fe-bb7106b94db1.png)

**Expected Behavior**:
CodeLens to show

**Actual Behavior**:
Space is reserved for CodeLens but the lenses themselves don't show up.",Area-IDE|Bug|Resolution-Not Reproducible,dibarbet,,
38721,Spelling fixes,,Spelling fixes ,Area-IDE|Community,mavasani,,
38720,Make constant folding of `<<` and `>>` host platform independent,"Constant folding of `<<` and `>>` in the C# compiler depends on the (undefined) behavior of the underlying platform when the shift amount is greater than the size of the shifted value.  We should mask the shift amount to get deterministic behavior matching the X86 behavior.

Here is the offending source:
``` c#
                case BinaryOperatorKind.IntLeftShift:
                    return valueLeft.Int32Value << valueRight.Int32Value;
                case BinaryOperatorKind.LongLeftShift:
                    return valueLeft.Int64Value << valueRight.Int32Value;
                case BinaryOperatorKind.UIntLeftShift:
                    return valueLeft.UInt32Value << valueRight.Int32Value;
                case BinaryOperatorKind.ULongLeftShift:
                    return valueLeft.UInt64Value << valueRight.Int32Value;
                case BinaryOperatorKind.IntRightShift:
                    return valueLeft.Int32Value >> valueRight.Int32Value;
                case BinaryOperatorKind.LongRightShift:
                    return valueLeft.Int64Value >> valueRight.Int32Value;
                case BinaryOperatorKind.UIntRightShift:
                    return valueLeft.UInt32Value >> valueRight.Int32Value;
                case BinaryOperatorKind.ULongRightShift:
                    return valueLeft.UInt64Value >> valueRight.Int32Value;
```
","Make constant folding of `<<` and `>>` host platform independent Constant folding of `<<` and `>>` in the C# compiler depends on the (undefined) behavior of the underlying platform when the shift amount is greater than the size of the shifted value.  We should mask the shift amount to get deterministic behavior matching the X86 behavior.

Here is the offending source:
``` c#
                case BinaryOperatorKind.IntLeftShift:
                    return valueLeft.Int32Value << valueRight.Int32Value;
                case BinaryOperatorKind.LongLeftShift:
                    return valueLeft.Int64Value << valueRight.Int32Value;
                case BinaryOperatorKind.UIntLeftShift:
                    return valueLeft.UInt32Value << valueRight.Int32Value;
                case BinaryOperatorKind.ULongLeftShift:
                    return valueLeft.UInt64Value << valueRight.Int32Value;
                case BinaryOperatorKind.IntRightShift:
                    return valueLeft.Int32Value >> valueRight.Int32Value;
                case BinaryOperatorKind.LongRightShift:
                    return valueLeft.Int64Value >> valueRight.Int32Value;
                case BinaryOperatorKind.UIntRightShift:
                    return valueLeft.UInt32Value >> valueRight.Int32Value;
                case BinaryOperatorKind.ULongRightShift:
                    return valueLeft.UInt64Value >> valueRight.Int32Value;
```
",Area-Compilers|Bug|Concept-Determinism,gafter,,
38719,Merge master to master-vs-deps,"
This is an automatically generated pull request from master into master-vs-deps.

``` bash
git fetch --all
git checkout merges/master-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge master to master-vs-deps 
This is an automatically generated pull request from master into master-vs-deps.

``` bash
git fetch --all
git checkout merges/master-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|dotnet-automerge-bot,17/09/2019 10:02,17/09/2019 11:30
38718,Make certain parts of the nuget search update system non-cancellable.,"These codepaths only ever passed in CancellationToken.None in (outside of tests).  As such it's just somewhat confusing to actually attempt to use the token for any sort of real rpc purpose.  The token just exists so that tests can effectively cause the system to bail out of its infinite looping.  

In the real OOP scenario we just allow the normal process teardown mechanism to clean things up.  So we don't actually need to have anything control that loop.  Again this is how things have always worked.  So we basically have several years worth of information showing this lifetime management approach works and doesn't need changing. 

This PR just makes things clearer and reduces the chance for confusion here.

--

Note: to reiterate.  There should be no runtime change in behavior here.  This change just codifies what our existing implementation already does and reduces confusion due to the existence of a cancellation token being used in non-test scenarios that had no effect.","Make certain parts of the nuget search update system non-cancellable. These codepaths only ever passed in CancellationToken.None in (outside of tests).  As such it's just somewhat confusing to actually attempt to use the token for any sort of real rpc purpose.  The token just exists so that tests can effectively cause the system to bail out of its infinite looping.  

In the real OOP scenario we just allow the normal process teardown mechanism to clean things up.  So we don't actually need to have anything control that loop.  Again this is how things have always worked.  So we basically have several years worth of information showing this lifetime management approach works and doesn't need changing. 

This PR just makes things clearer and reduces the chance for confusion here.

--

Note: to reiterate.  There should be no runtime change in behavior here.  This change just codifies what our existing implementation already does and reduces confusion due to the existence of a cancellation token being used in non-test scenarios that had no effect.",Area-IDE|Community,sharwell,,
38717,??????nuget.org?intellisense index-Downloading intellisense index for nuget.org,"_This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/576978/??????nugetorg?intellisense-index.html)._

---
<p>VSF_TYPE_MARKDOWNDownloading the IntelliSense index for nuget.org is running all the time unable to debug the program prompt to install the Android SDK when debugging the program</p>

---
### Original Comments

#### Visual Studio Feedback System on 5/22/2019 00:45 AM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>

#### ?? on 5/23/2019 07:54 AM: 

I has this problem too. This prolbem was found since VisualStudio2019 upgrade to v16.1.0
#### Visual Studio Feedback System on 5/24/2019 11:30 AM: 

<p>Thank you for sharing your feedback! Our teams prioritize action on product issues with broad customer impact. See details at:  https://docs.microsoft.com/en-us/visualstudio/ide/report-a-problem?view=vs-2017#faq . In case you need answers to common questions or need assisted support be sure to use  https://visualstudio.microsoft.com/vs/support/ . We'll keep you posted on any updates to this feedback.</p>

#### Eduardo Gasparoto Semprebon on 5/28/2019 05:31 AM: 

<p>Same issue here using 16.1.1.</p><p>Already tried to clear the solution deleted the .vs folder... Nothing</p>

#### jim liu on 6/2/2019 00:02 AM: 

I repair the installation solved this  issue.
#### ?? ? on 6/11/2019 05:26 PM: 

<p>I repair the installation and still can't solve this issue.</p><p>my computer works in offline mode.</p>

#### Mayuresh Sawardekar on 6/18/2019 08:40 AM: 

<p>Any update on the issue above ? Even repairing the installation did not help.</p>

#### Cagri (Charlie) Aslan [MSFT] on 6/18/2019 11:35 AM: 

<p>Thanks for the feedback. Is it possible for you to use the 'record' functionality in the 'send feedback' tool and capture VS when it is having the problem? It will get us perf traces that should let us figure out what's going on. Thanks!</p>

#### Mayuresh Sawardekar on 6/18/2019 01:27 PM: 

Hopefully the video comes through. Thanks
#### David Roth on 6/18/2019 00:33 PM: 

<p>After upgrading to 16.1.3 yesterday I do not see this issue anymore</p>

#### Mayuresh Sawardekar on 6/18/2019 00:44 PM: 

<p>I am on VS 2019 v16.1.3 . I am not able to see ""record functionality"" in ""send feedback"". All I see is ""Report a problem"" and ""Suggest a feature""</p>

#### Cagri (Charlie) Aslan [MSFT] on 6/18/2019 00:46 PM: 

<p>This might help: <a target='_blank' href=""https://docs.microsoft.com/en-us/visualstudio/ide/how-to-report-a-problem-with-visual-studio?view=vs-2019"">https://docs.microsoft.com/en-us/visualstudio/ide/how-to-report-a-problem-with-visual-studio?view=vs-2019</a></p>

#### Mayuresh Sawardekar on 6/18/2019 01:31 PM: 

<p><a rel=""user"" href=""https://developercommunity.visualstudio.com/users/480/140a11e6-f6dc-4ab9-96df-c5c26b5dd5e1.html"" nodeid=""480"">@Cagri (Charlie) Aslan [MSFT]</a> : I did send over the VS capture via the ""send feedback"" tool. Hopefully it came through.</p>

#### Cagri (Charlie) Aslan [MSFT] on 6/18/2019 01:43 PM: 

<p>It says it is still uploading. I'll check again in a couple of hours. Thanks!</p>

#### Mayuresh Sawardekar on 6/19/2019 06:25 AM: 

<p><a rel=""user"" href=""https://developercommunity.visualstudio.com/users/480/140a11e6-f6dc-4ab9-96df-c5c26b5dd5e1.html"" nodeid=""480"">@Cagri (Charlie) Aslan [MSFT]</a>  Any update on it yet ?</p>

#### 419830883 on 6/26/2019 08:30 PM: 

<p>In 16.1.4this problem still exists.Is there any solution?</p>

#### ?? on 6/26/2019 08:37 PM: 

<p>???????????Android Studio ?Android Sdk tool ?????SDK??? ?C:\Program Files (x86)\Android\android-sdk?????</p><p>??Bug????Allen?????</p><p>https://developercommunity.visualstudio.com/content/problem/600284/xamarinandroid-sdk-manager-offline-mode-after-upgr.html</p><p>Translated from Bing:</p><p>My current solution is to download the corresponding SDK and tools from Android Sdk tool in Android Studio to C:\Program Files (x86)\Android\android-sdk for temporary solution.</p><p>Allen is helping to follow up on the bug fix progress</p><p>Https://developercommunity.visualstudio.com/content/problem/600284/xamarinandroid-sdk-manager-offline-mode-after-upgr.html</p>

#### Eduardo Gasparoto Semprebon on 6/27/2019 01:07 AM: 

<p>Still same issue in 16.1.4. I don't have Android SDK in the machine.</p>

#### Mayuresh Sawardekar on 6/27/2019 04:50 AM: 

<p>I too dont have Android SDK in the machine. Help needed to resolve this issue.</p>

#### John Burke on 6/28/2019 11:40 AM: 

<p>I am having the issue as well.  Upgraded to 16.1.4 and it still exists.  Anything I can do to workaround?</p>

#### 419830883 on 7/9/2019 08:44 PM: 

<p>This issue has been solved in 16.1.6thanks for everyone!</p>

#### John Burke on 7/11/2019 10:56 AM: 

<p>I upgraded to 16.1.6 and it is not fixed.  Still getting the message.</p>

#### Ray on 8/23/2019 01:55 AM: 

It's now 16.2.3 and.... you guessed it: issue is still here!  <br><br>Removed nuget.org from VS.NET setting and solution settings restarted several times reinstalled VS.NET told my mum about it...  and it just refuses to move on like a bad date. <br><br>Thankfully I don't have OCD otherwise this would drive me crazy
#### zebal on 9/13/2019 05:23 AM: 

<p>I have the same issue VS 16.2.5</p><p>Fresh installed system and VS.</p><p>""Downloading intellisense index for nuget.org""</p><p>Firewall is open.</p><p>This should be fixed what information do you need?</p>

#### Rob Relyea [MSFT] on 9/13/2019 03:42 PM: 

<p>No idea which component is trying to download some intellisense index from <a target='_blank' href=""http://nuget.org"">nuget.org</a>.<br>
I strongly believe this is not the NuGet team trying to do this.</p>
<p>It would be interesting to figure out who might be downloading an intellisense index via <a target='_blank' href=""http://nuget.org"">nuget.org</a>.<br>
Which component of VS? Which workload are you running?</p>
<p>Does this only happen when you have a solution loaded?<br>
Etc…</p>
<p>-Rob Relyea<br>
NuGet Team.</p>

#### Ge Ge on 9/13/2019 11:08 PM: 

<p><a rel=""user"" href=""https://developercommunity.visualstudio.com/users/1707/fd314950-9f6e-4bf9-90a0-982362e25620.html"" nodeid=""1707"">@Rob Relyea [MSFT]</a> ""Downloading intellisense index for nuget.org"" will only show in the Background Task button (in the bottom left of the screen). And yes it seems only happen when having a solution loaded.</p><p><strong></strong><u></u><sub></sub><sup></sup></p><p>My solution:</p><p>1. Use VPN to finish the download.</p><p>2. If it doesn't work go to Options &gt; NuGet Package Manager &gt; Package Sources and delete ""nuget.org"" item (back up the info if you want). Restart VS 2019 problem solved. And then you can add the ""nuget.org"" back.</p><p>At least works for me :P</p>

#### zebal on 9/14/2019 05:20 AM: 

<p><a rel=""user"" href=""https://developercommunity.visualstudio.com/users/1707/fd314950-9f6e-4bf9-90a0-982362e25620.html"" nodeid=""1707"">@Rob Relyea [MSFT]</a></p><p>It's a background task in VS usually starting together with intellisense (that is when intellisense is doing parsing job on load of solution). and so far only when loading Unreal Engine 4 project.</p><p>It happens randomly sometime yes sometimes not I usually restart VS to get rid of it thanks to to its randomness.</p><p>I tried to reproduce the issue why recording my system with perfview but the problem didn't occur :(</p><p>I also tried the suggestion to remove and re-add nuget.org link in options but can't tell if that solved the issue it's too early to conclude I'm sure this background task will come back once and if so I'll record system and send you pefview logs.</p>

#### Visual Studio Feedback System on 9/14/2019 01:35 PM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>


---
### Original Solutions

#### Ge Ge solved on 7/25/2019 09:04 PM 0 votes: 

<p>Use VPN to finish the download.</p><p>If it doesn't work go to Options &gt; NuGet Package Manager &gt; Package Sources and delete ""nuget.org"" item (make a screen shot if you want). Restart VS 2019 problem solved. And then it won't start donwloading any more if you add the ""nuget.org"" back.</p>

#### 419830883 solved on 7/9/2019 08:43 PM -3 votes: 

<p>This issue has been solved in 16.1.6thanks for everyone!</p>
","??????nuget.org?intellisense index-Downloading intellisense index for nuget.org _This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/576978/??????nugetorg?intellisense-index.html)._

---
<p>VSF_TYPE_MARKDOWNDownloading the IntelliSense index for nuget.org is running all the time unable to debug the program prompt to install the Android SDK when debugging the program</p>

---
### Original Comments

#### Visual Studio Feedback System on 5/22/2019 00:45 AM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>

#### ?? on 5/23/2019 07:54 AM: 

I has this problem too. This prolbem was found since VisualStudio2019 upgrade to v16.1.0
#### Visual Studio Feedback System on 5/24/2019 11:30 AM: 

<p>Thank you for sharing your feedback! Our teams prioritize action on product issues with broad customer impact. See details at:  https://docs.microsoft.com/en-us/visualstudio/ide/report-a-problem?view=vs-2017#faq . In case you need answers to common questions or need assisted support be sure to use  https://visualstudio.microsoft.com/vs/support/ . We'll keep you posted on any updates to this feedback.</p>

#### Eduardo Gasparoto Semprebon on 5/28/2019 05:31 AM: 

<p>Same issue here using 16.1.1.</p><p>Already tried to clear the solution deleted the .vs folder... Nothing</p>

#### jim liu on 6/2/2019 00:02 AM: 

I repair the installation solved this  issue.
#### ?? ? on 6/11/2019 05:26 PM: 

<p>I repair the installation and still can't solve this issue.</p><p>my computer works in offline mode.</p>

#### Mayuresh Sawardekar on 6/18/2019 08:40 AM: 

<p>Any update on the issue above ? Even repairing the installation did not help.</p>

#### Cagri (Charlie) Aslan [MSFT] on 6/18/2019 11:35 AM: 

<p>Thanks for the feedback. Is it possible for you to use the 'record' functionality in the 'send feedback' tool and capture VS when it is having the problem? It will get us perf traces that should let us figure out what's going on. Thanks!</p>

#### Mayuresh Sawardekar on 6/18/2019 01:27 PM: 

Hopefully the video comes through. Thanks
#### David Roth on 6/18/2019 00:33 PM: 

<p>After upgrading to 16.1.3 yesterday I do not see this issue anymore</p>

#### Mayuresh Sawardekar on 6/18/2019 00:44 PM: 

<p>I am on VS 2019 v16.1.3 . I am not able to see ""record functionality"" in ""send feedback"". All I see is ""Report a problem"" and ""Suggest a feature""</p>

#### Cagri (Charlie) Aslan [MSFT] on 6/18/2019 00:46 PM: 

<p>This might help: <a target='_blank' href=""https://docs.microsoft.com/en-us/visualstudio/ide/how-to-report-a-problem-with-visual-studio?view=vs-2019"">https://docs.microsoft.com/en-us/visualstudio/ide/how-to-report-a-problem-with-visual-studio?view=vs-2019</a></p>

#### Mayuresh Sawardekar on 6/18/2019 01:31 PM: 

<p><a rel=""user"" href=""https://developercommunity.visualstudio.com/users/480/140a11e6-f6dc-4ab9-96df-c5c26b5dd5e1.html"" nodeid=""480"">@Cagri (Charlie) Aslan [MSFT]</a> : I did send over the VS capture via the ""send feedback"" tool. Hopefully it came through.</p>

#### Cagri (Charlie) Aslan [MSFT] on 6/18/2019 01:43 PM: 

<p>It says it is still uploading. I'll check again in a couple of hours. Thanks!</p>

#### Mayuresh Sawardekar on 6/19/2019 06:25 AM: 

<p><a rel=""user"" href=""https://developercommunity.visualstudio.com/users/480/140a11e6-f6dc-4ab9-96df-c5c26b5dd5e1.html"" nodeid=""480"">@Cagri (Charlie) Aslan [MSFT]</a>  Any update on it yet ?</p>

#### 419830883 on 6/26/2019 08:30 PM: 

<p>In 16.1.4this problem still exists.Is there any solution?</p>

#### ?? on 6/26/2019 08:37 PM: 

<p>???????????Android Studio ?Android Sdk tool ?????SDK??? ?C:\Program Files (x86)\Android\android-sdk?????</p><p>??Bug????Allen?????</p><p>https://developercommunity.visualstudio.com/content/problem/600284/xamarinandroid-sdk-manager-offline-mode-after-upgr.html</p><p>Translated from Bing:</p><p>My current solution is to download the corresponding SDK and tools from Android Sdk tool in Android Studio to C:\Program Files (x86)\Android\android-sdk for temporary solution.</p><p>Allen is helping to follow up on the bug fix progress</p><p>Https://developercommunity.visualstudio.com/content/problem/600284/xamarinandroid-sdk-manager-offline-mode-after-upgr.html</p>

#### Eduardo Gasparoto Semprebon on 6/27/2019 01:07 AM: 

<p>Still same issue in 16.1.4. I don't have Android SDK in the machine.</p>

#### Mayuresh Sawardekar on 6/27/2019 04:50 AM: 

<p>I too dont have Android SDK in the machine. Help needed to resolve this issue.</p>

#### John Burke on 6/28/2019 11:40 AM: 

<p>I am having the issue as well.  Upgraded to 16.1.4 and it still exists.  Anything I can do to workaround?</p>

#### 419830883 on 7/9/2019 08:44 PM: 

<p>This issue has been solved in 16.1.6thanks for everyone!</p>

#### John Burke on 7/11/2019 10:56 AM: 

<p>I upgraded to 16.1.6 and it is not fixed.  Still getting the message.</p>

#### Ray on 8/23/2019 01:55 AM: 

It's now 16.2.3 and.... you guessed it: issue is still here!  <br><br>Removed nuget.org from VS.NET setting and solution settings restarted several times reinstalled VS.NET told my mum about it...  and it just refuses to move on like a bad date. <br><br>Thankfully I don't have OCD otherwise this would drive me crazy
#### zebal on 9/13/2019 05:23 AM: 

<p>I have the same issue VS 16.2.5</p><p>Fresh installed system and VS.</p><p>""Downloading intellisense index for nuget.org""</p><p>Firewall is open.</p><p>This should be fixed what information do you need?</p>

#### Rob Relyea [MSFT] on 9/13/2019 03:42 PM: 

<p>No idea which component is trying to download some intellisense index from <a target='_blank' href=""http://nuget.org"">nuget.org</a>.<br>
I strongly believe this is not the NuGet team trying to do this.</p>
<p>It would be interesting to figure out who might be downloading an intellisense index via <a target='_blank' href=""http://nuget.org"">nuget.org</a>.<br>
Which component of VS? Which workload are you running?</p>
<p>Does this only happen when you have a solution loaded?<br>
Etc…</p>
<p>-Rob Relyea<br>
NuGet Team.</p>

#### Ge Ge on 9/13/2019 11:08 PM: 

<p><a rel=""user"" href=""https://developercommunity.visualstudio.com/users/1707/fd314950-9f6e-4bf9-90a0-982362e25620.html"" nodeid=""1707"">@Rob Relyea [MSFT]</a> ""Downloading intellisense index for nuget.org"" will only show in the Background Task button (in the bottom left of the screen). And yes it seems only happen when having a solution loaded.</p><p><strong></strong><u></u><sub></sub><sup></sup></p><p>My solution:</p><p>1. Use VPN to finish the download.</p><p>2. If it doesn't work go to Options &gt; NuGet Package Manager &gt; Package Sources and delete ""nuget.org"" item (back up the info if you want). Restart VS 2019 problem solved. And then you can add the ""nuget.org"" back.</p><p>At least works for me :P</p>

#### zebal on 9/14/2019 05:20 AM: 

<p><a rel=""user"" href=""https://developercommunity.visualstudio.com/users/1707/fd314950-9f6e-4bf9-90a0-982362e25620.html"" nodeid=""1707"">@Rob Relyea [MSFT]</a></p><p>It's a background task in VS usually starting together with intellisense (that is when intellisense is doing parsing job on load of solution). and so far only when loading Unreal Engine 4 project.</p><p>It happens randomly sometime yes sometimes not I usually restart VS to get rid of it thanks to to its randomness.</p><p>I tried to reproduce the issue why recording my system with perfview but the problem didn't occur :(</p><p>I also tried the suggestion to remove and re-add nuget.org link in options but can't tell if that solved the issue it's too early to conclude I'm sure this background task will come back once and if so I'll record system and send you pefview logs.</p>

#### Visual Studio Feedback System on 9/14/2019 01:35 PM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>


---
### Original Solutions

#### Ge Ge solved on 7/25/2019 09:04 PM 0 votes: 

<p>Use VPN to finish the download.</p><p>If it doesn't work go to Options &gt; NuGet Package Manager &gt; Package Sources and delete ""nuget.org"" item (make a screen shot if you want). Restart VS 2019 problem solved. And then it won't start donwloading any more if you add the ""nuget.org"" back.</p>

#### 419830883 solved on 7/9/2019 08:43 PM -3 votes: 

<p>This issue has been solved in 16.1.6thanks for everyone!</p>
",Area-IDE|Bug,sharwell,,
38716,Add an analyzer codefix for organize imports,"This came up during the design review for https://github.com/dotnet/roslyn/pull/38593

I'd like the ability to have an analyzer to report on unorganized imports with a code fix to automatically sort the usings.  Ideally the severity could be configured by editor config as well and used by fix all.

This will prevent comments like [this ](https://github.com/dotnet/roslyn/pull/38410#discussion_r320898797) from occurring so often :) as the sorting would be enforced automatically.

We should of course share the implementation of the code fix with the current sort usings command.
","Add an analyzer, codefix for organize imports This came up during the design review for https://github.com/dotnet/roslyn/pull/38593

I'd like the ability to have an analyzer to report on unorganized imports with a code fix to automatically sort the usings.  Ideally the severity could be configured by editor config as well and used by fix all.

This will prevent comments like [this ](https://github.com/dotnet/roslyn/pull/38410#discussion_r320898797) from occurring so often :) as the sorting would be enforced automatically.

We should of course share the implementation of the code fix with the current sort usings command.
",Area-IDE|Feature Request,dibarbet|jinujoseph,17/09/2019 9:02,
38715,Refactoring to consolidate mis-matched accessibility modifiers on partial types,"Related to https://github.com/dotnet/roslyn/issues/36544

We would like to provide a code fix to consolidate the accessibility modifiers on partial types that have mismatched accessibility modifiers.

This would be a codefix for diagnostic id
1.  CS0262 for C# and
2.  BC30925 for VB

that would offer to consolidate the accessibility modifiers to any of the modifiers already specified on the partial type.","Refactoring to consolidate mis-matched accessibility modifiers on partial types Related to https://github.com/dotnet/roslyn/issues/36544

We would like to provide a code fix to consolidate the accessibility modifiers on partial types that have mismatched accessibility modifiers.

This would be a codefix for diagnostic id
1.  CS0262 for C# and
2.  BC30925 for VB

that would offer to consolidate the accessibility modifiers to any of the modifiers already specified on the partial type.",Area-IDE|Feature Request|help wanted,dibarbet|jinujoseph,17/09/2019 8:51,
38714,Refine diagnostic for switch expression that is not exhaustive,Fixes #38571,Refine diagnostic for switch expression that is not exhaustive Fixes #38571,Area-Compilers,gafter,,
38713,Adjust syntax disambiguation for ref ternary.,Fixes #38679,Adjust syntax disambiguation for ref ternary. Fixes #38679,Area-Compilers,gafter,,
38712,editorconfig doesn't detect vars or update notification type,"**Version Used**: 
29316.52.master

**Steps to Reproduce**:

1. Clone this repo https://github.com/gothinkster/aspnetcore-realworld-example-app
2. Right click on solution or project and click Add/Create EditorConfig (Intellicode) menu
3. Go to line 64 and toggle require Var vs explicit types and toggle notification from suggestion to warning to error.
4. Open Create.CS and startup.cs (both of these have vars)

**Expected Behavior**:
Error list shows error according to configuration in step 3

**Actual Behavior**:
It may find a var in create.cs but not startup.cs. Changes to the notification type from suggestion to error to warning doesn't have any impact. Changing true to false and back doesnt affect warning either.","editorconfig doesn't detect vars or update notification type **Version Used**: 
29316.52.master

**Steps to Reproduce**:

1. Clone this repo https://github.com/gothinkster/aspnetcore-realworld-example-app
2. Right click on solution or project and click Add/Create EditorConfig (Intellicode) menu
3. Go to line 64 and toggle require Var vs explicit types and toggle notification from suggestion to warning to error.
4. Open Create.CS and startup.cs (both of these have vars)

**Expected Behavior**:
Error list shows error according to configuration in step 3

**Actual Behavior**:
It may find a var in create.cs but not startup.cs. Changes to the notification type from suggestion to error to warning doesn't have any impact. Changing true to false and back doesnt affect warning either.",Area-IDE|Bug,sharwell,,
38711,Warning is not reported for a type shadowing a declaration from base interface.,"```

        [Fact]
        public void NestedTypes_33()
        {
            var source1 =
@""
interface I1
{
    interface I2
    { }
}

interface I3 : I1
{
    interface I2
    {
    }
}

class C1
{
    public interface I4
    { }
}

class C3 : C1
{
    public interface I4
    {
    }
}
"";

            var compilation1 = CreateCompilation(source1 options: TestOptions.DebugDll
                                                 parseOptions: TestOptions.Regular);

            compilation1.VerifyDiagnostics(
                // (2322): warning CS0108: 'C3.I4' hides inherited member 'C1.I4'. Use the new keyword if hiding was intended.
                //     public interface I4
                Diagnostic(ErrorCode.WRN_NewRequired ""I4"").WithArguments(""C3.I4"" ""C1.I4"").WithLocation(23 22)
                );
        }
```","Warning is not reported for a type shadowing a declaration from base interface. ```

        [Fact]
        public void NestedTypes_33()
        {
            var source1 =
@""
interface I1
{
    interface I2
    { }
}

interface I3 : I1
{
    interface I2
    {
    }
}

class C1
{
    public interface I4
    { }
}

class C3 : C1
{
    public interface I4
    {
    }
}
"";

            var compilation1 = CreateCompilation(source1 options: TestOptions.DebugDll
                                                 parseOptions: TestOptions.Regular);

            compilation1.VerifyDiagnostics(
                // (2322): warning CS0108: 'C3.I4' hides inherited member 'C1.I4'. Use the new keyword if hiding was intended.
                //     public interface I4
                Diagnostic(ErrorCode.WRN_NewRequired ""I4"").WithArguments(""C3.I4"" ""C1.I4"").WithLocation(23 22)
                );
        }
```",4 - In Review|Area-Compilers|Bug|Language-C#|New Language Feature - Default Interface Impl,AlekseyTs|gafter,17/09/2019 8:01,19/09/2019 8:54
38710,Add tests for method type inference,"Closes https://github.com/dotnet/roslyn/issues/37909

To answer @jaredpar's general question by-value and `in` arguments contribute their r-value to type inference and `ref` and `out` arguments contribute their l-value. Aside from that there are some tweaks for lambdas and `out` vars.","Add tests for method type inference Closes https://github.com/dotnet/roslyn/issues/37909

To answer @jaredpar's general question by-value and `in` arguments contribute their r-value to type inference and `ref` and `out` arguments contribute their l-value. Aside from that there are some tweaks for lambdas and `out` vars.",Area-Compilers|Test,jcouv,,
38709,Require /unsafe flag for SkipLocalsInitAttribute,,Require /unsafe flag for SkipLocalsInitAttribute ,Area-Compilers,agocke|RikkiGibson,17/09/2019 6:59,20/09/2019 8:22
38708,IntroduceVariableCodeRefactoring Crash,"```
System.ArgumentOutOfRangeException : Specified argument was out of the range of valid values.
Parameter name: position
   at Microsoft.CodeAnalysis.SyntaxNode.FindTokenCore(Int32 positionBoolean findInsideTrivia)
   at Microsoft.CodeAnalysis.CodeRefactoringHelpers.IsNodeUnderselected(SyntaxNode nodeTextSpan selection)
   at async Microsoft.CodeAnalysis.IntroduceVariable.AbstractIntroduceVariableService`6.State.TryInitializeAsync[TServiceTExpressionSyntaxTTypeSyntaxTTypeDeclarationSyntaxTQueryExpressionSyntaxTNameSyntax](<Unknown Parameters>)
   at async Microsoft.CodeAnalysis.IntroduceVariable.AbstractIntroduceVariableService`6.State.GenerateAsync[TServiceTExpressionSyntaxTTypeSyntaxTTypeDeclarationSyntaxTQueryExpressionSyntaxTNameSyntax](<Unknown Parameters>)
   at async Microsoft.CodeAnalysis.IntroduceVariable.AbstractIntroduceVariableService`6.IntroduceVariableAsync[TServiceTExpressionSyntaxTTypeSyntaxTTypeDeclarationSyntaxTQueryExpressionSyntaxTNameSyntax](<Unknown Parameters>)
   at async Microsoft.CodeAnalysis.IntroduceVariable.IntroduceVariableCodeRefactoringProvider.ComputeRefactoringsAsync(<Unknown Parameters>)
   at async Microsoft.CodeAnalysis.CodeRefactorings.CodeRefactoringService.GetRefactoringFromProviderAsync(<Unknown Parameters>)
```

The selection here appears to be a little finicky it need to be in the middle of some kind of nested expression I think? Here's a screenshot of my selection:
![image](https://user-images.githubusercontent.com/2371880/64991005-db1ef580-d885-11e9-8cf5-0d61bcce5a57.png)
As far as I can tell the offer to rename the method is unrelated it's just showing that as I was simplifying my repro.

Raw code as well:
```cs
using System;
class C {
    public void M()
    {
        Console.WriteLine(""Hello world"");
        Console.WriteLine(new C());
    }
}
```

VS Version 29312.127 Int Preview","IntroduceVariableCodeRefactoring Crash ```
System.ArgumentOutOfRangeException : Specified argument was out of the range of valid values.
Parameter name: position
   at Microsoft.CodeAnalysis.SyntaxNode.FindTokenCore(Int32 positionBoolean findInsideTrivia)
   at Microsoft.CodeAnalysis.CodeRefactoringHelpers.IsNodeUnderselected(SyntaxNode nodeTextSpan selection)
   at async Microsoft.CodeAnalysis.IntroduceVariable.AbstractIntroduceVariableService`6.State.TryInitializeAsync[TServiceTExpressionSyntaxTTypeSyntaxTTypeDeclarationSyntaxTQueryExpressionSyntaxTNameSyntax](<Unknown Parameters>)
   at async Microsoft.CodeAnalysis.IntroduceVariable.AbstractIntroduceVariableService`6.State.GenerateAsync[TServiceTExpressionSyntaxTTypeSyntaxTTypeDeclarationSyntaxTQueryExpressionSyntaxTNameSyntax](<Unknown Parameters>)
   at async Microsoft.CodeAnalysis.IntroduceVariable.AbstractIntroduceVariableService`6.IntroduceVariableAsync[TServiceTExpressionSyntaxTTypeSyntaxTTypeDeclarationSyntaxTQueryExpressionSyntaxTNameSyntax](<Unknown Parameters>)
   at async Microsoft.CodeAnalysis.IntroduceVariable.IntroduceVariableCodeRefactoringProvider.ComputeRefactoringsAsync(<Unknown Parameters>)
   at async Microsoft.CodeAnalysis.CodeRefactorings.CodeRefactoringService.GetRefactoringFromProviderAsync(<Unknown Parameters>)
```

The selection here appears to be a little finicky it need to be in the middle of some kind of nested expression I think? Here's a screenshot of my selection:
![image](https://user-images.githubusercontent.com/2371880/64991005-db1ef580-d885-11e9-8cf5-0d61bcce5a57.png)
As far as I can tell the offer to rename the method is unrelated it's just showing that as I was simplifying my repro.

Raw code as well:
```cs
using System;
class C {
    public void M()
    {
        Console.WriteLine(""Hello world"");
        Console.WriteLine(new C());
    }
}
```

VS Version 29312.127 Int Preview",Area-IDE|Bug|Developer Community|IDE-CodeStyle|Urgency-Soon,mavasani,,
38707,Show Parameter Info should show the target type of an assignment,"**Version Used**: 16.3-preview3

This is a feature request. It feels RHS of assignments would be easier to write if I could see what type of thing is expected to be assigned. It's possible that this is already available via a different command or that this has been considered and rejected before. Please let me know if that's the case.

```cs
class C
{
    string Prop { get; set; }
    void M()
    {
         // ctrl+shift+space here should show me the type of the assignment target (string)
        Prop = [||];
    }
}
```

This might actually just amount to adding a command which when used on the RHS of an assignment shows quick info for the LHS expression symbol.","Show Parameter Info should show the target type of an assignment **Version Used**: 16.3-preview3

This is a feature request. It feels RHS of assignments would be easier to write if I could see what type of thing is expected to be assigned. It's possible that this is already available via a different command or that this has been considered and rejected before. Please let me know if that's the case.

```cs
class C
{
    string Prop { get; set; }
    void M()
    {
         // ctrl+shift+space here should show me the type of the assignment target (string)
        Prop = [||];
    }
}
```

This might actually just amount to adding a command which when used on the RHS of an assignment shows quick info for the LHS expression symbol.",Area-IDE|Feature Request|IDE-IntelliSense,RikkiGibson,17/09/2019 5:49,
38706,VS Search should disambiguate types with more information,"**Version Used**: 
Visual Studio 2019 16.3 Preview 3

**Steps to Reproduce**:

1. Open a solution that has a project with 4 different 'Logger' types.
2. Ctrl+Q and search for 'Logger'

**Expected Behavior**:
All four 'Loggers' show up and are distinguishable.

**Actual Behavior**:
There are 4 identical 'Logger' class entries.

![image](https://user-images.githubusercontent.com/5387680/64984626-19adb380-d878-11e9-98d2-6dc60b4ad34c.png)

Some ways address this:

- Add namespace to the information shown
- Add part of the directory in addition to the file name
- Migrate preview experience from 'GoTo'.

This will probably require PM input to solve.

**cc:** @mikadumont migrated from: https://devdiv.visualstudio.com/DevDiv/_workitems/edit/972547","VS Search should disambiguate types with more information **Version Used**: 
Visual Studio 2019 16.3 Preview 3

**Steps to Reproduce**:

1. Open a solution that has a project with 4 different 'Logger' types.
2. Ctrl+Q and search for 'Logger'

**Expected Behavior**:
All four 'Loggers' show up and are distinguishable.

**Actual Behavior**:
There are 4 identical 'Logger' class entries.

![image](https://user-images.githubusercontent.com/5387680/64984626-19adb380-d878-11e9-98d2-6dc60b4ad34c.png)

Some ways address this:

- Add namespace to the information shown
- Add part of the directory in addition to the file name
- Migrate preview experience from 'GoTo'.

This will probably require PM input to solve.

**cc:** @mikadumont migrated from: https://devdiv.visualstudio.com/DevDiv/_workitems/edit/972547",Area-IDE|Concept-Continuous Improvement,gafter|jinujoseph,17/09/2019 4:52,
38705,Editorconfig naming convention for tuple element names,"Now that we have settled on the guidance of pascal case for tuple element names (https://github.com/dotnet/corefx/pull/35595 https://github.com/dotnet/corefx/issues/33553) it would be nice to have a `tuple_element` symbol kind to which a naming convention can be applied.

https://docs.microsoft.com/en-us/visualstudio/ide/editorconfig-naming-conventions?view=vs-2019#kinds-of-symbols","Editorconfig naming convention for tuple element names Now that we have settled on the guidance of pascal case for tuple element names (https://github.com/dotnet/corefx/pull/35595 https://github.com/dotnet/corefx/issues/33553) it would be nice to have a `tuple_element` symbol kind to which a naming convention can be applied.

https://docs.microsoft.com/en-us/visualstudio/ide/editorconfig-naming-conventions?view=vs-2019#kinds-of-symbols",Area-IDE|Concept-Continuous Improvement|help wanted,gafter|jnm2|sharwell|jinujoseph,17/09/2019 3:19,
38704,Merge master to master-vs-deps,"
This is an automatically generated pull request from master into master-vs-deps.
(created from a manual run of the PR generation tool)

``` bash
git fetch --all
git checkout merges/master-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge master to master-vs-deps 
This is an automatically generated pull request from master into master-vs-deps.
(created from a manual run of the PR generation tool)

``` bash
git fetch --all
git checkout merges/master-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|dotnet-automerge-bot,17/09/2019 3:19,17/09/2019 6:00
38703,Bump up flow analysis utilities version,Use the latest flow analysis utilities package,Bump up flow analysis utilities version Use the latest flow analysis utilities package,Area-Infrastructure,mavasani|jasonmalinowski|dibarbet|RikkiGibson,17/09/2019 2:28,17/09/2019 7:39
38702,The compiler produces code with useless redundant instructions for `(X Y) = (x y)`,"**Version Used**: Visual Studio 2019 (16.2.5) dotnet SDK v2.2.402

**Steps to Reproduce**:

1. `dotnet new console`
2. Create `Point.cs` file with `Point` class from [documentation](https://docs.microsoft.com/en-us/dotnet/csharp/tuples#deconstruction)
3. `dotnet build -c Release`
4. Open the compiled DLL in the ILSpy and inspect `Point` class constructor.

**Expected Behavior**: The compiler will produce short and efficient code

**Actual Behavior**: The compiler produces code with useless redundant instructions

The code of example from documentation:
```
public class Point
{
    public int X { get; set; }
    public int Y { get; set; }

    public Point(int x int y) => (X Y) = (x y);
}
```

The constructor compiles to:
```
.method public hidebysig specialname rtspecialname 
	instance void .ctor (
		int32 x
		int32 y
	) cil managed 
{
	// Method begins at RVA 0x2074
	// Code size 29 (0x1d)
	.maxstack 3
	.locals init (
		[0] int32
		[1] int32
		[2] int32
	)

	IL_0000: ldarg.0
	IL_0001: call instance void [System.Runtime]System.Object::.ctor()
	IL_0006: ldarg.1
	IL_0007: stloc.0
	IL_0008: ldarg.2
	IL_0009: stloc.1
	IL_000a: ldarg.0
	IL_000b: ldloc.0
	IL_000c: dup
	IL_000d: stloc.2
	IL_000e: call instance void RoslynBug.Point::set_X(int32)
	IL_0013: ldarg.0
	IL_0014: ldloc.1
	IL_0015: dup
	IL_0016: stloc.2
	IL_0017: call instance void RoslynBug.Point::set_Y(int32)
	IL_001c: ret
} // end of method Point::.ctor
```
This is equivalent of:
```
public Point(int x int y)
{
	int num2 = X = x;
	num2 = (Y = y);
}
```

But I was expected to get a result similar to this:
```
public Point(int x int y)
{
    X = x;
    Y = y;
}
```
Which compiles to a shorter (and I assume more efficient code):
```
.method public hidebysig specialname rtspecialname 
	instance void .ctor (
		int32 x
		int32 y
	) cil managed 
{
	// Method begins at RVA 0x2072
	// Code size 21 (0x15)
	.maxstack 8

	IL_0000: ldarg.0
	IL_0001: call instance void [System.Runtime]System.Object::.ctor()
	IL_0006: ldarg.0
	IL_0007: ldarg.1
	IL_0008: call instance void RoslynBug.Point::set_X(int32)
	IL_000d: ldarg.0
	IL_000e: ldarg.2
	IL_000f: call instance void RoslynBug.Point::set_Y(int32)
	IL_0014: ret
} // end of method Point::.ctor
```

The complete example is here: https://github.com/Konard/RoslynBug
","The compiler produces code with useless redundant instructions for `(X, Y) = (x, y)` **Version Used**: Visual Studio 2019 (16.2.5) dotnet SDK v2.2.402

**Steps to Reproduce**:

1. `dotnet new console`
2. Create `Point.cs` file with `Point` class from [documentation](https://docs.microsoft.com/en-us/dotnet/csharp/tuples#deconstruction)
3. `dotnet build -c Release`
4. Open the compiled DLL in the ILSpy and inspect `Point` class constructor.

**Expected Behavior**: The compiler will produce short and efficient code

**Actual Behavior**: The compiler produces code with useless redundant instructions

The code of example from documentation:
```
public class Point
{
    public int X { get; set; }
    public int Y { get; set; }

    public Point(int x int y) => (X Y) = (x y);
}
```

The constructor compiles to:
```
.method public hidebysig specialname rtspecialname 
	instance void .ctor (
		int32 x
		int32 y
	) cil managed 
{
	// Method begins at RVA 0x2074
	// Code size 29 (0x1d)
	.maxstack 3
	.locals init (
		[0] int32
		[1] int32
		[2] int32
	)

	IL_0000: ldarg.0
	IL_0001: call instance void [System.Runtime]System.Object::.ctor()
	IL_0006: ldarg.1
	IL_0007: stloc.0
	IL_0008: ldarg.2
	IL_0009: stloc.1
	IL_000a: ldarg.0
	IL_000b: ldloc.0
	IL_000c: dup
	IL_000d: stloc.2
	IL_000e: call instance void RoslynBug.Point::set_X(int32)
	IL_0013: ldarg.0
	IL_0014: ldloc.1
	IL_0015: dup
	IL_0016: stloc.2
	IL_0017: call instance void RoslynBug.Point::set_Y(int32)
	IL_001c: ret
} // end of method Point::.ctor
```
This is equivalent of:
```
public Point(int x int y)
{
	int num2 = X = x;
	num2 = (Y = y);
}
```

But I was expected to get a result similar to this:
```
public Point(int x int y)
{
    X = x;
    Y = y;
}
```
Which compiles to a shorter (and I assume more efficient code):
```
.method public hidebysig specialname rtspecialname 
	instance void .ctor (
		int32 x
		int32 y
	) cil managed 
{
	// Method begins at RVA 0x2072
	// Code size 21 (0x15)
	.maxstack 8

	IL_0000: ldarg.0
	IL_0001: call instance void [System.Runtime]System.Object::.ctor()
	IL_0006: ldarg.0
	IL_0007: ldarg.1
	IL_0008: call instance void RoslynBug.Point::set_X(int32)
	IL_000d: ldarg.0
	IL_000e: ldarg.2
	IL_000f: call instance void RoslynBug.Point::set_Y(int32)
	IL_0014: ret
} // end of method Point::.ctor
```

The complete example is here: https://github.com/Konard/RoslynBug
",Area-Compilers|Code Gen Quality|New Language Feature - Tuples,gafter|RikkiGibson|jcouv|jaredpar,17/09/2019 2:27,
38701,Debugger* attributes are not applied to compiler generated classes for lambdas,"**Version Used**: The one shipped with VS 16.2.5

**Steps to Reproduce**:

1. Create a console application with the following code:
``` cs
using System;
using System.Diagnostics;

namespace ConsoleApp1
{
    class Program
    {
        static void Main()
        {
            var test = new TestedClass();

            // Single step into these calls
            test.TestLambdaWithoutCapture();
            test.TestLambdaWithCapture();
        }

        public static void Output(string text)
        {
            // Break here and inspect the call stack
            Console.WriteLine(text);
        }
    }

    [DebuggerStepThrough]
    class TestedClass
    {
        public void TestLambdaWithoutCapture()
        {
            Action action = () => Program.Output(""Test"");
            action();
        }

        public void TestLambdaWithCapture()
        {
            string text = ""Test"";
            Action action = () => Program.Output(text);
            action();
        }
    }
}
```

2. Place breakpoints at the commented lines.
3. Step into the method calls in `Main`.
4. For each call inspect the call stack once the breakpoint in the `Output` method is hit.

**Expected Behavior**:

- Single stepping into the methods should put the execution pointer directly to the `Output` method.
- Inspecting the call stack in the `Output` method should not show any method of the `TestedClass`.

**Actual Behavior**:

- Single stepping into the methods puts the exectuion pointer inside the lambda expressions.
- Inspecting the call stack in the `Output` method shows a method with ""AnonymousMethod"" in its name.

**Additional Information**:

- I've added both a test with and without capture variables because the compiler before Roslyn generated static methods (which would not show the bug) for the non-capture case. Although Roslyn doesn't do this right now I added the case to be sure.
- If you apply the ""IDE0039 Use local function"" refactorings that are shown for the example code the tests work fine (because static methods are generated for the local functions instead of the classes that are generated for lambdas).
- I think all three attributes (`DebuggerStepThroughAttribute` `DebuggerHiddenAttribute` and `DebuggerNonUserCodeAttribute`) should be propagated to the generated class. And it should propagate from attributes applied to the method as well as attributes applied to the class.
- Similar to #4521","Debugger* attributes are not applied to compiler generated classes for lambdas **Version Used**: The one shipped with VS 16.2.5

**Steps to Reproduce**:

1. Create a console application with the following code:
``` cs
using System;
using System.Diagnostics;

namespace ConsoleApp1
{
    class Program
    {
        static void Main()
        {
            var test = new TestedClass();

            // Single step into these calls
            test.TestLambdaWithoutCapture();
            test.TestLambdaWithCapture();
        }

        public static void Output(string text)
        {
            // Break here and inspect the call stack
            Console.WriteLine(text);
        }
    }

    [DebuggerStepThrough]
    class TestedClass
    {
        public void TestLambdaWithoutCapture()
        {
            Action action = () => Program.Output(""Test"");
            action();
        }

        public void TestLambdaWithCapture()
        {
            string text = ""Test"";
            Action action = () => Program.Output(text);
            action();
        }
    }
}
```

2. Place breakpoints at the commented lines.
3. Step into the method calls in `Main`.
4. For each call inspect the call stack once the breakpoint in the `Output` method is hit.

**Expected Behavior**:

- Single stepping into the methods should put the execution pointer directly to the `Output` method.
- Inspecting the call stack in the `Output` method should not show any method of the `TestedClass`.

**Actual Behavior**:

- Single stepping into the methods puts the exectuion pointer inside the lambda expressions.
- Inspecting the call stack in the `Output` method shows a method with ""AnonymousMethod"" in its name.

**Additional Information**:

- I've added both a test with and without capture variables because the compiler before Roslyn generated static methods (which would not show the bug) for the non-capture case. Although Roslyn doesn't do this right now I added the case to be sure.
- If you apply the ""IDE0039 Use local function"" refactorings that are shown for the example code the tests work fine (because static methods are generated for the local functions instead of the classes that are generated for lambdas).
- I think all three attributes (`DebuggerStepThroughAttribute` `DebuggerHiddenAttribute` and `DebuggerNonUserCodeAttribute`) should be propagated to the generated class. And it should propagate from attributes applied to the method as well as attributes applied to the class.
- Similar to #4521",Area-Compilers|Investigation Required,gafter,16/09/2019 22:09,
38700,"""Go to base"" on override says ""The symbol has no base""","**Version Used**: Version 16.4.0 Preview 2.0 [29315.5.master]

**Steps to Reproduce**:

```c#
class F
{
    public override string ToString() // caret on ToString here
    {
        return base.ToString();
    }
}
```

With the caret on `ToString` in the method signature invoke ""Go to base"". 

**Expected Behavior**:

Does the same as ""Go to definition"" on `base.ToString()` call (i.e. MAS).

**Actual Behavior**:

Dialog appears saying:

> The symbol has no base.","""Go to base"" on override says ""The symbol has no base"" **Version Used**: Version 16.4.0 Preview 2.0 [29315.5.master]

**Steps to Reproduce**:

```c#
class F
{
    public override string ToString() // caret on ToString here
    {
        return base.ToString();
    }
}
```

With the caret on `ToString` in the method signature invoke ""Go to base"". 

**Expected Behavior**:

Does the same as ""Go to definition"" on `base.ToString()` call (i.e. MAS).

**Actual Behavior**:

Dialog appears saying:

> The symbol has no base.",Area-IDE|Bug,ivanbasov,,
38699,Merge master to master-vs-deps,"
This is an automatically generated pull request from master into master-vs-deps.

``` bash
git fetch --all
git checkout merges/master-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge master to master-vs-deps 
This is an automatically generated pull request from master into master-vs-deps.

``` bash
git fetch --all
git checkout merges/master-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|dotnet-automerge-bot,15/09/2019 10:02,15/09/2019 11:30
38698,Make sure the NuGet package download complete notification is not cancelled,"Cancelling the notification would result in a background task permanently appearing in the Task Status Center in Visual Studio.

?? See https://developercommunity.visualstudio.com/content/problem/576978/%E6%AD%A3%E5%9C%A8%E4%B8%8B%E8%BD%BD%E7%94%A8%E4%BA%8Enugetorg%E7%9A%84intellisense-index.html","Make sure the NuGet package download complete notification is not cancelled Cancelling the notification would result in a background task permanently appearing in the Task Status Center in Visual Studio.

?? See https://developercommunity.visualstudio.com/content/problem/576978/%E6%AD%A3%E5%9C%A8%E4%B8%8B%E8%BD%BD%E7%94%A8%E4%BA%8Enugetorg%E7%9A%84intellisense-index.html",Area-IDE,sharwell|jinujoseph|heejaechang|AArnott,15/09/2019 6:43,18/09/2019 0:26
38697,Broken Links on Building Testing and Debugging Wiki Page,"On https://github.com/dotnet/roslyn/wiki/Building-Testing-and-Debugging the following links are broken:

![image](https://user-images.githubusercontent.com/14079228/64913314-9e2ef380-d70b-11e9-8d9c-7f5d5a554008.png)

Happy to submit a PR to fix but I don't know where they're supposed to point to ??
","Broken Links on Building Testing and Debugging Wiki Page On https://github.com/dotnet/roslyn/wiki/Building-Testing-and-Debugging the following links are broken:

![image](https://user-images.githubusercontent.com/14079228/64913314-9e2ef380-d70b-11e9-8d9c-7f5d5a554008.png)

Happy to submit a PR to fix but I don't know where they're supposed to point to ??
",Area-Infrastructure,gafter,15/09/2019 6:22,
38695,Export limited semantic model in liveshare scenario to avoid null ptrs,"Export a compilation factory for C#_LSP and VB_LSP.  This prevents the semantic model from being missing.

An additional side benefit is that if a generic type has been defined in a file opened on the guest brace completion works for `<`.

Long term solution for these mainly typing/syntactic services is TBD.

https://devdiv.visualstudio.com/DevDiv/_workitems/edit/982486","Export limited semantic model in liveshare scenario to avoid null ptrs Export a compilation factory for C#_LSP and VB_LSP.  This prevents the semantic model from being missing.

An additional side benefit is that if a generic type has been defined in a file opened on the guest brace completion works for `<`.

Long term solution for these mainly typing/syntactic services is TBD.

https://devdiv.visualstudio.com/DevDiv/_workitems/edit/982486",Area-IDE,dibarbet|CyrusNajmabadi,14/09/2019 10:20,19/09/2019 3:37
38694,Nullable directive changes not considered top level edit,"**Version Used**: 16.4 P1 (29312.127 master)

**Steps to Reproduce**:
Create two files in a .net core 3 project
Class1.cs
```cs
namespace ConsoleApp12
{
    class Class1
    {
        public static void SomeMethod(string someString)
        {

        }
    }
}
```
Program.cs
```cs
#nullable enable

namespace ConsoleApp12
{
    class Program
    {
        static void Main(string[] args)
        {
            string? someString = null;
            Class1.SomeMethod(someString);
        }
    }
}
```

Add `#nullable enable` to Class1.cs
Go back to Program.cs and note that there is no warning on calling Class1.SomeMethod(someString) may be null.

Make an edit to anywhere in Program.cs and note that the warning appears after the edit.

**Expected Behavior**:
The warning should appear without needing to make an edit in Program.cs

Through debugging it appears that the nullable edit is [not being considered a top level edit](http://source.roslyn.io/#Microsoft.CodeAnalysis.Workspaces/Workspace/Solution/DocumentState.cs283).  Since the nullable annotation is trivia `SyntaxTree.IsEquivalentTo` is returning that the trees are equivalent.
","Nullable directive changes not considered top level edit **Version Used**: 16.4 P1 (29312.127 master)

**Steps to Reproduce**:
Create two files in a .net core 3 project
Class1.cs
```cs
namespace ConsoleApp12
{
    class Class1
    {
        public static void SomeMethod(string someString)
        {

        }
    }
}
```
Program.cs
```cs
#nullable enable

namespace ConsoleApp12
{
    class Program
    {
        static void Main(string[] args)
        {
            string? someString = null;
            Class1.SomeMethod(someString);
        }
    }
}
```

Add `#nullable enable` to Class1.cs
Go back to Program.cs and note that there is no warning on calling Class1.SomeMethod(someString) may be null.

Make an edit to anywhere in Program.cs and note that the warning appears after the edit.

**Expected Behavior**:
The warning should appear without needing to make an edit in Program.cs

Through debugging it appears that the nullable edit is [not being considered a top level edit](http://source.roslyn.io/#Microsoft.CodeAnalysis.Workspaces/Workspace/Solution/DocumentState.cs283).  Since the nullable annotation is trivia `SyntaxTree.IsEquivalentTo` is returning that the trees are equivalent.
",Area-Compilers|Area-IDE|Bug,333fred,,
38693,Use SHA256 (default source hash) for hashing privateimplementationdefails and MVID,"Satoshi would be proud.
Fixes #24737
","Use SHA256 (default source hash) for hashing privateimplementationdefails and MVID Satoshi would be proud.
Fixes #24737
",Area-Compilers,gafter,,
38692,Workaround to unblock builds,Currently we cannot publish assets from a build in devdiv to a feed in dnceng. We need this change to unblock builds while https://github.com/dotnet/arcade/issues/3942 is fixed and publish to blob feeds in the meanwhile.,Workaround to unblock builds Currently we cannot publish assets from a build in devdiv to a feed in dnceng. We need this change to unblock builds while https://github.com/dotnet/arcade/issues/3942 is fixed and publish to blob feeds in the meanwhile.,,jaredpar,,
38691,Merge master to master-vs-deps,"
This is an automatically generated pull request from master into master-vs-deps.
(created from a manual run of the PR generation tool)

``` bash
git fetch --all
git checkout merges/master-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge master to master-vs-deps 
This is an automatically generated pull request from master into master-vs-deps.
(created from a manual run of the PR generation tool)

``` bash
git fetch --all
git checkout merges/master-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|dotnet-automerge-bot,14/09/2019 8:37,14/09/2019 10:30
38690,Add a very simple ISourceGenerator API,This defines a first prototype API surface area for us to try building on. This PR isn't necessarily to collect feedback as much as so @angocke and @chsienki can leave comments describing the various things we thought about and rejected that ended us up here.,Add a very simple ISourceGenerator API This defines a first prototype API surface area for us to try building on. This PR isn't necessarily to collect feedback as much as so @angocke and @chsienki can leave comments describing the various things we thought about and rejected that ended us up here.,Area-Compilers|PR For Personal Review Only,jasonmalinowski,,
38689,Delete the checkbox to control nullable analysis in the IDE,At this point the nullable support in the semantic model seems stable and there's no reason for somebody to manually turn this on since any project that is using nullable will turn it on automatically.,Delete the checkbox to control nullable analysis in the IDE At this point the nullable support in the semantic model seems stable and there's no reason for somebody to manually turn this on since any project that is using nullable will turn it on automatically.,Area-IDE,jasonmalinowski,,
38688,Additional logging in the compiler server,"The compiler is occasionally crashing on non-Windows operating systems when calling `Mutex.ReleaseMutex`. The exception indicates that `WaitOne` and `ReleaseMutex` call are happening on different threads but that is not possible in the implementation. Even though the code occurs in an `async` method there is no `await` between the two calls hence it should all execute on the same thread. 

The runtime team cannot see a way this can be happening. They have requested that we add more logging here to expose the thread ids on both operations to help them dig into this issue further.

Related:
- https://github.com/dotnet/coreclr/issues/26659
- https://github.com/dotnet/roslyn/issues/37974","Additional logging in the compiler server The compiler is occasionally crashing on non-Windows operating systems when calling `Mutex.ReleaseMutex`. The exception indicates that `WaitOne` and `ReleaseMutex` call are happening on different threads but that is not possible in the implementation. Even though the code occurs in an `async` method there is no `await` between the two calls hence it should all execute on the same thread. 

The runtime team cannot see a way this can be happening. They have requested that we add more logging here to expose the thread ids on both operations to help them dig into this issue further.

Related:
- https://github.com/dotnet/coreclr/issues/26659
- https://github.com/dotnet/roslyn/issues/37974",Area-Compilers,jaredpar|agocke|333fred|gafter|RikkiGibson|VSadov|AlekseyTs|cston|jcouv|chsienki|fayrose,14/09/2019 6:59,19/09/2019 0:57
38687,[PROPOSAL] Add API to allow symbol changes after document changes,"The motivation for this API is to allow a workspace context to apply symbol changes after document changes. Currently all that is supported are namespace and named type syncing. We don't want these to be performed on all document operations but we do believe Roslyn has the most context to apply these changes and should provide an appropriate API. 

This PR is to discuss the API shape naming and comments that help define the behavior. A separate PR will be done to do the implementation and fine grained changes that are made. ","[PROPOSAL] Add API to allow symbol changes after document changes The motivation for this API is to allow a workspace context to apply symbol changes after document changes. Currently all that is supported are namespace and named type syncing. We don't want these to be performed on all document operations but we do believe Roslyn has the most context to apply these changes and should provide an appropriate API. 

This PR is to discuss the API shape naming and comments that help define the behavior. A separate PR will be done to do the implementation and fine grained changes that are made. ",Area-IDE,ryzngard|jmarolf|jinujoseph|sharwell|tmat,14/09/2019 6:59,
38686,Unexpected value exception with switch expression in error scenarios,"**Version Used**: master

**Steps to Reproduce**:

```cs
using System;
#nullable enable
public static class C {
    static void M(object p) {
       // either of these would crash
        _= (C)(o switch { _ => default }); 
        _= (C)(o switch { _ => throw null }); 
    }
}
```

See the [stack trace](https://sharplab.io/#v2:EYLgtghgzgLgpgJwDQBMQGoA+ABATARgFgAoAYgDsBXAG2omGrgAI5z7GTsBmJ7fANl64mAYSYBvEk2m8BvACxMAsgAoA9sABWcAMYwmOgJQSpMswH0AvCpGGVBplADuASxg6AFuKZWAfDA8ENScmKlomAF9DAG5TaQiSCKA)

([sharplab repro](https://sharplab.io/#v2:EYLgtghgzgLgpgJwD4AEBMBGAsAKAMQB2ArgDYkTAlwAEcBFVuKAzNShgGxtrUDC1Ab1zURbTmwAs1ALIAKAPbAAVnADGMavICUg4aNEB6A7QCWMABaJNAM2oW4UGgHd5pACbVVCaOb36RAPoAvNSyvFoK1FBOZqrmgtQB1EEAfNRucNYQpBoAvloA3NR+/sGh4ZHRsfECiclpFgjyTtTEZNT5RSW5uLlAA=))

**Expected Behavior**: no thrown exception

**Actual Behavior**: `System.InvalidOperationException: Unexpected value 'SwitchExpression' of type 'Microsoft.CodeAnalysis.CSharp.ConversionKind'`

Discovered while working on new(). Basically this can occur with any untyped arm which yields a valid conversion to *any* type. We should either handle the conversion in the error case or return NoConversion when the target type is invalid. If we decide to do the former it means an unconverted switch expression *can* sneak into the next stage and we may need to take it into account everywhere.","Unexpected value exception with switch expression in error scenarios **Version Used**: master

**Steps to Reproduce**:

```cs
using System;
#nullable enable
public static class C {
    static void M(object p) {
       // either of these would crash
        _= (C)(o switch { _ => default }); 
        _= (C)(o switch { _ => throw null }); 
    }
}
```

See the [stack trace](https://sharplab.io/#v2:EYLgtghgzgLgpgJwDQBMQGoA+ABATARgFgAoAYgDsBXAG2omGrgAI5z7GTsBmJ7fANl64mAYSYBvEk2m8BvACxMAsgAoA9sABWcAMYwmOgJQSpMswH0AvCpGGVBplADuASxg6AFuKZWAfDA8ENScmKlomAF9DAG5TaQiSCKA)

([sharplab repro](https://sharplab.io/#v2:EYLgtghgzgLgpgJwD4AEBMBGAsAKAMQB2ArgDYkTAlwAEcBFVuKAzNShgGxtrUDC1Ab1zURbTmwAs1ALIAKAPbAAVnADGMavICUg4aNEB6A7QCWMABaJNAM2oW4UGgHd5pACbVVCaOb36RAPoAvNSyvFoK1FBOZqrmgtQB1EEAfNRucNYQpBoAvloA3NR+/sGh4ZHRsfECiclpFgjyTtTEZNT5RSW5uLlAA=))

**Expected Behavior**: no thrown exception

**Actual Behavior**: `System.InvalidOperationException: Unexpected value 'SwitchExpression' of type 'Microsoft.CodeAnalysis.CSharp.ConversionKind'`

Discovered while working on new(). Basically this can occur with any untyped arm which yields a valid conversion to *any* type. We should either handle the conversion in the error case or return NoConversion when the target type is invalid. If we decide to do the former it means an unconverted switch expression *can* sneak into the next stage and we may need to take it into account everywhere.",4 - In Review|Area-Compilers|Bug|New Language Feature - Pattern Matching,gafter,,
38685,Consider forcing all relevant compilations into /highentropyva,"Are there good reasons why we wouldn't force all 64-bit managed compilations into emitting the HighEntropyVA DLL characteristic? The compiler already forces the dynamic base characteristic. I'm not aware of a good reason to allow a managed compilation to not enable high entropy VA (as doing so provides no substantive gain AFAIK such as a perf improvement in exchange for the regression in security). 

In emerging Dotnet/AOT (ahead of time compilation) scenarios this bit on a managed assembly isn't relevant as it is automatically applied when the image that is actually used to load the binary is produced: https://github.com/dotnet/coreclr/pull/20444/files 

Absent some contrary rationale my suggestion is to make a similar change to Roslyn that would forcibly add this DLL characteristic to 64-bit exe compilations.

This would make the managed runtime a more secure place. We would avoid the next occurrence of discovering that some emergent <HighEntropyVA> targets property does not have a secure default and help eliminate some complexity that exists in security analysis of managed portable executables.

```
            return new Cci.ModulePropertiesForSerialization(
                //  elided...
                dllCharacteristics: GetDllCharacteristics(enableHighEntropyVA: true compilationOptions.OutputKind == OutputKind.WindowsRuntimeApplication)
```","Consider forcing all relevant compilations into /highentropyva Are there good reasons why we wouldn't force all 64-bit managed compilations into emitting the HighEntropyVA DLL characteristic? The compiler already forces the dynamic base characteristic. I'm not aware of a good reason to allow a managed compilation to not enable high entropy VA (as doing so provides no substantive gain AFAIK such as a perf improvement in exchange for the regression in security). 

In emerging Dotnet/AOT (ahead of time compilation) scenarios this bit on a managed assembly isn't relevant as it is automatically applied when the image that is actually used to load the binary is produced: https://github.com/dotnet/coreclr/pull/20444/files 

Absent some contrary rationale my suggestion is to make a similar change to Roslyn that would forcibly add this DLL characteristic to 64-bit exe compilations.

This would make the managed runtime a more secure place. We would avoid the next occurrence of discovering that some emergent <HighEntropyVA> targets property does not have a secure default and help eliminate some complexity that exists in security analysis of managed portable executables.

```
            return new Cci.ModulePropertiesForSerialization(
                //  elided...
                dllCharacteristics: GetDllCharacteristics(enableHighEntropyVA: true compilationOptions.OutputKind == OutputKind.WindowsRuntimeApplication)
```",Area-Compilers|Investigation Required,jaredpar,,
38683,Add handling for unconventional implementation of events and properties when Default Interface Implementations are involved.,"Closes #34452.
Closes #34453.","Add handling for unconventional implementation of events and properties when Default Interface Implementations are involved. Closes #34452.
Closes #34453.",Area-Compilers|Language-C#|New Language Feature - Default Interface Impl,AlekseyTs|jcouv|jaredpar|agocke|333fred|gafter|RikkiGibson|VSadov|cston|chsienki|fayrose,14/09/2019 3:30,19/09/2019 5:28
38680,remote syntatic classification tagger for LSP work once experimentation is done,remove https://github.com/dotnet/roslyn/pull/38364 once experiementation is done.,remote syntatic classification tagger for LSP work once experimentation is done remove https://github.com/dotnet/roslyn/pull/38364 once experiementation is done.,Area-Infrastructure,gafter,13/09/2019 14:58,
38678,Register DocumentOptionsProvider in Workspace base class,Register `IDocumentOptionsProviders` in the `Workspace` constructor so that all workspaces get support for .editorconfig parsing.,Register DocumentOptionsProvider in Workspace base class Register `IDocumentOptionsProviders` in the `Workspace` constructor so that all workspaces get support for .editorconfig parsing.,Area-IDE,JoeRobich|jasonmalinowski,13/09/2019 10:03,
38677,Merge master to master-vs-deps,"
This is an automatically generated pull request from master into master-vs-deps.

``` bash
git fetch --all
git checkout merges/master-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge master to master-vs-deps 
This is an automatically generated pull request from master into master-vs-deps.

``` bash
git fetch --all
git checkout merges/master-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|dotnet-automerge-bot,13/09/2019 10:02,13/09/2019 13:30
38676,Merge release/dev16.4-preview1-vs-deps to master-vs-deps,"
This is an automatically generated pull request from release/dev16.4-preview1-vs-deps into master-vs-deps.

``` bash
git fetch --all
git checkout merges/release/dev16.4-preview1-vs-deps-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/release/dev16.4-preview1-vs-deps
# Fix merge conflicts
git commit
git push upstream merges/release/dev16.4-preview1-vs-deps-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge release/dev16.4-preview1-vs-deps to master-vs-deps 
This is an automatically generated pull request from release/dev16.4-preview1-vs-deps into master-vs-deps.

``` bash
git fetch --all
git checkout merges/release/dev16.4-preview1-vs-deps-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/release/dev16.4-preview1-vs-deps
# Fix merge conflicts
git commit
git push upstream merges/release/dev16.4-preview1-vs-deps-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|dotnet-automerge-bot,13/09/2019 10:01,13/09/2019 16:00
38675,Add AnalyzerConfigOptionSet to get Option values from AnalyzerConfig,"Currently most of the CodeStyle diagnostic analyzers rely on receiving a `WorkspaceAnalyzerOptions` (an Internal type) so that they can get a `OptionSet` to pull option values from. For projects that have .editorconfig files these option value can now be pulled from `AnalyzerConfigOptions` (a Public type).

This PR adds a AnalyzerConfigOptionSet that will first try to pull the Option value from `AnalyzerConfigOptions` and fall back to the document's `OptionSet` when no value is found. This benefits environments that have .editorconfig files and run analyzers but do not have permissions to create instances of `WorkspaceAnalyzerOptions`.","Add AnalyzerConfigOptionSet to get Option values from AnalyzerConfig Currently most of the CodeStyle diagnostic analyzers rely on receiving a `WorkspaceAnalyzerOptions` (an Internal type) so that they can get a `OptionSet` to pull option values from. For projects that have .editorconfig files these option value can now be pulled from `AnalyzerConfigOptions` (a Public type).

This PR adds a AnalyzerConfigOptionSet that will first try to pull the Option value from `AnalyzerConfigOptions` and fall back to the document's `OptionSet` when no value is found. This benefits environments that have .editorconfig files and run analyzers but do not have permissions to create instances of `WorkspaceAnalyzerOptions`.",Area-IDE,JoeRobich|jasonmalinowski|mavasani,13/09/2019 9:56,
38674,Bulk configuration/suppression of analyzer diagnostics,"## User scenarios
Lot of internal discussions and external requests in the area of analyzer adoption have pointed to a need for a better _bulk diagnostic configuration_ story based on real world user scenarios such as:

1. **Default severity configuration to reduce analyzer noise and remove analyzer adoption barriers**: I want to configure the default severity of all analyzer diagnostics (from every analyzer package that I have installed in my project) without having to configure every single diagnostic ID. For example demote all analyzer diagnostics to be _suggestions by default_ so they are equivalent to IDE code style suggestions which do not affect my CI builds and do not pollute my editor with squiggles and tons of warnings and errors. This breaks the analyzer adoption barrier as installing a new analyzer package has no drastic implications on my workflow. It allows me to opportunistically fix analyzer diagnostics whenever I want to address them and selectively promote individual diagnostic IDs that I want to execute in CI to warning/error severity with explicit diagnostic ID based configuration entries. This allows the end users to choose opt-in vs opt-out model for analyzer execution in CI.
2. **Category based configuration to prioritize buckets of analyzer diagnostics**: I want to configure all diagnostics with a specific diagnostic [category](http://source.roslyn.io/#Microsoft.CodeAnalysis/Diagnostic/DiagnosticDescriptor.cs45) without having to manually identify and configure every single diagnostic ID in that category. For example bump up all security rules to errors demote all performance issues to suggestions etc. These are extremely common operations during targeted code quality work such as security push performance push maintenance push etc.
3. **Suppress all current and future analyzer diagnostics inside a specific file or folder**: say legacy code folders or documents based on extensions (for example generated code with special extensions: https://github.com/dotnet/roslyn/issues/3705) etc. This issue has long been known as one of the biggest analyzer adoption barrier that needs an end user configuration point to reduce analyzer noise. Requiring end users to add custom autogenerated comments at top of their generated code files may not always be feasible or scalable and is also an unnecessary burden for customers. Performing a baseline operation  in Visual Studio (`Build and suppress active issues` command in `Analyze` menu) only suppresses diagnostics from current project/solution snapshot and also generates a very hard to maintain list of in-source suppressions (pragmas or suppress message attributes). 

## Difficulties with current support
Each of the above actions are very common when installing a new analyzer package or doing targeted code analysis cleanup work (for example security push performance push code maintenance push etc.). [Current support for diagnostic configuration](https://docs.microsoft.com/visualstudio/code-quality/use-roslyn-analyzers) requires user to configure each diagnostic ID with a distinct configuration entry per diagnostic ID reported by every analyzer from all of the consumed analyzer packages. This approach becomes even more untenable with analyzer package upgrades which generally brings in bunch of new analyzers and diagnostics IDs and requires the user to manually update their per-ID configuration lists to include the new diagnostic IDs.

## Design Proposal - editorconfig options for analyzer driver
In past adding any such bulk diagnostic configuration support would have required providing new MSBuild and command line compiler switches or updating existing ones which had a high implementation and design cost and higher risk of bugs/regressions. With the recently added support in [VS2019 16.3](https://docs.microsoft.com/en-us/visualstudio/releases/2019/release-notes-preview#16.3.0-pre.3.0) to pass in project's .editorconfig files into the compiler for analyzer configuration implementing this feature has become considerably easier.

Proposal is to _allow end users to specify editorconfig options that are respected by the core analyzer driver in the compiler layer_. Proposed formats for analyzer driver options:

```
# Format 1 - configure default severity for all analyzer diagnostics
dotnet_analyzer_diagnostic.severity = error | warning | suggestion | silent | none

# Format 2 - configure default severity for analyzer diagnostics with a specific 'diagnostic_category'
dotnet_analyzer_diagnostic.<%diagnostic_category%>.severity = error | warning | suggestion | silent | none

# Format 3 - suppress all/category-based analyzer diagnostics for specific files/folders
dotnet_analyzer_diagnostic.suppress = true | false
dotnet_analyzer_diagnostic.<%diagnostic_category%>.suppress = true | false
```

Using the above supported formats the user scenarios listed in this issue can be addressed with following simple configuration entries:
```
# Scenario 1 - switching all analyzer diagnostics to be suggestions by default and promoting individual diagnostics to warning/error
[*.cs]
dotnet_analyzer_diagnostic.severity = suggestion
dotnet_diagnostic.CA1801.severity = warning
dotnet_diagnostic.CA1802.severity = error

# Scenario 2 - category based diagnostic configuration
[*.cs]
dotnet_analyzer_diagnostic.security.severity = error
dotnet_analyzer_diagnostic.correctness.severity = warning
dotnet_analyzer_diagnostic.performance.severity = suggestion

# Scenario 3 - suppress all analyzer diagnostics except security ones on my generated code
[*.MyGeneratedFileExtension.cs]
dotnet_analyzer_diagnostic.suppress = true
dotnet_analyzer_diagnostic.security.suppress = false
```

Possible future enhancements:
1. Allow bulk configuration of diagnostics from specific analyzer package or for all diagnostics with a specific diagnostic prefix say `dotnet_analyzer_diagnostic.CA.severity = ...` would only configure diagnostics with a `CA` prefix. I suggest we don't add such a functionality until it is required and we can provide specific user scenarios where the other proposed formats are not sufficient.","Bulk configuration/suppression of analyzer diagnostics ## User scenarios
Lot of internal discussions and external requests in the area of analyzer adoption have pointed to a need for a better _bulk diagnostic configuration_ story based on real world user scenarios such as:

1. **Default severity configuration to reduce analyzer noise and remove analyzer adoption barriers**: I want to configure the default severity of all analyzer diagnostics (from every analyzer package that I have installed in my project) without having to configure every single diagnostic ID. For example demote all analyzer diagnostics to be _suggestions by default_ so they are equivalent to IDE code style suggestions which do not affect my CI builds and do not pollute my editor with squiggles and tons of warnings and errors. This breaks the analyzer adoption barrier as installing a new analyzer package has no drastic implications on my workflow. It allows me to opportunistically fix analyzer diagnostics whenever I want to address them and selectively promote individual diagnostic IDs that I want to execute in CI to warning/error severity with explicit diagnostic ID based configuration entries. This allows the end users to choose opt-in vs opt-out model for analyzer execution in CI.
2. **Category based configuration to prioritize buckets of analyzer diagnostics**: I want to configure all diagnostics with a specific diagnostic [category](http://source.roslyn.io/#Microsoft.CodeAnalysis/Diagnostic/DiagnosticDescriptor.cs45) without having to manually identify and configure every single diagnostic ID in that category. For example bump up all security rules to errors demote all performance issues to suggestions etc. These are extremely common operations during targeted code quality work such as security push performance push maintenance push etc.
3. **Suppress all current and future analyzer diagnostics inside a specific file or folder**: say legacy code folders or documents based on extensions (for example generated code with special extensions: https://github.com/dotnet/roslyn/issues/3705) etc. This issue has long been known as one of the biggest analyzer adoption barrier that needs an end user configuration point to reduce analyzer noise. Requiring end users to add custom autogenerated comments at top of their generated code files may not always be feasible or scalable and is also an unnecessary burden for customers. Performing a baseline operation  in Visual Studio (`Build and suppress active issues` command in `Analyze` menu) only suppresses diagnostics from current project/solution snapshot and also generates a very hard to maintain list of in-source suppressions (pragmas or suppress message attributes). 

## Difficulties with current support
Each of the above actions are very common when installing a new analyzer package or doing targeted code analysis cleanup work (for example security push performance push code maintenance push etc.). [Current support for diagnostic configuration](https://docs.microsoft.com/visualstudio/code-quality/use-roslyn-analyzers) requires user to configure each diagnostic ID with a distinct configuration entry per diagnostic ID reported by every analyzer from all of the consumed analyzer packages. This approach becomes even more untenable with analyzer package upgrades which generally brings in bunch of new analyzers and diagnostics IDs and requires the user to manually update their per-ID configuration lists to include the new diagnostic IDs.

## Design Proposal - editorconfig options for analyzer driver
In past adding any such bulk diagnostic configuration support would have required providing new MSBuild and command line compiler switches or updating existing ones which had a high implementation and design cost and higher risk of bugs/regressions. With the recently added support in [VS2019 16.3](https://docs.microsoft.com/en-us/visualstudio/releases/2019/release-notes-preview#16.3.0-pre.3.0) to pass in project's .editorconfig files into the compiler for analyzer configuration implementing this feature has become considerably easier.

Proposal is to _allow end users to specify editorconfig options that are respected by the core analyzer driver in the compiler layer_. Proposed formats for analyzer driver options:

```
# Format 1 - configure default severity for all analyzer diagnostics
dotnet_analyzer_diagnostic.severity = error | warning | suggestion | silent | none

# Format 2 - configure default severity for analyzer diagnostics with a specific 'diagnostic_category'
dotnet_analyzer_diagnostic.<%diagnostic_category%>.severity = error | warning | suggestion | silent | none

# Format 3 - suppress all/category-based analyzer diagnostics for specific files/folders
dotnet_analyzer_diagnostic.suppress = true | false
dotnet_analyzer_diagnostic.<%diagnostic_category%>.suppress = true | false
```

Using the above supported formats the user scenarios listed in this issue can be addressed with following simple configuration entries:
```
# Scenario 1 - switching all analyzer diagnostics to be suggestions by default and promoting individual diagnostics to warning/error
[*.cs]
dotnet_analyzer_diagnostic.severity = suggestion
dotnet_diagnostic.CA1801.severity = warning
dotnet_diagnostic.CA1802.severity = error

# Scenario 2 - category based diagnostic configuration
[*.cs]
dotnet_analyzer_diagnostic.security.severity = error
dotnet_analyzer_diagnostic.correctness.severity = warning
dotnet_analyzer_diagnostic.performance.severity = suggestion

# Scenario 3 - suppress all analyzer diagnostics except security ones on my generated code
[*.MyGeneratedFileExtension.cs]
dotnet_analyzer_diagnostic.suppress = true
dotnet_analyzer_diagnostic.security.suppress = false
```

Possible future enhancements:
1. Allow bulk configuration of diagnostics from specific analyzer package or for all diagnostics with a specific diagnostic prefix say `dotnet_analyzer_diagnostic.CA.severity = ...` would only configure diagnostics with a `CA` prefix. I suggest we don't add such a functionality until it is required and we can provide specific user scenarios where the other proposed formats are not sufficient.",4 - In Review|Area-Analyzers|Feature Request,mavasani,,
38673,Spelling fixes,,Spelling fixes ,Area-Compilers|Community,nnpcYvIVl|333fred,13/09/2019 5:48,13/09/2019 7:36
38672,Merge master to master-vs-deps,"
This is an automatically generated pull request from master into master-vs-deps.
(created from a manual run of the PR generation tool)

``` bash
git fetch --all
git checkout merges/master-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge master to master-vs-deps 
This is an automatically generated pull request from master into master-vs-deps.
(created from a manual run of the PR generation tool)

``` bash
git fetch --all
git checkout merges/master-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|dotnet-automerge-bot,13/09/2019 5:45,13/09/2019 7:30
38671,Merge release/dev16.4-preview1 to release/dev16.4-preview1-vs-deps,"
This is an automatically generated pull request from release/dev16.4-preview1 into release/dev16.4-preview1-vs-deps.
(created from a manual run of the PR generation tool)

``` bash
git fetch --all
git checkout merges/release/dev16.4-preview1-to-release/dev16.4-preview1-vs-deps
git reset --hard upstream/release/dev16.4-preview1-vs-deps
git merge upstream/release/dev16.4-preview1
# Fix merge conflicts
git commit
git push upstream merges/release/dev16.4-preview1-to-release/dev16.4-preview1-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge release/dev16.4-preview1 to release/dev16.4-preview1-vs-deps 
This is an automatically generated pull request from release/dev16.4-preview1 into release/dev16.4-preview1-vs-deps.
(created from a manual run of the PR generation tool)

``` bash
git fetch --all
git checkout merges/release/dev16.4-preview1-to-release/dev16.4-preview1-vs-deps
git reset --hard upstream/release/dev16.4-preview1-vs-deps
git merge upstream/release/dev16.4-preview1
# Fix merge conflicts
git commit
git push upstream merges/release/dev16.4-preview1-to-release/dev16.4-preview1-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|JoeRobich,13/09/2019 5:45,13/09/2019 8:03
38670,Merge release/dev16.4-preview1 to master,"
This is an automatically generated pull request from release/dev16.4-preview1 into master.
(created from a manual run of the PR generation tool)

``` bash
git fetch --all
git checkout merges/release/dev16.4-preview1-to-master
git reset --hard upstream/master
git merge upstream/release/dev16.4-preview1
# Fix merge conflicts
git commit
git push upstream merges/release/dev16.4-preview1-to-master --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge release/dev16.4-preview1 to master 
This is an automatically generated pull request from release/dev16.4-preview1 into master.
(created from a manual run of the PR generation tool)

``` bash
git fetch --all
git checkout merges/release/dev16.4-preview1-to-master
git reset --hard upstream/master
git merge upstream/release/dev16.4-preview1
# Fix merge conflicts
git commit
git push upstream merges/release/dev16.4-preview1-to-master --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|JoeRobich,13/09/2019 5:43,13/09/2019 8:03
38669,Object favorites,Result Provider changes needed to support object favorites. (The ability to pin properties and fields as favorites of a type in the EE windows.),Object favorites Result Provider changes needed to support object favorites. (The ability to pin properties and fields as favorites of a type in the EE windows.),Area-Interactive|Community,ivanbasov,,
38668,AD0001 (KeyNotFoundException) from AbstractRemoveUnusedParametersAndValuesDiagnosticAnalyzer,"**Version Used**:
16.3.0 Preview 3.0

**Steps to Reproduce**:
```csharp
using System.Text;

internal static class C1
{
    public const int A = 42;
}

internal class C2
{
    public int A { get; set; }
}

internal class C3
{
    public string M(C2 c2)
    {
        var result = new StringBuilder();
        switch (c2.A)
        {
            case C1.A:
                result.Append(""A"");
                break;
            default:
                result.Append(""*"");
                break;
        }
        return result.ToString();
    }
}
```

**Expected Behavior**:
No AD0001

**Actual Behavior**:
```
Severity	Code	Description	Project	File	Line	Suppression State	Detail Description
Warning	AD0001	Analyzer 'Microsoft.CodeAnalysis.CSharp.RemoveUnusedParametersAndValues.CSharpRemoveUnusedParametersAndValuesDiagnosticAnalyzer' threw an exception of type 'System.Collections.Generic.KeyNotFoundException' with message 'The given key was not present in the dictionary.'.	…		1	Active	Analyzer 'Microsoft.CodeAnalysis.CSharp.RemoveUnusedParametersAndValues.CSharpRemoveUnusedParametersAndValuesDiagnosticAnalyzer' threw the following exception:
'Exception occurred with following context:
Compilation: …
IOperation: ExpressionStatement
SyntaxTree: C:\Users\…\Test.cs
SyntaxNode: result.Append(""A""); [ExpressionStatementSyntax]@[319..338) (2016)-(2035)

System.Collections.Generic.KeyNotFoundException: The given key was not present in the dictionary.
   at System.Collections.Immutable.ImmutableDictionary`2.get_Item(TKey key)
   at Microsoft.CodeAnalysis.RemoveUnusedParametersAndValues.AbstractRemoveUnusedParametersAndValuesDiagnosticAnalyzer.SymbolStartAnalyzer.BlockAnalyzer.AnalyzeExpressionStatement(OperationAnalysisContext context)
   at Microsoft.CodeAnalysis.Diagnostics.AnalyzerExecutor.<>c.<ExecuteOperationAction>b__54_0(ValueTuple`2 data)
   at Microsoft.CodeAnalysis.Diagnostics.AnalyzerExecutor.ExecuteAndCatchIfThrows_NoLock[TArg](DiagnosticAnalyzer analyzer Action`1 analyze TArg argument Nullable`1 info)
-----
'.
```
","AD0001 (KeyNotFoundException) from AbstractRemoveUnusedParametersAndValuesDiagnosticAnalyzer **Version Used**:
16.3.0 Preview 3.0

**Steps to Reproduce**:
```csharp
using System.Text;

internal static class C1
{
    public const int A = 42;
}

internal class C2
{
    public int A { get; set; }
}

internal class C3
{
    public string M(C2 c2)
    {
        var result = new StringBuilder();
        switch (c2.A)
        {
            case C1.A:
                result.Append(""A"");
                break;
            default:
                result.Append(""*"");
                break;
        }
        return result.ToString();
    }
}
```

**Expected Behavior**:
No AD0001

**Actual Behavior**:
```
Severity	Code	Description	Project	File	Line	Suppression State	Detail Description
Warning	AD0001	Analyzer 'Microsoft.CodeAnalysis.CSharp.RemoveUnusedParametersAndValues.CSharpRemoveUnusedParametersAndValuesDiagnosticAnalyzer' threw an exception of type 'System.Collections.Generic.KeyNotFoundException' with message 'The given key was not present in the dictionary.'.	…		1	Active	Analyzer 'Microsoft.CodeAnalysis.CSharp.RemoveUnusedParametersAndValues.CSharpRemoveUnusedParametersAndValuesDiagnosticAnalyzer' threw the following exception:
'Exception occurred with following context:
Compilation: …
IOperation: ExpressionStatement
SyntaxTree: C:\Users\…\Test.cs
SyntaxNode: result.Append(""A""); [ExpressionStatementSyntax]@[319..338) (2016)-(2035)

System.Collections.Generic.KeyNotFoundException: The given key was not present in the dictionary.
   at System.Collections.Immutable.ImmutableDictionary`2.get_Item(TKey key)
   at Microsoft.CodeAnalysis.RemoveUnusedParametersAndValues.AbstractRemoveUnusedParametersAndValuesDiagnosticAnalyzer.SymbolStartAnalyzer.BlockAnalyzer.AnalyzeExpressionStatement(OperationAnalysisContext context)
   at Microsoft.CodeAnalysis.Diagnostics.AnalyzerExecutor.<>c.<ExecuteOperationAction>b__54_0(ValueTuple`2 data)
   at Microsoft.CodeAnalysis.Diagnostics.AnalyzerExecutor.ExecuteAndCatchIfThrows_NoLock[TArg](DiagnosticAnalyzer analyzer Action`1 analyze TArg argument Nullable`1 info)
-----
'.
```
",Area-IDE|Bug,mavasani,,
38666,Fix OOM from SymbolUsageAnalysis,"We were allocating large number of BasicBlockAnalysisData instances during Merge operations when performing symbol usage analysis for locals/parameters and holding onto these until the whole method has been analyzed before returning them to a shared pool. This approach works fine for most cases except for extremely large methods with large number of local variables such that the analysis needs multiple flow analysis iterations (and hence merges) over the CFG.
This PR fixes this issue by returning the allocated BasicBlockAnalysisData instances during Merge operations immediately back to the shared pool. I also added another optimization to reduce the size of tracked per-basic block analysis data by removing tracking locals as and when they go out of scope.

Fixes #38650","Fix OOM from SymbolUsageAnalysis We were allocating large number of BasicBlockAnalysisData instances during Merge operations when performing symbol usage analysis for locals/parameters and holding onto these until the whole method has been analyzed before returning them to a shared pool. This approach works fine for most cases except for extremely large methods with large number of local variables such that the analysis needs multiple flow analysis iterations (and hence merges) over the CFG.
This PR fixes this issue by returning the allocated BasicBlockAnalysisData instances during Merge operations immediately back to the shared pool. I also added another optimization to reduce the size of tracked per-basic block analysis data by removing tracking locals as and when they go out of scope.

Fixes #38650",Area-IDE,mavasani,12/09/2019 21:45,13/09/2019 9:15
38665,I hate the error highlighting on a case fallthrough error,Dear d(otnet??|iary??) I hate the error highlighting on a `case` fallthrough error. It indicates to me that something is wrong with the pattern I have specified rather than a `case` fallthrough issue. I would much rather see a highlight on the `case` keyword to indicate that something is wrong with the `case` mechanism itself as opposed to the pattern used to select it. Maybe we all have an error highlighting system that we have to learn to steer in order to flourish. ??,I hate the error highlighting on a case fallthrough error Dear d(otnet??|iary??) I hate the error highlighting on a `case` fallthrough error. It indicates to me that something is wrong with the pattern I have specified rather than a `case` fallthrough issue. I would much rather see a highlight on the `case` keyword to indicate that something is wrong with the `case` mechanism itself as opposed to the pattern used to select it. Maybe we all have an error highlighting system that we have to learn to steer in order to flourish. ??,Area-Compilers|Bug|Concept-Diagnostic Clarity|help wanted,tuespetre|gafter,12/09/2019 14:43,
38664,Expression evaluator output differs for `is` type check involving generic interface type parameter covariance for value types,"**Version Used**: 

Visual Studio 2019 16.2 Preview 2
C# compiler version `3.2.0-beta2-19303-01 (c9689b7a)`

**Steps to Reproduce**:

```csharp
using System;
using System.Diagnostics;

namespace ReproCovarianceIssue
{
    interface IFoo<out T>
    {
    }

    class Foo<T> : IFoo<T>
    {
    }

    class Program
    {
        static void Main()
        {
            var foo = new Foo<int> { };
            Console.WriteLine(foo is IFoo<object>);

            // Eval ""foo is Foo<object>"" in the Immediate Window or Watch Window.
            Debugger.Break();
        }
    }
}
```

**Expected Behavior**:

Console prints `false` and debugger prints `false` when evaluating `foo is IFoo<object>`.

**Actual Behavior**:

Console prints `false` and debugger prints `true` when evaluating `foo is IFoo<object>`.

![image](https://user-images.githubusercontent.com/7324746/64753533-6c821680-d4d8-11e9-92da-f6f75772d60e.png)","Expression evaluator output differs for `is` type check involving generic interface type parameter covariance for value types **Version Used**: 

Visual Studio 2019 16.2 Preview 2
C# compiler version `3.2.0-beta2-19303-01 (c9689b7a)`

**Steps to Reproduce**:

```csharp
using System;
using System.Diagnostics;

namespace ReproCovarianceIssue
{
    interface IFoo<out T>
    {
    }

    class Foo<T> : IFoo<T>
    {
    }

    class Program
    {
        static void Main()
        {
            var foo = new Foo<int> { };
            Console.WriteLine(foo is IFoo<object>);

            // Eval ""foo is Foo<object>"" in the Immediate Window or Watch Window.
            Debugger.Break();
        }
    }
}
```

**Expected Behavior**:

Console prints `false` and debugger prints `false` when evaluating `foo is IFoo<object>`.

**Actual Behavior**:

Console prints `false` and debugger prints `true` when evaluating `foo is IFoo<object>`.

![image](https://user-images.githubusercontent.com/7324746/64753533-6c821680-d4d8-11e9-92da-f6f75772d60e.png)",Area-Interactive|Bug|Interactive-Debugging,gafter|RikkiGibson,12/09/2019 14:10,13/09/2019 12:29
38663,Merge master to master-vs-deps,"
This is an automatically generated pull request from master into master-vs-deps.
(created from a manual run of the PR generation tool)

``` bash
git fetch --all
git checkout merges/master-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge master to master-vs-deps 
This is an automatically generated pull request from master into master-vs-deps.
(created from a manual run of the PR generation tool)

``` bash
git fetch --all
git checkout merges/master-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|JoeRobich,12/09/2019 13:42,12/09/2019 13:44
38662,Merge release/dev16.4-preview1 to release/dev16.4-preview1-vs-deps,"
This is an automatically generated pull request from release/dev16.4-preview1 into release/dev16.4-preview1-vs-deps.
(created from a manual run of the PR generation tool)

``` bash
git fetch --all
git checkout merges/release/dev16.4-preview1-to-release/dev16.4-preview1-vs-deps
git reset --hard upstream/release/dev16.4-preview1-vs-deps
git merge upstream/release/dev16.4-preview1
# Fix merge conflicts
git commit
git push upstream merges/release/dev16.4-preview1-to-release/dev16.4-preview1-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge release/dev16.4-preview1 to release/dev16.4-preview1-vs-deps 
This is an automatically generated pull request from release/dev16.4-preview1 into release/dev16.4-preview1-vs-deps.
(created from a manual run of the PR generation tool)

``` bash
git fetch --all
git checkout merges/release/dev16.4-preview1-to-release/dev16.4-preview1-vs-deps
git reset --hard upstream/release/dev16.4-preview1-vs-deps
git merge upstream/release/dev16.4-preview1
# Fix merge conflicts
git commit
git push upstream merges/release/dev16.4-preview1-to-release/dev16.4-preview1-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|JoeRobich,12/09/2019 13:36,12/09/2019 13:38
38661,Merge release/dev16.4-preview1-vs-deps to master-vs-deps,"
This is an automatically generated pull request from release/dev16.4-preview1-vs-deps into master-vs-deps.
(created from a manual run of the PR generation tool)

``` bash
git fetch --all
git checkout merges/release/dev16.4-preview1-vs-deps-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/release/dev16.4-preview1-vs-deps
# Fix merge conflicts
git commit
git push upstream merges/release/dev16.4-preview1-vs-deps-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge release/dev16.4-preview1-vs-deps to master-vs-deps 
This is an automatically generated pull request from release/dev16.4-preview1-vs-deps into master-vs-deps.
(created from a manual run of the PR generation tool)

``` bash
git fetch --all
git checkout merges/release/dev16.4-preview1-vs-deps-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/release/dev16.4-preview1-vs-deps
# Fix merge conflicts
git commit
git push upstream merges/release/dev16.4-preview1-vs-deps-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|dotnet-automerge-bot,12/09/2019 13:35,12/09/2019 16:00
38660,Merge release/dev16.4-preview1 to master,"
This is an automatically generated pull request from release/dev16.4-preview1 into master.
(created from a manual run of the PR generation tool)

``` bash
git fetch --all
git checkout merges/release/dev16.4-preview1-to-master
git reset --hard upstream/master
git merge upstream/release/dev16.4-preview1
# Fix merge conflicts
git commit
git push upstream merges/release/dev16.4-preview1-to-master --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge release/dev16.4-preview1 to master 
This is an automatically generated pull request from release/dev16.4-preview1 into master.
(created from a manual run of the PR generation tool)

``` bash
git fetch --all
git checkout merges/release/dev16.4-preview1-to-master
git reset --hard upstream/master
git merge upstream/release/dev16.4-preview1
# Fix merge conflicts
git commit
git push upstream merges/release/dev16.4-preview1-to-master --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|JoeRobich,12/09/2019 13:34,12/09/2019 13:37
38659,Merge master to master-vs-deps,"
This is an automatically generated pull request from master into master-vs-deps.
(created from a manual run of the PR generation tool)

``` bash
git fetch --all
git checkout merges/master-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge master to master-vs-deps 
This is an automatically generated pull request from master into master-vs-deps.
(created from a manual run of the PR generation tool)

``` bash
git fetch --all
git checkout merges/master-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|JoeRobich,12/09/2019 11:32,12/09/2019 13:33
38658,Merge release/dev16.4-preview1 to release/dev16.4-preview1-vs-deps,"
This is an automatically generated pull request from release/dev16.4-preview1 into release/dev16.4-preview1-vs-deps.
(created from a manual run of the PR generation tool)

``` bash
git fetch --all
git checkout merges/release/dev16.4-preview1-to-release/dev16.4-preview1-vs-deps
git reset --hard upstream/release/dev16.4-preview1-vs-deps
git merge upstream/release/dev16.4-preview1
# Fix merge conflicts
git commit
git push upstream merges/release/dev16.4-preview1-to-release/dev16.4-preview1-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge release/dev16.4-preview1 to release/dev16.4-preview1-vs-deps 
This is an automatically generated pull request from release/dev16.4-preview1 into release/dev16.4-preview1-vs-deps.
(created from a manual run of the PR generation tool)

``` bash
git fetch --all
git checkout merges/release/dev16.4-preview1-to-release/dev16.4-preview1-vs-deps
git reset --hard upstream/release/dev16.4-preview1-vs-deps
git merge upstream/release/dev16.4-preview1
# Fix merge conflicts
git commit
git push upstream merges/release/dev16.4-preview1-to-release/dev16.4-preview1-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|dotnet-automerge-bot,12/09/2019 11:32,12/09/2019 13:30
38657,Merge release/dev16.3 to release/dev16.4-preview1,"
This is an automatically generated pull request from release/dev16.3 into release/dev16.4-preview1.
(created from a manual run of the PR generation tool)

``` bash
git fetch --all
git checkout merges/release/dev16.3-to-release/dev16.4-preview1
git reset --hard upstream/release/dev16.4-preview1
git merge upstream/release/dev16.3
# Fix merge conflicts
git commit
git push upstream merges/release/dev16.3-to-release/dev16.4-preview1 --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge release/dev16.3 to release/dev16.4-preview1 
This is an automatically generated pull request from release/dev16.3 into release/dev16.4-preview1.
(created from a manual run of the PR generation tool)

``` bash
git fetch --all
git checkout merges/release/dev16.3-to-release/dev16.4-preview1
git reset --hard upstream/release/dev16.4-preview1
git merge upstream/release/dev16.3
# Fix merge conflicts
git commit
git push upstream merges/release/dev16.3-to-release/dev16.4-preview1 --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|dotnet-automerge-bot,12/09/2019 11:30,12/09/2019 13:30
38656,Change the automation type for inline rename dialog,JAWS currently will not read the name description if the automation type is Pane. The Inline Rename dialog is pretty custom in functionality since it doesn't behave exactly like a pane so moving to custom makes sense. It also allows JAWS to read the current automation name which includes instructions on how a user can focus the dialog with keyboard. ,Change the automation type for inline rename dialog JAWS currently will not read the name description if the automation type is Pane. The Inline Rename dialog is pretty custom in functionality since it doesn't behave exactly like a pane so moving to custom makes sense. It also allows JAWS to read the current automation name which includes instructions on how a user can focus the dialog with keyboard. ,Area-IDE|Tenet-User Friendly,ryzngard|AbhitejJohn,12/09/2019 11:16,13/09/2019 7:47
38655,Fix a memory leak in BackgroundCompiler,"This causes us to hold on to compilations after solution is closed in VS.
@heejaechang @jasonmalinowski @sharwell  @dotnet/roslyn-ide ","Fix a memory leak in BackgroundCompiler This causes us to hold on to compilations after solution is closed in VS.
@heejaechang @jasonmalinowski @sharwell  @dotnet/roslyn-ide ",Area-IDE,genlu|jasonmalinowski|heejaechang|DustinCampbell|dpoeschl|ryzngard|JoeRobich|sharwell|petrroll|ivanbasov|dibarbet|vatsalyaagrawal|mavasani|jinujoseph|Cosifne|chborl,12/09/2019 10:49,13/09/2019 5:44
38654,Update version and publish data for 16.4 P1 snap,,Update version and publish data for 16.4 P1 snap ,Area-Infrastructure,JoeRobich,12/09/2019 10:11,12/09/2019 11:31
38653,Migrate to new output window API,Use the new output window API ,Migrate to new output window API Use the new output window API ,Area-IDE,dibarbet|heejaechang|sharwell|AArnott,12/09/2019 10:02,
38652,Merge master to master-vs-deps,"
This is an automatically generated pull request from master into master-vs-deps.

``` bash
git fetch --all
git checkout merges/master-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge master to master-vs-deps 
This is an automatically generated pull request from master into master-vs-deps.

``` bash
git fetch --all
git checkout merges/master-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|JoeRobich,12/09/2019 10:02,12/09/2019 11:24
38651,Containing Type and Containing Member in FAR are unknown in F# projects,"**Version Used**: 
Master 29311.136 + Vsix from (InternalServer)\ContainingMemberAndContainingTypeColumns 
**Steps to Reproduce**:

1. Create a new F# Console App (.NET Core)
2. Right click argv
3. Select Find all references

**Expected Behavior**:
References are shown with all info
**Actual Behavior**:
Containing type and member are set as unknown

![image](https://user-images.githubusercontent.com/10537189/64743406-a8a38000-d4b4-11e9-856b-6d9e8a54c327.png)
","Containing Type and Containing Member in FAR are unknown in F# projects **Version Used**: 
Master 29311.136 + Vsix from (InternalServer)\ContainingMemberAndContainingTypeColumns 
**Steps to Reproduce**:

1. Create a new F# Console App (.NET Core)
2. Right click argv
3. Select Find all references

**Expected Behavior**:
References are shown with all info
**Actual Behavior**:
Containing type and member are set as unknown

![image](https://user-images.githubusercontent.com/10537189/64743406-a8a38000-d4b4-11e9-856b-6d9e8a54c327.png)
",Area-IDE,gafter|chborl,12/09/2019 9:54,21/09/2019 4:56
38650,OOM in SymbolUsageAnalysis when analyzing large methods,"**Version Used**: 16.3 preview3

One of the dump files provided in https://developercommunity.visualstudio.com/content/problem/672009/live-analysis-eats-up-memory-resulting-in-vs-crash.html points to an OOM from SymbolUsageAnalysis for a very large method (CFG with around 1000 basic blocks) and large number of local variables. I also have an internal repro (cannot be shared) where I get the same OOM.
","OOM in SymbolUsageAnalysis when analyzing large methods **Version Used**: 16.3 preview3

One of the dump files provided in https://developercommunity.visualstudio.com/content/problem/672009/live-analysis-eats-up-memory-resulting-in-vs-crash.html points to an OOM from SymbolUsageAnalysis for a very large method (CFG with around 1000 basic blocks) and large number of local variables. I also have an internal repro (cannot be shared) where I get the same OOM.
",4 - In Review|Area-IDE|Area-Performance|Bug|Tenet-Performance,mavasani,,
38649,Go-To-Member not finding members,"Using go-to-all with the `m` filter will occasionally not find any members whatsoever. I haven't found a consistent repro for this yet but when it starts it repros continuously. Repros on Version 16.4.0 Preview 1.0 [29310.158.master]

","Go-To-Member not finding members Using go-to-all with the `m` filter will occasionally not find any members whatsoever. I haven't found a consistent repro for this yet but when it starts it repros continuously. Repros on Version 16.4.0 Preview 1.0 [29310.158.master]

",Area-IDE|Bug,JoeRobich,,
38648,Naming Styles options page accessibility fixes,Ensures there are Names for screen readers applied to the datagrid and datagrid items in the Naming Styles options dialogs. Found these issues by running the dialog through Keros.,Naming Styles options page accessibility fixes Ensures there are Names for screen readers applied to the datagrid and datagrid items in the Naming Styles options dialogs. Found these issues by running the dialog through Keros.,Area-IDE|Tenet-User Friendly,JoeRobich|ryzngard|AbhitejJohn,12/09/2019 8:34,13/09/2019 6:04
38647,Fix crash when Nullable<T> creation takes dynamic argument,"Closes #38575

I figured that we should handle NREs reported by customers by at least enabling nullable in the offending method.","Fix crash when Nullable<T> creation takes dynamic argument Closes #38575

I figured that we should handle NREs reported by customers by at least enabling nullable in the offending method.",Area-Compilers|New Language Feature - Nullable Reference Types,jcouv,,
38646,Add nullable-annotated Debug.Assert,"Adds the definitions for the nullable attributes to the compiler and creates an
annotated Debug.Assert","Add nullable-annotated Debug.Assert Adds the definitions for the nullable attributes to the compiler and creates an
annotated Debug.Assert",Area-Compilers,alrz|jinujoseph|agocke|tmat|jaredpar|jcouv,12/09/2019 7:56,26/09/2019 6:57
38645,Don't include nullable type information for object creation completion,"The type inferrer now includes nullable information but we don't always want to include that. Nullability is not useful for object creation since you can't create a new `object?`. 

Fixes #38508 

","Don't include nullable type information for object creation completion The type inferrer now includes nullable information but we don't always want to include that. Nullability is not useful for object creation since you can't create a new `object?`. 

Fixes #38508 

",Approved to merge|Area-IDE,ryzngard|jasonmalinowski|jinujoseph,12/09/2019 7:38,13/09/2019 5:21
38644,IntroduceLocal should not be offered on a local declaration,"Repro:
1. put the cursor on the local name in a local declaration
2. invoke the lightbulb

I expect InlineTemporary rather than IntroduceLocal but IntroduceLocal is offered and it is at the top.
We could either not offer IntroduceLocal in that scenario or at least bump it down.
","IntroduceLocal should not be offered on a local declaration Repro:
1. put the cursor on the local name in a local declaration
2. invoke the lightbulb

I expect InlineTemporary rather than IntroduceLocal but IntroduceLocal is offered and it is at the top.
We could either not offer IntroduceLocal in that scenario or at least bump it down.
",Area-IDE|Bug|IDE-CodeStyle|help wanted,jcouv|jinujoseph,12/09/2019 7:31,
38643,"3.4.0 Compiler Toolset does not allow comparing to ""default""","**Version Used**: 
Microsoft.Net.Compilers.Toolset v3.4.0-beta1-19456-03

**Steps to Reproduce**:

1. Create a new console app with

```C#
class Program
{
    static void Main(string[] args)
    {
        var x = new object();
        if (x != default)
        {
            Console.WriteLine(""Hello world"");
        }
    }
}
```

2. Reference the 3.4.0 toolset package

```xml
 <ItemGroup>
    <PackageReference Include=""Microsoft.Net.Compilers.Toolset""
        Version=""3.4.0-beta1-19456-03""
        PrivateAssets=""all""/>
  </ItemGroup>
```

3. Compile and see the failure

Program.cs(1017): error CS0019: Operator '!=' cannot be applied to operands of type 'object' and 'default' 

This compiles using `Microsoft (R) Visual C# Compiler version 3.4.0-beta1-19417-02 (64f75cda)` that's shipped with a SDK but not using `Microsoft (R) Visual C# Compiler version 3.4.0-beta1-19456-03 
(3c865821)` 

","3.4.0 Compiler Toolset does not allow comparing to ""default"" **Version Used**: 
Microsoft.Net.Compilers.Toolset v3.4.0-beta1-19456-03

**Steps to Reproduce**:

1. Create a new console app with

```C#
class Program
{
    static void Main(string[] args)
    {
        var x = new object();
        if (x != default)
        {
            Console.WriteLine(""Hello world"");
        }
    }
}
```

2. Reference the 3.4.0 toolset package

```xml
 <ItemGroup>
    <PackageReference Include=""Microsoft.Net.Compilers.Toolset""
        Version=""3.4.0-beta1-19456-03""
        PrivateAssets=""all""/>
  </ItemGroup>
```

3. Compile and see the failure

Program.cs(1017): error CS0019: Operator '!=' cannot be applied to operands of type 'object' and 'default' 

This compiles using `Microsoft (R) Visual C# Compiler version 3.4.0-beta1-19417-02 (64f75cda)` that's shipped with a SDK but not using `Microsoft (R) Visual C# Compiler version 3.4.0-beta1-19456-03 
(3c865821)` 

",4 - In Review|Area-Compilers|Bug|Tenet-Compatibility|Urgency-Now,jcouv,,
38642,Don't warn about empty initializers on nullable properties in object initializers,Closes #38060,Don't warn about empty initializers on nullable properties in object initializers Closes #38060,Area-Compilers|New Language Feature - Nullable Reference Types,jcouv,,
38641,Order of evaluation for string concatenation still does not follow C# specification,"**Version Used**: VS2019.3 Preview 3 / Roslyn 3.3.0-beta2

#35006 claims to have fixed #522 but the new behavior implemented does not match the C# specification either.

**Expected Behavior**:
If I understood the specification correctly the + operator applied to `object + string` should:
  1. Evaluate the left-hand side as an object
  2. Evaluate the right-hand side as a string
  3. Call `ToString` on the object in order to convert it to a string
  4. Concatenate the two strings

**Actual Behavior**:
Starting in Roslyn 3.3.0-beta2 the actual behavior no longer matches the specification even in cases with only two operands (the old behavior only differed from the specification when there were more than two operands see #522 for details).
The new implemented behavior is:
  1. Evaluate the left-hand side as an object
  2. Call `ToString` on the object in order to convert it to a string
  3. Evaluate the right-hand side as a string
  4. Concatenate the two strings

[Full example for 2 operands on SharpLab](https://sharplab.io/#v2:C4LgTgrgdgNAJiA1AHwAICYCMBYAUAAkP1QGZj18BZATwGEAbAQwGdm8j8BvdjojdHry6ChfTAE4AFFACmAd3y1JABgCU+RPgDiM4AGVgYAJZQA5pNWqA3CI4BfW2IBs+A8bPbdbk+fXcCohyoEpIARDr6hj4WodaOQqgA7PihAB6hNgFCDln4OSIYiiL+8WAyjHAA9lD01PgmwPWZ8cRkSg31qi3+gRzAABZGzAB0RvgAvE0tQSEAJKGyCkqcRnaqsZmB+blBZJUAbjJgxnAyxJjK+AAqld5mFt3TYlLzy6uqwzd3vhtPhEn1T63KL3OI7Ig5ex4IA=)

**More than two operands**:
The expected behavior gets more tricky when there are multiple operands involved.
For
```
new C(0) + GetString() + new C(1)
```
The `+` operator groups left-associative so we're evaluating `(new C(0) + Space()) + new C(1)`. The outer `+` first evaluates the LHS so from the spec I would expect the evaluation order:
 * `new C(0)`
 * `GetString()`
 * `C(0).ToString()`
 * `new C(1)`
 * `C(1).ToString()`
But that's not what the Roslyn master currently does; it instead results in:
```
new C(0)
C(0).ToString()
GetString()
new C(1)
C(1).ToString()
```
Effectively Roslyn master immediately converts the non-string to string before even evaluating the other argument to `string.op_Addition(object string)`.
[Full example for 3 operands on SharpLab](https://sharplab.io/#v2:C4LgTgrgdgNAJiA1AHwAICYCMBYAUAAkP1QGZj18BZATwGEAbAQwGdm8j8BvdjojdHry6ChfTAE4AFFACmAd3y1JABgCU+RPgDKAB0YBjGZPWbZCpZlWqA3CNHEJx2wXtipNu6NSOzilSfxJXQMjAN8LKw8XIQBfT0JvADZtYDAASygAc209Q2NhaNdvKQAiYLzVEqjXPgB2fBKG53s4wtaRDEURblx4sBlGOAB7KHpqfAzgCed44jIlSYnVWZ6awmAACzTmADo0/ABeadmOYskAEhLwyU40mMrq0XbC07IhgDcZMHS4GQdlfAAFSGWlSGUyxhWJzcFxKSlu9x2wNB6SyxiqzTWqHqaSRILBaMesRErSAA==)

It gets even more interesting if we use parentheses to re-group the concatenation:
```
Console.WriteLine(new C(0) + (GetString() + new C(1)));
```
Now from the spec I would expect this evaluate as in `op_Addition(object op_Addition(string object))` so:
* `new C(0)`
* `GetString()`
* `new C(1)`
* `C(1).ToString()`
* `C(0).ToString()`
Roslyn master evaluates this as:
```
new C(0)
C(0).ToString()
GetString()
new C(1)
C(1).ToString()
```

So my takeaway is: The old compiler was optimizing string concatenation in a way that doesn't follow the language spec; the new compiler is optimizing string concatenation further in a way that still doesn't follow language spec.
Though arguably this time one could say that it's the spec that is broken. The new compiler behavior intuitively makes sense: every object is immediately converted to string before evaluating any further operands.

@gafter @canton7 ","Order of evaluation for string concatenation still does not follow C# specification **Version Used**: VS2019.3 Preview 3 / Roslyn 3.3.0-beta2

#35006 claims to have fixed #522 but the new behavior implemented does not match the C# specification either.

**Expected Behavior**:
If I understood the specification correctly the + operator applied to `object + string` should:
  1. Evaluate the left-hand side as an object
  2. Evaluate the right-hand side as a string
  3. Call `ToString` on the object in order to convert it to a string
  4. Concatenate the two strings

**Actual Behavior**:
Starting in Roslyn 3.3.0-beta2 the actual behavior no longer matches the specification even in cases with only two operands (the old behavior only differed from the specification when there were more than two operands see #522 for details).
The new implemented behavior is:
  1. Evaluate the left-hand side as an object
  2. Call `ToString` on the object in order to convert it to a string
  3. Evaluate the right-hand side as a string
  4. Concatenate the two strings

[Full example for 2 operands on SharpLab](https://sharplab.io/#v2:C4LgTgrgdgNAJiA1AHwAICYCMBYAUAAkP1QGZj18BZATwGEAbAQwGdm8j8BvdjojdHry6ChfTAE4AFFACmAd3y1JABgCU+RPgDiM4AGVgYAJZQA5pNWqA3CI4BfW2IBs+A8bPbdbk+fXcCohyoEpIARDr6hj4WodaOQqgA7PihAB6hNgFCDln4OSIYiiL+8WAyjHAA9lD01PgmwPWZ8cRkSg31qi3+gRzAABZGzAB0RvgAvE0tQSEAJKGyCkqcRnaqsZmB+blBZJUAbjJgxnAyxJjK+AAqld5mFt3TYlLzy6uqwzd3vhtPhEn1T63KL3OI7Ig5ex4IA=)

**More than two operands**:
The expected behavior gets more tricky when there are multiple operands involved.
For
```
new C(0) + GetString() + new C(1)
```
The `+` operator groups left-associative so we're evaluating `(new C(0) + Space()) + new C(1)`. The outer `+` first evaluates the LHS so from the spec I would expect the evaluation order:
 * `new C(0)`
 * `GetString()`
 * `C(0).ToString()`
 * `new C(1)`
 * `C(1).ToString()`
But that's not what the Roslyn master currently does; it instead results in:
```
new C(0)
C(0).ToString()
GetString()
new C(1)
C(1).ToString()
```
Effectively Roslyn master immediately converts the non-string to string before even evaluating the other argument to `string.op_Addition(object string)`.
[Full example for 3 operands on SharpLab](https://sharplab.io/#v2:C4LgTgrgdgNAJiA1AHwAICYCMBYAUAAkP1QGZj18BZATwGEAbAQwGdm8j8BvdjojdHry6ChfTAE4AFFACmAd3y1JABgCU+RPgDKAB0YBjGZPWbZCpZlWqA3CNHEJx2wXtipNu6NSOzilSfxJXQMjAN8LKw8XIQBfT0JvADZtYDAASygAc209Q2NhaNdvKQAiYLzVEqjXPgB2fBKG53s4wtaRDEURblx4sBlGOAB7KHpqfAzgCed44jIlSYnVWZ6awmAACzTmADo0/ABeadmOYskAEhLwyU40mMrq0XbC07IhgDcZMHS4GQdlfAAFSGWlSGUyxhWJzcFxKSlu9x2wNB6SyxiqzTWqHqaSRILBaMesRErSAA==)

It gets even more interesting if we use parentheses to re-group the concatenation:
```
Console.WriteLine(new C(0) + (GetString() + new C(1)));
```
Now from the spec I would expect this evaluate as in `op_Addition(object op_Addition(string object))` so:
* `new C(0)`
* `GetString()`
* `new C(1)`
* `C(1).ToString()`
* `C(0).ToString()`
Roslyn master evaluates this as:
```
new C(0)
C(0).ToString()
GetString()
new C(1)
C(1).ToString()
```

So my takeaway is: The old compiler was optimizing string concatenation in a way that doesn't follow the language spec; the new compiler is optimizing string concatenation further in a way that still doesn't follow language spec.
Though arguably this time one could say that it's the spec that is broken. The new compiler behavior intuitively makes sense: every object is immediately converted to string before evaluating any further operands.

@gafter @canton7 ",Area-Compilers|Bug|Community|help wanted,canton7|gafter|RikkiGibson,12/09/2019 6:25,
38640,Assert in OperationExtension.GetValueUsageInfo for code with switch expressions,"**Version Used**: Latest master sources

**Steps to Reproduce**:

1. Open Roslyn.sln and F5
2. Create a C# class library project with switch expression in the new VS instance

**Actual Behavior**:
Following assert fires:

https://github.com/dotnet/roslyn/blob/af9741b029487cec82fc3232c6821a45e9f16d9c/src/Workspaces/Core/Portable/Extensions/OperationExtensions.cs#L83

We need to handle recently added `Microsoft.CodeAnalysis.Operations.CSharpLazySwitchExpressionArmOperation`

```
 	System.dll!System.Diagnostics.AssertWrapper.ShowMessageBoxAssert(string stackTrace string message string detailMessage)	Unknown
 	System.dll!System.Diagnostics.DefaultTraceListener.Fail(string message string detailMessage)	Unknown
 	System.dll!System.Diagnostics.DefaultTraceListener.Fail(string message)	Unknown
 	System.dll!System.Diagnostics.TraceInternal.Fail(string message)	Unknown
 	System.dll!System.Diagnostics.Debug.Fail(string message)	Unknown
>	Microsoft.CodeAnalysis.Workspaces.dll!Microsoft.CodeAnalysis.OperationExtensions.GetValueUsageInfo(Microsoft.CodeAnalysis.IOperation operation) Line 83	C#
 	Microsoft.CodeAnalysis.Workspaces.dll!Microsoft.CodeAnalysis.FlowAnalysis.SymbolUsageAnalysis.SymbolUsageAnalysis.Walker.OnReferenceFound(Microsoft.CodeAnalysis.ISymbol symbol Microsoft.CodeAnalysis.IOperation operation) Line 101	C#
 	Microsoft.CodeAnalysis.Workspaces.dll!Microsoft.CodeAnalysis.FlowAnalysis.SymbolUsageAnalysis.SymbolUsageAnalysis.Walker.VisitDeclarationPattern(Microsoft.CodeAnalysis.Operations.IDeclarationPatternOperation operation) Line 280	C#
 	Microsoft.CodeAnalysis.dll!Microsoft.CodeAnalysis.Operations.DeclarationPatternOperation.Accept(Microsoft.CodeAnalysis.Operations.OperationVisitor visitor) Line 7098	C#
 	Microsoft.CodeAnalysis.dll!Microsoft.CodeAnalysis.Operations.OperationWalker.Visit(Microsoft.CodeAnalysis.IOperation operation) Line 36	C#
 	Microsoft.CodeAnalysis.dll!Microsoft.CodeAnalysis.Operations.OperationWalker.VisitOperationArrayElement<Microsoft.CodeAnalysis.IOperation>(Microsoft.CodeAnalysis.IOperation operation) Line 25	C#
 	Microsoft.CodeAnalysis.dll!Microsoft.CodeAnalysis.Operations.OperationWalker.VisitArray<Microsoft.CodeAnalysis.IOperation>(System.Collections.Generic.IEnumerable<Microsoft.CodeAnalysis.IOperation> operations) Line 19	C#
 	Microsoft.CodeAnalysis.dll!Microsoft.CodeAnalysis.Operations.OperationWalker.DefaultVisit(Microsoft.CodeAnalysis.IOperation operation) Line 47	C#
 	Microsoft.CodeAnalysis.dll!Microsoft.CodeAnalysis.Operations.OperationVisitor.VisitSwitchExpressionArm(Microsoft.CodeAnalysis.Operations.ISwitchExpressionArmOperation operation) Line 8318	C#
 	Microsoft.CodeAnalysis.dll!Microsoft.CodeAnalysis.Operations.BaseSwitchExpressionArmOperation.Accept(Microsoft.CodeAnalysis.Operations.OperationVisitor visitor) Line 7782	C#

```
","Assert in OperationExtension.GetValueUsageInfo for code with switch expressions **Version Used**: Latest master sources

**Steps to Reproduce**:

1. Open Roslyn.sln and F5
2. Create a C# class library project with switch expression in the new VS instance

**Actual Behavior**:
Following assert fires:

https://github.com/dotnet/roslyn/blob/af9741b029487cec82fc3232c6821a45e9f16d9c/src/Workspaces/Core/Portable/Extensions/OperationExtensions.cs#L83

We need to handle recently added `Microsoft.CodeAnalysis.Operations.CSharpLazySwitchExpressionArmOperation`

```
 	System.dll!System.Diagnostics.AssertWrapper.ShowMessageBoxAssert(string stackTrace string message string detailMessage)	Unknown
 	System.dll!System.Diagnostics.DefaultTraceListener.Fail(string message string detailMessage)	Unknown
 	System.dll!System.Diagnostics.DefaultTraceListener.Fail(string message)	Unknown
 	System.dll!System.Diagnostics.TraceInternal.Fail(string message)	Unknown
 	System.dll!System.Diagnostics.Debug.Fail(string message)	Unknown
>	Microsoft.CodeAnalysis.Workspaces.dll!Microsoft.CodeAnalysis.OperationExtensions.GetValueUsageInfo(Microsoft.CodeAnalysis.IOperation operation) Line 83	C#
 	Microsoft.CodeAnalysis.Workspaces.dll!Microsoft.CodeAnalysis.FlowAnalysis.SymbolUsageAnalysis.SymbolUsageAnalysis.Walker.OnReferenceFound(Microsoft.CodeAnalysis.ISymbol symbol Microsoft.CodeAnalysis.IOperation operation) Line 101	C#
 	Microsoft.CodeAnalysis.Workspaces.dll!Microsoft.CodeAnalysis.FlowAnalysis.SymbolUsageAnalysis.SymbolUsageAnalysis.Walker.VisitDeclarationPattern(Microsoft.CodeAnalysis.Operations.IDeclarationPatternOperation operation) Line 280	C#
 	Microsoft.CodeAnalysis.dll!Microsoft.CodeAnalysis.Operations.DeclarationPatternOperation.Accept(Microsoft.CodeAnalysis.Operations.OperationVisitor visitor) Line 7098	C#
 	Microsoft.CodeAnalysis.dll!Microsoft.CodeAnalysis.Operations.OperationWalker.Visit(Microsoft.CodeAnalysis.IOperation operation) Line 36	C#
 	Microsoft.CodeAnalysis.dll!Microsoft.CodeAnalysis.Operations.OperationWalker.VisitOperationArrayElement<Microsoft.CodeAnalysis.IOperation>(Microsoft.CodeAnalysis.IOperation operation) Line 25	C#
 	Microsoft.CodeAnalysis.dll!Microsoft.CodeAnalysis.Operations.OperationWalker.VisitArray<Microsoft.CodeAnalysis.IOperation>(System.Collections.Generic.IEnumerable<Microsoft.CodeAnalysis.IOperation> operations) Line 19	C#
 	Microsoft.CodeAnalysis.dll!Microsoft.CodeAnalysis.Operations.OperationWalker.DefaultVisit(Microsoft.CodeAnalysis.IOperation operation) Line 47	C#
 	Microsoft.CodeAnalysis.dll!Microsoft.CodeAnalysis.Operations.OperationVisitor.VisitSwitchExpressionArm(Microsoft.CodeAnalysis.Operations.ISwitchExpressionArmOperation operation) Line 8318	C#
 	Microsoft.CodeAnalysis.dll!Microsoft.CodeAnalysis.Operations.BaseSwitchExpressionArmOperation.Accept(Microsoft.CodeAnalysis.Operations.OperationVisitor visitor) Line 7782	C#

```
",Area-IDE|Bug,mavasani,,
38639, vbc crashes on certain uses of containing method in constructor of DefaultParameterValueAttribute,"**Version Used**: vbc 3.2.1-beta4-19408-03 (2fc6a049) with Visual Studio 2019 16.2.5

**Code to Reproduce**:
```
Module Program
    Sub Main()
    End Sub

    Sub A(<System.Runtime.InteropServices.DefaultParameterValue(A)> b As Integer)
    End Sub
End Module
```

**Expected Behavior**:
```
test.vb(5) : error BC30491: Expression does not produce a value.

    Sub A(<System.Runtime.InteropServices.DefaultParameterValue(A)> b As Integer)
                                                                ~
```
This is the error produced when the name of any other Sub is used in place of `A` in the attribute constructor.

**Actual Behavior**:
vbc.exe crashes with `Process is terminated due to StackOverflowException.`
When Visual Studio begins to analyze code that causes this it displays the ""unrecoverable process error"" banner and/or crashes.

**Further Reference**:
https://docs.microsoft.com/en-us/visualstudio/ide/not-in-toc/visual-studio-unrecoverable-process-error?view=vs-2019
"," vbc crashes on certain uses of containing method in constructor of DefaultParameterValueAttribute **Version Used**: vbc 3.2.1-beta4-19408-03 (2fc6a049) with Visual Studio 2019 16.2.5

**Code to Reproduce**:
```
Module Program
    Sub Main()
    End Sub

    Sub A(<System.Runtime.InteropServices.DefaultParameterValue(A)> b As Integer)
    End Sub
End Module
```

**Expected Behavior**:
```
test.vb(5) : error BC30491: Expression does not produce a value.

    Sub A(<System.Runtime.InteropServices.DefaultParameterValue(A)> b As Integer)
                                                                ~
```
This is the error produced when the name of any other Sub is used in place of `A` in the attribute constructor.

**Actual Behavior**:
vbc.exe crashes with `Process is terminated due to StackOverflowException.`
When Visual Studio begins to analyze code that causes this it displays the ""unrecoverable process error"" banner and/or crashes.

**Further Reference**:
https://docs.microsoft.com/en-us/visualstudio/ide/not-in-toc/visual-studio-unrecoverable-process-error?view=vs-2019
",Area-Compilers|Bug|Language-VB,gafter,12/09/2019 5:34,
38638,Consider representing nullable flow state as: MaybeNull NotNull or T,"Consider adding a distinct nullable flow state T to allow distinguishing ""maybe null when the type allows null"" from ""maybe null even when type disallows null"".
```C#
internal enum NullableFlowState : byte
{
    NotNull  // not null
    T        // maybe null when type allows
    MaybeNull // maybe null even when type disallows
}
```
","Consider representing nullable flow state as: MaybeNull, NotNull, or T Consider adding a distinct nullable flow state T to allow distinguishing ""maybe null when the type allows null"" from ""maybe null even when type disallows null"".
```C#
internal enum NullableFlowState : byte
{
    NotNull  // not null
    T        // maybe null when type allows
    MaybeNull // maybe null even when type disallows
}
```
",Area-Compilers|Investigating|New Language Feature - Nullable Reference Types,cston,,
38637,Extract internal class to an internal interface,"Customer request copying here:

> The VS implementation doesn't copy documentation and only works for public members. (Often we have an internal class with all internal methods that we would like to extract to an internal interface. VS should look for dependencies and change access modifiers automatically where necessary).
Right now these limitations mean I either copy paste and do it all manually or do some weird extra step like find replacing internal to public etc. ","Extract internal class to an internal interface Customer request copying here:

> The VS implementation doesn't copy documentation and only works for public members. (Often we have an internal class with all internal methods that we would like to extract to an internal interface. VS should look for dependencies and change access modifiers automatically where necessary).
Right now these limitations mean I either copy paste and do it all manually or do some weird extra step like find replacing internal to public etc. ",Area-IDE|Feature Request|Need Design Review,gafter|jinujoseph,12/09/2019 4:37,
38636,Inline method,"Customer Request Copying Here

>It should propose to replace method calls with content of the method and delete the method definition (this is really tedious to do manually):

![image](https://user-images.githubusercontent.com/46729679/64723073-a295ab00-d484-11e9-9f49-2983cc66df44.png)

","Inline method Customer Request Copying Here

>It should propose to replace method calls with content of the method and delete the method definition (this is really tedious to do manually):

![image](https://user-images.githubusercontent.com/46729679/64723073-a295ab00-d484-11e9-9f49-2983cc66df44.png)

",Area-IDE|Concept-Continuous Improvement,gafter|jinujoseph,12/09/2019 4:09,
38679,Parsing issue on conditional ref operator,"With the classic conditional operator you can use an 'is' condition without any issue:
`var x = o1 is string ? o2 : o3;`
If you use the conditional ref operator `var x = o1 is string ? ref o2 : ref o3;`
 the ""string ?"" part is interpreted as a nullable type and the compiler emits an error on the first ""ref"".","Parsing issue on conditional ref operator With the classic conditional operator you can use an 'is' condition without any issue:
`var x = o1 is string ? o2 : o3;`
If you use the conditional ref operator `var x = o1 is string ? ref o2 : ref o3;`
 the ""string ?"" part is interpreted as a nullable type and the compiler emits an error on the first ""ref"".",4 - In Review|Area-Compilers|Bug|New Language Feature - Pattern Matching,gafter,,
38635,Chang constructor of method type,"Customer Request Copying Here

>Propose to change constructor of method type. It should change the type of the constructor parameter:

![image](https://user-images.githubusercontent.com/46729679/64722958-63675a00-d484-11e9-9a13-88a309d7643c.png)
","Chang constructor of method type Customer Request Copying Here

>Propose to change constructor of method type. It should change the type of the constructor parameter:

![image](https://user-images.githubusercontent.com/46729679/64722958-63675a00-d484-11e9-9a13-88a309d7643c.png)
",Area-IDE|Concept-Continuous Improvement|help wanted,gafter|jinujoseph,12/09/2019 4:08,
38634,Change field type,"Customer Request Copying Here

>Propose to change field type of the field or parameter: 

![image](https://user-images.githubusercontent.com/46729679/64722870-29965380-d484-11e9-9b2f-9d835d4c42eb.png)
","Change field type Customer Request Copying Here

>Propose to change field type of the field or parameter: 

![image](https://user-images.githubusercontent.com/46729679/64722870-29965380-d484-11e9-9b2f-9d835d4c42eb.png)
",Area-IDE|Concept-Continuous Improvement|help wanted,gafter|jinujoseph,12/09/2019 4:06,
38632,Format - add new line between method definitions,"Customer Request Copying Here

>On format file ctrl K ctrl D add new line between method definitions and remove additional whitespace and new lines between sections.","Format - add new line between method definitions Customer Request Copying Here

>On format file ctrl K ctrl D add new line between method definitions and remove additional whitespace and new lines between sections.",Area-IDE|Concept-Continuous Improvement|help wanted,gafter|jinujoseph|sharwell,12/09/2019 3:56,
38631,Complete a catch with default exception and braces,"Customer Request Copying Here

>Complete a catch with default exception and braces. Today only fill out the catch keyword. ","Complete a catch with default exception and braces Customer Request Copying Here

>Complete a catch with default exception and braces. Today only fill out the catch keyword. ",Area-IDE|Feature Request|Need Design Review,gafter|jinujoseph,12/09/2019 3:49,
38630,Format Method definition and calls,"Customer Request Copying Here

>Method definition and calls - members on new line with formatting (Ctrl+K Ctrl+D). There is no option to keep all members on the same line or when one member is in a new line move each member to its own line. ","Format Method definition and calls Customer Request Copying Here

>Method definition and calls - members on new line with formatting (Ctrl+K Ctrl+D). There is no option to keep all members on the same line or when one member is in a new line move each member to its own line. ",Area-IDE|Feature Request|IDE-Formatter|Need Design Review,gafter|jinujoseph|sharwell,12/09/2019 3:48,
38629,Re-enable caching on docker builds,"Docker build caching is temporarily disabled to fix apt-get slowing us down. 

We need to reenable / figure out a better solution in the future. ","Re-enable caching on docker builds Docker build caching is temporarily disabled to fix apt-get slowing us down. 

We need to reenable / figure out a better solution in the future. ",Area-Infrastructure,chsienki,,
38628,Keyboard shortcut mapped to run code cleanup on entire solution,"Customer Request Copying Here

>I prefer to have a keyboard shortcut to run code cleanup on my entire solution rather than having to right click on the solution in the solution explorer.

","Keyboard shortcut mapped to run code cleanup on entire solution Customer Request Copying Here

>I prefer to have a keyboard shortcut to run code cleanup on my entire solution rather than having to right click on the solution in the solution explorer.

",Area-External,jaredpar|olegtk|jinujoseph,12/09/2019 3:02,
38627,Implement formatting suppression,"Closes #36930
Closes #38587","Implement formatting suppression Closes #36930
Closes #38587",Area-IDE,sharwell|CyrusNajmabadi|heejaechang|jinujoseph,12/09/2019 1:41,28/09/2019 5:49
38625,Merge master to master-vs-deps,"
This is an automatically generated pull request from master into master-vs-deps.

``` bash
git fetch --all
git checkout merges/master-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge master to master-vs-deps 
This is an automatically generated pull request from master into master-vs-deps.

``` bash
git fetch --all
git checkout merges/master-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|dotnet-automerge-bot,11/09/2019 22:02,12/09/2019 3:30
38624,Properly pass along actual referenced symbol in FindCallersAsync result.,Looking for right place to add tests.,Properly pass along actual referenced symbol in FindCallersAsync result. Looking for right place to add tests.,Area-IDE|Community,mavasani,,
38622,Delete dead code in inline rename,This appears to be dead and the request (to resolve linked file conflicts before applying the diff) does appear to be done -- the call to the linked file merge step does happen in InlineRenameSession.cs.,Delete dead code in inline rename This appears to be dead and the request (to resolve linked file conflicts before applying the diff) does appear to be done -- the call to the linked file merge step does happen in InlineRenameSession.cs.,,jasonmalinowski,,
38621,Remove Desktop FX limitations from InteractiveAssemblyLoader,,Remove Desktop FX limitations from InteractiveAssemblyLoader ,Area-Interactive|Concept-Continuous Improvement,tmat,,
38620,Merge master to master-vs-deps,"
This is an automatically generated pull request from master into master-vs-deps.

``` bash
git fetch --all
git checkout merges/master-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge master to master-vs-deps 
This is an automatically generated pull request from master into master-vs-deps.

``` bash
git fetch --all
git checkout merges/master-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|dotnet-automerge-bot,11/09/2019 10:02,11/09/2019 12:00
38619,Merge release/dev16.3-vs-deps to master-vs-deps,"
This is an automatically generated pull request from release/dev16.3-vs-deps into master-vs-deps.

``` bash
git fetch --all
git checkout merges/release/dev16.3-vs-deps-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/release/dev16.3-vs-deps
# Fix merge conflicts
git commit
git push upstream merges/release/dev16.3-vs-deps-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge release/dev16.3-vs-deps to master-vs-deps 
This is an automatically generated pull request from release/dev16.3-vs-deps into master-vs-deps.

``` bash
git fetch --all
git checkout merges/release/dev16.3-vs-deps-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/release/dev16.3-vs-deps
# Fix merge conflicts
git commit
git push upstream merges/release/dev16.3-vs-deps-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|JoeRobich,11/09/2019 10:01,11/09/2019 13:27
38618,Update Arcade and postbuild templates to fix signed build,,Update Arcade and postbuild templates to fix signed build ,Area-Infrastructure,JoeRobich,11/09/2019 9:21,11/09/2019 10:45
38617,VisitType should visit type arguments for error types.,Fixes #38403.,VisitType should visit type arguments for error types. Fixes #38403.,Area-Compilers|New Language Feature - Nullable Reference Types,jcouv,,
38615,Consider changing type of BoundForEachStatement.Expression to BoundConversion,"BindForEachPartsWorker will always produce a BoundConversion for a collection expression with no errors.

https://github.com/dotnet/roslyn/blob/76aa35114199fa36440560d809d82bb0e33a4ae9/src/Compilers/CSharp/Portable/Binder/ForEachLoopBinder.cs#L476

Perhaps it would make sense to change the type of the 'Expression' property to BoundConversion to reflect this and wrap any error nodes in an identity conversion to handle the error case.
","Consider changing type of BoundForEachStatement.Expression to BoundConversion BindForEachPartsWorker will always produce a BoundConversion for a collection expression with no errors.

https://github.com/dotnet/roslyn/blob/76aa35114199fa36440560d809d82bb0e33a4ae9/src/Compilers/CSharp/Portable/Binder/ForEachLoopBinder.cs#L476

Perhaps it would make sense to change the type of the 'Expression' property to BoundConversion to reflect this and wrap any error nodes in an identity conversion to handle the error case.
",Area-Compilers|Bug|Concept-Design Debt,RikkiGibson|jaredpar|gafter,11/09/2019 7:38,
38614,Fix spelling error,Fixes https://github.com/dotnet/roslyn/issues/38489,Fix spelling error Fixes https://github.com/dotnet/roslyn/issues/38489,Area-IDE,chborl|jinujoseph,11/09/2019 6:55,11/09/2019 14:44
38613,Allow suppression of nullable GetEnumerator warnings,Closes #38233,Allow suppression of nullable GetEnumerator warnings Closes #38233,Area-Compilers|New Language Feature - Nullable Reference Types,RikkiGibson,11/09/2019 6:46,11/09/2019 10:12
38611,Clean up FIPS settings in Interactive,"Follow up to #38527 

I didn't find an app.config for InteractiveHost so I added one.

I looked for all the instances of `<OutputType>Exe</OutputType>` in app.config and decided ad-hoc which ones are shipping projects or not. I didn't bother updating internal-only projects. Projects in **bold** in the list below have had the config setting added.

<details>
    <summary>list of projects</summary>

- **`roslyn\src\Compilers\CSharp\csc\csc.csproj`**
- **`roslyn\src\Compilers\Server\VBCSCompiler\VBCSCompiler.csproj`**
- **`roslyn\src\Compilers\VisualBasic\vbc\vbc.csproj`**
- **`roslyn\src\Interactive\csi\csi.csproj`**
- **`roslyn\src\Interactive\DesktopHost\InteractiveHost32.csproj`**
- **`roslyn\src\Interactive\DesktopHost\InteractiveHost64.csproj`**
- **`roslyn\src\Interactive\vbi\vbi.vbproj`**
- `roslyn\src\Test\Perf\StackDepthTest\StackDepthTest.csproj`
- `roslyn\src\Tools\AnalyzerRunner\AnalyzerRunner.csproj`
- `roslyn\src\Tools\BuildBoss\BuildBoss.csproj`
- `roslyn\src\Tools\CompilerBenchmarks\CompilerBenchmarks.csproj`
- `roslyn\src\Tools\IdeBenchmarks\IdeBenchmarks.csproj`
- `roslyn\src\Tools\RoslynPublish\RoslynPublish.csproj`
- `roslyn\src\Tools\Source\CompilerGeneratorTools\Source\BoundTreeGenerator\CompilersBoundTreeGenerator.csproj`
- `roslyn\src\Tools\Source\CompilerGeneratorTools\Source\CSharpErrorFactsGenerator\CSharpErrorFactsGenerator.csproj`
- `roslyn\src\Tools\Source\CompilerGeneratorTools\Source\CSharpSyntaxGenerator\CSharpSyntaxGenerator.csproj`
- `roslyn\src\Tools\Source\CompilerGeneratorTools\Source\IOperationGenerator\CompilersIOperationGenerator.csproj`
- `roslyn\src\Tools\Source\CompilerGeneratorTools\Source\VisualBasicErrorFactsGenerator\VisualBasicErrorFactsGenerator.vbproj`
- `roslyn\src\Tools\Source\CompilerGeneratorTools\Source\VisualBasicSyntaxGenerator\VisualBasicSyntaxGenerator.vbproj`
- `roslyn\src\Tools\Source\RunTests\RunTests.csproj`
- `roslyn\src\Workspaces\MSBuildTest\Resources\NetCoreApp2\Project.csproj`
- `roslyn\src\Workspaces\MSBuildTest\Resources\NetCoreApp2AndLibrary\Project.csproj`
- `roslyn\src\Workspaces\MSBuildTest\Resources\NetCoreApp2AndTwoLibraries\Project.csproj`
- `roslyn\src\Workspaces\MSBuildTest\Resources\NetCoreMultiTFM\Project.csproj`
- `roslyn\src\Workspaces\MSBuildTest\Resources\NetCoreMultiTFM_ProjectReference\Project.csproj`
- `roslyn\src\Workspaces\MSBuildTest\Resources\NetCoreMultiTFM_ProjectReferenceWithReversedTFMs\Project.csproj`
- `roslyn\src\Workspaces\MSBuildTest\Resources\ProjectFiles\CSharp\AllOptions.csproj`
- `roslyn\src\Workspaces\MSBuildTest\Resources\ProjectFiles\CSharp\AnalyzerReference.csproj`
- `roslyn\src\Workspaces\MSBuildTest\Resources\ProjectFiles\CSharp\DuplicateProjectReference.csproj`
- `roslyn\src\Workspaces\MSBuildTest\Resources\ProjectFiles\CSharp\ProjectLoadErrorOnMissingDebugType.csproj`
- `roslyn\src\Workspaces\MSBuildTest\Resources\ProjectFiles\CSharp\ProjectReference.csproj`
- `roslyn\src\Workspaces\MSBuildTest\Resources\ProjectFiles\CSharp\ReferencesPortableProject.csproj`
- `roslyn\src\Workspaces\MSBuildTest\Resources\ProjectFiles\CSharp\WithDiscoverEditorConfigFiles.csproj`
- `roslyn\src\Workspaces\MSBuildTest\Resources\ProjectFiles\CSharp\WithLink.csproj`
- `roslyn\src\Workspaces\MSBuildTest\Resources\ProjectFiles\CSharp\WithoutPrefer32Bit.csproj`
- `roslyn\src\Workspaces\MSBuildTest\Resources\ProjectFiles\CSharp\WithPrefer32Bit.csproj`
- `roslyn\src\Workspaces\MSBuildTest\Resources\ProjectFiles\VisualBasic\WithoutPrefer32Bit.vbproj`
- `roslyn\src\Workspaces\MSBuildTest\Resources\ProjectFiles\VisualBasic\WithPrefer32Bit.vbproj`

</details>","Clean up FIPS settings in Interactive Follow up to #38527 

I didn't find an app.config for InteractiveHost so I added one.

I looked for all the instances of `<OutputType>Exe</OutputType>` in app.config and decided ad-hoc which ones are shipping projects or not. I didn't bother updating internal-only projects. Projects in **bold** in the list below have had the config setting added.

<details>
    <summary>list of projects</summary>

- **`roslyn\src\Compilers\CSharp\csc\csc.csproj`**
- **`roslyn\src\Compilers\Server\VBCSCompiler\VBCSCompiler.csproj`**
- **`roslyn\src\Compilers\VisualBasic\vbc\vbc.csproj`**
- **`roslyn\src\Interactive\csi\csi.csproj`**
- **`roslyn\src\Interactive\DesktopHost\InteractiveHost32.csproj`**
- **`roslyn\src\Interactive\DesktopHost\InteractiveHost64.csproj`**
- **`roslyn\src\Interactive\vbi\vbi.vbproj`**
- `roslyn\src\Test\Perf\StackDepthTest\StackDepthTest.csproj`
- `roslyn\src\Tools\AnalyzerRunner\AnalyzerRunner.csproj`
- `roslyn\src\Tools\BuildBoss\BuildBoss.csproj`
- `roslyn\src\Tools\CompilerBenchmarks\CompilerBenchmarks.csproj`
- `roslyn\src\Tools\IdeBenchmarks\IdeBenchmarks.csproj`
- `roslyn\src\Tools\RoslynPublish\RoslynPublish.csproj`
- `roslyn\src\Tools\Source\CompilerGeneratorTools\Source\BoundTreeGenerator\CompilersBoundTreeGenerator.csproj`
- `roslyn\src\Tools\Source\CompilerGeneratorTools\Source\CSharpErrorFactsGenerator\CSharpErrorFactsGenerator.csproj`
- `roslyn\src\Tools\Source\CompilerGeneratorTools\Source\CSharpSyntaxGenerator\CSharpSyntaxGenerator.csproj`
- `roslyn\src\Tools\Source\CompilerGeneratorTools\Source\IOperationGenerator\CompilersIOperationGenerator.csproj`
- `roslyn\src\Tools\Source\CompilerGeneratorTools\Source\VisualBasicErrorFactsGenerator\VisualBasicErrorFactsGenerator.vbproj`
- `roslyn\src\Tools\Source\CompilerGeneratorTools\Source\VisualBasicSyntaxGenerator\VisualBasicSyntaxGenerator.vbproj`
- `roslyn\src\Tools\Source\RunTests\RunTests.csproj`
- `roslyn\src\Workspaces\MSBuildTest\Resources\NetCoreApp2\Project.csproj`
- `roslyn\src\Workspaces\MSBuildTest\Resources\NetCoreApp2AndLibrary\Project.csproj`
- `roslyn\src\Workspaces\MSBuildTest\Resources\NetCoreApp2AndTwoLibraries\Project.csproj`
- `roslyn\src\Workspaces\MSBuildTest\Resources\NetCoreMultiTFM\Project.csproj`
- `roslyn\src\Workspaces\MSBuildTest\Resources\NetCoreMultiTFM_ProjectReference\Project.csproj`
- `roslyn\src\Workspaces\MSBuildTest\Resources\NetCoreMultiTFM_ProjectReferenceWithReversedTFMs\Project.csproj`
- `roslyn\src\Workspaces\MSBuildTest\Resources\ProjectFiles\CSharp\AllOptions.csproj`
- `roslyn\src\Workspaces\MSBuildTest\Resources\ProjectFiles\CSharp\AnalyzerReference.csproj`
- `roslyn\src\Workspaces\MSBuildTest\Resources\ProjectFiles\CSharp\DuplicateProjectReference.csproj`
- `roslyn\src\Workspaces\MSBuildTest\Resources\ProjectFiles\CSharp\ProjectLoadErrorOnMissingDebugType.csproj`
- `roslyn\src\Workspaces\MSBuildTest\Resources\ProjectFiles\CSharp\ProjectReference.csproj`
- `roslyn\src\Workspaces\MSBuildTest\Resources\ProjectFiles\CSharp\ReferencesPortableProject.csproj`
- `roslyn\src\Workspaces\MSBuildTest\Resources\ProjectFiles\CSharp\WithDiscoverEditorConfigFiles.csproj`
- `roslyn\src\Workspaces\MSBuildTest\Resources\ProjectFiles\CSharp\WithLink.csproj`
- `roslyn\src\Workspaces\MSBuildTest\Resources\ProjectFiles\CSharp\WithoutPrefer32Bit.csproj`
- `roslyn\src\Workspaces\MSBuildTest\Resources\ProjectFiles\CSharp\WithPrefer32Bit.csproj`
- `roslyn\src\Workspaces\MSBuildTest\Resources\ProjectFiles\VisualBasic\WithoutPrefer32Bit.vbproj`
- `roslyn\src\Workspaces\MSBuildTest\Resources\ProjectFiles\VisualBasic\WithPrefer32Bit.vbproj`

</details>",Area-Infrastructure,RikkiGibson|tmat|jaredpar,11/09/2019 4:22,8/10/2019 13:23
38610,Adjust rules for nullable attributes,"Fixes https://github.com/dotnet/roslyn/issues/37993 (Property flow state wins over [NotNull] attribute for warnings)
Fixes https://github.com/dotnet/roslyn/issues/37313 (AllowNull and flow analysis conflicting design)

LDM 09/04/2019 and 09/11/2019: when assigning to a property or indexer if the input state is legal then the output will be legal (so we assign the output state if it is more restrictive). For instance assigning `null` to an `[AllowNull]string` means that we store a not-null state.

Also any usage of a member which returns `[MaybeNull]T` warns if `default(T)` would.
","Adjust rules for nullable attributes Fixes https://github.com/dotnet/roslyn/issues/37993 (Property flow state wins over [NotNull] attribute for warnings)
Fixes https://github.com/dotnet/roslyn/issues/37313 (AllowNull and flow analysis conflicting design)

LDM 09/04/2019 and 09/11/2019: when assigning to a property or indexer if the input state is legal then the output will be legal (so we assign the output state if it is more restrictive). For instance assigning `null` to an `[AllowNull]string` means that we store a not-null state.

Also any usage of a member which returns `[MaybeNull]T` warns if `default(T)` would.
",Area-Compilers|New Language Feature - Nullable Reference Types,jcouv,,
38609,Merge IDocumentOperationService into DocumentPropertiesService,Needs update in ASP.NET.,Merge IDocumentOperationService into DocumentPropertiesService Needs update in ASP.NET.,Area-IDE|Concept-Continuous Improvement,tmat|jinujoseph,11/09/2019 3:32,
38608,Fix PDB reader disposal,"The PDB reader might be needed later on for mapping local signature of an active method that is first edited in a subsequent generation.

Fixes https://devdiv.visualstudio.com/DevDiv/_workitems/edit/962105
Fixes https://devdiv.visualstudio.com/DevDiv/_workitems/edit/976940.","Fix PDB reader disposal The PDB reader might be needed later on for mapping local signature of an active method that is first edited in a subsequent generation.

Fixes https://devdiv.visualstudio.com/DevDiv/_workitems/edit/962105
Fixes https://devdiv.visualstudio.com/DevDiv/_workitems/edit/976940.",Approved to merge|Area-IDE,tmat|ivanbasov|jinujoseph,11/09/2019 3:23,11/09/2019 5:49
38607,[Question] Why I was able to overrid a implemented method with an extension method?,"Hi corefx Team

I have a big Question to the following Code:

```csharp
using System;
using System.Collections.Generic;
using System.Linq;

public class Program
{
  public static void Main()
  {
    bla test = new blup();    
    Console.WriteLine(test.Any());
    
  }
}
public class blup: bla{
  public bool Any(){
    return true;
  }
}
public class bla{

}
public static class Extensions{
  public static bool Any(this bla klaus){
    return false;
  }
}
```

The `Console.WriteLine(test.Any())` returns `false`. So the extension method was called. But in the [documentation ](https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/classes-and-structs/extension-methods#binding-extension-methods-at-compile-time) about extension methods there is this sentence `You can use extension methods to extend a class or interface but not to override them.`.
But this is not true for the code above.

The simple answer is that the IL only knows the static code and not the runtime values. So with the explicit casting in the line `bla test = new blup();` to `bla` the IL think the extension method is the right thing. 
But this is maybe a big problem. In my real case I have a class that inherited from `IEnumerable` and tries to override extension methods like `Any`. But like in the sample above that wouldn't work in a function that wants an `IEnumerable` as input like this:

```csharp
public void sample(IEnumerable<supertype> source)
```
In this method always the extension method for `IEnumerable` is preferred. Because at compile time you can't know the real type.

So now to the question:

Is this behavior by design or is this a bug?

And question number 2:

How I can override the extension methods of IEnumerable for my type so all functions in the framework use my implementations?","[Question] Why I was able to overrid a implemented method with an extension method? Hi corefx Team

I have a big Question to the following Code:

```csharp
using System;
using System.Collections.Generic;
using System.Linq;

public class Program
{
  public static void Main()
  {
    bla test = new blup();    
    Console.WriteLine(test.Any());
    
  }
}
public class blup: bla{
  public bool Any(){
    return true;
  }
}
public class bla{

}
public static class Extensions{
  public static bool Any(this bla klaus){
    return false;
  }
}
```

The `Console.WriteLine(test.Any())` returns `false`. So the extension method was called. But in the [documentation ](https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/classes-and-structs/extension-methods#binding-extension-methods-at-compile-time) about extension methods there is this sentence `You can use extension methods to extend a class or interface but not to override them.`.
But this is not true for the code above.

The simple answer is that the IL only knows the static code and not the runtime values. So with the explicit casting in the line `bla test = new blup();` to `bla` the IL think the extension method is the right thing. 
But this is maybe a big problem. In my real case I have a class that inherited from `IEnumerable` and tries to override extension methods like `Any`. But like in the sample above that wouldn't work in a function that wants an `IEnumerable` as input like this:

```csharp
public void sample(IEnumerable<supertype> source)
```
In this method always the extension method for `IEnumerable` is preferred. Because at compile time you can't know the real type.

So now to the question:

Is this behavior by design or is this a bug?

And question number 2:

How I can override the extension methods of IEnumerable for my type so all functions in the framework use my implementations?",Area-Compilers|Question|Resolution-Answered,stephentoub|jinujoseph|RikkiGibson|gafter,11/09/2019 1:40,12/09/2019 7:08
38606,Enable VSSDK006,?? Split from #38545,Enable VSSDK006 ?? Split from #38545,Area-Infrastructure|Concept-Continuous Improvement,sharwell|tmat,11/09/2019 1:02,12/09/2019 6:08
38604,Merge master to master-vs-deps,"
This is an automatically generated pull request from master into master-vs-deps.

``` bash
git fetch --all
git checkout merges/master-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge master to master-vs-deps 
This is an automatically generated pull request from master into master-vs-deps.

``` bash
git fetch --all
git checkout merges/master-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|agocke|dotnet-automerge-bot,10/09/2019 22:02,11/09/2019 7:30
38603,Hitting Environment.FailFast when opening ProjectSystem.sln,"Not sure exactly the repro here so hopefully the exception and dump are useful.

On VS master 29307.11

```
Application: devenv.exe
Framework Version: v4.0.30319
Description: The application requested process termination through System.Environment.FailFast(string message).
Message: System.AggregateException: One or more errors occurred. ---> System.InvalidOperationException: Operation is not valid due to the current state of the object.
   at Microsoft.CodeAnalysis.SmallDictionary`2.HandleInsert(AvlNode node AvlNode parent K key V value Boolean add)
   at Microsoft.CodeAnalysis.SmallDictionary`2.Insert(Int32 hashCode K key V value Boolean add)
   at Microsoft.CodeAnalysis.AnalyzerConfigSet.<GetOptionsForSourcePath>g__addOptions|6_0(Section section Builder treeBuilder Builder analyzerBuilder ArrayBuilder`1 diagnosticBuilder String analyzerConfigPath SmallDictionary`2 diagIdCache)
   at Microsoft.CodeAnalysis.AnalyzerConfigSet.GetOptionsForSourcePath(String sourcePath)
   at Microsoft.CodeAnalysis.DocumentState.CreateTreeAndVersion(ValueSource`1 newTextSource ProjectId cacheKey String filePath ParseOptions options AnalyzerConfigSet analyzerConfigSet HostLanguageServices languageServices PreservationMode mode TextAndVersion textAndVersion CancellationToken cancellationToken)
   at Microsoft.CodeAnalysis.DocumentState.<FullyParseTreeAsync>d__11.MoveNext()
   --- End of inner exception stack trace ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.CodeAnalysis.DocumentState.<GetSyntaxTreeAsync>d__42.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.VisualStudio.LanguageServices.Implementation.Progression.SymbolContainment.<GetContainedSyntaxNodesAsync>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.VisualStudio.LanguageServices.Implementation.Progression.ContainsChildrenGraphQuery.<GetGraphAsync>d__0.MoveNext()
---> (Inner Exception #0) System.InvalidOperationException: Operation is not valid due to the current state of the object.
   at Microsoft.CodeAnalysis.SmallDictionary`2.HandleInsert(AvlNode node AvlNode parent K key V value Boolean add)
   at Microsoft.CodeAnalysis.SmallDictionary`2.Insert(Int32 hashCode K key V value Boolean add)
   at Microsoft.CodeAnalysis.AnalyzerConfigSet.<GetOptionsForSourcePath>g__addOptions|6_0(Section section Builder treeBuilder Builder analyzerBuilder ArrayBuilder`1 diagnosticBuilder String analyzerConfigPath SmallDictionary`2 diagIdCache)
   at Microsoft.CodeAnalysis.AnalyzerConfigSet.GetOptionsForSourcePath(String sourcePath)
   at Microsoft.CodeAnalysis.DocumentState.CreateTreeAndVersion(ValueSource`1 newTextSource ProjectId cacheKey String filePath ParseOptions options AnalyzerConfigSet analyzerConfigSet HostLanguageServices languageServices PreservationMode mode TextAndVersion textAndVersion CancellationToken cancellationToken)
   at Microsoft.CodeAnalysis.DocumentState.<FullyParseTreeAsync>d__11.MoveNext()<---

Stack:
   at System.Environment.FailFast(System.String System.Exception)
   at Microsoft.CodeAnalysis.FailFast.OnFatalException(System.Exception)
   at Microsoft.CodeAnalysis.ErrorReporting.FatalError.Report(System.Exception System.Action`1<System.Exception>)
   at Microsoft.CodeAnalysis.ErrorReporting.FatalError.ReportUnlessCanceled(System.Exception)
   at Roslyn.Utilities.TaskExtensions+<>c__DisplayClass6_0`1[[System.Boolean mscorlib Version=4.0.0.0 Culture=neutral PublicKeyToken=b77a5c561934e089]].<SafeContinueWith>g__outerFunction|0(System.Threading.Tasks.Task)
   at System.Threading.Tasks.Task.ThrowIfExceptional(Boolean)
   at System.Threading.Tasks.Task`1[[System.__Canon mscorlib Version=4.0.0.0 Culture=neutral PublicKeyToken=b77a5c561934e089]].GetResultCore(Boolean)
   at System.Threading.Tasks.Task`1[[System.__Canon mscorlib Version=4.0.0.0 Culture=neutral PublicKeyToken=b77a5c561934e089]].get_Result()
   at Microsoft.VisualStudio.LanguageServices.Implementation.Progression.GraphQueryManager+<>c__DisplayClass14_0.<PopulateContextGraphAsync>b__1(System.Threading.Tasks.Task`1<Microsoft.VisualStudio.LanguageServices.Implementation.Progression.GraphBuilder[]>)
   at Roslyn.Utilities.TaskExtensions+<>c__DisplayClass5_0`1[[System.__Canon mscorlib Version=4.0.0.0 Culture=neutral PublicKeyToken=b77a5c561934e089]].<SafeContinueWith>b__0(System.Threading.Tasks.Task)
   at Roslyn.Utilities.TaskExtensions+<>c__DisplayClass2_0.<SafeContinueWith>g__continuationFunction|0(System.Threading.Tasks.Task)
   at Roslyn.Utilities.TaskExtensions+<>c__DisplayClass6_0`1[[System.Boolean mscorlib Version=4.0.0.0 Culture=neutral PublicKeyToken=b77a5c561934e089]].<SafeContinueWith>g__outerFunction|0(System.Threading.Tasks.Task)
   at System.Threading.Tasks.ContinuationResultTaskFromTask`1[[System.Boolean mscorlib Version=4.0.0.0 Culture=neutral PublicKeyToken=b77a5c561934e089]].InnerInvoke()
   at System.Threading.Tasks.Task.Execute()
   at System.Threading.Tasks.Task.ExecutionContextCallback(System.Object)
   at System.Threading.ExecutionContext.RunInternal(System.Threading.ExecutionContext System.Threading.ContextCallback System.Object Boolean)
   at System.Threading.ExecutionContext.Run(System.Threading.ExecutionContext System.Threading.ContextCallback System.Object Boolean)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(System.Threading.Tasks.Task ByRef)
   at System.Threading.Tasks.Task.ExecuteEntry(Boolean)
   at System.Threading.Tasks.Task.System.Threading.IThreadPoolWorkItem.ExecuteWorkItem()
   at System.Threading.ThreadPoolWorkQueue.Dispatch()
   at System.Threading._ThreadPoolWaitCallback.PerformWaitCallback()
```

Dump at `\\mlangfs1\public\dawengie\ProjectSystemCrashOnStartup.zip`.","Hitting Environment.FailFast when opening ProjectSystem.sln Not sure exactly the repro here so hopefully the exception and dump are useful.

On VS master 29307.11

```
Application: devenv.exe
Framework Version: v4.0.30319
Description: The application requested process termination through System.Environment.FailFast(string message).
Message: System.AggregateException: One or more errors occurred. ---> System.InvalidOperationException: Operation is not valid due to the current state of the object.
   at Microsoft.CodeAnalysis.SmallDictionary`2.HandleInsert(AvlNode node AvlNode parent K key V value Boolean add)
   at Microsoft.CodeAnalysis.SmallDictionary`2.Insert(Int32 hashCode K key V value Boolean add)
   at Microsoft.CodeAnalysis.AnalyzerConfigSet.<GetOptionsForSourcePath>g__addOptions|6_0(Section section Builder treeBuilder Builder analyzerBuilder ArrayBuilder`1 diagnosticBuilder String analyzerConfigPath SmallDictionary`2 diagIdCache)
   at Microsoft.CodeAnalysis.AnalyzerConfigSet.GetOptionsForSourcePath(String sourcePath)
   at Microsoft.CodeAnalysis.DocumentState.CreateTreeAndVersion(ValueSource`1 newTextSource ProjectId cacheKey String filePath ParseOptions options AnalyzerConfigSet analyzerConfigSet HostLanguageServices languageServices PreservationMode mode TextAndVersion textAndVersion CancellationToken cancellationToken)
   at Microsoft.CodeAnalysis.DocumentState.<FullyParseTreeAsync>d__11.MoveNext()
   --- End of inner exception stack trace ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.CodeAnalysis.DocumentState.<GetSyntaxTreeAsync>d__42.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.VisualStudio.LanguageServices.Implementation.Progression.SymbolContainment.<GetContainedSyntaxNodesAsync>d__0.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.VisualStudio.LanguageServices.Implementation.Progression.ContainsChildrenGraphQuery.<GetGraphAsync>d__0.MoveNext()
---> (Inner Exception #0) System.InvalidOperationException: Operation is not valid due to the current state of the object.
   at Microsoft.CodeAnalysis.SmallDictionary`2.HandleInsert(AvlNode node AvlNode parent K key V value Boolean add)
   at Microsoft.CodeAnalysis.SmallDictionary`2.Insert(Int32 hashCode K key V value Boolean add)
   at Microsoft.CodeAnalysis.AnalyzerConfigSet.<GetOptionsForSourcePath>g__addOptions|6_0(Section section Builder treeBuilder Builder analyzerBuilder ArrayBuilder`1 diagnosticBuilder String analyzerConfigPath SmallDictionary`2 diagIdCache)
   at Microsoft.CodeAnalysis.AnalyzerConfigSet.GetOptionsForSourcePath(String sourcePath)
   at Microsoft.CodeAnalysis.DocumentState.CreateTreeAndVersion(ValueSource`1 newTextSource ProjectId cacheKey String filePath ParseOptions options AnalyzerConfigSet analyzerConfigSet HostLanguageServices languageServices PreservationMode mode TextAndVersion textAndVersion CancellationToken cancellationToken)
   at Microsoft.CodeAnalysis.DocumentState.<FullyParseTreeAsync>d__11.MoveNext()<---

Stack:
   at System.Environment.FailFast(System.String System.Exception)
   at Microsoft.CodeAnalysis.FailFast.OnFatalException(System.Exception)
   at Microsoft.CodeAnalysis.ErrorReporting.FatalError.Report(System.Exception System.Action`1<System.Exception>)
   at Microsoft.CodeAnalysis.ErrorReporting.FatalError.ReportUnlessCanceled(System.Exception)
   at Roslyn.Utilities.TaskExtensions+<>c__DisplayClass6_0`1[[System.Boolean mscorlib Version=4.0.0.0 Culture=neutral PublicKeyToken=b77a5c561934e089]].<SafeContinueWith>g__outerFunction|0(System.Threading.Tasks.Task)
   at System.Threading.Tasks.Task.ThrowIfExceptional(Boolean)
   at System.Threading.Tasks.Task`1[[System.__Canon mscorlib Version=4.0.0.0 Culture=neutral PublicKeyToken=b77a5c561934e089]].GetResultCore(Boolean)
   at System.Threading.Tasks.Task`1[[System.__Canon mscorlib Version=4.0.0.0 Culture=neutral PublicKeyToken=b77a5c561934e089]].get_Result()
   at Microsoft.VisualStudio.LanguageServices.Implementation.Progression.GraphQueryManager+<>c__DisplayClass14_0.<PopulateContextGraphAsync>b__1(System.Threading.Tasks.Task`1<Microsoft.VisualStudio.LanguageServices.Implementation.Progression.GraphBuilder[]>)
   at Roslyn.Utilities.TaskExtensions+<>c__DisplayClass5_0`1[[System.__Canon mscorlib Version=4.0.0.0 Culture=neutral PublicKeyToken=b77a5c561934e089]].<SafeContinueWith>b__0(System.Threading.Tasks.Task)
   at Roslyn.Utilities.TaskExtensions+<>c__DisplayClass2_0.<SafeContinueWith>g__continuationFunction|0(System.Threading.Tasks.Task)
   at Roslyn.Utilities.TaskExtensions+<>c__DisplayClass6_0`1[[System.Boolean mscorlib Version=4.0.0.0 Culture=neutral PublicKeyToken=b77a5c561934e089]].<SafeContinueWith>g__outerFunction|0(System.Threading.Tasks.Task)
   at System.Threading.Tasks.ContinuationResultTaskFromTask`1[[System.Boolean mscorlib Version=4.0.0.0 Culture=neutral PublicKeyToken=b77a5c561934e089]].InnerInvoke()
   at System.Threading.Tasks.Task.Execute()
   at System.Threading.Tasks.Task.ExecutionContextCallback(System.Object)
   at System.Threading.ExecutionContext.RunInternal(System.Threading.ExecutionContext System.Threading.ContextCallback System.Object Boolean)
   at System.Threading.ExecutionContext.Run(System.Threading.ExecutionContext System.Threading.ContextCallback System.Object Boolean)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(System.Threading.Tasks.Task ByRef)
   at System.Threading.Tasks.Task.ExecuteEntry(Boolean)
   at System.Threading.Tasks.Task.System.Threading.IThreadPoolWorkItem.ExecuteWorkItem()
   at System.Threading.ThreadPoolWorkQueue.Dispatch()
   at System.Threading._ThreadPoolWaitCallback.PerformWaitCallback()
```

Dump at `\\mlangfs1\public\dawengie\ProjectSystemCrashOnStartup.zip`.",Area-Compilers|Bug,jinujoseph|jaredpar|agocke,10/09/2019 17:16,12/09/2019 2:23
38602,Merge master to master-vs-deps,"
This is an automatically generated pull request from master into master-vs-deps.

``` bash
git fetch --all
git checkout merges/master-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge master to master-vs-deps 
This is an automatically generated pull request from master into master-vs-deps.

``` bash
git fetch --all
git checkout merges/master-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|dotnet-automerge-bot,10/09/2019 10:02,10/09/2019 11:30
38601,Merge release/dev16.3 to release/dev16.3-vs-deps,"
This is an automatically generated pull request from release/dev16.3 into release/dev16.3-vs-deps.

``` bash
git fetch --all
git checkout merges/release/dev16.3-to-release/dev16.3-vs-deps
git reset --hard upstream/release/dev16.3-vs-deps
git merge upstream/release/dev16.3
# Fix merge conflicts
git commit
git push upstream merges/release/dev16.3-to-release/dev16.3-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge release/dev16.3 to release/dev16.3-vs-deps 
This is an automatically generated pull request from release/dev16.3 into release/dev16.3-vs-deps.

``` bash
git fetch --all
git checkout merges/release/dev16.3-to-release/dev16.3-vs-deps
git reset --hard upstream/release/dev16.3-vs-deps
git merge upstream/release/dev16.3
# Fix merge conflicts
git commit
git push upstream merges/release/dev16.3-to-release/dev16.3-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|agocke|dotnet-automerge-bot,10/09/2019 10:01,11/09/2019 4:00
38600,Merge release/dev16.3 to master,"
This is an automatically generated pull request from release/dev16.3 into master.

``` bash
git fetch --all
git checkout merges/release/dev16.3-to-master
git reset --hard upstream/master
git merge upstream/release/dev16.3
# Fix merge conflicts
git commit
git push upstream merges/release/dev16.3-to-master --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge release/dev16.3 to master 
This is an automatically generated pull request from release/dev16.3 into master.

``` bash
git fetch --all
git checkout merges/release/dev16.3-to-master
git reset --hard upstream/master
git merge upstream/release/dev16.3
# Fix merge conflicts
git commit
git push upstream merges/release/dev16.3-to-master --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|auto-merge,dotnet-bot|agocke|dotnet-automerge-bot,10/09/2019 10:00,11/09/2019 3:30
38599,IDE0004 on pointer cast in return statement,"**Version Used**: Visual Studio 2019 version 16.3

**Steps to Reproduce**:

```cs
using System;

class Program
{
    public static int Value;

    public static unsafe int Read(IntPtr pointer int offset)
    {
        Value = ((int*)pointer)[offset]; // No warning
        return ((int*)pointer)[offset];
        //      ~~~~~~
    }
}
```

**Expected Behavior**:

IDE0004 is not reported for the cast.

**Actual Behavior**:

IDE0004 is reported for the cast.","IDE0004 on pointer cast in return statement **Version Used**: Visual Studio 2019 version 16.3

**Steps to Reproduce**:

```cs
using System;

class Program
{
    public static int Value;

    public static unsafe int Read(IntPtr pointer int offset)
    {
        Value = ((int*)pointer)[offset]; // No warning
        return ((int*)pointer)[offset];
        //      ~~~~~~
    }
}
```

**Expected Behavior**:

IDE0004 is not reported for the cast.

**Actual Behavior**:

IDE0004 is reported for the cast.",Area-IDE|Bug|IDE-CodeStyle|help wanted,gafter|sharwell|jinujoseph,10/09/2019 9:43,
38598,Support reinferring indexers,We now reinfer indexer nullability. Additionally `GetSymbolInfo` was returning no information for range and pattern-based indexers this has now been fixed to return the actual property or method symbol being used in those cases. @dotnet/roslyn-compiler for review. @jasonmalinowski and @ryzngard for the nullable api change as well as for the general change for indexers and ranges. This might cause you to encounter symbols where you aren't currently.,Support reinferring indexers We now reinfer indexer nullability. Additionally `GetSymbolInfo` was returning no information for range and pattern-based indexers this has now been fixed to return the actual property or method symbol being used in those cases. @dotnet/roslyn-compiler for review. @jasonmalinowski and @ryzngard for the nullable api change as well as for the general change for indexers and ranges. This might cause you to encounter symbols where you aren't currently.,Area-Compilers|New Language Feature - Nullable Semantic Model,333fred|jasonmalinowski|ryzngard|jaredpar|agocke|gafter|RikkiGibson|VSadov|AlekseyTs|cston|jcouv|chsienki|fayrose,10/09/2019 9:31,12/09/2019 1:29
38597,Stop caching docker on linux builds,"Docker builds are cached up to a point in order to speed up builds. Unfortunately our caches are now far enough out of date that the apt-get update is taking long enough to sometimes time out the build.

For now i'm disabling cache it won't make the builds any quicker but they will at least be roughly deterministic in time rather than ever increasing.

Once this PR has cycled through enough machines we can restore caching and builds will speed up again but really we need to rethink how we do this to stop it being a problem in the future.","Stop caching docker on linux builds Docker builds are cached up to a point in order to speed up builds. Unfortunately our caches are now far enough out of date that the apt-get update is taking long enough to sometimes time out the build.

For now i'm disabling cache it won't make the builds any quicker but they will at least be roughly deterministic in time rather than ever increasing.

Once this PR has cycled through enough machines we can restore caching and builds will speed up again but really we need to rethink how we do this to stop it being a problem in the future.",Area-Infrastructure,chsienki|jasonmalinowski|dpoeschl|agocke|heejaechang|jinujoseph|Shyam-Gupta,10/09/2019 7:43,2/10/2019 3:41
38596,Roslyn completion cannot find Blazor document on commit,"Here 
https://github.com/dotnet/roslyn/blob/master-vs-deps/src/EditorFeatures/Core/Implementation/IntelliSense/AsyncCompletion/CommitManager.cs#L139
Roslyn looks for a document in Roslyn workspace but the snapshot may belong toe.g. a Blazor buffer. Therefore now document is found and the completion commit is cancelled.

Therefore completion not working in Blazor scenarios like this one:
https://github.com/aspnet/AspNetCore/issues/13319#issuecomment-524089668
","Roslyn completion cannot find Blazor document on commit Here 
https://github.com/dotnet/roslyn/blob/master-vs-deps/src/EditorFeatures/Core/Implementation/IntelliSense/AsyncCompletion/CommitManager.cs#L139
Roslyn looks for a document in Roslyn workspace but the snapshot may belong toe.g. a Blazor buffer. Therefore now document is found and the completion commit is cancelled.

Therefore completion not working in Blazor scenarios like this one:
https://github.com/aspnet/AspNetCore/issues/13319#issuecomment-524089668
",Area-IDE|Bug|IDE-IntelliSense,ivanbasov,,
38595,Avoid duplicating GetAdditionalProperties by using an extension method,"
_Originally posted by @chborl in https://github.com/dotnet/roslyn/pull/37802/review_comment/create_","Avoid duplicating GetAdditionalProperties by using an extension method 
_Originally posted by @chborl in https://github.com/dotnet/roslyn/pull/37802/review_comment/create_",Area-IDE|Concept-Continuous Improvement,mavasani,,
38594,Run scripts/PublicAPI/mark-shipped.cmd,Fixes https://github.com/dotnet/roslyn/issues/37443. @JoeRobich fyi this is almost certainly going to cause merge conflicts when it makes its way to master.,Run scripts/PublicAPI/mark-shipped.cmd Fixes https://github.com/dotnet/roslyn/issues/37443. @JoeRobich fyi this is almost certainly going to cause merge conflicts when it makes its way to master.,Area-Infrastructure,333fred|JoeRobich|sharwell,10/09/2019 4:28,10/09/2019 9:35
38593,Make OrganizeImportsService public,dotnet format would like to use this service without needing an IVT or external access project.,Make OrganizeImportsService public dotnet format would like to use this service without needing an IVT or external access project.,Area-IDE,JoeRobich|YairHalberstadt|sharwell|jinujoseph|tmeschter,10/09/2019 4:14,20/09/2019 7:54
38592,Fix race condition in AnalyzerConfigSet,"When I added the dedup dictionary for diagnostic IDs in AnalyzerConfigSet
it wasn't clear to me that the GetOptionsForSourcePath method was intended
to be called on multiple threads. This change fixes the dedup dictionary
to be thread safe.","Fix race condition in AnalyzerConfigSet When I added the dedup dictionary for diagnostic IDs in AnalyzerConfigSet
it wasn't clear to me that the GetOptionsForSourcePath method was intended
to be called on multiple threads. This change fixes the dedup dictionary
to be thread safe.",Area-Compilers|Auto-Merge If Tests Pass,agocke|jasonmalinowski|msftbot[bot]|jinujoseph,10/09/2019 3:49,10/09/2019 9:31
38591,Random override completion cleanup,Was having to look at this code trying to fix a bug and kept running into dead code. This cleans up some random bits of it.,Random override completion cleanup Was having to look at this code trying to fix a bug and kept running into dead code. This cleans up some random bits of it.,,jasonmalinowski,,
38590,We should consider removing basesBeingResolved parameter from TypeSymbol.InterfacesNoUseSiteDiagnostics API,"```
internal abstract ImmutableArray<NamedTypeSymbol> InterfacesNoUseSiteDiagnostics(ConsList<TypeSymbol> basesBeingResolved = null);
```

The parameter is actually passed only in a couple of places (they can be adjusted to use GetDeclaredInterfaces API directly as several places in the compiler already do) and passing the parameter doesn't always prevent cycles. For example the dependency checks performed by implementation in SourceNamedTypeSymbol doesn't perform cycle detection/prevention. Developers think that the method is cycle safe when appropriate value is passed to it but that is actually not the case. I encountered real stack-overflow situations trying to use the method.","We should consider removing basesBeingResolved parameter from TypeSymbol.InterfacesNoUseSiteDiagnostics API ```
internal abstract ImmutableArray<NamedTypeSymbol> InterfacesNoUseSiteDiagnostics(ConsList<TypeSymbol> basesBeingResolved = null);
```

The parameter is actually passed only in a couple of places (they can be adjusted to use GetDeclaredInterfaces API directly as several places in the compiler already do) and passing the parameter doesn't always prevent cycles. For example the dependency checks performed by implementation in SourceNamedTypeSymbol doesn't perform cycle detection/prevention. Developers think that the method is cycle safe when appropriate value is passed to it but that is actually not the case. I encountered real stack-overflow situations trying to use the method.",Area-Compilers|Concept-Design Debt|Language-C#,AlekseyTs|jaredpar|gafter,10/09/2019 3:10,
38589,[Feature Request] Display compiler errors inline,"This is a screenshot from MonoDevelop:
[Some code with a compiler error](https://cdn.discordapp.com/attachments/169726586931773440/620557050702725140/unknown.png)

There's an error in that code which squiggles the line. Right next to the line the error message is drawn (cannot assign void... in this case). This way i don't need to hover over it or look at the error list.

I'd like to have that feature in VS please.
 ","[Feature Request] Display compiler errors inline This is a screenshot from MonoDevelop:
[Some code with a compiler error](https://cdn.discordapp.com/attachments/169726586931773440/620557050702725140/unknown.png)

There's an error in that code which squiggles the line. Right next to the line the error message is drawn (cannot assign void... in this case). This way i don't need to hover over it or look at the error list.

I'd like to have that feature in VS please.
 ",Area-IDE|Feature Request|Need Design Review,jaredpar|sharwell,10/09/2019 2:35,
38588,Determine optimal formatting for ternary arguments,"The formatter doesn't produce readable code from the following expression:

https://github.com/dotnet/roslyn/blob/b4c94691d796151c89aa39ff5f0b5caa7f5d5564/src/Compilers/CSharp/Portable/Symbols/Source/SourceMemberContainerSymbol_ImplementationChecks.cs#L1040-L1054

However it's not clear how this code should be formatted such that the result _is_ readable.","Determine optimal formatting for ternary arguments The formatter doesn't produce readable code from the following expression:

https://github.com/dotnet/roslyn/blob/b4c94691d796151c89aa39ff5f0b5caa7f5d5564/src/Compilers/CSharp/Portable/Symbols/Source/SourceMemberContainerSymbol_ImplementationChecks.cs#L1040-L1054

However it's not clear how this code should be formatted such that the result _is_ readable.",Area-IDE|Concept-Continuous Improvement|Discussion|IDE-Formatter,sharwell|jinujoseph,10/09/2019 2:26,
38587,Consider suppressing the formatter when IDE0055 is suppressed,"**Version Used**: 16.3 Preview 3

**Steps to Reproduce**:

Run **Format Document** on a file containing the following:

```csharp
#pragma warning suppress IDE0055 // Fix formatting
int value = new int ( );
#pragma warning suppress IDE0055 // Fix formatting
```

**Expected Behavior**:

The code inside the IDE0055 suppression is not reformatted.

**Actual Behavior**:

The **Format Document** command ignores the IDE0055 suppression and formats the code anyway.
","Consider suppressing the formatter when IDE0055 is suppressed **Version Used**: 16.3 Preview 3

**Steps to Reproduce**:

Run **Format Document** on a file containing the following:

```csharp
#pragma warning suppress IDE0055 // Fix formatting
int value = new int ( );
#pragma warning suppress IDE0055 // Fix formatting
```

**Expected Behavior**:

The code inside the IDE0055 suppression is not reformatted.

**Actual Behavior**:

The **Format Document** command ignores the IDE0055 suppression and formats the code anyway.
",Area-IDE|Concept-Continuous Improvement|IDE-Formatter|Resolution-Fixed,sharwell,,
38586,'warning CS8655: The switch expression does not handle some null inputs' on suppressed nulls,"**Version Used**: master 

**Steps to Reproduce**:

```cs
#nullable enable
public class C {
    public int M0(C a)  => a switch { C _ => 0 }; // ok
    public int M1(C? a) => a switch { C _ => 0 }; // warns
    public int M2(C? a) => a! switch { C _ => 0 }; // warns (none expected)
}
```

**Expected Behavior**: no warnings in M2

**Actual Behavior**: compiler warns about unhandled null in M2
","'warning CS8655: The switch expression does not handle some null inputs' on suppressed nulls **Version Used**: master 

**Steps to Reproduce**:

```cs
#nullable enable
public class C {
    public int M0(C a)  => a switch { C _ => 0 }; // ok
    public int M1(C? a) => a switch { C _ => 0 }; // warns
    public int M2(C? a) => a! switch { C _ => 0 }; // warns (none expected)
}
```

**Expected Behavior**: no warnings in M2

**Actual Behavior**: compiler warns about unhandled null in M2
",Area-Compilers|Bug|New Language Feature - Nullable Reference Types,gafter,,
38585,"Refactoring ""Apply implicit/explicit type preferences"" breaks working code using named tuples with explicit type specifier as out parameter","**Version Used**:
Visual Studio Enterprise 2019 Version 16.2.4

**Steps to Reproduce**:
1. Create a C# Project.
2. Add an `.editorconfig` file with `csharp_style_var_elsewhere = true`:
```
[*.cs]
#csharp_style_var_for_built_in_types = false : suggestion
#csharp_style_var_when_type_is_apparent = true : suggestion
csharp_style_var_elsewhere = true : suggestion
```
(other options left commented since I wasn't sure if they affect the outcome)
3. Add a C# source file containing the following snippet:
```c#
var dict = new Dictionary<string (int int)>();

if (dict.TryGetValue(""test"" out (int One int Two) tuple))
    Console.WriteLine(""One={0} Two={1}"" tuple.One tuple.Two);
```
4. Invoke a Code Cleanup profile that includes ""Apply implicit/explicit type preferences"".

**Expected Behavior**:
Code still compiles afterwards.

**Actual Behavior**:
CS1061 shows for both tuple member accesses. The code has changed to the following (which doesn't compile anymore because the names `One` and `Two` are not known):
```c#
var dict = new Dictionary<string (int int)>();

if (dict.TryGetValue(""test"" out var tuple))
    Console.WriteLine(""One={0} Two={1}"" tuple.One tuple.Two);
```

**Note**:
While this is probably not the best style of code (and I'd rather encourage the use of `new Dictionary<string (int One int Two)>()` - which in fact is the fix I applied afterwards); refactorings in combination with `.editorconfig` directives should not cause code that was previously fine to fail compiling afterwards.

This does _not_ happen for direct indexer access and others; where using `var` would be fine (but deconstruction would be the better option). But as `out` parameter deconstruction is not (yet) an option so this is the way to go for now.","Refactoring ""Apply implicit/explicit type preferences"" breaks working code using named tuples with explicit type specifier as out parameter **Version Used**:
Visual Studio Enterprise 2019 Version 16.2.4

**Steps to Reproduce**:
1. Create a C# Project.
2. Add an `.editorconfig` file with `csharp_style_var_elsewhere = true`:
```
[*.cs]
#csharp_style_var_for_built_in_types = false : suggestion
#csharp_style_var_when_type_is_apparent = true : suggestion
csharp_style_var_elsewhere = true : suggestion
```
(other options left commented since I wasn't sure if they affect the outcome)
3. Add a C# source file containing the following snippet:
```c#
var dict = new Dictionary<string (int int)>();

if (dict.TryGetValue(""test"" out (int One int Two) tuple))
    Console.WriteLine(""One={0} Two={1}"" tuple.One tuple.Two);
```
4. Invoke a Code Cleanup profile that includes ""Apply implicit/explicit type preferences"".

**Expected Behavior**:
Code still compiles afterwards.

**Actual Behavior**:
CS1061 shows for both tuple member accesses. The code has changed to the following (which doesn't compile anymore because the names `One` and `Two` are not known):
```c#
var dict = new Dictionary<string (int int)>();

if (dict.TryGetValue(""test"" out var tuple))
    Console.WriteLine(""One={0} Two={1}"" tuple.One tuple.Two);
```

**Note**:
While this is probably not the best style of code (and I'd rather encourage the use of `new Dictionary<string (int One int Two)>()` - which in fact is the fix I applied afterwards); refactorings in combination with `.editorconfig` directives should not cause code that was previously fine to fail compiling afterwards.

This does _not_ happen for direct indexer access and others; where using `var` would be fine (but deconstruction would be the better option). But as `out` parameter deconstruction is not (yet) an option so this is the way to go for now.",Area-IDE|Bug|help wanted,sharwell,,
38583,Remove duplicated project guid,I don't think this is intentional.,Remove duplicated project guid I don't think this is intentional.,Area-Infrastructure|Community,sharwell,9/09/2019 18:52,10/09/2019 4:12
38582,Extract Method Can Call ConfigureAwait(False) if extracted method does.,"See #38529

If anywhere in the extracted method we call ConfigureAwait false we call ConfigureAwait(false) in the invocation of the extracted method.

This preserves semantics around configure await since if ConfigureAwait(false) is called anywhere in a method the rest of the method will not continue on the original captured context.

I also fixed a bug at the same time namely now Extract Method does not make the extracted method async if it only used await in a local function.","Extract Method Can Call ConfigureAwait(False) if extracted method does. See #38529

If anywhere in the extracted method we call ConfigureAwait false we call ConfigureAwait(false) in the invocation of the extracted method.

This preserves semantics around configure await since if ConfigureAwait(false) is called anywhere in a method the rest of the method will not continue on the original captured context.

I also fixed a bug at the same time namely now Extract Method does not make the extracted method async if it only used await in a local function.",Area-IDE|Community,ryzngard,,
38581,Cut and paste inserts extra LF after Attribute,"_This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/719203/cut-and-paste-inserts-extra-lf-after-attribute.html)._

---
When C# Code Style/Formatting Automatically format on paste is set unwelcome and unspecified changes are made around attributes.

In particular this
```
[Foo] void Bar() {
var x = 1;
    }
```
becomes this
```
[Foo]
void Bar() {
    var x = 1;
}
```

Note that the assignment statement and closing brace are moved in a way that is consistent with my CodeStyle settings. However an extra line feed is added after the attribute.

I realize that some people perhaps most people prefer the extra line. Nonetheless this convention should not be forced on all users. The default for code styling should be that if a feature/convention is not specified then leave it as-is. There is no code style option for attribute placement.

Defect: Code Style operations should leave attribute placement elements as-is

Feature Suggestion: Provide Code Style options for attribute placement.

---
### Original Comments

#### Visual Studio Feedback System on 9/1/2019 09:29 PM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>


---
### Original Solutions
(no solutions)","Cut and paste inserts extra LF after Attribute _This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/719203/cut-and-paste-inserts-extra-lf-after-attribute.html)._

---
When C# Code Style/Formatting Automatically format on paste is set unwelcome and unspecified changes are made around attributes.

In particular this
```
[Foo] void Bar() {
var x = 1;
    }
```
becomes this
```
[Foo]
void Bar() {
    var x = 1;
}
```

Note that the assignment statement and closing brace are moved in a way that is consistent with my CodeStyle settings. However an extra line feed is added after the attribute.

I realize that some people perhaps most people prefer the extra line. Nonetheless this convention should not be forced on all users. The default for code styling should be that if a feature/convention is not specified then leave it as-is. There is no code style option for attribute placement.

Defect: Code Style operations should leave attribute placement elements as-is

Feature Suggestion: Provide Code Style options for attribute placement.

---
### Original Comments

#### Visual Studio Feedback System on 9/1/2019 09:29 PM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>


---
### Original Solutions
(no solutions)",Area-IDE|Bug|help wanted,jaredpar|jinujoseph,9/09/2019 11:48,
38579,Why does compiler generate a br instruction?,"```
        static string GetString()
        {
            return ""Test"";
        }
```

Compile it view IL

**Expected Behavior**:
```
ldstr     ""Test""
ret
```

**Actual Behavior**:
```
IL_0000: nop
IL_0001: ldstr     ""Test""
IL_0006: stloc.0
IL_0007: br.s      IL_0009
IL_0009: ldloc.0
IL_000A: ret
```

Why does compiler generate so many IL instructions?  Especially why does compiler generate a br instruction?
","Why does compiler generate a br instruction? ```
        static string GetString()
        {
            return ""Test"";
        }
```

Compile it view IL

**Expected Behavior**:
```
ldstr     ""Test""
ret
```

**Actual Behavior**:
```
IL_0000: nop
IL_0001: ldstr     ""Test""
IL_0006: stloc.0
IL_0007: br.s      IL_0009
IL_0009: ldloc.0
IL_000A: ret
```

Why does compiler generate so many IL instructions?  Especially why does compiler generate a br instruction?
",Area-Compilers|Question|Resolution-Answered,tmat,,
38578,VBCS Compiler takes almost 70 % of cpu on every page run on first time in ASP .Net MVC project,"
![vbcs complier1](https://user-images.githubusercontent.com/25609223/64483779-39186100-d226-11e9-805f-424f50efcaab.png)
**Version Used**:  2.0.1

**Steps to Reproduce**:

1. 
2. 
3. 

**Expected Behavior**: Should not use that much of CPU and it takes almost 30 seconds on each page every deployment

**Actual Behavior**: Taking too much time and too much CPU
","VBCS Compiler takes almost 70 % of cpu on every page run on first time in ASP .Net MVC project 
![vbcs complier1](https://user-images.githubusercontent.com/25609223/64483779-39186100-d226-11e9-805f-424f50efcaab.png)
**Version Used**:  2.0.1

**Steps to Reproduce**:

1. 
2. 
3. 

**Expected Behavior**: Should not use that much of CPU and it takes almost 30 seconds on each page every deployment

**Actual Behavior**: Taking too much time and too much CPU
",Area-Compilers|Need More Info,jaredpar,,
38576,Remove DesktopShim.FileNotFoundExceptionShim,Since we have dropped .NET 4.5 for a long time the shim should be removed now.,Remove DesktopShim.FileNotFoundExceptionShim Since we have dropped .NET 4.5 for a long time the shim should be removed now.,Area-Infrastructure|Community,tmat,,
38575,Code analysis throws NullReferenceException causing VS\csc crash,"**Version Used**: 
VS: `VisualStudio.16.Preview/16.3.0-pre.3.0+29230.61`
.NET Core SDK: `3.0.100-preview9-014004`

**Steps to Reproduce**:

1.  Open the following snippet in VS (you can also check [here](https://sharplab.io/#v2:EYLgZgpghgLgrgJwgZwLQAcoKgW1QOzgBsiBjACwlIGsBLfAcwBoATEAagB8BiQkqYEQgACCPgFCAsACgZ4nCkykRAJQjoEAexkBvGcIPCAAgCYAjPsOWDp4QGFh14XumG3xgCzCAsgAoAlI6u7gYuISEAbljCUURwIgC8wgDiEDAAalBxEL6+LACe8rSk/gBEpf4A3E7hwvgQAO7CACKwEAAqtAoA/L6x8VU1hgC+MkMGrTAdXSKpGVnxvkZmAAzCUwAeMIEJAHx1xETVwQaj0sNAA=)):
```csharp
#nullable enable

namespace Repro
{
    using System;
    
    class C 
    {
        void M() 
        {
            var value = GetValue((dynamic)"""");
            new DateTime?(value);
        }

        DateTime GetValue(string text) => null;
    }
}
```

**Expected Behavior**:
No crash.

**Actual Behavior**:
VS crashes when\if the file is open csc.exe crashes when the compilation is launched without having the file open in VS.","Code analysis throws NullReferenceException causing VS\csc crash **Version Used**: 
VS: `VisualStudio.16.Preview/16.3.0-pre.3.0+29230.61`
.NET Core SDK: `3.0.100-preview9-014004`

**Steps to Reproduce**:

1.  Open the following snippet in VS (you can also check [here](https://sharplab.io/#v2:EYLgZgpghgLgrgJwgZwLQAcoKgW1QOzgBsiBjACwlIGsBLfAcwBoATEAagB8BiQkqYEQgACCPgFCAsACgZ4nCkykRAJQjoEAexkBvGcIPCAAgCYAjPsOWDp4QGFh14XumG3xgCzCAsgAoAlI6u7gYuISEAbljCUURwIgC8wgDiEDAAalBxEL6+LACe8rSk/gBEpf4A3E7hwvgQAO7CACKwEAAqtAoA/L6x8VU1hgC+MkMGrTAdXSKpGVnxvkZmAAzCUwAeMIEJAHx1xETVwQaj0sNAA=)):
```csharp
#nullable enable

namespace Repro
{
    using System;
    
    class C 
    {
        void M() 
        {
            var value = GetValue((dynamic)"""");
            new DateTime?(value);
        }

        DateTime GetValue(string text) => null;
    }
}
```

**Expected Behavior**:
No crash.

**Actual Behavior**:
VS crashes when\if the file is open csc.exe crashes when the compilation is launched without having the file open in VS.",Area-Compilers|Bug|New Language Feature - Nullable Reference Types,RikkiGibson,,
38574,Extend IDE0041 to object equality operator without cast,Fixes #38506,Extend IDE0041 to object equality operator without cast Fixes #38506,Area-IDE|Blocked|Community,sharwell,,
38572,CS0103 Generate method preview shows empty line only,"**Version Used**: VisualStudio.16.Preview/16.3.0-pre.3.0+29230.61

**Steps to Reproduce**:
```C#
class Program
{
    static void Main()
    {
        Test();
    }

    void OtherMethod()
    {
    }
}
```
Preview the quick fix of generating the `Test()` method

**Expected Behavior**:
![image](https://user-images.githubusercontent.com/10546952/64474455-0cecd980-d16d-11e9-9c69-cd64ce8a7dd2.png)

**Actual Behavior**:
![image](https://user-images.githubusercontent.com/10546952/64474445-f6df1900-d16c-11e9-9b8b-a2bf8aea1559.png)
","CS0103 Generate method preview shows empty line only **Version Used**: VisualStudio.16.Preview/16.3.0-pre.3.0+29230.61

**Steps to Reproduce**:
```C#
class Program
{
    static void Main()
    {
        Test();
    }

    void OtherMethod()
    {
    }
}
```
Preview the quick fix of generating the `Test()` method

**Expected Behavior**:
![image](https://user-images.githubusercontent.com/10546952/64474455-0cecd980-d16d-11e9-9c69-cd64ce8a7dd2.png)

**Actual Behavior**:
![image](https://user-images.githubusercontent.com/10546952/64474445-f6df1900-d16c-11e9-9b8b-a2bf8aea1559.png)
",Resolution-Duplicate,sharwell,7/09/2019 21:43,8/09/2019 3:10
38571,CS8509 The switch expression does not handle all possible inputs when it does,"**Version Used**: VisualStudio.16.Preview/16.3.0-pre.3.0+29230.61

**Steps to Reproduce**:
```C#
class Program
{
    enum E { a b c }

    static int Main()
    {
        E e = E.a;

        if (e == E.a)
            return e switch
            {
                E.a => 0
            };

        switch (e)
        {
            case E.a:
            case E.b:
                return e switch
                {
                    E.a => 0
                    E.b => 1
                };
        }

        return e switch
        {
            E.a => 0
        };

        // unreachable
        return 0;
    }
}
```

**Expected Behavior**: no warnings (or at least not on the first two)

**Actual Behavior**: CS8509 for all switch expression

At minimum ""the switch expression does not handle all possible inputs"" is simply not true.
","CS8509 The switch expression does not handle all possible inputs when it does **Version Used**: VisualStudio.16.Preview/16.3.0-pre.3.0+29230.61

**Steps to Reproduce**:
```C#
class Program
{
    enum E { a b c }

    static int Main()
    {
        E e = E.a;

        if (e == E.a)
            return e switch
            {
                E.a => 0
            };

        switch (e)
        {
            case E.a:
            case E.b:
                return e switch
                {
                    E.a => 0
                    E.b => 1
                };
        }

        return e switch
        {
            E.a => 0
        };

        // unreachable
        return 0;
    }
}
```

**Expected Behavior**: no warnings (or at least not on the first two)

**Actual Behavior**: CS8509 for all switch expression

At minimum ""the switch expression does not handle all possible inputs"" is simply not true.
",4 - In Review|Area-Compilers|Bug|Concept-Diagnostic Clarity,gafter,,
38570,`MSB4062: Assembly with same name is already loaded` when `Microsoft.Net.Compilers.Toolset` is only used for a part of projects in solution,"**Version Used**: 
dotnet-sdk: 3.0.100-preview9-014004(Also not work for old versions)
Microsoft.Net.Compilers.Toolset: 3.2.1

**Steps to Reproduce**:

1. Create two csproj add reference of `Microsoft.Net.Compilers.Toolset` to the first and add reference of the first to the second no code is needed.
xxxx.csproj
```xml
<Project Sdk=""Microsoft.NET.Sdk"">

  <PropertyGroup>
    <TargetFramework>netcoreapp3.0</TargetFramework>
  </PropertyGroup>

  <ItemGroup>
    <PackageReference Include=""Microsoft.Net.Compilers.Toolset"" Version=""3.2.1"">
      <IncludeAssets>runtime; build; native; contentfiles; analyzers; buildtransitive</IncludeAssets>
      <PrivateAssets>all</PrivateAssets>
    </PackageReference>
  </ItemGroup>

</Project>
```
xxxx1.csproj
```xml
<Project Sdk=""Microsoft.NET.Sdk"">

  <PropertyGroup>
    <TargetFramework>netcoreapp3.0</TargetFramework>
  </PropertyGroup>

  <ItemGroup>
    <ProjectReference Include=""..\xxxx\xxxx.csproj"" />
  </ItemGroup>

</Project>
```
2. Try `dotnet build` with the second csproj. (Run `dotnet clean` first if already has an successful build for the first csproj.

**Expected Behavior**:
Build success.

**Actual Behavior**:
> C:\Program Files\dotnet\sdk\3.0.100-preview9-014004\Roslyn\Microsoft.CSharp.Core.targets(595): error MSB4062: Failed to get from assembly C:\Program Files\dotnet\sdk\3.0.100-preview9-014004\Roslyn\Microsoft.Build.Tasks.CodeAnalysis.dll Load the task ""Microsoft.CodeAnalysis.BuildTasks.Csc"". Assembly with same name is already loaded Please confirm that the <UsingTask> declaration is correct the assembly and all its dependencies are available and the task contains a public class that implements Microsoft.Build.Framework.ITask.

It is something by designed that must reference the same version of `Microsoft.Net.Compilers.Toolset` for all projects in solution?
An workaround is to use `dotnet build /nodeReuse:false` instead or reference the same version of `Microsoft.Net.Compilers.Toolset` for all projects.","`MSB4062: Assembly with same name is already loaded` when `Microsoft.Net.Compilers.Toolset` is only used for a part of projects in solution **Version Used**: 
dotnet-sdk: 3.0.100-preview9-014004(Also not work for old versions)
Microsoft.Net.Compilers.Toolset: 3.2.1

**Steps to Reproduce**:

1. Create two csproj add reference of `Microsoft.Net.Compilers.Toolset` to the first and add reference of the first to the second no code is needed.
xxxx.csproj
```xml
<Project Sdk=""Microsoft.NET.Sdk"">

  <PropertyGroup>
    <TargetFramework>netcoreapp3.0</TargetFramework>
  </PropertyGroup>

  <ItemGroup>
    <PackageReference Include=""Microsoft.Net.Compilers.Toolset"" Version=""3.2.1"">
      <IncludeAssets>runtime; build; native; contentfiles; analyzers; buildtransitive</IncludeAssets>
      <PrivateAssets>all</PrivateAssets>
    </PackageReference>
  </ItemGroup>

</Project>
```
xxxx1.csproj
```xml
<Project Sdk=""Microsoft.NET.Sdk"">

  <PropertyGroup>
    <TargetFramework>netcoreapp3.0</TargetFramework>
  </PropertyGroup>

  <ItemGroup>
    <ProjectReference Include=""..\xxxx\xxxx.csproj"" />
  </ItemGroup>

</Project>
```
2. Try `dotnet build` with the second csproj. (Run `dotnet clean` first if already has an successful build for the first csproj.

**Expected Behavior**:
Build success.

**Actual Behavior**:
> C:\Program Files\dotnet\sdk\3.0.100-preview9-014004\Roslyn\Microsoft.CSharp.Core.targets(595): error MSB4062: Failed to get from assembly C:\Program Files\dotnet\sdk\3.0.100-preview9-014004\Roslyn\Microsoft.Build.Tasks.CodeAnalysis.dll Load the task ""Microsoft.CodeAnalysis.BuildTasks.Csc"". Assembly with same name is already loaded Please confirm that the <UsingTask> declaration is correct the assembly and all its dependencies are available and the task contains a public class that implements Microsoft.Build.Framework.ITask.

It is something by designed that must reference the same version of `Microsoft.Net.Compilers.Toolset` for all projects in solution?
An workaround is to use `dotnet build /nodeReuse:false` instead or reference the same version of `Microsoft.Net.Compilers.Toolset` for all projects.",Resolution-By Design,jaredpar,7/09/2019 18:01,10/09/2019 4:09
38569,Remove legacy completion,,Remove legacy completion ,Area-IDE|IDE-IntelliSense,ivanbasov|KirillOsenkov|sandyarmstrong|jasonmalinowski|CyrusNajmabadi|sharwell,7/09/2019 10:36,19/09/2019 14:31
38567,Unnecessary code colapse points ,"**Version Used**: 
16.4.intpreview

**Steps to Reproduce**:
Have code with sufficient amount of constructs that have header and then block. Look at collapsible regions.

```
        /// <summary>
        /// Use this helper to register multiple refactorings (<paramref name=""actions""/>).
        /// </summary>
        internal static void RegisterRefactorings<TCodeAction>(
            this CodeRefactoringContext context ImmutableArray<TCodeAction> actions)
            where TCodeAction : CodeAction
        {
            if (!actions.IsDefault)
            {
                foreach (var action in actions)
                {
                    context.RegisterRefactoring(action);
                }
            }
        }
````

![image](https://user-images.githubusercontent.com/1764721/64466836-e70df900-d0c8-11e9-8d71-3543dbf6209b.png)


**Expected Behavior**:
Only the top marked collapsible region is there.

**Actual Behavior**:
Both are the lower one is redundant from UX point of view.

Useful:
![image](https://user-images.githubusercontent.com/1764721/64466920-47049f80-d0c9-11e9-8eb6-ef52ffee4164.png)

Not useful:
![image](https://user-images.githubusercontent.com/1764721/64466896-2fc5b200-d0c9-11e9-8e9b-0fdde809c7d1.png)

","Unnecessary code colapse points  **Version Used**: 
16.4.intpreview

**Steps to Reproduce**:
Have code with sufficient amount of constructs that have header and then block. Look at collapsible regions.

```
        /// <summary>
        /// Use this helper to register multiple refactorings (<paramref name=""actions""/>).
        /// </summary>
        internal static void RegisterRefactorings<TCodeAction>(
            this CodeRefactoringContext context ImmutableArray<TCodeAction> actions)
            where TCodeAction : CodeAction
        {
            if (!actions.IsDefault)
            {
                foreach (var action in actions)
                {
                    context.RegisterRefactoring(action);
                }
            }
        }
````

![image](https://user-images.githubusercontent.com/1764721/64466836-e70df900-d0c8-11e9-8d71-3543dbf6209b.png)


**Expected Behavior**:
Only the top marked collapsible region is there.

**Actual Behavior**:
Both are the lower one is redundant from UX point of view.

Useful:
![image](https://user-images.githubusercontent.com/1764721/64466920-47049f80-d0c9-11e9-8eb6-ef52ffee4164.png)

Not useful:
![image](https://user-images.githubusercontent.com/1764721/64466896-2fc5b200-d0c9-11e9-8e9b-0fdde809c7d1.png)

",Area-IDE|Bug|Resolution-Duplicate,petrroll|jinujoseph|dibarbet|sharwell,7/09/2019 10:11,24/09/2019 5:30
38566,Merge master to master-vs-deps,"
This is an automatically generated pull request from master into master-vs-deps.

``` bash
git fetch --all
git checkout merges/master-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge master to master-vs-deps 
This is an automatically generated pull request from master into master-vs-deps.

``` bash
git fetch --all
git checkout merges/master-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|Auto-Merge If Tests Pass,dotnet-bot|dotnet-automerge-bot,7/09/2019 10:02,9/09/2019 2:30
38565,Merge release/dev16.3-vs-deps to master-vs-deps,"
This is an automatically generated pull request from release/dev16.3-vs-deps into master-vs-deps.

``` bash
git fetch --all
git checkout merges/release/dev16.3-vs-deps-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/release/dev16.3-vs-deps
# Fix merge conflicts
git commit
git push upstream merges/release/dev16.3-vs-deps-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge release/dev16.3-vs-deps to master-vs-deps 
This is an automatically generated pull request from release/dev16.3-vs-deps into master-vs-deps.

``` bash
git fetch --all
git checkout merges/release/dev16.3-vs-deps-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/release/dev16.3-vs-deps
# Fix merge conflicts
git commit
git push upstream merges/release/dev16.3-vs-deps-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|Auto-Merge If Tests Pass,dotnet-bot|dotnet-automerge-bot,7/09/2019 10:01,10/09/2019 5:00
38564,Perform lookup in base interfaces even in a type-only context.,Fixes #38469.,Perform lookup in base interfaces even in a type-only context. Fixes #38469.,Area-Compilers|Language-C#|New Language Feature - Default Interface Impl,jcouv,,
38563,Adjust tuple and nullability checks on duplicate implementations and type constraints,"Fixes https://github.com/dotnet/roslyn/issues/38560 (open questions on duplicate implementations with nullability differences): in this change ~~we're treating such duplicates (whether direct  or indirect) as an error (instead of a warning previously) except that~~ we're relaxing the comparison to account for oblivious.
Note: there is still an active email thread on this behavior as other nullability checks only produce warnings (not errors).

Fixes https://github.com/dotnet/roslyn/issues/38427 (missing diagnostic on duplicate type constraint with tuple name differences): in this change we're treating such duplicates as an error as well as  duplicate type constraints with any nullability differences.

At the same time I'm fixing a small issue with how those duplicates are checked: we were not detecting duplicates when they differed in tuple names and nullability at the same time.","Adjust tuple and nullability checks on duplicate implementations and type constraints Fixes https://github.com/dotnet/roslyn/issues/38560 (open questions on duplicate implementations with nullability differences): in this change ~~we're treating such duplicates (whether direct  or indirect) as an error (instead of a warning previously) except that~~ we're relaxing the comparison to account for oblivious.
Note: there is still an active email thread on this behavior as other nullability checks only produce warnings (not errors).

Fixes https://github.com/dotnet/roslyn/issues/38427 (missing diagnostic on duplicate type constraint with tuple name differences): in this change we're treating such duplicates as an error as well as  duplicate type constraints with any nullability differences.

At the same time I'm fixing a small issue with how those duplicates are checked: we were not detecting duplicates when they differed in tuple names and nullability at the same time.",Area-Compilers|New Language Feature - Nullable Reference Types|New Language Feature - Tuples,jcouv,,
38561,Null reference warning when validation expression result relayed as boolean,"If I write the following code
```
public void DoSomething(string value) {
  Console.WriteLine(value.Length);
}
```
I will receive the warning 
> `CA1062`: In externally visible method `void DoSomething(string value)` validate parameter `value` is non-null before using it. If appropriate throw an `ArgumentNullException` when the argument is null or add a Code Contract precondition asserting non-null argument.

Similarly in a slightly different construction—such as retrieving the value from a function that may result in a `null` value—I may receive:
> `CS8602`: Dereference of a possibly null reference.

This is totally expected; after all the parameter `value` may well be `null` since `#nullable` doesn't include runtime checking. As the warning suggests I can easily fix this by adding a guard clause such as:
```
public void DoSomething(string value) {
  if (value == null) {
    throw new ArgumentNullException(nameof(value));
  }
  Console.WriteLine(value.Length);
}
```
If however I store the result of the validation expression (`value == null` in this case) to a `bool` and check that value I will still get the `CA1062` (or `CS8602`) warning:
```
public void DoSomething(string value) {
  var isInvalid = value == null;
  if (isInvalid) {
    throw new ArgumentNullException(nameof(value));
  }
  Console.WriteLine(value.Length);
}
```
My expectation would be that the previous two code examples would yield the same results. 

This may well be expected based on Roslyn's flow analysis implementation. That said it limits the methods through which `null` references can be validated. For example it restricts the use of utility methods that assist in creating guard clauses similar in _structure_ to Code Contracts:
```
public static void Requires<T>(bool isValid) where T : Exception new() {
  if (!isValid) {
    throw new T();
  }
}
```
> **Note:** This is obviously a contrived example. A real implementation would be far more sophisticated accounting for e.g. variable names and/or error messages.

FWIW the project I'm working on happens to be targeting .NET Standard 2.2 but I wouldn't expect that to be relevant here since I'm just referencing internal code and not .NET Standard libraries. ","Null reference warning when validation expression result relayed as boolean If I write the following code
```
public void DoSomething(string value) {
  Console.WriteLine(value.Length);
}
```
I will receive the warning 
> `CA1062`: In externally visible method `void DoSomething(string value)` validate parameter `value` is non-null before using it. If appropriate throw an `ArgumentNullException` when the argument is null or add a Code Contract precondition asserting non-null argument.

Similarly in a slightly different construction—such as retrieving the value from a function that may result in a `null` value—I may receive:
> `CS8602`: Dereference of a possibly null reference.

This is totally expected; after all the parameter `value` may well be `null` since `#nullable` doesn't include runtime checking. As the warning suggests I can easily fix this by adding a guard clause such as:
```
public void DoSomething(string value) {
  if (value == null) {
    throw new ArgumentNullException(nameof(value));
  }
  Console.WriteLine(value.Length);
}
```
If however I store the result of the validation expression (`value == null` in this case) to a `bool` and check that value I will still get the `CA1062` (or `CS8602`) warning:
```
public void DoSomething(string value) {
  var isInvalid = value == null;
  if (isInvalid) {
    throw new ArgumentNullException(nameof(value));
  }
  Console.WriteLine(value.Length);
}
```
My expectation would be that the previous two code examples would yield the same results. 

This may well be expected based on Roslyn's flow analysis implementation. That said it limits the methods through which `null` references can be validated. For example it restricts the use of utility methods that assist in creating guard clauses similar in _structure_ to Code Contracts:
```
public static void Requires<T>(bool isValid) where T : Exception new() {
  if (!isValid) {
    throw new T();
  }
}
```
> **Note:** This is obviously a contrived example. A real implementation would be far more sophisticated accounting for e.g. variable names and/or error messages.

FWIW the project I'm working on happens to be targeting .NET Standard 2.2 but I wouldn't expect that to be relevant here since I'm just referencing internal code and not .NET Standard libraries. ",Area-Compilers|New Language Feature - Nullable Reference Types|Resolution-Won't Fix,jaredpar|gafter|RikkiGibson,7/09/2019 8:12,10/09/2019 5:07
38560,Refine nullability checks on interface implementations,"Implementing the same interface twice indirectly and with nullability differences involving oblivious currently produces a warning but arguably shouldn't:
```C#
#nullable enable

public class C : I<object> IObjectOblivious // warning CS8645: 'I<object>' is already listed in the interface list on type 'C' with different nullability of reference types.
{
}

public interface I<T> { }

#nullable disable

public interface IObjectOblivious : I<object> { }
```
([sharplab](https://sharplab.io/#v2:EYLgtghgzgLgpgJwD4FgBQBiAdgVwDZ4TB5wAEcWRJ66AAgMym0BMpAwqSKQJIA8A9sABWcAMYwAfABoeAeWFiY8vAEsAbiv44opAPS7SAdwgIsKrAHN2AZQAcANgAsAVi4ByPoJHiJb0ip0IPAQ4CAATAE9SVVg4MP8sUhgACzJzeAQAMwhRMhiYUn5EmAiABzI3Nj9DFRTSMJVMzMQKAtwCIhVVEsLM0hDmkKxcpLK4KAA6dABvdABfGjQGBIzskb4AFQlSadIFtHRsfEJiMgaoKjhF5fTENbJueW8lYnVNbU4eAQUfHb2gA==))

On the other hand implementing the same interface twice directly and with nullability differences arguably should produce an error instead of just a warning:
```C#
#nullable enable
public class C : I<object> I<object?> // warning CS8645: 'I<object?>' is already listed in the interface list on type 'C' with different nullability of reference types.
{
}

public interface I<T> { }
```
([sharplab](https://sharplab.io/#v2:EYLgtghgzgLgpgJwD4GIB2BXANliwtwAEcaeBAsAFAACAzIdQEyEDChIhAkgDwD2wAKzgBjGAD4ANFz6CRMAPxjCAemWEA7hARoAlmgDmrAMoAOAGwAWAKwcA5D35DRi24R1RCELAjgQAJgCehFju8H5uaIQwABZEevAIAGYQwkQhsIS8kTABAA5Etiyu6joxhH46iYmIJDCEmDh4OiE5mYmEPtU+aKlReXBQAHRUAN5UAL5UVHQRCcm9PAAqSiOE40A))

Finally this behavior is not consistently enforced on type constraints: direct scenarios (`where T : I<object?> I<object>`) produce an error and indirect scenarios (`where T : I<object?> IObjectUnannotated`) produce no diagnostic.

Relates to tuple name checks on interface implementations (issue https://github.com/dotnet/roslyn/issues/38427 tracks some irregularities).
Relates to PR https://github.com/dotnet/roslyn/pull/38460 (type inference can now handle types that implement duplicate interfaces with nullability differences).","Refine nullability checks on interface implementations Implementing the same interface twice indirectly and with nullability differences involving oblivious currently produces a warning but arguably shouldn't:
```C#
#nullable enable

public class C : I<object> IObjectOblivious // warning CS8645: 'I<object>' is already listed in the interface list on type 'C' with different nullability of reference types.
{
}

public interface I<T> { }

#nullable disable

public interface IObjectOblivious : I<object> { }
```
([sharplab](https://sharplab.io/#v2:EYLgtghgzgLgpgJwD4FgBQBiAdgVwDZ4TB5wAEcWRJ66AAgMym0BMpAwqSKQJIA8A9sABWcAMYwAfABoeAeWFiY8vAEsAbiv44opAPS7SAdwgIsKrAHN2AZQAcANgAsAVi4ByPoJHiJb0ip0IPAQ4CAATAE9SVVg4MP8sUhgACzJzeAQAMwhRMhiYUn5EmAiABzI3Nj9DFRTSMJVMzMQKAtwCIhVVEsLM0hDmkKxcpLK4KAA6dABvdABfGjQGBIzskb4AFQlSadIFtHRsfEJiMgaoKjhF5fTENbJueW8lYnVNbU4eAQUfHb2gA==))

On the other hand implementing the same interface twice directly and with nullability differences arguably should produce an error instead of just a warning:
```C#
#nullable enable
public class C : I<object> I<object?> // warning CS8645: 'I<object?>' is already listed in the interface list on type 'C' with different nullability of reference types.
{
}

public interface I<T> { }
```
([sharplab](https://sharplab.io/#v2:EYLgtghgzgLgpgJwD4GIB2BXANliwtwAEcaeBAsAFAACAzIdQEyEDChIhAkgDwD2wAKzgBjGAD4ANFz6CRMAPxjCAemWEA7hARoAlmgDmrAMoAOAGwAWAKwcA5D35DRi24R1RCELAjgQAJgCehFju8H5uaIQwABZEevAIAGYQwkQhsIS8kTABAA5Etiyu6joxhH46iYmIJDCEmDh4OiE5mYmEPtU+aKlReXBQAHRUAN5UAL5UVHQRCcm9PAAqSiOE40A))

Finally this behavior is not consistently enforced on type constraints: direct scenarios (`where T : I<object?> I<object>`) produce an error and indirect scenarios (`where T : I<object?> IObjectUnannotated`) produce no diagnostic.

Relates to tuple name checks on interface implementations (issue https://github.com/dotnet/roslyn/issues/38427 tracks some irregularities).
Relates to PR https://github.com/dotnet/roslyn/pull/38460 (type inference can now handle types that implement duplicate interfaces with nullability differences).",Area-Compilers|Area-Language Design|New Language Feature - Nullable Reference Types|Resolution-Fixed,jcouv,,
38559,Roslyn IDE features exhibiting numerous regressions,"**Version Used**: 
Visual Studio 2019 Int Preview 16.4

**Steps to Reproduce**:

1. Open a C# project
2. Type some method name 'Foo'

**Expected Behavior**:
Signature help appears and is classified.

**Actual Behavior**:
Signature help appears unclassified.

![image](https://user-images.githubusercontent.com/5387680/64454691-76eb7d00-d0a0-11e9-8e95-552c33be73b8.png)
","Roslyn IDE features exhibiting numerous regressions **Version Used**: 
Visual Studio 2019 Int Preview 16.4

**Steps to Reproduce**:

1. Open a C# project
2. Type some method name 'Foo'

**Expected Behavior**:
Signature help appears and is classified.

**Actual Behavior**:
Signature help appears unclassified.

![image](https://user-images.githubusercontent.com/5387680/64454691-76eb7d00-d0a0-11e9-8e95-552c33be73b8.png)
",Area-IDE|Regression|Resolution-External,heejaechang,,
38558,IDE0018 preview presents incorrect option if blank line present,"**Version Used**: 
3.4.0-beta1-19426-03+b18d90790da95b6862def56802fa4249e4868bb4

**Steps to Reproduce**:
```C#
using System;

class Program
{
    static void Main() { }

    private static bool M1(string name)
    {
        bool result;

        Bar(name out result);
        return result;
    }

    private static bool M2(string name)
    {
        bool result;
        Bar(name out result);
        return result;
    }

    private static bool Bar(string name out bool result) => throw new NotImplementedException();
}
```

**Expected Behavior**:
Invoking IDE0018 for the Document presents two cases to be fixed one in M1 and one in M2.

**Actual Behavior**:
Invoking IDE0018 for the Document presents three cases to be fixed two in M1 one of which if executed on its own would result in code that doesn't compile:
![image](https://user-images.githubusercontent.com/2642209/64453543-c9d02f00-d0b6-11e9-87ba-533654d7c9d7.png)
","IDE0018 preview presents incorrect option if blank line present **Version Used**: 
3.4.0-beta1-19426-03+b18d90790da95b6862def56802fa4249e4868bb4

**Steps to Reproduce**:
```C#
using System;

class Program
{
    static void Main() { }

    private static bool M1(string name)
    {
        bool result;

        Bar(name out result);
        return result;
    }

    private static bool M2(string name)
    {
        bool result;
        Bar(name out result);
        return result;
    }

    private static bool Bar(string name out bool result) => throw new NotImplementedException();
}
```

**Expected Behavior**:
Invoking IDE0018 for the Document presents two cases to be fixed one in M1 and one in M2.

**Actual Behavior**:
Invoking IDE0018 for the Document presents three cases to be fixed two in M1 one of which if executed on its own would result in code that doesn't compile:
![image](https://user-images.githubusercontent.com/2642209/64453543-c9d02f00-d0b6-11e9-87ba-533654d7c9d7.png)
",Area-IDE|Concept-Continuous Improvement,mavasani|jaredpar|jinujoseph,7/09/2019 4:58,
38557,Inline rename throws InvalidOperationException in ASP.NET Core page,"**Version Used**: 

**Steps to Reproduce**:

1. Create an ASP.NET Core Web App
2. Open `Error.cshtml`.
3. Rename `ErrorModel` class to `ErrorModel2` (Ctrl+R+R).

**Expected Behavior**:

**Actual Behavior**:

Assertion failed:

```
---------------------------
Assertion Failed: Abort=Quit Retry=Debug Ignore=Continue
---------------------------




   at Microsoft.CodeAnalysis.Editor.Implementation.InlineRename.InlineRenameSession.OpenTextBufferManager.OnTextBufferChanged(Object sender TextContentChangedEventArgs args)

   at Microsoft.VisualStudio.Text.Utilities.GuardedOperations.RaiseEvent[TArgs](Object sender EventHandler`1 eventHandlers TArgs args)

   at Microsoft.VisualStudio.Text.Implementation.BaseBuffer.RawRaiseEvent(TextContentChangedEventArgs args Boolean immediate)

   at Microsoft.VisualStudio.Text.Projection.Implementation.ProjectionBuffer.SourceSpansChangedEventRaiser.RaiseEvent(BaseBuffer baseBuffer Boolean immediate)

   at Microsoft.VisualStudio.Text.Implementation.BufferGroup.RaiseEvents()

   at Microsoft.VisualStudio.Text.Implementation.BufferGroup.FinishEdit()

   at Microsoft.VisualStudio.Text.Projection.Implementation.ProjectionBuffer.SpanEdit.ReplaceSpans(Int32 position Int32 spansToReplace IList`1 spansToInsert EditOptions options Object editTag)

   at Microsoft.VisualStudio.Text.Projection.Implementation.ProjectionBuffer.ReplaceSpans(Int32 position Int32 spansToReplace IList`1 spansToInsert EditOptions options Object editTag)

   at Microsoft.WebTools.Languages.Html.Editor.Projection.LanguageProjectionManager.UpdateTextBuffer(ProjectionMapping[] mappings String fullLangBufferText)

   at Microsoft.WebTools.Languages.Html.Editor.Projection.LanguageProjectionManager.SetMappingsHelper(ProjectionMapping[] mappings String fullLangBufferText)

   at Microsoft.WebTools.Languages.Html.Editor.Projection.LanguageProjectionBuffer.SetTextAndMappings(String text ProjectionMapping[] mappings)

   at Microsoft.WebTools.Languages.Razor.Core.RazorCodeGenerator.SetTextAndMappings(List`1 newCodeRanges)

   at Microsoft.WebTools.Languages.Razor.Core.RazorCodeGenerator.<>c__DisplayClass80_0.<OnDocumentStructureChanged>b__0()

   at Microsoft.WebTools.Languages.Shared.Editor.Utility.GuardedOperations.InvokeExtensionPoint(Object errorSource Action action)

   at Microsoft.WebTools.Languages.Razor.Core.RazorCodeGenerator.OnDocumentStructureChanged(Object sender DocumentStructureChangedEventArgs e)

   at Microsoft.VisualStudio.Editor.Razor.DefaultVisualStudioRazorParser.OnDocumentStructureChanged(Object state)

   at System.Threading.Tasks.Task.InnerInvoke()

   at System.Threading.Tasks.Task.Execute()

   at System.Threading.Tasks.Task.ExecutionContextCallback(Object obj)

   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext ContextCallback callback Object state Boolean preserveSyncCtx)

   at System.Threading.ExecutionContext.Run(ExecutionContext executionContext ContextCallback callback Object state Boolean preserveSyncCtx)

   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot)

   at System.Threading.Tasks.Task.ExecuteEntry(Boolean bPreventDoubleExecution)

   at System.Threading.Tasks.SynchronizationContextTaskScheduler.PostCallback(Object obj)

   at Microsoft.VisualStudio.Threading.JoinableTaskFactory.SingleExecuteProtector.TryExecute()

   at Microsoft.VisualStudio.Threading.JoinableTaskFactory.SingleExecuteProtector.<>c.<.cctor>b__20_0(Object state)

   at System.Windows.Threading.ExceptionWrapper.InternalRealCall(Delegate callback Object args Int32 numArgs)

   at System.Windows.Threading.ExceptionWrapper.TryCatchWhen(Object source Delegate callback Object args Int32 numArgs Delegate catchHandler)

   at System.Windows.Threading.DispatcherOperation.InvokeImpl()

   at System.Windows.Threading.DispatcherOperation.InvokeInSecurityContext(Object state)

   at MS.Internal.CulturePreservingExecutionContext.CallbackWrapper(Object obj)

   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext ContextCallback callback Object state Boolean preserveSyncCtx)

   at System.Threading.ExecutionContext.Run(ExecutionContext executionContext ContextCallback callback Object state Boolean preserveSyncCtx)

   at System.Threading.ExecutionContext.Run(ExecutionContext executionContext ContextCallback callback Object state)

   at MS.Internal.CulturePreservingExecutionContext.Run(CulturePreservingExecutionContext executionContext ContextCallback callback Object state)

   at System.Windows.Threading.DispatcherOperation.Invoke()

   at System.Windows.Threading.Dispatcher.ProcessQueue()

   at System.Windows.Threading.Dispatcher.WndProcHook(IntPtr hwnd Int32 msg IntPtr wParam IntPtr lParam Boolean& handled)

   at MS.Win32.HwndWrapper.WndProc(IntPtr hwnd Int32 msg IntPtr wParam IntPtr lParam Boolean& handled)

   at MS.Win32.HwndSubclass.DispatcherCallbackOperation(Object o)

   at System.Windows.Threading.ExceptionWrapper.InternalRealCall(Delegate callback Object args Int32 numArgs)

   at System.Windows.Threading.ExceptionWrapper.TryCatchWhen(Object source Delegate callback Object args Int32 numArgs Delegate catchHandler)

   at System.Windows.Threading.Dispatcher.LegacyInvokeImpl(DispatcherPriority priority TimeSpan timeout Delegate method Object args Int32 numArgs)

   at MS.Win32.HwndSubclass.SubclassWndProc(IntPtr hwnd Int32 msg IntPtr wParam IntPtr lParam)

```

Followed by an exception:
```
>	System.Core.dll!System.Linq.Enumerable.Single<Microsoft.VisualStudio.Text.SnapshotSpan>(System.Collections.Generic.IEnumerable<Microsoft.VisualStudio.Text.SnapshotSpan> source) Line 1173	C#
 	Microsoft.CodeAnalysis.EditorFeatures.Wpf.dll!Microsoft.CodeAnalysis.Editor.Implementation.InlineRename.InlineRenameSession.OpenTextBufferManager.OnTextBufferChanged(object sender Microsoft.VisualStudio.Text.TextContentChangedEventArgs args) Line 247	C#
 	Microsoft.VisualStudio.Platform.VSEditor.dll!Microsoft.VisualStudio.Text.Utilities.GuardedOperations.RaiseEvent<Microsoft.VisualStudio.Text.TextContentChangedEventArgs>(object sender System.EventHandler<Microsoft.VisualStudio.Text.TextContentChangedEventArgs> eventHandlers Microsoft.VisualStudio.Text.TextContentChangedEventArgs args) Line 546	C#
 	Microsoft.VisualStudio.Platform.VSEditor.dll!Microsoft.VisualStudio.Text.Implementation.BaseBuffer.RawRaiseEvent(Microsoft.VisualStudio.Text.TextContentChangedEventArgs args bool immediate) Line 1061	C#
 	Microsoft.VisualStudio.Platform.VSEditor.dll!Microsoft.VisualStudio.Text.Projection.Implementation.ProjectionBuffer.SourceSpansChangedEventRaiser.RaiseEvent(Microsoft.VisualStudio.Text.Implementation.BaseBuffer baseBuffer bool immediate) Line 362	C#
 	Microsoft.VisualStudio.Platform.VSEditor.dll!Microsoft.VisualStudio.Text.Implementation.BufferGroup.RaiseEvents() Line 626	C#
 	Microsoft.VisualStudio.Platform.VSEditor.dll!Microsoft.VisualStudio.Text.Implementation.BufferGroup.FinishEdit() Line 586	C#
 	Microsoft.VisualStudio.Platform.VSEditor.dll!Microsoft.VisualStudio.Text.Projection.Implementation.ProjectionBuffer.SpanEdit.ReplaceSpans(int position int spansToReplace System.Collections.Generic.IList<object> spansToInsert Microsoft.VisualStudio.Text.EditOptions options object editTag) Line 758	C#
 	Microsoft.VisualStudio.Platform.VSEditor.dll!Microsoft.VisualStudio.Text.Projection.Implementation.ProjectionBuffer.ReplaceSpans(int position int spansToReplace System.Collections.Generic.IList<object> spansToInsert Microsoft.VisualStudio.Text.EditOptions options object editTag) Line 995	C#
 	Microsoft.WebTools.Languages.Html.Editor.dll!Microsoft.WebTools.Languages.Html.Editor.Projection.LanguageProjectionManager.UpdateTextBuffer(Microsoft.WebTools.Languages.Html.Editor.Projection.ProjectionMapping[] mappings string fullLangBufferText) Line 156	C#
 	Microsoft.WebTools.Languages.Html.Editor.dll!Microsoft.WebTools.Languages.Html.Editor.Projection.LanguageProjectionManager.SetMappingsHelper(Microsoft.WebTools.Languages.Html.Editor.Projection.ProjectionMapping[] mappings string fullLangBufferText) Line 214	C#
 	Microsoft.WebTools.Languages.Html.Editor.dll!Microsoft.WebTools.Languages.Html.Editor.Projection.LanguageProjectionBuffer.SetTextAndMappings(string text Microsoft.WebTools.Languages.Html.Editor.Projection.ProjectionMapping[] mappings) Line 34	C#
 	Microsoft.WebTools.Languages.Razor.Core.dll!Microsoft.WebTools.Languages.Razor.Core.RazorCodeGenerator.SetTextAndMappings(System.Collections.Generic.List<Microsoft.WebTools.Languages.Html.Editor.ContainedLanguage.Razor.RazorRange> newCodeRanges) Line 873	C#
 	Microsoft.WebTools.Languages.Razor.Core.dll!Microsoft.WebTools.Languages.Razor.Core.RazorCodeGenerator.OnDocumentStructureChanged.AnonymousMethod__0() Line 345	C#
 	Microsoft.WebTools.Languages.Shared.Editor.dll!Microsoft.WebTools.Languages.Shared.Editor.Utility.GuardedOperations.InvokeExtensionPoint(object errorSource System.Action action) Line 84	C#
 	Microsoft.WebTools.Languages.Razor.Core.dll!Microsoft.WebTools.Languages.Razor.Core.RazorCodeGenerator.OnDocumentStructureChanged(object sender Microsoft.VisualStudio.Editor.Razor.DocumentStructureChangedEventArgs e) Line 366	C#
 	Microsoft.VisualStudio.Editor.Razor.dll!Microsoft.VisualStudio.Editor.Razor.DefaultVisualStudioRazorParser.OnDocumentStructureChanged(object state) Line 472	C#

```

","Inline rename throws InvalidOperationException in ASP.NET Core page **Version Used**: 

**Steps to Reproduce**:

1. Create an ASP.NET Core Web App
2. Open `Error.cshtml`.
3. Rename `ErrorModel` class to `ErrorModel2` (Ctrl+R+R).

**Expected Behavior**:

**Actual Behavior**:

Assertion failed:

```
---------------------------
Assertion Failed: Abort=Quit Retry=Debug Ignore=Continue
---------------------------




   at Microsoft.CodeAnalysis.Editor.Implementation.InlineRename.InlineRenameSession.OpenTextBufferManager.OnTextBufferChanged(Object sender TextContentChangedEventArgs args)

   at Microsoft.VisualStudio.Text.Utilities.GuardedOperations.RaiseEvent[TArgs](Object sender EventHandler`1 eventHandlers TArgs args)

   at Microsoft.VisualStudio.Text.Implementation.BaseBuffer.RawRaiseEvent(TextContentChangedEventArgs args Boolean immediate)

   at Microsoft.VisualStudio.Text.Projection.Implementation.ProjectionBuffer.SourceSpansChangedEventRaiser.RaiseEvent(BaseBuffer baseBuffer Boolean immediate)

   at Microsoft.VisualStudio.Text.Implementation.BufferGroup.RaiseEvents()

   at Microsoft.VisualStudio.Text.Implementation.BufferGroup.FinishEdit()

   at Microsoft.VisualStudio.Text.Projection.Implementation.ProjectionBuffer.SpanEdit.ReplaceSpans(Int32 position Int32 spansToReplace IList`1 spansToInsert EditOptions options Object editTag)

   at Microsoft.VisualStudio.Text.Projection.Implementation.ProjectionBuffer.ReplaceSpans(Int32 position Int32 spansToReplace IList`1 spansToInsert EditOptions options Object editTag)

   at Microsoft.WebTools.Languages.Html.Editor.Projection.LanguageProjectionManager.UpdateTextBuffer(ProjectionMapping[] mappings String fullLangBufferText)

   at Microsoft.WebTools.Languages.Html.Editor.Projection.LanguageProjectionManager.SetMappingsHelper(ProjectionMapping[] mappings String fullLangBufferText)

   at Microsoft.WebTools.Languages.Html.Editor.Projection.LanguageProjectionBuffer.SetTextAndMappings(String text ProjectionMapping[] mappings)

   at Microsoft.WebTools.Languages.Razor.Core.RazorCodeGenerator.SetTextAndMappings(List`1 newCodeRanges)

   at Microsoft.WebTools.Languages.Razor.Core.RazorCodeGenerator.<>c__DisplayClass80_0.<OnDocumentStructureChanged>b__0()

   at Microsoft.WebTools.Languages.Shared.Editor.Utility.GuardedOperations.InvokeExtensionPoint(Object errorSource Action action)

   at Microsoft.WebTools.Languages.Razor.Core.RazorCodeGenerator.OnDocumentStructureChanged(Object sender DocumentStructureChangedEventArgs e)

   at Microsoft.VisualStudio.Editor.Razor.DefaultVisualStudioRazorParser.OnDocumentStructureChanged(Object state)

   at System.Threading.Tasks.Task.InnerInvoke()

   at System.Threading.Tasks.Task.Execute()

   at System.Threading.Tasks.Task.ExecutionContextCallback(Object obj)

   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext ContextCallback callback Object state Boolean preserveSyncCtx)

   at System.Threading.ExecutionContext.Run(ExecutionContext executionContext ContextCallback callback Object state Boolean preserveSyncCtx)

   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot)

   at System.Threading.Tasks.Task.ExecuteEntry(Boolean bPreventDoubleExecution)

   at System.Threading.Tasks.SynchronizationContextTaskScheduler.PostCallback(Object obj)

   at Microsoft.VisualStudio.Threading.JoinableTaskFactory.SingleExecuteProtector.TryExecute()

   at Microsoft.VisualStudio.Threading.JoinableTaskFactory.SingleExecuteProtector.<>c.<.cctor>b__20_0(Object state)

   at System.Windows.Threading.ExceptionWrapper.InternalRealCall(Delegate callback Object args Int32 numArgs)

   at System.Windows.Threading.ExceptionWrapper.TryCatchWhen(Object source Delegate callback Object args Int32 numArgs Delegate catchHandler)

   at System.Windows.Threading.DispatcherOperation.InvokeImpl()

   at System.Windows.Threading.DispatcherOperation.InvokeInSecurityContext(Object state)

   at MS.Internal.CulturePreservingExecutionContext.CallbackWrapper(Object obj)

   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext ContextCallback callback Object state Boolean preserveSyncCtx)

   at System.Threading.ExecutionContext.Run(ExecutionContext executionContext ContextCallback callback Object state Boolean preserveSyncCtx)

   at System.Threading.ExecutionContext.Run(ExecutionContext executionContext ContextCallback callback Object state)

   at MS.Internal.CulturePreservingExecutionContext.Run(CulturePreservingExecutionContext executionContext ContextCallback callback Object state)

   at System.Windows.Threading.DispatcherOperation.Invoke()

   at System.Windows.Threading.Dispatcher.ProcessQueue()

   at System.Windows.Threading.Dispatcher.WndProcHook(IntPtr hwnd Int32 msg IntPtr wParam IntPtr lParam Boolean& handled)

   at MS.Win32.HwndWrapper.WndProc(IntPtr hwnd Int32 msg IntPtr wParam IntPtr lParam Boolean& handled)

   at MS.Win32.HwndSubclass.DispatcherCallbackOperation(Object o)

   at System.Windows.Threading.ExceptionWrapper.InternalRealCall(Delegate callback Object args Int32 numArgs)

   at System.Windows.Threading.ExceptionWrapper.TryCatchWhen(Object source Delegate callback Object args Int32 numArgs Delegate catchHandler)

   at System.Windows.Threading.Dispatcher.LegacyInvokeImpl(DispatcherPriority priority TimeSpan timeout Delegate method Object args Int32 numArgs)

   at MS.Win32.HwndSubclass.SubclassWndProc(IntPtr hwnd Int32 msg IntPtr wParam IntPtr lParam)

```

Followed by an exception:
```
>	System.Core.dll!System.Linq.Enumerable.Single<Microsoft.VisualStudio.Text.SnapshotSpan>(System.Collections.Generic.IEnumerable<Microsoft.VisualStudio.Text.SnapshotSpan> source) Line 1173	C#
 	Microsoft.CodeAnalysis.EditorFeatures.Wpf.dll!Microsoft.CodeAnalysis.Editor.Implementation.InlineRename.InlineRenameSession.OpenTextBufferManager.OnTextBufferChanged(object sender Microsoft.VisualStudio.Text.TextContentChangedEventArgs args) Line 247	C#
 	Microsoft.VisualStudio.Platform.VSEditor.dll!Microsoft.VisualStudio.Text.Utilities.GuardedOperations.RaiseEvent<Microsoft.VisualStudio.Text.TextContentChangedEventArgs>(object sender System.EventHandler<Microsoft.VisualStudio.Text.TextContentChangedEventArgs> eventHandlers Microsoft.VisualStudio.Text.TextContentChangedEventArgs args) Line 546	C#
 	Microsoft.VisualStudio.Platform.VSEditor.dll!Microsoft.VisualStudio.Text.Implementation.BaseBuffer.RawRaiseEvent(Microsoft.VisualStudio.Text.TextContentChangedEventArgs args bool immediate) Line 1061	C#
 	Microsoft.VisualStudio.Platform.VSEditor.dll!Microsoft.VisualStudio.Text.Projection.Implementation.ProjectionBuffer.SourceSpansChangedEventRaiser.RaiseEvent(Microsoft.VisualStudio.Text.Implementation.BaseBuffer baseBuffer bool immediate) Line 362	C#
 	Microsoft.VisualStudio.Platform.VSEditor.dll!Microsoft.VisualStudio.Text.Implementation.BufferGroup.RaiseEvents() Line 626	C#
 	Microsoft.VisualStudio.Platform.VSEditor.dll!Microsoft.VisualStudio.Text.Implementation.BufferGroup.FinishEdit() Line 586	C#
 	Microsoft.VisualStudio.Platform.VSEditor.dll!Microsoft.VisualStudio.Text.Projection.Implementation.ProjectionBuffer.SpanEdit.ReplaceSpans(int position int spansToReplace System.Collections.Generic.IList<object> spansToInsert Microsoft.VisualStudio.Text.EditOptions options object editTag) Line 758	C#
 	Microsoft.VisualStudio.Platform.VSEditor.dll!Microsoft.VisualStudio.Text.Projection.Implementation.ProjectionBuffer.ReplaceSpans(int position int spansToReplace System.Collections.Generic.IList<object> spansToInsert Microsoft.VisualStudio.Text.EditOptions options object editTag) Line 995	C#
 	Microsoft.WebTools.Languages.Html.Editor.dll!Microsoft.WebTools.Languages.Html.Editor.Projection.LanguageProjectionManager.UpdateTextBuffer(Microsoft.WebTools.Languages.Html.Editor.Projection.ProjectionMapping[] mappings string fullLangBufferText) Line 156	C#
 	Microsoft.WebTools.Languages.Html.Editor.dll!Microsoft.WebTools.Languages.Html.Editor.Projection.LanguageProjectionManager.SetMappingsHelper(Microsoft.WebTools.Languages.Html.Editor.Projection.ProjectionMapping[] mappings string fullLangBufferText) Line 214	C#
 	Microsoft.WebTools.Languages.Html.Editor.dll!Microsoft.WebTools.Languages.Html.Editor.Projection.LanguageProjectionBuffer.SetTextAndMappings(string text Microsoft.WebTools.Languages.Html.Editor.Projection.ProjectionMapping[] mappings) Line 34	C#
 	Microsoft.WebTools.Languages.Razor.Core.dll!Microsoft.WebTools.Languages.Razor.Core.RazorCodeGenerator.SetTextAndMappings(System.Collections.Generic.List<Microsoft.WebTools.Languages.Html.Editor.ContainedLanguage.Razor.RazorRange> newCodeRanges) Line 873	C#
 	Microsoft.WebTools.Languages.Razor.Core.dll!Microsoft.WebTools.Languages.Razor.Core.RazorCodeGenerator.OnDocumentStructureChanged.AnonymousMethod__0() Line 345	C#
 	Microsoft.WebTools.Languages.Shared.Editor.dll!Microsoft.WebTools.Languages.Shared.Editor.Utility.GuardedOperations.InvokeExtensionPoint(object errorSource System.Action action) Line 84	C#
 	Microsoft.WebTools.Languages.Razor.Core.dll!Microsoft.WebTools.Languages.Razor.Core.RazorCodeGenerator.OnDocumentStructureChanged(object sender Microsoft.VisualStudio.Editor.Razor.DocumentStructureChangedEventArgs e) Line 366	C#
 	Microsoft.VisualStudio.Editor.Razor.dll!Microsoft.VisualStudio.Editor.Razor.DefaultVisualStudioRazorParser.OnDocumentStructureChanged(object state) Line 472	C#

```

",Area-IDE|Bug|help wanted,tmat|jinujoseph,7/09/2019 4:45,
38556,Degraded nullable analysis with conditional expression of Generic type,"_This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/608446/degraded-nullable-analysis-with-conditional-expres.html)._

---
This code raised null reference warning at conditional expression assignment until on VS 16.2.0 Preview 1.0.
But now no warnings and happens NullReferenceException at runtime.
Please check below.

```csharp
#nullable enable
using System;

public class Program
{
    public static void Main()
    {
        var x = new Test<object>(new object());
        Console.WriteLine(x.Value.ToString()); // NullReferenceException here!
    }
}

public class Test<T>
{
    public T Value { get; }


    public Test(T value)
    {
        // this.Value = default; // this raises CS8602 correctly even at 16.2.0 Preview 2.0

        var dummyCond = value == null;
        this.Value = (dummyCond) ? value : default; // no nullable warnings since 16.2.0 Preview 2.0
    }
}
```

---
### Original Comments

#### Visual Studio Feedback System on 6/17/2019 03:47 AM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>

#### Visual Studio Feedback System on 6/17/2019 08:14 PM: 

<p>This issue is currently being investigated. Our team will get back to you if either more information is needed a workaround is available or the issue is resolved.</p>


---
### Original Solutions
(no solutions)","Degraded nullable analysis with conditional expression of Generic type _This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/608446/degraded-nullable-analysis-with-conditional-expres.html)._

---
This code raised null reference warning at conditional expression assignment until on VS 16.2.0 Preview 1.0.
But now no warnings and happens NullReferenceException at runtime.
Please check below.

```csharp
#nullable enable
using System;

public class Program
{
    public static void Main()
    {
        var x = new Test<object>(new object());
        Console.WriteLine(x.Value.ToString()); // NullReferenceException here!
    }
}

public class Test<T>
{
    public T Value { get; }


    public Test(T value)
    {
        // this.Value = default; // this raises CS8602 correctly even at 16.2.0 Preview 2.0

        var dummyCond = value == null;
        this.Value = (dummyCond) ? value : default; // no nullable warnings since 16.2.0 Preview 2.0
    }
}
```

---
### Original Comments

#### Visual Studio Feedback System on 6/17/2019 03:47 AM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>

#### Visual Studio Feedback System on 6/17/2019 08:14 PM: 

<p>This issue is currently being investigated. Our team will get back to you if either more information is needed a workaround is available or the issue is resolved.</p>


---
### Original Solutions
(no solutions)",Area-Compilers|Bug|New Language Feature - Nullable Reference Types,gafter|RikkiGibson,7/09/2019 4:27,
38555,FixupSpan tests are flaky,"The following two tests are failing in otherwise good builds:

- `CSharp_FixupSpanDuringResolvableConflict_ComplexificationReordersReferenceSpans`
- `VisualBasic_FixupSpanDuringResolvableConflict_NonReferenceConflict`

Error message: 

```
Assert.Equal() Failure\r\nExpected: WhereSelectEnumerableIterator<TextSpan Span> [[41..44) [177..180) [184..187)]\r\nActual: List<Span> [[41..44) [177..180) [177..180) [184..187) [184..187)]
```

Stack trace:

```
   at Microsoft.CodeAnalysis.Editor.UnitTests.Rename.RenameTagProducerTests.VB$StateMachine_8_VerifyTaggedSpansCore.MoveNext() in /_/src/EditorFeatures/Test2/Rename/RenameTagProducerTests.vb:line 91
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.CodeAnalysis.Editor.UnitTests.Rename.RenameTagProducerTests.VB$StateMachine_2_VerifyTaggedSpans.MoveNext() in /_/src/EditorFeatures/Test2/Rename/RenameTagProducerTests.vb:line 26
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.CodeAnalysis.Editor.UnitTests.Rename.RenameTagProducerTests.VB$StateMachine_6_VerifySpansBeforeConflictResolution.MoveNext() in /_/src/EditorFeatures/Test2/Rename/RenameTagProducerTests.vb:line 61
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.CodeAnalysis.Editor.UnitTests.Rename.RenameTagProducerTests.VB$StateMachine_28_CSharp_FixupSpanDuringResolvableConflict_ComplexificationReordersReferenceSpans.MoveNext() in /_/src/EditorFeatures/Test2/Rename/RenameTagProducerTests.vb:line 1383
--- End of stack trace from previous location where exception was thrown ---
```

","FixupSpan tests are flaky The following two tests are failing in otherwise good builds:

- `CSharp_FixupSpanDuringResolvableConflict_ComplexificationReordersReferenceSpans`
- `VisualBasic_FixupSpanDuringResolvableConflict_NonReferenceConflict`

Error message: 

```
Assert.Equal() Failure\r\nExpected: WhereSelectEnumerableIterator<TextSpan Span> [[41..44) [177..180) [184..187)]\r\nActual: List<Span> [[41..44) [177..180) [177..180) [184..187) [184..187)]
```

Stack trace:

```
   at Microsoft.CodeAnalysis.Editor.UnitTests.Rename.RenameTagProducerTests.VB$StateMachine_8_VerifyTaggedSpansCore.MoveNext() in /_/src/EditorFeatures/Test2/Rename/RenameTagProducerTests.vb:line 91
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.CodeAnalysis.Editor.UnitTests.Rename.RenameTagProducerTests.VB$StateMachine_2_VerifyTaggedSpans.MoveNext() in /_/src/EditorFeatures/Test2/Rename/RenameTagProducerTests.vb:line 26
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.CodeAnalysis.Editor.UnitTests.Rename.RenameTagProducerTests.VB$StateMachine_6_VerifySpansBeforeConflictResolution.MoveNext() in /_/src/EditorFeatures/Test2/Rename/RenameTagProducerTests.vb:line 61
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.CodeAnalysis.Editor.UnitTests.Rename.RenameTagProducerTests.VB$StateMachine_28_CSharp_FixupSpanDuringResolvableConflict_ComplexificationReordersReferenceSpans.MoveNext() in /_/src/EditorFeatures/Test2/Rename/RenameTagProducerTests.vb:line 1383
--- End of stack trace from previous location where exception was thrown ---
```

",Area-IDE|Disabled Test,sharwell,,
38554,IDE0018 removes necessary nullable annotations,"**Version Used**: 
3.4.0-beta1-19426-03+b18d90790da95b6862def56802fa4249e4868bb4

**Steps to Reproduce**:
```C#
#nullable enable
class Program
{
    static void Main()
    {
        string? result;
        TryGetValue(""hi"" out result);
    }

    static bool TryGetValue(string key out string? result)
    {
        result = null;
        return false;
    }
}
``` 

**Expected Behavior**:
IDE0018 offered and changes:
```C#
        string? result;
        TryGetValue(""hi"" out result);
```
into
```C#
        TryGetValue(""hi"" out string? result);
```

**Actual Behavior**:
IDE0018 offered and changes:
```C#
        string? result;
        TryGetValue(""hi"" out result);
```
into
```C#
        TryGetValue(""hi"" out string result);
```
which fails to compile with ""warning CS8600: Converting null literal or possible null value to non-nullable type."".","IDE0018 removes necessary nullable annotations **Version Used**: 
3.4.0-beta1-19426-03+b18d90790da95b6862def56802fa4249e4868bb4

**Steps to Reproduce**:
```C#
#nullable enable
class Program
{
    static void Main()
    {
        string? result;
        TryGetValue(""hi"" out result);
    }

    static bool TryGetValue(string key out string? result)
    {
        result = null;
        return false;
    }
}
``` 

**Expected Behavior**:
IDE0018 offered and changes:
```C#
        string? result;
        TryGetValue(""hi"" out result);
```
into
```C#
        TryGetValue(""hi"" out string? result);
```

**Actual Behavior**:
IDE0018 offered and changes:
```C#
        string? result;
        TryGetValue(""hi"" out result);
```
into
```C#
        TryGetValue(""hi"" out string result);
```
which fails to compile with ""warning CS8600: Converting null literal or possible null value to non-nullable type."".",Area-IDE|Bug|IDE-CodeStyle|New Language Feature - Nullable Reference Types|help wanted,sharwell|jasonmalinowski|jinujoseph,7/09/2019 4:21,
38553,Rewrite reference assemblies to include nullability annotations,"Update our **netstandard2.0** and **net472** builds to use new nullability annotations from **netcoreapp3.0** where available. Bugs found by this change were submitted as a separate pull request (#38551).

Submitting this pull request for personal review to see if it works with our CI before discussing it with infrastructure team.","Rewrite reference assemblies to include nullability annotations Update our **netstandard2.0** and **net472** builds to use new nullability annotations from **netcoreapp3.0** where available. Bugs found by this change were submitted as a separate pull request (#38551).

Submitting this pull request for personal review to see if it works with our CI before discussing it with infrastructure team.",PR For Personal Review Only,sharwell,7/09/2019 4:06,7/09/2019 5:28
38552,"IDE1006 doesn't provide a ""fix all""?","**Version Used**: 
3.4.0-beta1-19426-03+b18d90790da95b6862def56802fa4249e4868bb4

IDE1006 (naming violations) doesn't provide a ""fix all"".  My project has > 1000 violations; how do I fix them all based on my editorconfig settings without going through one-by-one?","IDE1006 doesn't provide a ""fix all""? **Version Used**: 
3.4.0-beta1-19426-03+b18d90790da95b6862def56802fa4249e4868bb4

IDE1006 (naming violations) doesn't provide a ""fix all"".  My project has > 1000 violations; how do I fix them all based on my editorconfig settings without going through one-by-one?",Area-IDE|Resolution-Duplicate,jaredpar|sharwell,7/09/2019 4:01,8/09/2019 3:22
38551,Fix inconsistencies with nullability annotations in the BCL,,Fix inconsistencies with nullability annotations in the BCL ,Area-IDE,sharwell|jinujoseph,7/09/2019 3:57,15/09/2019 6:24
38550,Reuse previously resolved missing assembly metadata objects when identity doesn't match,"Fixes https://github.com/dotnet/try/issues/345.

**Background**
When the compiler is resolving compilation references and encounters a reference whose assembly identity does not match any of the explicitly given references it falls back to a Reference Resolver. In regular compilation an error is reported since there is no Reference Resolver. Interactive compiler supplies a resolver that attempts to find the missing reference. 

Once the missing reference is found the compiler adds it to the list of implicitly resolved assemblies and if the same missing assembly identity is referenced later (by a subsequent submission) it reuses the assembly symbol from this list so that we don't end up loading multiple instances of the same missing assembly. [1]

The resolver may find an assembly that matches the name of the missing reference but doesn't match the version exactly. This is expected as a newer version of the assembly may be available than was referenced and the compiler correctly binds to the newer version. 

**Issues** 
The first submission added a reference to a netstandard20 library on .NET Core and the subsequent submission referenced a type from that library. The reference resolution in the compilation corresponding to the second submission ended up adding a new distinct reference to the library instead of reusing the one that was already resolved for the first submission compilation.

This was caused by mismatch in versions of some of the facades transitively referenced by the library thru `netstandard.dll` reference and resolved thru the missing reference resolution mechanism. The facades ware referenced with different versions than the actual versions available in the set of references the Reference Resolver resolved missing references from. The compiler ended up using two distinct instances of the same facade assembly metadata. An assembly symbol is only reused if all its transitively referenced assemblies match. In this case the library assembly symbol wasn't reused because some of the facade assembly symbols did not match.

The problem was that the mechanism [1] didn't reuse missing assembly metadata with a different version than what was requested. The fix is to reuse all successful resolutions based on referenced identity.

Another issue found during testing is handing resolution failures. We did not remember that a resolution of a given assembly identity failed and attempted to resolve the assembly again in the next submission. This may lead to inconsistencies and the same ""can't convert T to T"" errors since first submission might have a missing assembly symbol and next might create a real assembly symbol for the same assembly identity. The fix is to capture both successful and failed resolution results.","Reuse previously resolved missing assembly metadata objects when identity doesn't match Fixes https://github.com/dotnet/try/issues/345.

**Background**
When the compiler is resolving compilation references and encounters a reference whose assembly identity does not match any of the explicitly given references it falls back to a Reference Resolver. In regular compilation an error is reported since there is no Reference Resolver. Interactive compiler supplies a resolver that attempts to find the missing reference. 

Once the missing reference is found the compiler adds it to the list of implicitly resolved assemblies and if the same missing assembly identity is referenced later (by a subsequent submission) it reuses the assembly symbol from this list so that we don't end up loading multiple instances of the same missing assembly. [1]

The resolver may find an assembly that matches the name of the missing reference but doesn't match the version exactly. This is expected as a newer version of the assembly may be available than was referenced and the compiler correctly binds to the newer version. 

**Issues** 
The first submission added a reference to a netstandard20 library on .NET Core and the subsequent submission referenced a type from that library. The reference resolution in the compilation corresponding to the second submission ended up adding a new distinct reference to the library instead of reusing the one that was already resolved for the first submission compilation.

This was caused by mismatch in versions of some of the facades transitively referenced by the library thru `netstandard.dll` reference and resolved thru the missing reference resolution mechanism. The facades ware referenced with different versions than the actual versions available in the set of references the Reference Resolver resolved missing references from. The compiler ended up using two distinct instances of the same facade assembly metadata. An assembly symbol is only reused if all its transitively referenced assemblies match. In this case the library assembly symbol wasn't reused because some of the facade assembly symbols did not match.

The problem was that the mechanism [1] didn't reuse missing assembly metadata with a different version than what was requested. The fix is to reuse all successful resolutions based on referenced identity.

Another issue found during testing is handing resolution failures. We did not remember that a resolution of a given assembly identity failed and attempted to resolve the assembly again in the next submission. This may lead to inconsistencies and the same ""can't convert T to T"" errors since first submission might have a missing assembly symbol and next might create a real assembly symbol for the same assembly identity. The fix is to capture both successful and failed resolution results.",Area-Compilers,tmat|rchande|ManishJayaswal|AlekseyTs|jaredpar|agocke|333fred|gafter|RikkiGibson|VSadov|cston|jcouv|chsienki|fayrose,7/09/2019 3:49,17/09/2019 12:23
38548,Null dereference warning within local function,"The compiler generates a warning for `y.ToString()` in 16.4 but no warning in 16.3.
```C#
class Program
{
    static void F(System.Action a) { }

    static void M(string? x)
    {
        string? y = x;
        if (y == null) return;

        F(Local);
        return;

        void Local()
        {
            y.ToString();
        }
    }
}
```","Null dereference warning within local function The compiler generates a warning for `y.ToString()` in 16.4 but no warning in 16.3.
```C#
class Program
{
    static void F(System.Action a) { }

    static void M(string? x)
    {
        string? y = x;
        if (y == null) return;

        F(Local);
        return;

        void Local()
        {
            y.ToString();
        }
    }
}
```",Area-Compilers|Bug|New Language Feature - Nullable Reference Types,agocke,,
38547,[MaybeNullWhen(false)] results in disagreement between IntelliSense and compiler,"**Version Used**: 
3.4.0-beta1-19426-03+b18d90790da95b6862def56802fa4249e4868bb4

**Steps to Reproduce**:
```C#
#nullable enable
using System.Diagnostics.CodeAnalysis;

class Program
{
    static void Main()
    {
        var d = new MyDictionary<string string>();
        d.TryGetValue(""hello"" out string? s1);
        d.TryGetValue(""hello"" out string s2);
    }
}

class MyDictionary<TKey TValue>
{
    public bool TryGetValue(TKey key [MaybeNullWhen(false)] out TKey value)
    {
        value = default!;
        return false;
    }
}
```

**Expected Behavior**:
The compiler's needs and IntelliSense match.

**Actual Behavior**:
The compiler requires a `?` on the `out` argument but IntelliSense doesn't include one:
![image](https://user-images.githubusercontent.com/2642209/64430139-99bc6800-d085-11e9-9e6a-c77ecf63be5e.png)
","[MaybeNullWhen(false)] results in disagreement between IntelliSense and compiler **Version Used**: 
3.4.0-beta1-19426-03+b18d90790da95b6862def56802fa4249e4868bb4

**Steps to Reproduce**:
```C#
#nullable enable
using System.Diagnostics.CodeAnalysis;

class Program
{
    static void Main()
    {
        var d = new MyDictionary<string string>();
        d.TryGetValue(""hello"" out string? s1);
        d.TryGetValue(""hello"" out string s2);
    }
}

class MyDictionary<TKey TValue>
{
    public bool TryGetValue(TKey key [MaybeNullWhen(false)] out TKey value)
    {
        value = default!;
        return false;
    }
}
```

**Expected Behavior**:
The compiler's needs and IntelliSense match.

**Actual Behavior**:
The compiler requires a `?` on the `out` argument but IntelliSense doesn't include one:
![image](https://user-images.githubusercontent.com/2642209/64430139-99bc6800-d085-11e9-9e6a-c77ecf63be5e.png)
",Area-IDE|Bug|New Language Feature - Nullable Reference Types,stephentoub|jcouv|jasonmalinowski|jaredpar|sharwell|RikkiGibson|jinujoseph,6/09/2019 23:06,
38546,Unused interpolated string (with nothing to interpolate) should produce warning similar to unused string literal,"```csharp
var x = $""Some string"";
```

**Actual Behavior**:
I think the previous code is transformed into a `String.Format` method call even if there are no `{ }` between the double quotes.

**Expected Behavior**:
It's better if the `$` is just ignored and the code is treated as

```csharp
var x = ""Some string"";
```

====

**Update:**

As pointed by @huoyaoyuan  The compiler seem to really ignore the `$` when there is nothing to interpolate. but the following two lines behave differently for warnings:

```csharp
void Main()
{
	var x1 = ""abc""; // Warning: CS0219
	var x2 = $""abc""; // No-warnings.
}
```","Unused interpolated string (with nothing to interpolate) should produce warning similar to unused string literal ```csharp
var x = $""Some string"";
```

**Actual Behavior**:
I think the previous code is transformed into a `String.Format` method call even if there are no `{ }` between the double quotes.

**Expected Behavior**:
It's better if the `$` is just ignored and the code is treated as

```csharp
var x = ""Some string"";
```

====

**Update:**

As pointed by @huoyaoyuan  The compiler seem to really ignore the `$` when there is nothing to interpolate. but the following two lines behave differently for warnings:

```csharp
void Main()
{
	var x1 = ""abc""; // Warning: CS0219
	var x2 = $""abc""; // No-warnings.
}
```",Area-Compilers|Concept-Design Debt|help wanted,jcouv|huoyaoyuan|RikkiGibson|gafter,6/09/2019 23:04,
38545,"Fix and enable VSTHRD100 ""Avoid async void methods""",moving to new VS SDK introduced new warning VSTHRD100 abd VSSDK006 which is suppressed for now. @sharwell  want to enable those.,"Fix and enable VSTHRD100 ""Avoid async void methods"" moving to new VS SDK introduced new warning VSTHRD100 abd VSSDK006 which is suppressed for now. @sharwell  want to enable those.",Area-IDE|Concept-Continuous Improvement|help wanted,sharwell|jaredpar|heejaechang|jinujoseph,6/09/2019 21:47,
38544,Fix incomplete attribute causing exc. in IsOnHeaderXXX methods #38502,,Fix incomplete attribute causing exc. in IsOnHeaderXXX methods #38502 ,Area-IDE,petrroll,6/09/2019 18:46,7/09/2019 5:43
38543,Ternary operator in async method crashes the compiler,"**Version Used**: 3.2.1-beta4-19408-03 (2fc6a049) included with the Visual Studio 2019 (16.2.4)

**Steps to Reproduce**:
```C#
using System;
using System.Threading.Tasks;

class Program
{
    static Task Foo(bool b) => Bar(async () =>
        b ? await Task.Delay(1) : await Task.Delay(2));

    static T Bar<T>(Func<T> f) => f();

    static void Main(string[] args) {}
}
```
This code crashes the compiler with the following stack:
<details>
  <summary>Stack trace</summary>

```
  Message: System.NullReferenceException: Object reference not set to an instance of an object.
   at Microsoft.CodeAnalysis.CSharp.AsyncMethodToStateMachineRewriter.VisitExpressionStatement(BoundExpressionStatement node)
   at Microsoft.CodeAnalysis.CSharp.BoundTreeRewriterWithStackGuard.Visit(BoundNode node)
   at Microsoft.CodeAnalysis.CSharp.MethodToStateMachineRewriter.Visit(BoundNode node)
   at Microsoft.CodeAnalysis.CSharp.BoundTreeRewriter.DoVisitList[T](ImmutableArray`1 list)
   at Microsoft.CodeAnalysis.CSharp.Symbols.MethodToClassRewriter.VisitBlock(BoundBlock node)
   at Microsoft.CodeAnalysis.CSharp.MethodToStateMachineRewriter.<>c__DisplayClass41_0.<VisitBlock>b__0()
   at Microsoft.CodeAnalysis.CSharp.MethodToStateMachineRewriter.PossibleIteratorScope(ImmutableArray`1 locals Func`1 wrapped)
   at Microsoft.CodeAnalysis.CSharp.BoundTreeRewriterWithStackGuard.Visit(BoundNode node)
   at Microsoft.CodeAnalysis.CSharp.MethodToStateMachineRewriter.Visit(BoundNode node)
   at Microsoft.CodeAnalysis.CSharp.BoundTreeRewriter.DoVisitList[T](ImmutableArray`1 list)
   at Microsoft.CodeAnalysis.CSharp.Symbols.MethodToClassRewriter.VisitBlock(BoundBlock node)
   at Microsoft.CodeAnalysis.CSharp.MethodToStateMachineRewriter.<>c__DisplayClass41_0.<VisitBlock>b__0()
   at Microsoft.CodeAnalysis.CSharp.MethodToStateMachineRewriter.PossibleIteratorScope(ImmutableArray`1 locals Func`1 wrapped)
   at Microsoft.CodeAnalysis.CSharp.BoundTreeRewriterWithStackGuard.Visit(BoundNode node)
   at Microsoft.CodeAnalysis.CSharp.MethodToStateMachineRewriter.Visit(BoundNode node)
   at Microsoft.CodeAnalysis.CSharp.BoundTreeRewriter.DoVisitList[T](ImmutableArray`1 list)
   at Microsoft.CodeAnalysis.CSharp.Symbols.MethodToClassRewriter.VisitBlock(BoundBlock node)
   at Microsoft.CodeAnalysis.CSharp.MethodToStateMachineRewriter.<>c__DisplayClass41_0.<VisitBlock>b__0()
   at Microsoft.CodeAnalysis.CSharp.MethodToStateMachineRewriter.PossibleIteratorScope(ImmutableArray`1 locals Func`1 wrapped)
   at Microsoft.CodeAnalysis.CSharp.BoundTreeRewriterWithStackGuard.Visit(BoundNode node)
   at Microsoft.CodeAnalysis.CSharp.MethodToStateMachineRewriter.Visit(BoundNode node)
   at Microsoft.CodeAnalysis.CSharp.BoundTreeRewriter.DoVisitList[T](ImmutableArray`1 list)
   at Microsoft.CodeAnalysis.CSharp.Symbols.MethodToClassRewriter.VisitBlock(BoundBlock node)
   at Microsoft.CodeAnalysis.CSharp.MethodToStateMachineRewriter.<>c__DisplayClass41_0.<VisitBlock>b__0()
   at Microsoft.CodeAnalysis.CSharp.MethodToStateMachineRewriter.PossibleIteratorScope(ImmutableArray`1 locals Func`1 wrapped)
   at Microsoft.CodeAnalysis.CSharp.BoundTreeRewriterWithStackGuard.Visit(BoundNode node)
   at Microsoft.CodeAnalysis.CSharp.MethodToStateMachineRewriter.Visit(BoundNode node)
   at Microsoft.CodeAnalysis.CSharp.AsyncMethodToStateMachineRewriter.VisitBody(BoundStatement body)
   at Microsoft.CodeAnalysis.CSharp.AsyncMethodToStateMachineRewriter.GenerateMoveNext(BoundStatement body MethodSymbol moveNextMethod)
   at Microsoft.CodeAnalysis.CSharp.AsyncRewriter.GenerateMoveNext(SynthesizedImplementationMethod moveNextMethod)
   at Microsoft.CodeAnalysis.CSharp.AsyncRewriter.GenerateMethodImplementations()
   at Microsoft.CodeAnalysis.CSharp.StateMachineRewriter.Rewrite()
   at Microsoft.CodeAnalysis.CSharp.AsyncRewriter.Rewrite(BoundStatement bodyWithAwaitLifted MethodSymbol method Int32 methodOrdinal VariableSlotAllocator slotAllocatorOpt TypeCompilationState compilationState DiagnosticBag diagnostics AsyncStateMachine& stateMachineType)
   at Microsoft.CodeAnalysis.CSharp.MethodCompiler.CompileSynthesizedMethods(TypeCompilationState compilationState)
   at Microsoft.CodeAnalysis.CSharp.MethodCompiler.CompileNamedType(NamedTypeSymbol containingType)
   at Microsoft.CodeAnalysis.CSharp.MethodCompiler.<>c__DisplayClass22_0.<CompileNamedTypeAsTask>b__0()
Stack Trace:
   at System.Environment.FailFast(System.String System.Exception)
   at Microsoft.CodeAnalysis.FatalError.ReportUnlessCanceled(System.Exception)
   at Microsoft.CodeAnalysis.CSharp.MethodCompiler+<>c__DisplayClass22_0.<CompileNamedTypeAsTask>b__0()
   at Microsoft.CodeAnalysis.CSharp.AsyncMethodToStateMachineRewriter.VisitExpressionStatement(Microsoft.CodeAnalysis.CSharp.BoundExpressionStatement)
   at Microsoft.CodeAnalysis.CSharp.BoundTreeRewriterWithStackGuard.Visit(Microsoft.CodeAnalysis.CSharp.BoundNode)
   at Microsoft.CodeAnalysis.CSharp.MethodToStateMachineRewriter.Visit(Microsoft.CodeAnalysis.CSharp.BoundNode)
   at Microsoft.CodeAnalysis.CSharp.BoundTreeRewriter.DoVisitList[[System.__Canon mscorlib Version=4.0.0.0 Culture=neutral PublicKeyToken=b77a5c561934e089]](System.Collections.Immutable.ImmutableArray`1<System.__Canon>)
   at Microsoft.CodeAnalysis.CSharp.Symbols.MethodToClassRewriter.VisitBlock(Microsoft.CodeAnalysis.CSharp.BoundBlock)
   at Microsoft.CodeAnalysis.CSharp.MethodToStateMachineRewriter+<>c__DisplayClass41_0.<VisitBlock>b__0()
   at Microsoft.CodeAnalysis.CSharp.MethodToStateMachineRewriter.PossibleIteratorScope(System.Collections.Immutable.ImmutableArray`1<Microsoft.CodeAnalysis.CSharp.Symbols.LocalSymbol> System.Func`1<Microsoft.CodeAnalysis.CSharp.BoundStatement>)
   at Microsoft.CodeAnalysis.CSharp.BoundTreeRewriterWithStackGuard.Visit(Microsoft.CodeAnalysis.CSharp.BoundNode)
   at Microsoft.CodeAnalysis.CSharp.MethodToStateMachineRewriter.Visit(Microsoft.CodeAnalysis.CSharp.BoundNode)
   at Microsoft.CodeAnalysis.CSharp.BoundTreeRewriter.DoVisitList[[System.__Canon mscorlib Version=4.0.0.0 Culture=neutral PublicKeyToken=b77a5c561934e089]](System.Collections.Immutable.ImmutableArray`1<System.__Canon>)
   at Microsoft.CodeAnalysis.CSharp.Symbols.MethodToClassRewriter.VisitBlock(Microsoft.CodeAnalysis.CSharp.BoundBlock)
   at Microsoft.CodeAnalysis.CSharp.MethodToStateMachineRewriter+<>c__DisplayClass41_0.<VisitBlock>b__0()
   at Microsoft.CodeAnalysis.CSharp.MethodToStateMachineRewriter.PossibleIteratorScope(System.Collections.Immutable.ImmutableArray`1<Microsoft.CodeAnalysis.CSharp.Symbols.LocalSymbol> System.Func`1<Microsoft.CodeAnalysis.CSharp.BoundStatement>)
   at Microsoft.CodeAnalysis.CSharp.BoundTreeRewriterWithStackGuard.Visit(Microsoft.CodeAnalysis.CSharp.BoundNode)
   at Microsoft.CodeAnalysis.CSharp.MethodToStateMachineRewriter.Visit(Microsoft.CodeAnalysis.CSharp.BoundNode)
   at Microsoft.CodeAnalysis.CSharp.BoundTreeRewriter.DoVisitList[[System.__Canon mscorlib Version=4.0.0.0 Culture=neutral PublicKeyToken=b77a5c561934e089]](System.Collections.Immutable.ImmutableArray`1<System.__Canon>)
   at Microsoft.CodeAnalysis.CSharp.Symbols.MethodToClassRewriter.VisitBlock(Microsoft.CodeAnalysis.CSharp.BoundBlock)
   at Microsoft.CodeAnalysis.CSharp.MethodToStateMachineRewriter+<>c__DisplayClass41_0.<VisitBlock>b__0()
   at Microsoft.CodeAnalysis.CSharp.MethodToStateMachineRewriter.PossibleIteratorScope(System.Collections.Immutable.ImmutableArray`1<Microsoft.CodeAnalysis.CSharp.Symbols.LocalSymbol> System.Func`1<Microsoft.CodeAnalysis.CSharp.BoundStatement>)
   at Microsoft.CodeAnalysis.CSharp.BoundTreeRewriterWithStackGuard.Visit(Microsoft.CodeAnalysis.CSharp.BoundNode)
   at Microsoft.CodeAnalysis.CSharp.MethodToStateMachineRewriter.Visit(Microsoft.CodeAnalysis.CSharp.BoundNode)
   at Microsoft.CodeAnalysis.CSharp.BoundTreeRewriter.DoVisitList[[System.__Canon mscorlib Version=4.0.0.0 Culture=neutral PublicKeyToken=b77a5c561934e089]](System.Collections.Immutable.ImmutableArray`1<System.__Canon>)
   at Microsoft.CodeAnalysis.CSharp.Symbols.MethodToClassRewriter.VisitBlock(Microsoft.CodeAnalysis.CSharp.BoundBlock)
   at Microsoft.CodeAnalysis.CSharp.MethodToStateMachineRewriter+<>c__DisplayClass41_0.<VisitBlock>b__0()
   at Microsoft.CodeAnalysis.CSharp.MethodToStateMachineRewriter.PossibleIteratorScope(System.Collections.Immutable.ImmutableArray`1<Microsoft.CodeAnalysis.CSharp.Symbols.LocalSymbol> System.Func`1<Microsoft.CodeAnalysis.CSharp.BoundStatement>)
   at Microsoft.CodeAnalysis.CSharp.BoundTreeRewriterWithStackGuard.Visit(Microsoft.CodeAnalysis.CSharp.BoundNode)
   at Microsoft.CodeAnalysis.CSharp.MethodToStateMachineRewriter.Visit(Microsoft.CodeAnalysis.CSharp.BoundNode)
   at Microsoft.CodeAnalysis.CSharp.AsyncMethodToStateMachineRewriter.VisitBody(Microsoft.CodeAnalysis.CSharp.BoundStatement)
   at Microsoft.CodeAnalysis.CSharp.AsyncMethodToStateMachineRewriter.GenerateMoveNext(Microsoft.CodeAnalysis.CSharp.BoundStatement Microsoft.CodeAnalysis.CSharp.Symbols.MethodSymbol)
   at Microsoft.CodeAnalysis.CSharp.AsyncRewriter.GenerateMoveNext(Microsoft.CodeAnalysis.CSharp.Symbols.SynthesizedImplementationMethod)
   at Microsoft.CodeAnalysis.CSharp.AsyncRewriter.GenerateMethodImplementations()
   at Microsoft.CodeAnalysis.CSharp.StateMachineRewriter.Rewrite()
   at Microsoft.CodeAnalysis.CSharp.AsyncRewriter.Rewrite(Microsoft.CodeAnalysis.CSharp.BoundStatement Microsoft.CodeAnalysis.CSharp.Symbols.MethodSymbol Int32 Microsoft.CodeAnalysis.CodeGen.VariableSlotAllocator Microsoft.CodeAnalysis.CSharp.TypeCompilationState Microsoft.CodeAnalysis.DiagnosticBag Microsoft.CodeAnalysis.CSharp.AsyncStateMachine ByRef)
   at Microsoft.CodeAnalysis.CSharp.MethodCompiler.CompileSynthesizedMethods(Microsoft.CodeAnalysis.CSharp.TypeCompilationState)
   at Microsoft.CodeAnalysis.CSharp.MethodCompiler.CompileNamedType(Microsoft.CodeAnalysis.CSharp.Symbols.NamedTypeSymbol)
   at Microsoft.CodeAnalysis.CSharp.MethodCompiler+<>c__DisplayClass22_0.<CompileNamedTypeAsTask>b__0()
   at Roslyn.Utilities.UICultureUtilities+<>c__DisplayClass5_0.<WithCurrentUICulture>b__0()
   at System.Threading.Tasks.Task.Execute()
   at System.Threading.ExecutionContext.RunInternal(System.Threading.ExecutionContext System.Threading.ContextCallback System.Object Boolean)
   at System.Threading.ExecutionContext.Run(System.Threading.ExecutionContext System.Threading.ContextCallback System.Object Boolean)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(System.Threading.Tasks.Task ByRef)
   at System.Threading.Tasks.Task.ExecuteEntry(Boolean)
   at System.Threading.ThreadPoolWorkQueue.Dispatch()
```
</details>

Replacing ternary operator with the code block fixes compilation error:
```C#
    static Task Foo(bool b) => Bar(async () =>
    {
        if (b)
            await Task.Delay(1);
        else
            await Task.Delay(2);
    });
```
","Ternary operator in async method crashes the compiler **Version Used**: 3.2.1-beta4-19408-03 (2fc6a049) included with the Visual Studio 2019 (16.2.4)

**Steps to Reproduce**:
```C#
using System;
using System.Threading.Tasks;

class Program
{
    static Task Foo(bool b) => Bar(async () =>
        b ? await Task.Delay(1) : await Task.Delay(2));

    static T Bar<T>(Func<T> f) => f();

    static void Main(string[] args) {}
}
```
This code crashes the compiler with the following stack:
<details>
  <summary>Stack trace</summary>

```
  Message: System.NullReferenceException: Object reference not set to an instance of an object.
   at Microsoft.CodeAnalysis.CSharp.AsyncMethodToStateMachineRewriter.VisitExpressionStatement(BoundExpressionStatement node)
   at Microsoft.CodeAnalysis.CSharp.BoundTreeRewriterWithStackGuard.Visit(BoundNode node)
   at Microsoft.CodeAnalysis.CSharp.MethodToStateMachineRewriter.Visit(BoundNode node)
   at Microsoft.CodeAnalysis.CSharp.BoundTreeRewriter.DoVisitList[T](ImmutableArray`1 list)
   at Microsoft.CodeAnalysis.CSharp.Symbols.MethodToClassRewriter.VisitBlock(BoundBlock node)
   at Microsoft.CodeAnalysis.CSharp.MethodToStateMachineRewriter.<>c__DisplayClass41_0.<VisitBlock>b__0()
   at Microsoft.CodeAnalysis.CSharp.MethodToStateMachineRewriter.PossibleIteratorScope(ImmutableArray`1 locals Func`1 wrapped)
   at Microsoft.CodeAnalysis.CSharp.BoundTreeRewriterWithStackGuard.Visit(BoundNode node)
   at Microsoft.CodeAnalysis.CSharp.MethodToStateMachineRewriter.Visit(BoundNode node)
   at Microsoft.CodeAnalysis.CSharp.BoundTreeRewriter.DoVisitList[T](ImmutableArray`1 list)
   at Microsoft.CodeAnalysis.CSharp.Symbols.MethodToClassRewriter.VisitBlock(BoundBlock node)
   at Microsoft.CodeAnalysis.CSharp.MethodToStateMachineRewriter.<>c__DisplayClass41_0.<VisitBlock>b__0()
   at Microsoft.CodeAnalysis.CSharp.MethodToStateMachineRewriter.PossibleIteratorScope(ImmutableArray`1 locals Func`1 wrapped)
   at Microsoft.CodeAnalysis.CSharp.BoundTreeRewriterWithStackGuard.Visit(BoundNode node)
   at Microsoft.CodeAnalysis.CSharp.MethodToStateMachineRewriter.Visit(BoundNode node)
   at Microsoft.CodeAnalysis.CSharp.BoundTreeRewriter.DoVisitList[T](ImmutableArray`1 list)
   at Microsoft.CodeAnalysis.CSharp.Symbols.MethodToClassRewriter.VisitBlock(BoundBlock node)
   at Microsoft.CodeAnalysis.CSharp.MethodToStateMachineRewriter.<>c__DisplayClass41_0.<VisitBlock>b__0()
   at Microsoft.CodeAnalysis.CSharp.MethodToStateMachineRewriter.PossibleIteratorScope(ImmutableArray`1 locals Func`1 wrapped)
   at Microsoft.CodeAnalysis.CSharp.BoundTreeRewriterWithStackGuard.Visit(BoundNode node)
   at Microsoft.CodeAnalysis.CSharp.MethodToStateMachineRewriter.Visit(BoundNode node)
   at Microsoft.CodeAnalysis.CSharp.BoundTreeRewriter.DoVisitList[T](ImmutableArray`1 list)
   at Microsoft.CodeAnalysis.CSharp.Symbols.MethodToClassRewriter.VisitBlock(BoundBlock node)
   at Microsoft.CodeAnalysis.CSharp.MethodToStateMachineRewriter.<>c__DisplayClass41_0.<VisitBlock>b__0()
   at Microsoft.CodeAnalysis.CSharp.MethodToStateMachineRewriter.PossibleIteratorScope(ImmutableArray`1 locals Func`1 wrapped)
   at Microsoft.CodeAnalysis.CSharp.BoundTreeRewriterWithStackGuard.Visit(BoundNode node)
   at Microsoft.CodeAnalysis.CSharp.MethodToStateMachineRewriter.Visit(BoundNode node)
   at Microsoft.CodeAnalysis.CSharp.AsyncMethodToStateMachineRewriter.VisitBody(BoundStatement body)
   at Microsoft.CodeAnalysis.CSharp.AsyncMethodToStateMachineRewriter.GenerateMoveNext(BoundStatement body MethodSymbol moveNextMethod)
   at Microsoft.CodeAnalysis.CSharp.AsyncRewriter.GenerateMoveNext(SynthesizedImplementationMethod moveNextMethod)
   at Microsoft.CodeAnalysis.CSharp.AsyncRewriter.GenerateMethodImplementations()
   at Microsoft.CodeAnalysis.CSharp.StateMachineRewriter.Rewrite()
   at Microsoft.CodeAnalysis.CSharp.AsyncRewriter.Rewrite(BoundStatement bodyWithAwaitLifted MethodSymbol method Int32 methodOrdinal VariableSlotAllocator slotAllocatorOpt TypeCompilationState compilationState DiagnosticBag diagnostics AsyncStateMachine& stateMachineType)
   at Microsoft.CodeAnalysis.CSharp.MethodCompiler.CompileSynthesizedMethods(TypeCompilationState compilationState)
   at Microsoft.CodeAnalysis.CSharp.MethodCompiler.CompileNamedType(NamedTypeSymbol containingType)
   at Microsoft.CodeAnalysis.CSharp.MethodCompiler.<>c__DisplayClass22_0.<CompileNamedTypeAsTask>b__0()
Stack Trace:
   at System.Environment.FailFast(System.String System.Exception)
   at Microsoft.CodeAnalysis.FatalError.ReportUnlessCanceled(System.Exception)
   at Microsoft.CodeAnalysis.CSharp.MethodCompiler+<>c__DisplayClass22_0.<CompileNamedTypeAsTask>b__0()
   at Microsoft.CodeAnalysis.CSharp.AsyncMethodToStateMachineRewriter.VisitExpressionStatement(Microsoft.CodeAnalysis.CSharp.BoundExpressionStatement)
   at Microsoft.CodeAnalysis.CSharp.BoundTreeRewriterWithStackGuard.Visit(Microsoft.CodeAnalysis.CSharp.BoundNode)
   at Microsoft.CodeAnalysis.CSharp.MethodToStateMachineRewriter.Visit(Microsoft.CodeAnalysis.CSharp.BoundNode)
   at Microsoft.CodeAnalysis.CSharp.BoundTreeRewriter.DoVisitList[[System.__Canon mscorlib Version=4.0.0.0 Culture=neutral PublicKeyToken=b77a5c561934e089]](System.Collections.Immutable.ImmutableArray`1<System.__Canon>)
   at Microsoft.CodeAnalysis.CSharp.Symbols.MethodToClassRewriter.VisitBlock(Microsoft.CodeAnalysis.CSharp.BoundBlock)
   at Microsoft.CodeAnalysis.CSharp.MethodToStateMachineRewriter+<>c__DisplayClass41_0.<VisitBlock>b__0()
   at Microsoft.CodeAnalysis.CSharp.MethodToStateMachineRewriter.PossibleIteratorScope(System.Collections.Immutable.ImmutableArray`1<Microsoft.CodeAnalysis.CSharp.Symbols.LocalSymbol> System.Func`1<Microsoft.CodeAnalysis.CSharp.BoundStatement>)
   at Microsoft.CodeAnalysis.CSharp.BoundTreeRewriterWithStackGuard.Visit(Microsoft.CodeAnalysis.CSharp.BoundNode)
   at Microsoft.CodeAnalysis.CSharp.MethodToStateMachineRewriter.Visit(Microsoft.CodeAnalysis.CSharp.BoundNode)
   at Microsoft.CodeAnalysis.CSharp.BoundTreeRewriter.DoVisitList[[System.__Canon mscorlib Version=4.0.0.0 Culture=neutral PublicKeyToken=b77a5c561934e089]](System.Collections.Immutable.ImmutableArray`1<System.__Canon>)
   at Microsoft.CodeAnalysis.CSharp.Symbols.MethodToClassRewriter.VisitBlock(Microsoft.CodeAnalysis.CSharp.BoundBlock)
   at Microsoft.CodeAnalysis.CSharp.MethodToStateMachineRewriter+<>c__DisplayClass41_0.<VisitBlock>b__0()
   at Microsoft.CodeAnalysis.CSharp.MethodToStateMachineRewriter.PossibleIteratorScope(System.Collections.Immutable.ImmutableArray`1<Microsoft.CodeAnalysis.CSharp.Symbols.LocalSymbol> System.Func`1<Microsoft.CodeAnalysis.CSharp.BoundStatement>)
   at Microsoft.CodeAnalysis.CSharp.BoundTreeRewriterWithStackGuard.Visit(Microsoft.CodeAnalysis.CSharp.BoundNode)
   at Microsoft.CodeAnalysis.CSharp.MethodToStateMachineRewriter.Visit(Microsoft.CodeAnalysis.CSharp.BoundNode)
   at Microsoft.CodeAnalysis.CSharp.BoundTreeRewriter.DoVisitList[[System.__Canon mscorlib Version=4.0.0.0 Culture=neutral PublicKeyToken=b77a5c561934e089]](System.Collections.Immutable.ImmutableArray`1<System.__Canon>)
   at Microsoft.CodeAnalysis.CSharp.Symbols.MethodToClassRewriter.VisitBlock(Microsoft.CodeAnalysis.CSharp.BoundBlock)
   at Microsoft.CodeAnalysis.CSharp.MethodToStateMachineRewriter+<>c__DisplayClass41_0.<VisitBlock>b__0()
   at Microsoft.CodeAnalysis.CSharp.MethodToStateMachineRewriter.PossibleIteratorScope(System.Collections.Immutable.ImmutableArray`1<Microsoft.CodeAnalysis.CSharp.Symbols.LocalSymbol> System.Func`1<Microsoft.CodeAnalysis.CSharp.BoundStatement>)
   at Microsoft.CodeAnalysis.CSharp.BoundTreeRewriterWithStackGuard.Visit(Microsoft.CodeAnalysis.CSharp.BoundNode)
   at Microsoft.CodeAnalysis.CSharp.MethodToStateMachineRewriter.Visit(Microsoft.CodeAnalysis.CSharp.BoundNode)
   at Microsoft.CodeAnalysis.CSharp.BoundTreeRewriter.DoVisitList[[System.__Canon mscorlib Version=4.0.0.0 Culture=neutral PublicKeyToken=b77a5c561934e089]](System.Collections.Immutable.ImmutableArray`1<System.__Canon>)
   at Microsoft.CodeAnalysis.CSharp.Symbols.MethodToClassRewriter.VisitBlock(Microsoft.CodeAnalysis.CSharp.BoundBlock)
   at Microsoft.CodeAnalysis.CSharp.MethodToStateMachineRewriter+<>c__DisplayClass41_0.<VisitBlock>b__0()
   at Microsoft.CodeAnalysis.CSharp.MethodToStateMachineRewriter.PossibleIteratorScope(System.Collections.Immutable.ImmutableArray`1<Microsoft.CodeAnalysis.CSharp.Symbols.LocalSymbol> System.Func`1<Microsoft.CodeAnalysis.CSharp.BoundStatement>)
   at Microsoft.CodeAnalysis.CSharp.BoundTreeRewriterWithStackGuard.Visit(Microsoft.CodeAnalysis.CSharp.BoundNode)
   at Microsoft.CodeAnalysis.CSharp.MethodToStateMachineRewriter.Visit(Microsoft.CodeAnalysis.CSharp.BoundNode)
   at Microsoft.CodeAnalysis.CSharp.AsyncMethodToStateMachineRewriter.VisitBody(Microsoft.CodeAnalysis.CSharp.BoundStatement)
   at Microsoft.CodeAnalysis.CSharp.AsyncMethodToStateMachineRewriter.GenerateMoveNext(Microsoft.CodeAnalysis.CSharp.BoundStatement Microsoft.CodeAnalysis.CSharp.Symbols.MethodSymbol)
   at Microsoft.CodeAnalysis.CSharp.AsyncRewriter.GenerateMoveNext(Microsoft.CodeAnalysis.CSharp.Symbols.SynthesizedImplementationMethod)
   at Microsoft.CodeAnalysis.CSharp.AsyncRewriter.GenerateMethodImplementations()
   at Microsoft.CodeAnalysis.CSharp.StateMachineRewriter.Rewrite()
   at Microsoft.CodeAnalysis.CSharp.AsyncRewriter.Rewrite(Microsoft.CodeAnalysis.CSharp.BoundStatement Microsoft.CodeAnalysis.CSharp.Symbols.MethodSymbol Int32 Microsoft.CodeAnalysis.CodeGen.VariableSlotAllocator Microsoft.CodeAnalysis.CSharp.TypeCompilationState Microsoft.CodeAnalysis.DiagnosticBag Microsoft.CodeAnalysis.CSharp.AsyncStateMachine ByRef)
   at Microsoft.CodeAnalysis.CSharp.MethodCompiler.CompileSynthesizedMethods(Microsoft.CodeAnalysis.CSharp.TypeCompilationState)
   at Microsoft.CodeAnalysis.CSharp.MethodCompiler.CompileNamedType(Microsoft.CodeAnalysis.CSharp.Symbols.NamedTypeSymbol)
   at Microsoft.CodeAnalysis.CSharp.MethodCompiler+<>c__DisplayClass22_0.<CompileNamedTypeAsTask>b__0()
   at Roslyn.Utilities.UICultureUtilities+<>c__DisplayClass5_0.<WithCurrentUICulture>b__0()
   at System.Threading.Tasks.Task.Execute()
   at System.Threading.ExecutionContext.RunInternal(System.Threading.ExecutionContext System.Threading.ContextCallback System.Object Boolean)
   at System.Threading.ExecutionContext.Run(System.Threading.ExecutionContext System.Threading.ContextCallback System.Object Boolean)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(System.Threading.Tasks.Task ByRef)
   at System.Threading.Tasks.Task.ExecuteEntry(Boolean)
   at System.Threading.ThreadPoolWorkQueue.Dispatch()
```
</details>

Replacing ternary operator with the code block fixes compilation error:
```C#
    static Task Foo(bool b) => Bar(async () =>
    {
        if (b)
            await Task.Delay(1);
        else
            await Task.Delay(2);
    });
```
",Area-Compilers|Bug|Resolution-Fixed,jcouv,,
38541,Debuger can't evaluate expression ImmutableArray<'namedTuple'>,"**Version Used**: 
Current Int Preview + Roslyn ~master
**Steps to Reproduce**:

![image](https://user-images.githubusercontent.com/1764721/64396243-dbabc680-d011-11e9-8a88-bab32d14744e.png)

**Expected Behavior**:
All expressions in locals are evaluated.

**Actual Behavior**:
None of them is.

---
I'll try to provide more info / minimal repro if I have time tomorrow.","Debuger can't evaluate expression ImmutableArray<'namedTuple'> **Version Used**: 
Current Int Preview + Roslyn ~master
**Steps to Reproduce**:

![image](https://user-images.githubusercontent.com/1764721/64396243-dbabc680-d011-11e9-8a88-bab32d14744e.png)

**Expected Behavior**:
All expressions in locals are evaluated.

**Actual Behavior**:
None of them is.

---
I'll try to provide more info / minimal repro if I have time tomorrow.",Area-Interactive|Bug|Interactive-Debugging,petrroll|gafter|jinujoseph,6/09/2019 12:18,
38540,"""Introduce using startment"" refactoring doesn't show up in the middle of a variable","**Version Used**: 

**Steps to Reproduce**:

This occurs for both C# and VB.

1.  CTRL+. at $

``` C#
using System;
using System.IO;

class Class1
{
    public static void Main()
    {
        Stream stream = G$etStream();

        Console.WriteLine(stream);
    }

    private static Stream GetStream()
    {
        return null;
    }
}

```

Expected: 
![image](https://user-images.githubusercontent.com/1103906/64394534-fe81bd80-d099-11e9-95f6-bc57634d5b52.png)

Actual:
Nothing the refactoring isn't available

This is particularly odd when the CA00067 complains about the type not being disposed and covers the entire span of the variable so you can suppress the warning but not introduce the fix.

","""Introduce using startment"" refactoring doesn't show up in the middle of a variable **Version Used**: 

**Steps to Reproduce**:

This occurs for both C# and VB.

1.  CTRL+. at $

``` C#
using System;
using System.IO;

class Class1
{
    public static void Main()
    {
        Stream stream = G$etStream();

        Console.WriteLine(stream);
    }

    private static Stream GetStream()
    {
        return null;
    }
}

```

Expected: 
![image](https://user-images.githubusercontent.com/1103906/64394534-fe81bd80-d099-11e9-95f6-bc57634d5b52.png)

Actual:
Nothing the refactoring isn't available

This is particularly odd when the CA00067 complains about the type not being disposed and covers the entire span of the variable so you can suppress the warning but not introduce the fix.

",Area-IDE|Bug,mavasani,,
38539,Using with alias in suggestions,"_This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/idea/711223/using-with-alias-in-suggestions.html)._

---
Add the option to automatically add a using statement with an alias instead. I have a class that I need a using but I don't want to include everything in that namespace so I need something like this : 
`using MyClass = Namespace.Something.MyClass`

It would be nice if it was in the suggestions instead of the more common `using Namespace.Something`

---
### Original Comments

#### Jane Wu [MSFT] on 8/26/2019 00:55 AM: 

<p>Thank you for taking the time to provide your suggestion. We will do some preliminary checks to make sure we can proceed further.  We’ll provide an update once the issue has been triaged by the product team.</p>
","Using with alias in suggestions _This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/idea/711223/using-with-alias-in-suggestions.html)._

---
Add the option to automatically add a using statement with an alias instead. I have a class that I need a using but I don't want to include everything in that namespace so I need something like this : 
`using MyClass = Namespace.Something.MyClass`

It would be nice if it was in the suggestions instead of the more common `using Namespace.Something`

---
### Original Comments

#### Jane Wu [MSFT] on 8/26/2019 00:55 AM: 

<p>Thank you for taking the time to provide your suggestion. We will do some preliminary checks to make sure we can proceed further.  We’ll provide an update once the issue has been triaged by the product team.</p>
",Area-IDE|Feature Request|Need Design Review,jaredpar|jinujoseph,6/09/2019 10:48,
38538,Choose patterns and paradigms while developing code,"[Original devcomm feedback](https://developercommunity.visualstudio.com/content/idea/710883/choose-patterns-and-paradigms-while-developing-cod.html)

* Ability to choose a coding paradigm: TDD DDD etc.
* Provide Quick Actions/notifications to lead user towards paradigm

Customer Quote:
> It would be great that while creating a new project I could select what type of design or paradigm I would like to keep such as DDD or TDD and then during development some scafolding of the main concepts may happens. On DDD Entity Event AgregateRoot classes for example. On DDD for example when creating some class the Visual studio could show some hints. if the developer was writing logic methods referencing many times some class a suggestion could pop up saying : “ it looks like this is domain logic to this entity.. if so consider moving this to the class” . Or in another use case. Regarding if a developer choose TDD when any new public or internal method of some class was created... a pop up would say:” you have chosen TDD in this project! You should start with the unit tests! “

(I'm leaving the devcomm feedback open to see if it accumulates votes there.)

","Choose patterns and paradigms while developing code [Original devcomm feedback](https://developercommunity.visualstudio.com/content/idea/710883/choose-patterns-and-paradigms-while-developing-cod.html)

* Ability to choose a coding paradigm: TDD DDD etc.
* Provide Quick Actions/notifications to lead user towards paradigm

Customer Quote:
> It would be great that while creating a new project I could select what type of design or paradigm I would like to keep such as DDD or TDD and then during development some scafolding of the main concepts may happens. On DDD Entity Event AgregateRoot classes for example. On DDD for example when creating some class the Visual studio could show some hints. if the developer was writing logic methods referencing many times some class a suggestion could pop up saying : “ it looks like this is domain logic to this entity.. if so consider moving this to the class” . Or in another use case. Regarding if a developer choose TDD when any new public or internal method of some class was created... a pop up would say:” you have chosen TDD in this project! You should start with the unit tests! “

(I'm leaving the devcomm feedback open to see if it accumulates votes there.)

",Area-IDE|Developer Community|Feature Request,jcouv|jinujoseph,6/09/2019 10:33,
38537,Allow deleting entries in FindXXX dialogs. ,"_This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/idea/701847/allow-deleting-entries-in-findxxx-dialogs.html)._

---
Allow deleting entries in FindXXX dialogs such as Find all references / Find callsites ... 
Usecase: Want to investigate all callsites of some function
- Find all references on method declaration
- Go one by one (from top bottom) checking them (not changing)
- Some of them might require more investigation get skipped -&gt; no way to mark them / preserve info that one should return to them.

---
### Original Comments

#### Jane Wu [MSFT] on 8/21/2019 04:10 AM: 

<p>Thank you for taking the time to provide your suggestion. We will do some preliminary checks to make sure we can proceed further.  We’ll provide an update once the issue has been triaged by the product team.</p>

#### Petr Houska [MSFT] on 8/26/2019 05:14 PM: 

E.g. Call hierarchy allow deleting items.","Allow deleting entries in FindXXX dialogs.  _This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/idea/701847/allow-deleting-entries-in-findxxx-dialogs.html)._

---
Allow deleting entries in FindXXX dialogs such as Find all references / Find callsites ... 
Usecase: Want to investigate all callsites of some function
- Find all references on method declaration
- Go one by one (from top bottom) checking them (not changing)
- Some of them might require more investigation get skipped -&gt; no way to mark them / preserve info that one should return to them.

---
### Original Comments

#### Jane Wu [MSFT] on 8/21/2019 04:10 AM: 

<p>Thank you for taking the time to provide your suggestion. We will do some preliminary checks to make sure we can proceed further.  We’ll provide an update once the issue has been triaged by the product team.</p>

#### Petr Houska [MSFT] on 8/26/2019 05:14 PM: 

E.g. Call hierarchy allow deleting items.",Area-IDE|Feature Request,jaredpar|jinujoseph,6/09/2019 10:23,
38534,Merge master to master-vs-deps,"
This is an automatically generated pull request from master into master-vs-deps.

``` bash
git fetch --all
git checkout merges/master-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge master to master-vs-deps 
This is an automatically generated pull request from master into master-vs-deps.

``` bash
git fetch --all
git checkout merges/master-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|Auto-Merge If Tests Pass,dotnet-bot|dotnet-automerge-bot,6/09/2019 10:02,7/09/2019 5:30
38533,Merge release/dev16.3-vs-deps to master-vs-deps,"
This is an automatically generated pull request from release/dev16.3-vs-deps into master-vs-deps.

``` bash
git fetch --all
git checkout merges/release/dev16.3-vs-deps-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/release/dev16.3-vs-deps
# Fix merge conflicts
git commit
git push upstream merges/release/dev16.3-vs-deps-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge release/dev16.3-vs-deps to master-vs-deps 
This is an automatically generated pull request from release/dev16.3-vs-deps into master-vs-deps.

``` bash
git fetch --all
git checkout merges/release/dev16.3-vs-deps-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/release/dev16.3-vs-deps
# Fix merge conflicts
git commit
git push upstream merges/release/dev16.3-vs-deps-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|Auto-Merge If Tests Pass,dotnet-bot|dotnet-automerge-bot,6/09/2019 10:01,7/09/2019 6:00
38532,Support reinferring collection element initializer symbols,@dotnet/roslyn-compiler for review. /cc @jasonmalinowski @ryzngard ,Support reinferring collection element initializer symbols @dotnet/roslyn-compiler for review. /cc @jasonmalinowski @ryzngard ,Area-Compilers|New Language Feature - Nullable Semantic Model,333fred|jasonmalinowski|ryzngard|jaredpar|agocke|gafter|RikkiGibson|VSadov|AlekseyTs|cston|jcouv|chsienki|fayrose,6/09/2019 10:00,7/09/2019 8:21
38531,Codestyle: disallow same variable name with different casing,"[Original devcomm ticket](https://developercommunity.visualstudio.com/content/idea/697873/have-a-setting-to-allowdisallow-veriables-with-sam.html)

> Have a setting to allow/disallow variables with same name but different letter cases

*Example*
> I accidentally had two namespaces GpsData and GPSData and it allowed them both and I couldn't find the classes of the one in the other thinking there was only one namespace. Same with variables.
","Codestyle: disallow same variable name with different casing [Original devcomm ticket](https://developercommunity.visualstudio.com/content/idea/697873/have-a-setting-to-allowdisallow-veriables-with-sam.html)

> Have a setting to allow/disallow variables with same name but different letter cases

*Example*
> I accidentally had two namespaces GpsData and GPSData and it allowed them both and I couldn't find the classes of the one in the other thinking there was only one namespace. Same with variables.
",Area-IDE|Feature Request|Need Design Review,jaredpar|jinujoseph,6/09/2019 9:57,
38530,Why you can not wrap a select case?,"_This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/idea/692463/why-you-can-not-wrap-a-select-case.html)._

---
Hello

in vs 2019 you can wrap a if while etc block but not a select case block. 

Can you please implement these? So you can wrap each case block inside a select case?

Thanks and best regards

---
### Original Comments

#### Jane Wu [MSFT] on 8/15/2019 00:31 AM: 

<p>Thank you for taking the time to provide your suggestion. We will do some preliminary checks to make sure we can proceed further.  We’ll provide an update once the issue has been triaged by the product team.</p>
","Why you can not wrap a select case? _This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/idea/692463/why-you-can-not-wrap-a-select-case.html)._

---
Hello

in vs 2019 you can wrap a if while etc block but not a select case block. 

Can you please implement these? So you can wrap each case block inside a select case?

Thanks and best regards

---
### Original Comments

#### Jane Wu [MSFT] on 8/15/2019 00:31 AM: 

<p>Thank you for taking the time to provide your suggestion. We will do some preliminary checks to make sure we can proceed further.  We’ll provide an update once the issue has been triaged by the product team.</p>
",Area-IDE|Feature Request|Language-VB|Need More Info,jcouv|sharwell|jinujoseph,6/09/2019 9:36,
38529,Automatically add . ConfigureAwait(false) when extracting an async method,"_This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/idea/705733/automatically-add-configureawaitfalse-when-extract.html)._

---
When using the c# Extract Method feature if the method created is an async method Visual Studio should automatically add . ConfigureAwait(false) to the end of the call to the new method it replaces the original code with if the final await statement in the extracted code (on any branch of execution) has . ConfigureAwait(false)

---
### Original Comments

#### Jane Wu [MSFT] on 8/23/2019 00:08 AM: 

<p>Thank you for taking the time to provide your suggestion. We will do some preliminary checks to make sure we can proceed further.  We’ll provide an update once the issue has been triaged by the product team.</p>
","Automatically add . ConfigureAwait(false) when extracting an async method _This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/idea/705733/automatically-add-configureawaitfalse-when-extract.html)._

---
When using the c# Extract Method feature if the method created is an async method Visual Studio should automatically add . ConfigureAwait(false) to the end of the call to the new method it replaces the original code with if the final await statement in the extracted code (on any branch of execution) has . ConfigureAwait(false)

---
### Original Comments

#### Jane Wu [MSFT] on 8/23/2019 00:08 AM: 

<p>Thank you for taking the time to provide your suggestion. We will do some preliminary checks to make sure we can proceed further.  We’ll provide an update once the issue has been triaged by the product team.</p>
",Area-IDE|Bug|IDE-CodeStyle|help wanted,CyrusNajmabadi|sharwell,6/09/2019 9:23,
38528,Move AdditionalProperty to `Microsoft.VisualStudio.LanguageServices.FindUsages` namespace as this is specific to FAR columns.,"This should be moved to `Microsoft.VisualStudio.LanguageServices.FindUsages` namespace as this is specific to FAR columns.

_Originally posted by @mavasani in https://github.com/_render_node/MDExOlB1bGxSZXF1ZXN0MzA1MzA5NTEy/timeline/more_items_","Move AdditionalProperty to `Microsoft.VisualStudio.LanguageServices.FindUsages` namespace as this is specific to FAR columns. This should be moved to `Microsoft.VisualStudio.LanguageServices.FindUsages` namespace as this is specific to FAR columns.

_Originally posted by @mavasani in https://github.com/_render_node/MDExOlB1bGxSZXF1ZXN0MzA1MzA5NTEy/timeline/more_items_",Area-IDE|Concept-Continuous Improvement,mavasani|chborl|jinujoseph,6/09/2019 8:39,
38527,Add FIPS AppContextSwitchOverrides to some executable projects,I added to csc vbc and VBCSCompiler because I assume those are the ones that use crypto (to strong name assemblies etc). I tried out a csc built with these settings and used `/keyfile` to strong name an assembly. It just worked for me but I don't know if there are more changes or testing needed. /cc @jaredpar.,Add FIPS AppContextSwitchOverrides to some executable projects I added to csc vbc and VBCSCompiler because I assume those are the ones that use crypto (to strong name assemblies etc). I tried out a csc built with these settings and used `/keyfile` to strong name an assembly. It just worked for me but I don't know if there are more changes or testing needed. /cc @jaredpar.,Area-Compilers,RikkiGibson|jaredpar,6/09/2019 7:53,10/09/2019 8:47
38526,completion leaking cancellation exception,Fixes https://github.com/dotnet/roslyn/issues/38455,completion leaking cancellation exception Fixes https://github.com/dotnet/roslyn/issues/38455,Area-IDE|IDE-IntelliSense|Tenet-Reliability,ivanbasov|heejaechang|AmadeusW|jasonmalinowski,6/09/2019 7:04,27/09/2019 9:16
38525,Inline rename with file rename fails in a shared project,"**Version Used**: 

**Steps to Reproduce**:

1. Create a C# shared project
2. Add a new class named Class1 and file Class1.cs
3. Try to rename the class to something else. Make sure that ""Rename file"" is checked otherwise the issue does not repro.

**Expected Behavior**:
Rename succeeds

**Actual Behavior**:
Rename fails with the following exception:

```
System.NotSupportedException: Changing document properties is not supported   at Microsoft.CodeAnalysis.Workspace.CheckAllowedProjectChanges(ProjectChanges projectChanges)
   at Microsoft.CodeAnalysis.Workspace.CheckAllowedSolutionChanges(SolutionChanges solutionChanges)
   at Microsoft.CodeAnalysis.Workspace.TryApplyChanges(Solution newSolution IProgressTracker progressTracker)
   at Microsoft.CodeAnalysis.Workspace.TryApplyChanges(Solution newSolution)
   at Microsoft.CodeAnalysis.Editor.Implementation.InlineRename.InlineRenameSession.ApplyRename(Solution newSolution IWaitContext waitContext)
   at Microsoft.CodeAnalysis.Editor.Implementation.InlineRename.InlineRenameSession.CommitCore(IWaitContext waitContext Boolean previewChanges)
   at Microsoft.CodeAnalysis.Editor.Implementation.InlineRename.InlineRenameSession.<>c__DisplayClass76_0.<Commit>b__0(IWaitContext waitContext)
   at Microsoft.VisualStudio.LanguageServices.Implementation.Utilities.VisualStudioWaitIndicator.Wait(String title String message Boolean allowCancel Boolean showProgress Action`1 action)
   at Microsoft.CodeAnalysis.Editor.Implementation.InlineRename.InlineRenameSession.Commit(Boolean previewChanges)
   at Microsoft.CodeAnalysis.Editor.Implementation.InlineRename.RenameCommandHandler.ExecuteCommand(ReturnKeyCommandArgs args CommandExecutionContext context)
   at Microsoft.VisualStudio.Commanding.CommandHandlerExtensions.ExecuteCommand[T](ICommandHandler commandHandler T args Action nextCommandHandler CommandExecutionContext executionContext)
   at Microsoft.VisualStudio.UI.Text.Commanding.Implementation.EditorCommandHandlerService.<>c__DisplayClass13_1`1.<Execute>b__1()
   at Microsoft.VisualStudio.Text.Utilities.GuardedOperations.CallExtensionPoint(Object errorSource Action call Predicate`1 exceptionFilter) --- End of stack trace from previous location where exception was thrown ---
    at Microsoft.VisualStudio.Telemetry.WindowsErrorReporting.WatsonReport.GetClrWatsonExceptionInfo(Exception exceptionObject)
--
```","Inline rename with file rename fails in a shared project **Version Used**: 

**Steps to Reproduce**:

1. Create a C# shared project
2. Add a new class named Class1 and file Class1.cs
3. Try to rename the class to something else. Make sure that ""Rename file"" is checked otherwise the issue does not repro.

**Expected Behavior**:
Rename succeeds

**Actual Behavior**:
Rename fails with the following exception:

```
System.NotSupportedException: Changing document properties is not supported   at Microsoft.CodeAnalysis.Workspace.CheckAllowedProjectChanges(ProjectChanges projectChanges)
   at Microsoft.CodeAnalysis.Workspace.CheckAllowedSolutionChanges(SolutionChanges solutionChanges)
   at Microsoft.CodeAnalysis.Workspace.TryApplyChanges(Solution newSolution IProgressTracker progressTracker)
   at Microsoft.CodeAnalysis.Workspace.TryApplyChanges(Solution newSolution)
   at Microsoft.CodeAnalysis.Editor.Implementation.InlineRename.InlineRenameSession.ApplyRename(Solution newSolution IWaitContext waitContext)
   at Microsoft.CodeAnalysis.Editor.Implementation.InlineRename.InlineRenameSession.CommitCore(IWaitContext waitContext Boolean previewChanges)
   at Microsoft.CodeAnalysis.Editor.Implementation.InlineRename.InlineRenameSession.<>c__DisplayClass76_0.<Commit>b__0(IWaitContext waitContext)
   at Microsoft.VisualStudio.LanguageServices.Implementation.Utilities.VisualStudioWaitIndicator.Wait(String title String message Boolean allowCancel Boolean showProgress Action`1 action)
   at Microsoft.CodeAnalysis.Editor.Implementation.InlineRename.InlineRenameSession.Commit(Boolean previewChanges)
   at Microsoft.CodeAnalysis.Editor.Implementation.InlineRename.RenameCommandHandler.ExecuteCommand(ReturnKeyCommandArgs args CommandExecutionContext context)
   at Microsoft.VisualStudio.Commanding.CommandHandlerExtensions.ExecuteCommand[T](ICommandHandler commandHandler T args Action nextCommandHandler CommandExecutionContext executionContext)
   at Microsoft.VisualStudio.UI.Text.Commanding.Implementation.EditorCommandHandlerService.<>c__DisplayClass13_1`1.<Execute>b__1()
   at Microsoft.VisualStudio.Text.Utilities.GuardedOperations.CallExtensionPoint(Object errorSource Action call Predicate`1 exceptionFilter) --- End of stack trace from previous location where exception was thrown ---
    at Microsoft.VisualStudio.Telemetry.WindowsErrorReporting.WatsonReport.GetClrWatsonExceptionInfo(Exception exceptionObject)
--
```",Area-IDE|Bug,ryzngard,,
38524,Updating TPN to the current MSFT format and adding Humanizer SQLitePCLRaw and ICSharpCode.Decompiler,,"Updating TPN to the current MSFT format and adding Humanizer, SQLitePCLRaw and ICSharpCode.Decompiler ",Documentation,ivanbasov|jasonmalinowski|sharwell|jinujoseph,6/09/2019 6:23,7/09/2019 13:21
38523,Proposing two new refactoring options for tuple assignments in constructors,"**Version Used**: 
3.3.0-beta3-19407-03+d961190a1b4b2a81ac178b567840dfeff048b037

**Steps to Reproduce**:

There are certain language features that could use a bit more tooling support this is one of those situations. I would like to see a styling option for refactoring that enabled code that looks like this:

```csharp
class Program
{
    class FooBar 
    {
        readonly IServer _server;
        readonly IActor _actor;

        public FooBar(IServer server IActor actor) 
        {
            _server = server;
            _actor = actor;
        }
    }
    
    interface IServer { }
    interface IActor { }
}
```
To be converted to this:

```csharp
class Program
{
    class FooBar 
    {
        readonly IServer _server;
        readonly IActor _actor;

        public FooBar(IServer server IActor actor) 
        {
            (_server _actor) = (server actor);
        }
    }
    
    interface IServer { }
    interface IActor { }
}
```

Taking it a step further if the user has already defined that their styling preference is to prefer constructor expressions when possible -- the result of the refactoring would be as follows:

```csharp
class Program
{
    class FooBar 
    {
        readonly IServer _server;
        readonly IActor _actor;

        public FooBar(IServer server IActor actor) 
            => (_server _actor) = (server actor);
    }
    
    interface IServer { }
    interface IActor { }
}
```

These refactoring would need to work in the opposite manner too going from tuple to separate statements. This proposal comes from a conversation with @BillWagner @mikadumont and I were having in the [twitter verse](https://twitter.com/davidpine7/status/1169418926217973760?s=20).

- From statements to tuple expression.
- From tuple to separate statements.

I'm assuming this should be labeled as ""Area-IDE"" and ""IDE-CodeStyle""","Proposing two new refactoring options for tuple assignments in constructors **Version Used**: 
3.3.0-beta3-19407-03+d961190a1b4b2a81ac178b567840dfeff048b037

**Steps to Reproduce**:

There are certain language features that could use a bit more tooling support this is one of those situations. I would like to see a styling option for refactoring that enabled code that looks like this:

```csharp
class Program
{
    class FooBar 
    {
        readonly IServer _server;
        readonly IActor _actor;

        public FooBar(IServer server IActor actor) 
        {
            _server = server;
            _actor = actor;
        }
    }
    
    interface IServer { }
    interface IActor { }
}
```
To be converted to this:

```csharp
class Program
{
    class FooBar 
    {
        readonly IServer _server;
        readonly IActor _actor;

        public FooBar(IServer server IActor actor) 
        {
            (_server _actor) = (server actor);
        }
    }
    
    interface IServer { }
    interface IActor { }
}
```

Taking it a step further if the user has already defined that their styling preference is to prefer constructor expressions when possible -- the result of the refactoring would be as follows:

```csharp
class Program
{
    class FooBar 
    {
        readonly IServer _server;
        readonly IActor _actor;

        public FooBar(IServer server IActor actor) 
            => (_server _actor) = (server actor);
    }
    
    interface IServer { }
    interface IActor { }
}
```

These refactoring would need to work in the opposite manner too going from tuple to separate statements. This proposal comes from a conversation with @BillWagner @mikadumont and I were having in the [twitter verse](https://twitter.com/davidpine7/status/1169418926217973760?s=20).

- From statements to tuple expression.
- From tuple to separate statements.

I'm assuming this should be labeled as ""Area-IDE"" and ""IDE-CodeStyle""",Area-IDE|Feature Request|Resolution-Won't Fix,BillWagner|CyrusNajmabadi|jcouv|jinujoseph|sharwell,6/09/2019 6:16,1/10/2019 11:02
38522,Null check with 'as' does not update nullable state,"**Version Used**: 16.3 Preview 2

**Steps to Reproduce**:

```csharp
SomeType? value = null;
if (value?.Property as AnotherType != null)
{
  _ = value.Property;
}

SomeType? value2 = null;
if (value2?.Property is AnotherType)
{
  _ = value2.Property;
}
```

**Expected Behavior**:

No warning is reported on the access of `value.Property` or `value2.Property`.

**Actual Behavior**:

A warning is reported on the access of `value.Property` but no warning is reported on the access of `value2.Property`.","Null check with 'as' does not update nullable state **Version Used**: 16.3 Preview 2

**Steps to Reproduce**:

```csharp
SomeType? value = null;
if (value?.Property as AnotherType != null)
{
  _ = value.Property;
}

SomeType? value2 = null;
if (value2?.Property is AnotherType)
{
  _ = value2.Property;
}
```

**Expected Behavior**:

No warning is reported on the access of `value.Property` or `value2.Property`.

**Actual Behavior**:

A warning is reported on the access of `value.Property` but no warning is reported on the access of `value2.Property`.",Area-Compilers|Bug|New Language Feature - Nullable Reference Types,sharwell|jaredpar|jcouv,6/09/2019 5:49,
38521,Added comments here and there.,"When investigating approach for #38271 I've stumbled upon some code that I didn't seem to be clear to me. Tried adding a few documents & changing some parameter names to make it more obvious. 

Not sure if we want this level of comments in code however. ","Added comments here and there. When investigating approach for #38271 I've stumbled upon some code that I didn't seem to be clear to me. Tried adding a few documents & changing some parameter names to make it more obvious. 

Not sure if we want this level of comments in code however. ",Area-IDE,petrroll,6/09/2019 4:10,6/09/2019 9:05
38518,Intellisense does not list members for 3th parameter in GroupJoin,"_This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/705206/intellisense-does-not-list-members-for-3th-paramet.html)._

---
<p>What steps will reproduce the problem?</p><ol><li>Create a linq query and add a GroupJoin in it</li><li>Start typing the content of the 3th parameter</li><li>After typing the “.” the auto complete list appears but it does not contain the members of the class</li></ol><p>What is the expected output? What do you see instead?<br>
Visual Studio editor should display the list of member for the specified class.</p><p>PS the members of the class ARE listed in the 2nd parameter!</p><p><a href=""https://developercommunity.visualstudio.com/storage/attachments/89512-vsproblem.png"">vsproblem.png</a></p>

---
### Original Comments

#### Visual Studio Feedback System on 8/22/2019 04:27 AM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>


---
### Original Solutions
(no solutions)","Intellisense does not list members for 3th parameter in GroupJoin _This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/705206/intellisense-does-not-list-members-for-3th-paramet.html)._

---
<p>What steps will reproduce the problem?</p><ol><li>Create a linq query and add a GroupJoin in it</li><li>Start typing the content of the 3th parameter</li><li>After typing the “.” the auto complete list appears but it does not contain the members of the class</li></ol><p>What is the expected output? What do you see instead?<br>
Visual Studio editor should display the list of member for the specified class.</p><p>PS the members of the class ARE listed in the 2nd parameter!</p><p><a href=""https://developercommunity.visualstudio.com/storage/attachments/89512-vsproblem.png"">vsproblem.png</a></p>

---
### Original Comments

#### Visual Studio Feedback System on 8/22/2019 04:27 AM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>


---
### Original Solutions
(no solutions)",Area-IDE|Bug|IDE-IntelliSense|help wanted,jaredpar|jinujoseph,6/09/2019 4:00,
38517,#region Auto-Indenting Misbehaving,"_This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/703701/region-auto-indenting-misbehaving.html)._

---
C#/Tabs/Indenting: Block
C#/Tabs/Tab/Tab_size: 4
C#/Tabs/Tab/Indent_size: 4
C#/Tabs/Tab/Keep_tabs (true)

I have to stipulate that I am somewhat old-school and have tried to disable _most-if-not-all_ auto-formatting.  All I want is the _guarantee_ that when I press [ENTER] the editor Inserts a newline plus indentation to place the cursor at (R+1 C).

**EXAMPLE 1**:  Start with the following code:
```
namespace Minimum
{
	public class Foo
	{
	}
}
```
Press [ENTER] [TAB] create a property then press [ENTER].  As expected the cursor will be indented correctly.

```
	public class Foo
	{
		public bool Bar { get; set; }
		// cursor is here
	}

```
Do the same with #region Methods[ENTER] and you get
```
	public class Foo
	{
		#region Methods
	// cursor is here but should be 1 indentation right
	}

```
**EXAMPLE  2**: Start with the following code:
```
	public class Foo
	{
		#region Properties

// cursor is here

public bool Bar { get; set; }

#endregion Properties
	}
```
Type #region [SPACE] and you get
```
	public class Foo
	{
		#region Properties

#region // code has been shifted left

public bool Bar { get; set; } // code has been shifted left

#endregion Properties
	}
```
this behavior even skips regions e.g.
```
	public class Foo
	{
		#region Properties

// cursor is here

#endregion Properties

#region Methods

public void Bat()
			{
				// NOOP
			}

#endregion Methods
	}
```
Type #region[SPACE] and you get:
```
	public class Foo
	{
		#region Properties

#region // code has been shifted left

#endregion Properties

#region Methods

public void Bat() // code has been shifted left
			{
				// NOOP
			}

#endregion Methods
	}
```
Not observing the Block is frustrating enough without the &quot;spooky action at a distance.&quot;

---
### Original Comments

#### Visual Studio Feedback System on 8/22/2019 04:05 AM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>


---
### Original Solutions
(no solutions)","#region Auto-Indenting Misbehaving _This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/703701/region-auto-indenting-misbehaving.html)._

---
C#/Tabs/Indenting: Block
C#/Tabs/Tab/Tab_size: 4
C#/Tabs/Tab/Indent_size: 4
C#/Tabs/Tab/Keep_tabs (true)

I have to stipulate that I am somewhat old-school and have tried to disable _most-if-not-all_ auto-formatting.  All I want is the _guarantee_ that when I press [ENTER] the editor Inserts a newline plus indentation to place the cursor at (R+1 C).

**EXAMPLE 1**:  Start with the following code:
```
namespace Minimum
{
	public class Foo
	{
	}
}
```
Press [ENTER] [TAB] create a property then press [ENTER].  As expected the cursor will be indented correctly.

```
	public class Foo
	{
		public bool Bar { get; set; }
		// cursor is here
	}

```
Do the same with #region Methods[ENTER] and you get
```
	public class Foo
	{
		#region Methods
	// cursor is here but should be 1 indentation right
	}

```
**EXAMPLE  2**: Start with the following code:
```
	public class Foo
	{
		#region Properties

// cursor is here

public bool Bar { get; set; }

#endregion Properties
	}
```
Type #region [SPACE] and you get
```
	public class Foo
	{
		#region Properties

#region // code has been shifted left

public bool Bar { get; set; } // code has been shifted left

#endregion Properties
	}
```
this behavior even skips regions e.g.
```
	public class Foo
	{
		#region Properties

// cursor is here

#endregion Properties

#region Methods

public void Bat()
			{
				// NOOP
			}

#endregion Methods
	}
```
Type #region[SPACE] and you get:
```
	public class Foo
	{
		#region Properties

#region // code has been shifted left

#endregion Properties

#region Methods

public void Bat() // code has been shifted left
			{
				// NOOP
			}

#endregion Methods
	}
```
Not observing the Block is frustrating enough without the &quot;spooky action at a distance.&quot;

---
### Original Comments

#### Visual Studio Feedback System on 8/22/2019 04:05 AM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>


---
### Original Solutions
(no solutions)",Area-IDE|Bug|IDE-CodeStyle|help wanted,jcouv|jinujoseph,6/09/2019 3:59,18/09/2019 5:28
38516,Automatically comment out a new line when enter is pressed,"_This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/idea/703623/automatically-comment-out-a-new-line-when-enter-is.html)._

---
With the code `string test = ""this is a test"";` if the cursor is put after &quot;is&quot; and the enter key is pressed VS maintains the string (ie it changes the code to `string test = ""this is"" + "" a test"";` split across both lines). The same should be done with comments. If the comment `//This is a test` exists and the cursor is put after &quot;is&quot; with the enter key pressed the resulting 2 lines should be

```
//This is
// a test
```
Currently what happens is the comment is broken with the resulting two lines being:

```
//This is
 a test
```

---
### Original Comments

#### Jane Wu [MSFT] on 8/22/2019 02:19 AM: 

<p>Thank you for taking the time to provide your suggestion. We will do some preliminary checks to make sure we can proceed further.  We’ll provide an update once the issue has been triaged by the product team.</p>
","Automatically comment out a new line when enter is pressed _This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/idea/703623/automatically-comment-out-a-new-line-when-enter-is.html)._

---
With the code `string test = ""this is a test"";` if the cursor is put after &quot;is&quot; and the enter key is pressed VS maintains the string (ie it changes the code to `string test = ""this is"" + "" a test"";` split across both lines). The same should be done with comments. If the comment `//This is a test` exists and the cursor is put after &quot;is&quot; with the enter key pressed the resulting 2 lines should be

```
//This is
// a test
```
Currently what happens is the comment is broken with the resulting two lines being:

```
//This is
 a test
```

---
### Original Comments

#### Jane Wu [MSFT] on 8/22/2019 02:19 AM: 

<p>Thank you for taking the time to provide your suggestion. We will do some preliminary checks to make sure we can proceed further.  We’ll provide an update once the issue has been triaged by the product team.</p>
",Area-IDE|Concept-Continuous Improvement|IDE-CodeStyle|help wanted,gafter|jinujoseph|sharwell,6/09/2019 3:58,
38515,Wrap parameters style should be configurable from code style,"_This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/idea/699244/wrap-parameters-style-should-be-configurable-from.html)._

---
When you right click on a method name you get options on the context menu to wrap and align parameters.

Rather than picking the style of wrapping each time it is used I would like to be able to configure which style of wrapping is to be used for the whole solution in the code style options and save them to .editorConfig rather than having each developer choose on a case-by-ca se basis.

I would also like code cleanup to automatically wrap parameters using my chosen style when the line length is over a configured length.

---
### Original Comments

#### Jane Wu [MSFT] on 8/20/2019 03:54 AM: 

<p>Thank you for taking the time to provide your suggestion. We will do some preliminary checks to make sure we can proceed further.  We’ll provide an update once the issue has been triaged by the product team.</p>
","Wrap parameters style should be configurable from code style _This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/idea/699244/wrap-parameters-style-should-be-configurable-from.html)._

---
When you right click on a method name you get options on the context menu to wrap and align parameters.

Rather than picking the style of wrapping each time it is used I would like to be able to configure which style of wrapping is to be used for the whole solution in the code style options and save them to .editorConfig rather than having each developer choose on a case-by-ca se basis.

I would also like code cleanup to automatically wrap parameters using my chosen style when the line length is over a configured length.

---
### Original Comments

#### Jane Wu [MSFT] on 8/20/2019 03:54 AM: 

<p>Thank you for taking the time to provide your suggestion. We will do some preliminary checks to make sure we can proceed further.  We’ll provide an update once the issue has been triaged by the product team.</p>
",Area-IDE|Feature Request|Resolution-Duplicate,jaredpar|jinujoseph|sharwell,6/09/2019 3:47,11/09/2019 3:58
38514,Add an option for c# override generation (ignoring expression bodied members),"_This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/idea/696199/add-an-option-for-c-override-generation-ignoring-e.html)._

---
when `override SomeVirtualOrAbstractMethod` is expanded and 
Options-&gt;Text Editor-&gt;C#-&gt;Code Style-&gt;Use expression body for methods is set to &quot;When on single line&quot; the generated piece of code looks like this:
```cs
protected override SomeVirtualOrAbstractMethod() => base. SomeVirtualOrAbstractMethod();
```

this is (in most cases) not wanted since the reason to override a method is to add custom behaviour (and usually also call the base class)

Thus the suggestion should be that an option is added to explicitely have the override expansion generated normal member bodies generating this code:
```cs
protected override SomeVirtualOrAbstractMethod()
{
    base. SomeVirtualOrAbstractMethod();
}
```

---
### Original Comments

#### Jane Wu [MSFT] on 8/16/2019 00:30 AM: 

<p>Thank you for taking the time to provide your suggestion. We will do some preliminary checks to make sure we can proceed further.  We’ll provide an update once the issue has been triaged by the product team.</p>
","Add an option for c# override generation (ignoring expression bodied members) _This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/idea/696199/add-an-option-for-c-override-generation-ignoring-e.html)._

---
when `override SomeVirtualOrAbstractMethod` is expanded and 
Options-&gt;Text Editor-&gt;C#-&gt;Code Style-&gt;Use expression body for methods is set to &quot;When on single line&quot; the generated piece of code looks like this:
```cs
protected override SomeVirtualOrAbstractMethod() => base. SomeVirtualOrAbstractMethod();
```

this is (in most cases) not wanted since the reason to override a method is to add custom behaviour (and usually also call the base class)

Thus the suggestion should be that an option is added to explicitely have the override expansion generated normal member bodies generating this code:
```cs
protected override SomeVirtualOrAbstractMethod()
{
    base. SomeVirtualOrAbstractMethod();
}
```

---
### Original Comments

#### Jane Wu [MSFT] on 8/16/2019 00:30 AM: 

<p>Thank you for taking the time to provide your suggestion. We will do some preliminary checks to make sure we can proceed further.  We’ll provide an update once the issue has been triaged by the product team.</p>
",Area-IDE|Feature Request|IDE-CodeStyle|Need Design Review,RikkiGibson|jinujoseph|sharwell,6/09/2019 3:45,
38513,EditorConfig applicable_kinds 'type_parameter' and 'interface' stopped working,"**Version Used**: Visual Studio 16.3.0 Preview 3

**Steps to Reproduce**:
With the given .editorconfig:
```
root = true

# DotNet style
[*.{csvbcshtmlvbhtml}]

### Naming Conventions

## Styles

# The basics
dotnet_naming_style.camel_case_style.capitalization = camel_case
dotnet_naming_style.pascal_case_style.capitalization = pascal_case

# Underscore camel style
dotnet_naming_style.camel_case_and_prefix_with_underscore_style.required_prefix = _
dotnet_naming_style.camel_case_and_prefix_with_underscore_style.capitalization = camel_case

# Pascal I prefix
dotnet_naming_style.pascal_case_and_prefix_with_I_style.required_prefix = I
dotnet_naming_style.pascal_case_and_prefix_with_I_style.capitalization = pascal_case

# Pascal T prefix
dotnet_naming_style.pascal_case_and_prefix_with_T_style.required_prefix = T
dotnet_naming_style.pascal_case_and_prefix_with_T_style.capitalization = pascal_case

## Symbols

# Interfaces
dotnet_naming_symbols.interface_symbols.applicable_kinds = interface
dotnet_naming_symbols.interface_symbols.applicable_accessibilities = *

# Type parameters
dotnet_naming_symbols.type_parameter_symbols.applicable_kinds = type_parameter
dotnet_naming_symbols.type_parameter_symbols.applicable_accessibilities = *

# Pascal most of the things
dotnet_naming_symbols.pascal_symbols.applicable_kinds = class struct enum property method event namespace delegate local_function
dotnet_naming_symbols.pascal_symbols.applicable_accessibilities = *

# Parameters locals
dotnet_naming_symbols.locals_and_parameters_symbols.applicable_kinds = parameter local
dotnet_naming_symbols.locals_and_parameters_symbols.applicable_accessibilities = *

# Constants
dotnet_naming_symbols.constant_symbols.applicable_kinds = field
dotnet_naming_symbols.constant_symbols.required_modifiers = const
dotnet_naming_symbols.constant_symbols.applicable_accessibilities = *

# Public fields
dotnet_naming_symbols.public_field_symbols.applicable_kinds = field
dotnet_naming_symbols.public_field_symbols.applicable_accessibilities = public internal friend protected protected_internal protected_friend private_protected

# Private fields
dotnet_naming_symbols.private_field_symbols.applicable_kinds = field
dotnet_naming_symbols.private_field_symbols.applicable_accessibilities = private

## Naming Rules

# Interfaces
dotnet_naming_rule.interfaces_must_be_pascal_cased_and_prefixed_with_I.symbols = interface_symbols
dotnet_naming_rule.interfaces_must_be_pascal_cased_and_prefixed_with_I.style = pascal_case_and_prefix_with_I_style
dotnet_naming_rule.interfaces_must_be_pascal_cased_and_prefixed_with_I.severity = warning

# Type parameters
dotnet_naming_rule.type_parameters_must_be_pascal_cased_and_prefixed_with_T.symbols = type_parameter_symbols
dotnet_naming_rule.type_parameters_must_be_pascal_cased_and_prefixed_with_T.style = pascal_case_and_prefix_with_T_style
dotnet_naming_rule.type_parameters_must_be_pascal_cased_and_prefixed_with_T.severity = warning

# Pascal most of the things
dotnet_naming_rule.externally_visible_members_must_be_pascal_cased.symbols = pascal_symbols
dotnet_naming_rule.externally_visible_members_must_be_pascal_cased.style = pascal_case_style
dotnet_naming_rule.externally_visible_members_must_be_pascal_cased.severity = warning

# Parameters locals
dotnet_naming_rule.parameters_must_be_camel_cased.symbols = locals_and_parameters_symbols
dotnet_naming_rule.parameters_must_be_camel_cased.style = camel_case_style
dotnet_naming_rule.parameters_must_be_camel_cased.severity = warning

# Constants
dotnet_naming_rule.constants_must_be_pascal_cased.symbols = constant_symbols
dotnet_naming_rule.constants_must_be_pascal_cased.style = pascal_case_style
dotnet_naming_rule.constants_must_be_pascal_cased.severity = warning

# Public fields
dotnet_naming_rule.public_instance_fields_must_be_camel_cased_and_prefixed_with_underscore.symbols = public_field_symbols
dotnet_naming_rule.public_instance_fields_must_be_camel_cased_and_prefixed_with_underscore.style = pascal_case_style
dotnet_naming_rule.public_instance_fields_must_be_camel_cased_and_prefixed_with_underscore.severity = warning

# Private fields
dotnet_naming_rule.private_instance_fields_must_be_camel_cased_and_prefixed_with_underscore.symbols = private_field_symbols
dotnet_naming_rule.private_instance_fields_must_be_camel_cased_and_prefixed_with_underscore.style = camel_case_and_prefix_with_underscore_style
dotnet_naming_rule.private_instance_fields_must_be_camel_cased_and_prefixed_with_underscore.severity = warning
```

And the given file in an SDK style class library project:
``` csharp
using System;

namespace classLibrary1
{
    public interface fooInterface
    {
        
    }

    public class class1
    {
        public delegate void delegateFoo();

        public event EventHandler<class1> eventFoo;

        public static readonly string pubFoo = ""PubBar"";

        public const string conFoo = ""ConBar"";
        private const string foo = ""Bar"";

        private readonly string name;

        public class1(string Name)
        {
            string Local = """";

            name = Name ?? foo + Local;
        }

        public string getName()
        {
            doThing();
            DoOtherThing<object>();

            return name;

            void doThing()
            {

            }

            void DoOtherThing<arg>()
            {

            }
        }
    }
}
```

Open the file. Nearly every symbol was written to trigger naming rule breaks.

**Expected Behavior**:
Virtually every symbol should have a rule break warning. This works in 16.2.3.

**Actual Behavior**:
The interface `fooInterface` and the type arg in `DoOtherThing<arg>()` do not have warnings for breaking naming conventions.

Attaching an image depicting the differences visually:
![image](https://user-images.githubusercontent.com/8978001/64364591-6c61b280-cfd0-11e9-9460-9c51ca239b76.png)
","EditorConfig applicable_kinds 'type_parameter' and 'interface' stopped working **Version Used**: Visual Studio 16.3.0 Preview 3

**Steps to Reproduce**:
With the given .editorconfig:
```
root = true

# DotNet style
[*.{csvbcshtmlvbhtml}]

### Naming Conventions

## Styles

# The basics
dotnet_naming_style.camel_case_style.capitalization = camel_case
dotnet_naming_style.pascal_case_style.capitalization = pascal_case

# Underscore camel style
dotnet_naming_style.camel_case_and_prefix_with_underscore_style.required_prefix = _
dotnet_naming_style.camel_case_and_prefix_with_underscore_style.capitalization = camel_case

# Pascal I prefix
dotnet_naming_style.pascal_case_and_prefix_with_I_style.required_prefix = I
dotnet_naming_style.pascal_case_and_prefix_with_I_style.capitalization = pascal_case

# Pascal T prefix
dotnet_naming_style.pascal_case_and_prefix_with_T_style.required_prefix = T
dotnet_naming_style.pascal_case_and_prefix_with_T_style.capitalization = pascal_case

## Symbols

# Interfaces
dotnet_naming_symbols.interface_symbols.applicable_kinds = interface
dotnet_naming_symbols.interface_symbols.applicable_accessibilities = *

# Type parameters
dotnet_naming_symbols.type_parameter_symbols.applicable_kinds = type_parameter
dotnet_naming_symbols.type_parameter_symbols.applicable_accessibilities = *

# Pascal most of the things
dotnet_naming_symbols.pascal_symbols.applicable_kinds = class struct enum property method event namespace delegate local_function
dotnet_naming_symbols.pascal_symbols.applicable_accessibilities = *

# Parameters locals
dotnet_naming_symbols.locals_and_parameters_symbols.applicable_kinds = parameter local
dotnet_naming_symbols.locals_and_parameters_symbols.applicable_accessibilities = *

# Constants
dotnet_naming_symbols.constant_symbols.applicable_kinds = field
dotnet_naming_symbols.constant_symbols.required_modifiers = const
dotnet_naming_symbols.constant_symbols.applicable_accessibilities = *

# Public fields
dotnet_naming_symbols.public_field_symbols.applicable_kinds = field
dotnet_naming_symbols.public_field_symbols.applicable_accessibilities = public internal friend protected protected_internal protected_friend private_protected

# Private fields
dotnet_naming_symbols.private_field_symbols.applicable_kinds = field
dotnet_naming_symbols.private_field_symbols.applicable_accessibilities = private

## Naming Rules

# Interfaces
dotnet_naming_rule.interfaces_must_be_pascal_cased_and_prefixed_with_I.symbols = interface_symbols
dotnet_naming_rule.interfaces_must_be_pascal_cased_and_prefixed_with_I.style = pascal_case_and_prefix_with_I_style
dotnet_naming_rule.interfaces_must_be_pascal_cased_and_prefixed_with_I.severity = warning

# Type parameters
dotnet_naming_rule.type_parameters_must_be_pascal_cased_and_prefixed_with_T.symbols = type_parameter_symbols
dotnet_naming_rule.type_parameters_must_be_pascal_cased_and_prefixed_with_T.style = pascal_case_and_prefix_with_T_style
dotnet_naming_rule.type_parameters_must_be_pascal_cased_and_prefixed_with_T.severity = warning

# Pascal most of the things
dotnet_naming_rule.externally_visible_members_must_be_pascal_cased.symbols = pascal_symbols
dotnet_naming_rule.externally_visible_members_must_be_pascal_cased.style = pascal_case_style
dotnet_naming_rule.externally_visible_members_must_be_pascal_cased.severity = warning

# Parameters locals
dotnet_naming_rule.parameters_must_be_camel_cased.symbols = locals_and_parameters_symbols
dotnet_naming_rule.parameters_must_be_camel_cased.style = camel_case_style
dotnet_naming_rule.parameters_must_be_camel_cased.severity = warning

# Constants
dotnet_naming_rule.constants_must_be_pascal_cased.symbols = constant_symbols
dotnet_naming_rule.constants_must_be_pascal_cased.style = pascal_case_style
dotnet_naming_rule.constants_must_be_pascal_cased.severity = warning

# Public fields
dotnet_naming_rule.public_instance_fields_must_be_camel_cased_and_prefixed_with_underscore.symbols = public_field_symbols
dotnet_naming_rule.public_instance_fields_must_be_camel_cased_and_prefixed_with_underscore.style = pascal_case_style
dotnet_naming_rule.public_instance_fields_must_be_camel_cased_and_prefixed_with_underscore.severity = warning

# Private fields
dotnet_naming_rule.private_instance_fields_must_be_camel_cased_and_prefixed_with_underscore.symbols = private_field_symbols
dotnet_naming_rule.private_instance_fields_must_be_camel_cased_and_prefixed_with_underscore.style = camel_case_and_prefix_with_underscore_style
dotnet_naming_rule.private_instance_fields_must_be_camel_cased_and_prefixed_with_underscore.severity = warning
```

And the given file in an SDK style class library project:
``` csharp
using System;

namespace classLibrary1
{
    public interface fooInterface
    {
        
    }

    public class class1
    {
        public delegate void delegateFoo();

        public event EventHandler<class1> eventFoo;

        public static readonly string pubFoo = ""PubBar"";

        public const string conFoo = ""ConBar"";
        private const string foo = ""Bar"";

        private readonly string name;

        public class1(string Name)
        {
            string Local = """";

            name = Name ?? foo + Local;
        }

        public string getName()
        {
            doThing();
            DoOtherThing<object>();

            return name;

            void doThing()
            {

            }

            void DoOtherThing<arg>()
            {

            }
        }
    }
}
```

Open the file. Nearly every symbol was written to trigger naming rule breaks.

**Expected Behavior**:
Virtually every symbol should have a rule break warning. This works in 16.2.3.

**Actual Behavior**:
The interface `fooInterface` and the type arg in `DoOtherThing<arg>()` do not have warnings for breaking naming conventions.

Attaching an image depicting the differences visually:
![image](https://user-images.githubusercontent.com/8978001/64364591-6c61b280-cfd0-11e9-9460-9c51ca239b76.png)
",Area-IDE|Bug|IDE-CodeStyle|Regression|help wanted,sharwell,,
38511,Generate Local variable outside of current block,"_This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/idea/683584/generate-local-variable-outside-of-current-block.html)._

---
When Quick Actions suggest to create a local variable when we are in a code block (if using etc.) The local variable could be created outside of the block (just before)

This should be a new quick action or replacing the Create Local variable.

Example:

```
using (var db = CreateContext())
{
    blogs = db. Blogs.ToList()
}

```

The quick action is called on blogs

---
### Original Comments
(no comments)","Generate Local variable outside of current block _This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/idea/683584/generate-local-variable-outside-of-current-block.html)._

---
When Quick Actions suggest to create a local variable when we are in a code block (if using etc.) The local variable could be created outside of the block (just before)

This should be a new quick action or replacing the Create Local variable.

Example:

```
using (var db = CreateContext())
{
    blogs = db. Blogs.ToList()
}

```

The quick action is called on blogs

---
### Original Comments
(no comments)",Area-IDE|Feature Request|Resolution-Won't Fix,gafter|jinujoseph|sharwell,6/09/2019 3:09,17/09/2019 8:25
38510,Rename files in the compiler server,"This is the final part of the type hierarchy unwind. It renames the
files in the projects to match the new type names.","Rename files in the compiler server This is the final part of the type hierarchy unwind. It renames the
files in the projects to match the new type names.",Area-Compilers,jaredpar|agocke|333fred|gafter|RikkiGibson|VSadov|AlekseyTs|cston|jcouv|chsienki|fayrose,6/09/2019 1:52,10/09/2019 2:02
38509,Debt from bad Assert.NotNull checks,"In PR #38493 all uses of `Assert.NotNull(expr)` which had a value type argument were converted to `Assert.NotEqual(default expr)`. This revealed a number of places where the code was incorrectly passing because a `default(T)` value was returned but ""passed"" the test because it was boxed and passed the `NotNull` check. 

This bug tracks all the places where the new `Assert.NotEqual` call is failing and needs to be investigated. 

- [ ] IndexedPropertiesBindingChecks
- [ ] OldGetFormat_IndexedProperties
- [ ] IndexedProperties_Incomplete
- [ ] IndexedProperties_Complete
- [ ] GetQueryClauseInfoForQueryWithSyntaxErrors
- [ ] GetSemanticInfoTests
    - [ ] VisitAllExpressions (covers a number of tests)
    - [ ] OmittedTypeArgument
- [ ] ColorColorTests
    - [ ] TestErrorLookup
    - [ ] TestErrorLookupMethodGroup
    - [ ] TestInEnumDecl
- [ ]  GetSymbolInfoOfSelectNodeWhenTypeOfRangeVariableIsErrorType
- [ ]  SymbolInfoForMissingSelectClauseNode



","Debt from bad Assert.NotNull checks In PR #38493 all uses of `Assert.NotNull(expr)` which had a value type argument were converted to `Assert.NotEqual(default expr)`. This revealed a number of places where the code was incorrectly passing because a `default(T)` value was returned but ""passed"" the test because it was boxed and passed the `NotNull` check. 

This bug tracks all the places where the new `Assert.NotEqual` call is failing and needs to be investigated. 

- [ ] IndexedPropertiesBindingChecks
- [ ] OldGetFormat_IndexedProperties
- [ ] IndexedProperties_Incomplete
- [ ] IndexedProperties_Complete
- [ ] GetQueryClauseInfoForQueryWithSyntaxErrors
- [ ] GetSemanticInfoTests
    - [ ] VisitAllExpressions (covers a number of tests)
    - [ ] OmittedTypeArgument
- [ ] ColorColorTests
    - [ ] TestErrorLookup
    - [ ] TestErrorLookupMethodGroup
    - [ ] TestInEnumDecl
- [ ]  GetSymbolInfoOfSelectNodeWhenTypeOfRangeVariableIsErrorType
- [ ]  SymbolInfoForMissingSelectClauseNode



",Area-Compilers|Bug|Test,jaredpar,6/09/2019 1:12,
38508,Auto-completion initializing nullable local creates invalid code,"**Version Used**: 
3.4.0-beta1-19426-03+b18d90790da95b6862def56802fa4249e4868bb4

**Steps to Reproduce**:
Add this code:
```C#
#nullable enable
class Program
{
    static void Main() { }

    static void M()
    {
        object? o;

    }
}
```
Then type:
`o = new`
and hit space.  It pops up IntelliSense to complete the new expression:
![image](https://user-images.githubusercontent.com/2642209/64354381-54d4fa80-cfcd-11e9-9aa8-21eeef8ece3e.png)
Then type Tab.

**Expected Behavior**:
IntelliSense should select `object` not `object?`.

**Actual Behavior**:
The selected item is `object?` which is invalid in a constructor:
![image](https://user-images.githubusercontent.com/2642209/64354472-81891200-cfcd-11e9-8a90-51742ab557ed.png)","Auto-completion initializing nullable local creates invalid code **Version Used**: 
3.4.0-beta1-19426-03+b18d90790da95b6862def56802fa4249e4868bb4

**Steps to Reproduce**:
Add this code:
```C#
#nullable enable
class Program
{
    static void Main() { }

    static void M()
    {
        object? o;

    }
}
```
Then type:
`o = new`
and hit space.  It pops up IntelliSense to complete the new expression:
![image](https://user-images.githubusercontent.com/2642209/64354381-54d4fa80-cfcd-11e9-9aa8-21eeef8ece3e.png)
Then type Tab.

**Expected Behavior**:
IntelliSense should select `object` not `object?`.

**Actual Behavior**:
The selected item is `object?` which is invalid in a constructor:
![image](https://user-images.githubusercontent.com/2642209/64354472-81891200-cfcd-11e9-8a90-51742ab557ed.png)",Area-IDE|Bug|IDE-IntelliSense|New Language Feature - Nullable Reference Types|Regression,ryzngard,,
38507,IDE0059 has misleading auto-fix name / incorrect preview with unnecessary ??= assignment,"**Version Used**: 
3.4.0-beta1-19426-03+b18d90790da95b6862def56802fa4249e4868bb4

**Steps to Reproduce**:
```C#
class Program
{
    static void Main() { }

    static object M(object o) => o ??= new object();
}
```

**Expected Behavior**:
IDE0059 triggers about using `??=` instead of `??` here.

**Actual Behavior**:
![image](https://user-images.githubusercontent.com/2642209/64352426-040fd280-cfca-11e9-9d74-bf86dfa9b11f.png)

The good news is the auto-fix will correctly substitute the ""??"" for the ""??="".  However two issues:
1) It names the auto-fix ""Use discard _"" even though it won't.
2) The preview doesn't show either the old or the new code being transformed.","IDE0059 has misleading auto-fix name / incorrect preview with unnecessary ??= assignment **Version Used**: 
3.4.0-beta1-19426-03+b18d90790da95b6862def56802fa4249e4868bb4

**Steps to Reproduce**:
```C#
class Program
{
    static void Main() { }

    static object M(object o) => o ??= new object();
}
```

**Expected Behavior**:
IDE0059 triggers about using `??=` instead of `??` here.

**Actual Behavior**:
![image](https://user-images.githubusercontent.com/2642209/64352426-040fd280-cfca-11e9-9d74-bf86dfa9b11f.png)

The good news is the auto-fix will correctly substitute the ""??"" for the ""??="".  However two issues:
1) It names the auto-fix ""Use discard _"" even though it won't.
2) The preview doesn't show either the old or the new code being transformed.",Area-IDE|Bug,mavasani,,
38506,IDE0041 only offers `is null` when there's a cast,"**Version Used**: 
3.4.0-beta1-19426-03+b18d90790da95b6862def56802fa4249e4868bb4

**Steps to Reproduce**:
```C#
using System;

class Program
{
    static void Main() { M1(new object()); M2(new object()); }

    static void M1(object obj)
    {
        if ((object)obj == null)
        {
            throw new ArgumentNullException(nameof(obj));
        }
    }

    static void M2(object obj)
    {
        if (obj == null)
        {
            throw new ArgumentNullException(nameof(obj));
        }
    }
}
```

**Expected Behavior**:
IDE0041 offers to ""Use 'is null' check"" on both M1 and M2.

**Actual Behavior**:
IDE0041 only offers to ""Use 'is null' check"" in M1.","IDE0041 only offers `is null` when there's a cast **Version Used**: 
3.4.0-beta1-19426-03+b18d90790da95b6862def56802fa4249e4868bb4

**Steps to Reproduce**:
```C#
using System;

class Program
{
    static void Main() { M1(new object()); M2(new object()); }

    static void M1(object obj)
    {
        if ((object)obj == null)
        {
            throw new ArgumentNullException(nameof(obj));
        }
    }

    static void M2(object obj)
    {
        if (obj == null)
        {
            throw new ArgumentNullException(nameof(obj));
        }
    }
}
```

**Expected Behavior**:
IDE0041 offers to ""Use 'is null' check"" on both M1 and M2.

**Actual Behavior**:
IDE0041 only offers to ""Use 'is null' check"" in M1.",Area-IDE|Concept-Continuous Improvement|IDE-CodeStyle|Resolution-By Design,stephentoub|sharwell,5/09/2019 22:46,17/09/2019 8:28
38504,Editorconfig: dotnet_sort_system_directives_first not obeyed on Format Document ,"**Version Used**: VS Enterprise 2019 Version 16.2.3

**Steps to Reproduce**:

1. Add `.editorconfig` file with the following setting
```
# Dotnet code style settings:
[*.{csvb}]
# Sort using and Import directives with System.* appearing first
dotnet_sort_system_directives_first = true
```
2. Open a .cs file with multiple `using` directives with a System directive at the bottom.
3. Format Document (Ctrl+K Ctrl+D)

**Expected Behavior**:
'Using' directives are re-ordered with System directives moved to top.

**Actual Behavior**:
No change in order of 'using' directives.


Additional Information:

Option to specify order of 'using' directives are found both in Tools>Options as well as editorconfig. 
- Run Default Code Cleanup command (Ctrl+K Ctrl+E) performs the re-ordering correctly when specified in .editorconfig (Value specified in .editorconfig supersedes value specified in Tool>Options as expected).
- Format Document doesn't seem to re-order the directives at all! (Regardless of what is specified in .editorconfig or Tools>Options.

Notes on related issues: 
- #17658 - Identical issue raised for VS 2017 closed as not-reproducible.
- #22465 - the issue was raised for the `false` option and was apparently fixed in v15.3 but I'm using v16.2.3 and having issues with `true` option.","Editorconfig: dotnet_sort_system_directives_first not obeyed on Format Document  **Version Used**: VS Enterprise 2019 Version 16.2.3

**Steps to Reproduce**:

1. Add `.editorconfig` file with the following setting
```
# Dotnet code style settings:
[*.{csvb}]
# Sort using and Import directives with System.* appearing first
dotnet_sort_system_directives_first = true
```
2. Open a .cs file with multiple `using` directives with a System directive at the bottom.
3. Format Document (Ctrl+K Ctrl+D)

**Expected Behavior**:
'Using' directives are re-ordered with System directives moved to top.

**Actual Behavior**:
No change in order of 'using' directives.


Additional Information:

Option to specify order of 'using' directives are found both in Tools>Options as well as editorconfig. 
- Run Default Code Cleanup command (Ctrl+K Ctrl+E) performs the re-ordering correctly when specified in .editorconfig (Value specified in .editorconfig supersedes value specified in Tool>Options as expected).
- Format Document doesn't seem to re-order the directives at all! (Regardless of what is specified in .editorconfig or Tools>Options.

Notes on related issues: 
- #17658 - Identical issue raised for VS 2017 closed as not-reproducible.
- #22465 - the issue was raised for the `false` option and was apparently fixed in v15.3 but I'm using v16.2.3 and having issues with `true` option.",Area-IDE|IDE-Formatter|Question,jasonmalinowski,,
38503,"C# compiler should report CS1525 when ""new"" keyword followed by type name is not specified inside object initializer for a type member.","**Version Used**: 
Microsoft Visual Studio Professional 2017 
Version 15.9.12
VisualStudio.15.Release/15.9.12+28307.665
Microsoft .NET Framework
Version 4.7.03056
**Steps to Reproduce**:

1. Write object initializer as below in method:
`           var paymentResponse = new PaymentResponse();

            paymentResponse.PaymentCard = new Card
            {
                Number = ""number""
                ExpirationDate = new DateTime(year: _validCreditCard.Expiry.Year month:_validCreditCard.Expiry.Monthday:1)
                Cvv=""cvv""
                Type=""type""
                Name= ""Name""
                Address ={ Address1= ""Address1"" City= ""City"" State= ""State"" Country= ""Country"" PostalCode= ""PostalCode"" }
            };
`
2.Try to build above code 

**Expected Behavior**:
Compiler should report CS1525 for line assigning ""Address"" inside object initializer.
**Actual Behavior**:
Code gets built successfuly. But throws null reference exception while running code since Address property is null.
If code line that assigns ""Address"" is moved outside Card initializer it reports error CS1525.","C# compiler should report CS1525 when ""new"" keyword followed by type name is not specified inside object initializer for a type member. **Version Used**: 
Microsoft Visual Studio Professional 2017 
Version 15.9.12
VisualStudio.15.Release/15.9.12+28307.665
Microsoft .NET Framework
Version 4.7.03056
**Steps to Reproduce**:

1. Write object initializer as below in method:
`           var paymentResponse = new PaymentResponse();

            paymentResponse.PaymentCard = new Card
            {
                Number = ""number""
                ExpirationDate = new DateTime(year: _validCreditCard.Expiry.Year month:_validCreditCard.Expiry.Monthday:1)
                Cvv=""cvv""
                Type=""type""
                Name= ""Name""
                Address ={ Address1= ""Address1"" City= ""City"" State= ""State"" Country= ""Country"" PostalCode= ""PostalCode"" }
            };
`
2.Try to build above code 

**Expected Behavior**:
Compiler should report CS1525 for line assigning ""Address"" inside object initializer.
**Actual Behavior**:
Code gets built successfuly. But throws null reference exception while running code since Address property is null.
If code line that assigns ""Address"" is moved outside Card initializer it reports error CS1525.",Area-Compilers|Language-C#|Resolution-By Design,sharwell,5/09/2019 16:29,5/09/2019 16:58
38502,A bunch of code refactorings crash if you attempt to add an attribute to a parameter,"**Version Used**: 
Version 16.4.0 Preview 1.0 [29303.122.master]

**Steps to Reproduce**:

This affects about ~10 refactorings all with the same stack:

1. Where indicated by $ add a `[`
``` C#
    internal sealed partial class Renamer : IFileRenameHandler
    {
        [ImportingConstructor]
        internal Renamer(IUnconfiguredProjectVsServices projectVsServices
                         IUnconfiguredProjectTasksService unconfiguredProjectTasksService
                         $VisualStudioWorkspace workspace
                         IVsService<Shell.Interop.SDTE EnvDTE.DTE> dte
                         IEnvironmentOptions environmentOptions
                         IUserNotificationServices userNotificationServices
                         IRoslynServices roslynServices
                         IWaitIndicator waitService
                         IRefactorNotifyService refactorNotifyService)
            : this(projectVsServices unconfiguredProjectTasksService workspace as Workspace dte environmentOptions userNotificationServices roslynServices waitService refactorNotifyService)
        {
        }
 }
```

**Expected Behavior**:
No crash

**Actual Behavior**:
![image](https://user-images.githubusercontent.com/1103906/64308436-9d47e480-cfdc-11e9-80c6-e8a6917e1357.png)

```
System.ArgumentOutOfRangeException : Specified argument was out of the range of valid values.
Parameter name: position
   at Microsoft.CodeAnalysis.SyntaxNode.FindTokenCore(Int32 positionBoolean findInsideTrivia)
   at Microsoft.CodeAnalysis.Shared.Extensions.SyntaxNodeExtensions.GetInitialToken(SyntaxNode rootInt32 positionBoolean includeSkippedBoolean includeDirectivesBoolean includeDocumentationComments)
   at Microsoft.CodeAnalysis.Shared.Extensions.SyntaxNodeExtensions.FindTokenOnRightOfPosition(SyntaxNode rootInt32 positionBoolean includeSkippedBoolean includeDirectivesBoolean includeDocumentationComments)
   at Microsoft.CodeAnalysis.LanguageServices.AbstractSyntaxFactsService.GetStartOfNodeExcludingAttributes(SyntaxNode node)
   at Microsoft.CodeAnalysis.LanguageServices.AbstractSyntaxFactsService.IsOnHeader[THoleSyntax](Int32 positionSyntaxNode ownerOfHeaderSyntaxNodeOrToken lastTokenOrNodeOfHeaderImmutableArray`1 holes)
   at Microsoft.CodeAnalysis.LanguageServices.AbstractSyntaxFactsService.IsOnHeader(Int32 positionSyntaxNode ownerOfHeaderSyntaxNodeOrToken lastTokenOrNodeOfHeader)
   at Microsoft.CodeAnalysis.CSharp.CSharpSyntaxFactsService.IsOnParameterHeader(SyntaxNode rootInt32 positionSyntaxNode& parameter)
   at Microsoft.CodeAnalysis.CodeRefactorings.AbstractRefactoringHelpersService`2.<ExtractNodesInHeader>d__7.MoveNext()
   at System.Linq.Enumerable.<OfTypeIterator>d__95`1.MoveNext()
   at System.Linq.Enumerable.WhereEnumerableIterator`1.MoveNext()
   at Microsoft.CodeAnalysis.CodeRefactorings.AbstractRefactoringHelpersService`2.AddNonHiddenCorrectTypeNodes[TSyntaxNode](IEnumerable`1 nodesArrayBuilder`1 resultBuilderCancellationToken cancellationToken)
   at async Microsoft.CodeAnalysis.CodeRefactorings.AbstractRefactoringHelpersService`2.GetRelevantNodesAsync[TExpressionSyntaxTArgumentSyntaxTSyntaxNode](<Unknown Parameters>)
   at async Microsoft.CodeAnalysis.CodeRefactorings.CodeRefactoringContextExtensions.GetRelevantNodesAsync[TSyntaxNode](<Unknown Parameters>)
   at async Microsoft.CodeAnalysis.CodeRefactorings.CodeRefactoringContextExtensions.TryGetRelevantNodeAsync[TSyntaxNode](<Unknown Parameters>)
   at async Microsoft.CodeAnalysis.InvertLogical.AbstractInvertLogicalCodeRefactoringProvider`3.ComputeRefactoringsAsync[TSyntaxKindTExpressionSyntaxTBinaryExpressionSyntax](<Unknown Parameters>)
   at async Microsoft.CodeAnalysis.CodeRefactorings.CodeRefactoringService.GetRefactoringFromProviderAsync(<Unknown Parameters>)
   at Microsoft.VisualStudio.Telemetry.WindowsErrorReporting.WatsonReport.GetClrWatsonExceptionInfo(Exception exceptionObject)
```","A bunch of code refactorings crash if you attempt to add an attribute to a parameter **Version Used**: 
Version 16.4.0 Preview 1.0 [29303.122.master]

**Steps to Reproduce**:

This affects about ~10 refactorings all with the same stack:

1. Where indicated by $ add a `[`
``` C#
    internal sealed partial class Renamer : IFileRenameHandler
    {
        [ImportingConstructor]
        internal Renamer(IUnconfiguredProjectVsServices projectVsServices
                         IUnconfiguredProjectTasksService unconfiguredProjectTasksService
                         $VisualStudioWorkspace workspace
                         IVsService<Shell.Interop.SDTE EnvDTE.DTE> dte
                         IEnvironmentOptions environmentOptions
                         IUserNotificationServices userNotificationServices
                         IRoslynServices roslynServices
                         IWaitIndicator waitService
                         IRefactorNotifyService refactorNotifyService)
            : this(projectVsServices unconfiguredProjectTasksService workspace as Workspace dte environmentOptions userNotificationServices roslynServices waitService refactorNotifyService)
        {
        }
 }
```

**Expected Behavior**:
No crash

**Actual Behavior**:
![image](https://user-images.githubusercontent.com/1103906/64308436-9d47e480-cfdc-11e9-80c6-e8a6917e1357.png)

```
System.ArgumentOutOfRangeException : Specified argument was out of the range of valid values.
Parameter name: position
   at Microsoft.CodeAnalysis.SyntaxNode.FindTokenCore(Int32 positionBoolean findInsideTrivia)
   at Microsoft.CodeAnalysis.Shared.Extensions.SyntaxNodeExtensions.GetInitialToken(SyntaxNode rootInt32 positionBoolean includeSkippedBoolean includeDirectivesBoolean includeDocumentationComments)
   at Microsoft.CodeAnalysis.Shared.Extensions.SyntaxNodeExtensions.FindTokenOnRightOfPosition(SyntaxNode rootInt32 positionBoolean includeSkippedBoolean includeDirectivesBoolean includeDocumentationComments)
   at Microsoft.CodeAnalysis.LanguageServices.AbstractSyntaxFactsService.GetStartOfNodeExcludingAttributes(SyntaxNode node)
   at Microsoft.CodeAnalysis.LanguageServices.AbstractSyntaxFactsService.IsOnHeader[THoleSyntax](Int32 positionSyntaxNode ownerOfHeaderSyntaxNodeOrToken lastTokenOrNodeOfHeaderImmutableArray`1 holes)
   at Microsoft.CodeAnalysis.LanguageServices.AbstractSyntaxFactsService.IsOnHeader(Int32 positionSyntaxNode ownerOfHeaderSyntaxNodeOrToken lastTokenOrNodeOfHeader)
   at Microsoft.CodeAnalysis.CSharp.CSharpSyntaxFactsService.IsOnParameterHeader(SyntaxNode rootInt32 positionSyntaxNode& parameter)
   at Microsoft.CodeAnalysis.CodeRefactorings.AbstractRefactoringHelpersService`2.<ExtractNodesInHeader>d__7.MoveNext()
   at System.Linq.Enumerable.<OfTypeIterator>d__95`1.MoveNext()
   at System.Linq.Enumerable.WhereEnumerableIterator`1.MoveNext()
   at Microsoft.CodeAnalysis.CodeRefactorings.AbstractRefactoringHelpersService`2.AddNonHiddenCorrectTypeNodes[TSyntaxNode](IEnumerable`1 nodesArrayBuilder`1 resultBuilderCancellationToken cancellationToken)
   at async Microsoft.CodeAnalysis.CodeRefactorings.AbstractRefactoringHelpersService`2.GetRelevantNodesAsync[TExpressionSyntaxTArgumentSyntaxTSyntaxNode](<Unknown Parameters>)
   at async Microsoft.CodeAnalysis.CodeRefactorings.CodeRefactoringContextExtensions.GetRelevantNodesAsync[TSyntaxNode](<Unknown Parameters>)
   at async Microsoft.CodeAnalysis.CodeRefactorings.CodeRefactoringContextExtensions.TryGetRelevantNodeAsync[TSyntaxNode](<Unknown Parameters>)
   at async Microsoft.CodeAnalysis.InvertLogical.AbstractInvertLogicalCodeRefactoringProvider`3.ComputeRefactoringsAsync[TSyntaxKindTExpressionSyntaxTBinaryExpressionSyntax](<Unknown Parameters>)
   at async Microsoft.CodeAnalysis.CodeRefactorings.CodeRefactoringService.GetRefactoringFromProviderAsync(<Unknown Parameters>)
   at Microsoft.VisualStudio.Telemetry.WindowsErrorReporting.WatsonReport.GetClrWatsonExceptionInfo(Exception exceptionObject)
```",Area-IDE,petrroll,,
38500,Disposer cleanup for pooled objects.,,Disposer cleanup for pooled objects. ,Area-IDE,petrroll,5/09/2019 11:04,6/09/2019 2:55
38499,Sort completion list by pattern matching results,"Address #38253 with two tweaks

1. Sort completion list by pattern matching results first then by alphabetical order (current behavior is pure alphabetical order)
2. Selection will prefer unimported item with complete match if there's no in-scope items with complete match (current behavior is always prefer in-scope items even if it has worse matching than unimported items)

---------------------------------

- Ctrl + space when a complete match exists for both in-scope and unimported items. We will prefer in-scope items. Another impact of this change is in case there's no complete match we might end up selecting an in-scope item with better matched unimported items above the selection (not shown in the gif).

<a href=""https://user-images.githubusercontent.com/788783/64370300-0a567c80-cfd3-11e9-8ece-1dffbba1b2ce.gif""><img src=""https://user-images.githubusercontent.com/788783/64370300-0a567c80-cfd3-11e9-8ece-1dffbba1b2ce.gif"" width=""400"" /></a>

- Ctrl + J same scenario as above Notice all unmatched items remain sorted first by in-scope/unimported and then in alphabetical order *after* all matched items

<a href=""https://user-images.githubusercontent.com/788783/64371107-a0d76d80-cfd4-11e9-9d90-c805b16f973d.gif""><img src=""https://user-images.githubusercontent.com/788783/64371107-a0d76d80-cfd4-11e9-9d90-c805b16f973d.gif"" width=""400"" /></a>

- Ctrl + space when only unimport item has a complete match then it will be selected

<a href=""https://user-images.githubusercontent.com/788783/64371278-0c213f80-cfd5-11e9-9a32-e0c953635350.gif""><img src=""https://user-images.githubusercontent.com/788783/64371278-0c213f80-cfd5-11e9-9a32-e0c953635350.gif"" width=""400"" /></a>

Since this is a potentially impactful change hide it behind an experiment for now.
Tag @ivanbasov @CyrusNajmabadi for review. 

FYI @davkean Does this address your feedback?

------------------------------- 

I have done some quick perf analysis which is based on the following scenario:

1. Open Roslyn.sln then navigate to the static constructor of `AbstractPersistentStorageTests` class. (I chose this file because it has ~20k items in the list with import completion enabled)
2. Ctrl + space to trigger completion list
3. slowly type ""task""
4. slowly delete ""task"" by using backspace
5. hit ""esc"" to discard completion list
6. go to step 2 and repeat for another 3 times

This is repeated 3 time with different roslyn release builds
1. Baseline: built directly from current master-vs-deps branch
2. With experiment disabled: with the change in this PR w/o enabling the experiments
3. With experiment enabled: does one more pass of sorting using pattern match otherwise identical to build 2 above.

Here's the results (CPU stacks in perfview with only frames under `ManagedModule!Microsoft.CodeAnalysis.Editor.Implementation.IntelliSense.AsyncCompletion.ItemManager.UpdateCompletionList()` included)

1. Comparing experiment on and off. The extra sorting doesn't show in the diff at all.

![image](https://user-images.githubusercontent.com/788783/64387430-cecaab00-cff0-11e9-963f-e3f0e8134c2f.png)

2. Comparing baseline and with experiment enabled. It seems the perf is better with the change (~~216 ms~~ even better now see update below) due to calling pattern match fewer times.

![image](https://user-images.githubusercontent.com/788783/64387831-fc642400-cff1-11e9-87e0-c4f18be3a70f.png)

Update: 
with the change in https://github.com/dotnet/roslyn/pull/38499/commits/087bc0a3d72f80acb4cb5758cda7266debafb9d1 now the diff is -569 ms compare to baseline (~2000 vs ~1450)

![image](https://user-images.githubusercontent.com/788783/64393392-02640000-d006-11e9-8208-b6cab51a1920.png)

","Sort completion list by pattern matching results Address #38253 with two tweaks

1. Sort completion list by pattern matching results first then by alphabetical order (current behavior is pure alphabetical order)
2. Selection will prefer unimported item with complete match if there's no in-scope items with complete match (current behavior is always prefer in-scope items even if it has worse matching than unimported items)

---------------------------------

- Ctrl + space when a complete match exists for both in-scope and unimported items. We will prefer in-scope items. Another impact of this change is in case there's no complete match we might end up selecting an in-scope item with better matched unimported items above the selection (not shown in the gif).

<a href=""https://user-images.githubusercontent.com/788783/64370300-0a567c80-cfd3-11e9-8ece-1dffbba1b2ce.gif""><img src=""https://user-images.githubusercontent.com/788783/64370300-0a567c80-cfd3-11e9-8ece-1dffbba1b2ce.gif"" width=""400"" /></a>

- Ctrl + J same scenario as above Notice all unmatched items remain sorted first by in-scope/unimported and then in alphabetical order *after* all matched items

<a href=""https://user-images.githubusercontent.com/788783/64371107-a0d76d80-cfd4-11e9-9d90-c805b16f973d.gif""><img src=""https://user-images.githubusercontent.com/788783/64371107-a0d76d80-cfd4-11e9-9d90-c805b16f973d.gif"" width=""400"" /></a>

- Ctrl + space when only unimport item has a complete match then it will be selected

<a href=""https://user-images.githubusercontent.com/788783/64371278-0c213f80-cfd5-11e9-9a32-e0c953635350.gif""><img src=""https://user-images.githubusercontent.com/788783/64371278-0c213f80-cfd5-11e9-9a32-e0c953635350.gif"" width=""400"" /></a>

Since this is a potentially impactful change hide it behind an experiment for now.
Tag @ivanbasov @CyrusNajmabadi for review. 

FYI @davkean Does this address your feedback?

------------------------------- 

I have done some quick perf analysis which is based on the following scenario:

1. Open Roslyn.sln then navigate to the static constructor of `AbstractPersistentStorageTests` class. (I chose this file because it has ~20k items in the list with import completion enabled)
2. Ctrl + space to trigger completion list
3. slowly type ""task""
4. slowly delete ""task"" by using backspace
5. hit ""esc"" to discard completion list
6. go to step 2 and repeat for another 3 times

This is repeated 3 time with different roslyn release builds
1. Baseline: built directly from current master-vs-deps branch
2. With experiment disabled: with the change in this PR w/o enabling the experiments
3. With experiment enabled: does one more pass of sorting using pattern match otherwise identical to build 2 above.

Here's the results (CPU stacks in perfview with only frames under `ManagedModule!Microsoft.CodeAnalysis.Editor.Implementation.IntelliSense.AsyncCompletion.ItemManager.UpdateCompletionList()` included)

1. Comparing experiment on and off. The extra sorting doesn't show in the diff at all.

![image](https://user-images.githubusercontent.com/788783/64387430-cecaab00-cff0-11e9-963f-e3f0e8134c2f.png)

2. Comparing baseline and with experiment enabled. It seems the perf is better with the change (~~216 ms~~ even better now see update below) due to calling pattern match fewer times.

![image](https://user-images.githubusercontent.com/788783/64387831-fc642400-cff1-11e9-87e0-c4f18be3a70f.png)

Update: 
with the change in https://github.com/dotnet/roslyn/pull/38499/commits/087bc0a3d72f80acb4cb5758cda7266debafb9d1 now the diff is -569 ms compare to baseline (~2000 vs ~1450)

![image](https://user-images.githubusercontent.com/788783/64393392-02640000-d006-11e9-8208-b6cab51a1920.png)

",Area-IDE|IDE-IntelliSense,genlu|ivanbasov|CyrusNajmabadi|jasonmalinowski|davkean|jinujoseph,5/09/2019 10:49,11/09/2019 3:59
38498,Make sure we Dispose() the options processor of CPS projects,"Commit at a time recommended as the first commit is just me adding nullable annotations.

- Fixes #38443
- Fixes https://devdiv.visualstudio.com/DevDiv/_workitems/edit/951410","Make sure we Dispose() the options processor of CPS projects Commit at a time recommended as the first commit is just me adding nullable annotations.

- Fixes #38443
- Fixes https://devdiv.visualstudio.com/DevDiv/_workitems/edit/951410",Area-IDE,jasonmalinowski,,
38497,Automatic namespace imports break muscle-memory and impedes typing,"**Version Used**: 
VS 2019 16.3 Preview 4 (Int Preview)

**Steps to Reproduce**:

1. Set caret inside of a private non-static method
2. Type 'this.'

**Expected Behavior**:

Completion list is displayed with non-static member items of this class.

**Actual Behavior**:

Completion auto-completes to 'CallConvThiscall' and adds a using for `System.Runtime.CompilerServices`.

Auto-importing is nice but IMO needs to be a bit less aggressive. I frequently find myself needing to undo what it did. One obvious case is when the user types a keyword especially 'this' 'value' etc. These should never be considered for completion/auto-namespace-import or they should be added to the completion list so the keyword is the selected match when the user types a commit character.","Automatic namespace imports break muscle-memory and impedes typing **Version Used**: 
VS 2019 16.3 Preview 4 (Int Preview)

**Steps to Reproduce**:

1. Set caret inside of a private non-static method
2. Type 'this.'

**Expected Behavior**:

Completion list is displayed with non-static member items of this class.

**Actual Behavior**:

Completion auto-completes to 'CallConvThiscall' and adds a using for `System.Runtime.CompilerServices`.

Auto-importing is nice but IMO needs to be a bit less aggressive. I frequently find myself needing to undo what it did. One obvious case is when the user types a keyword especially 'this' 'value' etc. These should never be considered for completion/auto-namespace-import or they should be added to the completion list so the keyword is the selected match when the user types a commit character.",Area-IDE|Bug,AmadeusW|gafter|ivanbasov|genlu|jinujoseph,5/09/2019 10:15,
38496,Merge master to master-vs-deps,"
This is an automatically generated pull request from master into master-vs-deps.

``` bash
git fetch --all
git checkout merges/master-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge master to master-vs-deps 
This is an automatically generated pull request from master into master-vs-deps.

``` bash
git fetch --all
git checkout merges/master-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|Auto-Merge If Tests Pass,dotnet-bot|dotnet-automerge-bot,5/09/2019 10:02,5/09/2019 12:00
38495,Merge release/dev16.3-vs-deps to master-vs-deps,"
This is an automatically generated pull request from release/dev16.3-vs-deps into master-vs-deps.

``` bash
git fetch --all
git checkout merges/release/dev16.3-vs-deps-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/release/dev16.3-vs-deps
# Fix merge conflicts
git commit
git push upstream merges/release/dev16.3-vs-deps-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge release/dev16.3-vs-deps to master-vs-deps 
This is an automatically generated pull request from release/dev16.3-vs-deps into master-vs-deps.

``` bash
git fetch --all
git checkout merges/release/dev16.3-vs-deps-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/release/dev16.3-vs-deps
# Fix merge conflicts
git commit
git push upstream merges/release/dev16.3-vs-deps-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|Auto-Merge If Tests Pass,dotnet-bot|dotnet-automerge-bot,5/09/2019 10:01,6/09/2019 5:30
38494,Adjust dependency tracking for types with respect to added ability to nest types into interfaces.,"Related to #34704.

**We used to have the following rules:**

""When a class B derives from a class A it is a compile-time error for A to depend on B. A class **directly depends on** its direct base class (if any) and **directly depends on** the ~~**class**~~ within which it is immediately nested (if any). Given this definition the complete set of ~~**classes**~~ upon which a class depends is the reflexive and transitive closure of the **directly depends on** relationship.""

It is a compile-time error for an interface to directly or indirectly inherit from itself.
The **base interfaces** of an interface are the explicit base interfaces and their base interfaces. In other words the set of base interfaces is the complete transitive closure of the explicit base interfaces their explicit base interfaces and so on.

**Since we added ability to nest types into interfaces we are adjusting them as follows:**

When a class B derives from a class A it is a compile-time error for A to depend on B. A class **directly depends on** its direct base class (if any) and **directly depends on** the _**type**_ within which it is immediately nested (if any).

When an interface IB extends an interface IA it is a compile-time error for IA to depend on IB. An interface **directly depends on** its direct base interfaces (if any) and **directly depends on** the type within which it is immediately nested (if any).

Given these definitions the complete set of **types** upon which a type depends is the reflexive and transitive closure of the **directly depends on** relationship.","Adjust dependency tracking for types with respect to added ability to nest types into interfaces. Related to #34704.

**We used to have the following rules:**

""When a class B derives from a class A it is a compile-time error for A to depend on B. A class **directly depends on** its direct base class (if any) and **directly depends on** the ~~**class**~~ within which it is immediately nested (if any). Given this definition the complete set of ~~**classes**~~ upon which a class depends is the reflexive and transitive closure of the **directly depends on** relationship.""

It is a compile-time error for an interface to directly or indirectly inherit from itself.
The **base interfaces** of an interface are the explicit base interfaces and their base interfaces. In other words the set of base interfaces is the complete transitive closure of the explicit base interfaces their explicit base interfaces and so on.

**Since we added ability to nest types into interfaces we are adjusting them as follows:**

When a class B derives from a class A it is a compile-time error for A to depend on B. A class **directly depends on** its direct base class (if any) and **directly depends on** the _**type**_ within which it is immediately nested (if any).

When an interface IB extends an interface IA it is a compile-time error for IA to depend on IB. An interface **directly depends on** its direct base interfaces (if any) and **directly depends on** the type within which it is immediately nested (if any).

Given these definitions the complete set of **types** upon which a type depends is the reflexive and transitive closure of the **directly depends on** relationship.",Area-Compilers|Language-C#|New Language Feature - Default Interface Impl,AlekseyTs|jaredpar|agocke|333fred|gafter|RikkiGibson|VSadov|cston|jcouv|chsienki|fayrose,5/09/2019 9:52,6/09/2019 5:53
38493,Enable xUnit2002: Assert.NotNull validation,"This enables xUnit analyzer rule xUnit2002 which validates the expression being passed to `Assert.NotNull` is not a value type. The Roslyn code base had ~2000 violations of this rule mostly due to passing `SyntaxToken` here. Presumably this is a historical artifact from the times when `SyntaxNode` was defined as a `class` instead of `struct`. 

The code was mechanically transformed in the following way:

``` csharp
// old
Assert.NotNull(token);
// new
Assert.NotEqual(default token)
```

I did give some consideration to just removing all the uses of `Assert.NotNull` when the argument passed in was side effect free (mostly locals). Eventually I decided against this though because I didn't want to mix potentially deleting valuable code with a mechanical transformation. If we do want to remove the non-sense comparisons here we should take that as a separate change.
","Enable xUnit2002: Assert.NotNull validation This enables xUnit analyzer rule xUnit2002 which validates the expression being passed to `Assert.NotNull` is not a value type. The Roslyn code base had ~2000 violations of this rule mostly due to passing `SyntaxToken` here. Presumably this is a historical artifact from the times when `SyntaxNode` was defined as a `class` instead of `struct`. 

The code was mechanically transformed in the following way:

``` csharp
// old
Assert.NotNull(token);
// new
Assert.NotEqual(default token)
```

I did give some consideration to just removing all the uses of `Assert.NotNull` when the argument passed in was side effect free (mostly locals). Eventually I decided against this though because I didn't want to mix potentially deleting valuable code with a mechanical transformation. If we do want to remove the non-sense comparisons here we should take that as a separate change.
",Area-Compilers,jcouv,,
38492,Fix violations of xUnit analyzers,Turning on a few warnings and fixing violations of them.,Fix violations of xUnit analyzers Turning on a few warnings and fixing violations of them.,,jasonmalinowski,,
38491,winforms ResetPropertyName and ShouldSerializePropertyName incorrectly marked with IDE0051: Private member is unused,"_This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/678086/winforms-resetpropertyname-and-shouldserializeprop.html)._

---
https://github.com/binki/ShouldSerializeResetPropertyIde0051/blob/971f524e347c472da9157a6048c88335c82f5fe6/ShouldSerializeResetPropertyIde0051/UserControl1.cs#L31

https://docs.microsoft.com/en-us/dotnet/framework/winforms/controls/defining-default-values-with-the-shouldserialize-and-reset-methods

When I have a member `void ResetX() {}` in a class inheriting from `System.Windows.Forms.Control` with a member `public object X { get; set; } ` Visual Studio incorrectly reports IDE0051 and provides a codefix to remove “unused code”. However that method is actually discovered and called by Designer if the user right-clicks on the property in the PropertyGridView and selects Reset.

Visual Studio should know about the private members that winforms will discover and not mark them unused. It should for example find unused members that are unused because the property referenced by the naming convention is not found. For example it should report `void ResetY() {}` as unused if there is no `public object Y { get; set; } `.

---
### Original Comments

#### Visual Studio Feedback System on 8/6/2019 00:12 AM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>


---
### Original Solutions
(no solutions)","winforms ResetPropertyName and ShouldSerializePropertyName incorrectly marked with IDE0051: Private member is unused _This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/678086/winforms-resetpropertyname-and-shouldserializeprop.html)._

---
https://github.com/binki/ShouldSerializeResetPropertyIde0051/blob/971f524e347c472da9157a6048c88335c82f5fe6/ShouldSerializeResetPropertyIde0051/UserControl1.cs#L31

https://docs.microsoft.com/en-us/dotnet/framework/winforms/controls/defining-default-values-with-the-shouldserialize-and-reset-methods

When I have a member `void ResetX() {}` in a class inheriting from `System.Windows.Forms.Control` with a member `public object X { get; set; } ` Visual Studio incorrectly reports IDE0051 and provides a codefix to remove “unused code”. However that method is actually discovered and called by Designer if the user right-clicks on the property in the PropertyGridView and selects Reset.

Visual Studio should know about the private members that winforms will discover and not mark them unused. It should for example find unused members that are unused because the property referenced by the naming convention is not found. For example it should report `void ResetY() {}` as unused if there is no `public object Y { get; set; } `.

---
### Original Comments

#### Visual Studio Feedback System on 8/6/2019 00:12 AM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>


---
### Original Solutions
(no solutions)",Area-IDE|Bug|IDE-CodeStyle,mavasani,,
38490,'csharp_style_conditional_delegate_call = true:silent' not honored by RunDefaultCodeCleanup,"_This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/611252/csharp-style-conditional-delegate-call-truesilent.html)._

---
When I click on EditorContextMenus.FileHealthIndicator.RunDefultCodeCleanup statements that should be handled by 'csharp_style_conditional_delegate_call = true:silent' are not modified but the same statements have a light-bulb showing that they can be modified manually.

In the attached screen-shot there is a light-bulb next to one of the statements not being handled - unfortunately the contents of the light-bulb prompt disappears when I switch from VS to this feedback or the 'Snip &amp; Sketch' tool - but the text on the dialog-box is 'IDE1005 Delegate invocation can be simplified' and the simplification shows the null-propagation that will be used.

Attached is my .editorconfig file.

---
### Original Comments

#### Visual Studio Feedback System on 6/18/2019 02:00 AM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>

#### Rui Zhang [MSFT] on 6/19/2019 01:55 AM: 

<p><strong>Thanks for your feedback! For us to investigate this further we need confirm more information with you: Did this issue only happen in your current project or happen in the new created simple project too? And did this issue only happen in a certain type of project(WPF App Windows Forms App etc)?</strong></p><p><strong>If this issue only happened in current one project and only happen in a certain type please check whether your team members received the same issue when they were working with this one application on their machines?</strong></p><p><strong>If develop the same project on other machines without this issue and there's no any specific step/operation will cause this issue in VS on your machine could you please provide us more information(your steps your sample project etc.) to do the further investigation?</strong></p><p><br></p>

#### Lee Silver on 6/19/2019 03:14 PM: 

I'm the only developer.<br><br>The Project is Platform:windows Project Type:Library.<br><br>I created a dummy Platform:windows Project Type:Console copied one of the offending files into it and got the same results -- RunDefaultCodeCleanup did not do the expected transform
#### Rui Zhang [MSFT] on 6/23/2019 08:10 PM: 

<p>Thank you for your feedback! For us to investigate this further could you please provide your sample app and detailed steps? we need to reproduce and analyze it. We look forward to hearing from you!</p>

#### Lee Silver on 6/24/2019 03:44 PM: 

Attached are ClassLibrary1.csproj and Class1.cs - you already have the .editorconfig file.<br><br>Click on<br><br>EventHandler eh = (EventHandler) Events [UIACanResizeChangedEvent];<br><br>and you will see a light-bulb offering to simplify the delegate invocation.<br>But run EditorContextMenus.FileHealthIndicator.RunCustomCodeCleanup and you will see that the code-sequence is not transformed when I believe it should be transformed to<br><br>((EventHandler)Events[UIACanResizeChangedEvent])?.Invoke(this e);<br><br>which is what happens when the light-bulb transform is clicked.<br>Note that the <br><br>int x;<br><br>statement is changed to<br><br>Int32 x;<br><br>showing that  RunCustomCodeCleanup ran.
#### Lee Silver on 7/4/2019 07:23 PM: 

Sorry for the delay - I somehow missed your request for additional info.<br><br>Attached is test.zip containing a new sample the demonstrates the problem.<br>
#### Rui Zhang [MSFT] on 6/27/2019 10:42 PM: 

<p>Thank you for your feedback! We cannot use the files(ClassLibrary1.csproj and Class1.cs) that you provided  to debug. For us to investigate this further could you please provide a compressed file of the entire project? We look forward to hearing from you!</p>

#### Lee Silver on 7/14/2019 03:46 PM: 

Just checking that you got the zip-file I sent on 7/5.
#### Rui Zhang [MSFT] on 7/16/2019 02:47 AM: 

<p>Thank you for your reply what is issue you received? Is clicking the light-bulb to rewrite the code?</p>

#### Lee Silver on 7/16/2019 03:03 PM: 

No clicking the light-bulb works just fine.<br><br>But as I stated when I reported the problem ""When I click on EditorContextMenus.FileHealthIndicator.RunDefultCodeCleanup statements that should be handled by ‘csharp_style_conditional_delegate_call = true:silent’ are not modified but the same statements have a light-bulb showing that they can be modified manually.""<br><br>In other words I believe the statement with the light-bulb should be rewritten by EditorContextMenus.FileHealthIndicator.RunDefultCodeCleanup because my .editorconfig-file contains ‘csharp_style_conditional_delegate_call = true:silent’ but it isn't. It is only rewritten when done via the light-bulb.
#### Lee Silver on 7/24/2019 07:18 PM: 

<p>hmmm - VS Report a Problem says this was updated by John Qiao on 7/25 but I can find no such comment.</p>

#### Visual Studio Feedback System on 7/25/2019 02:40 AM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>


---
### Original Solutions
(no solutions)","'csharp_style_conditional_delegate_call = true:silent' not honored by RunDefaultCodeCleanup _This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/611252/csharp-style-conditional-delegate-call-truesilent.html)._

---
When I click on EditorContextMenus.FileHealthIndicator.RunDefultCodeCleanup statements that should be handled by 'csharp_style_conditional_delegate_call = true:silent' are not modified but the same statements have a light-bulb showing that they can be modified manually.

In the attached screen-shot there is a light-bulb next to one of the statements not being handled - unfortunately the contents of the light-bulb prompt disappears when I switch from VS to this feedback or the 'Snip &amp; Sketch' tool - but the text on the dialog-box is 'IDE1005 Delegate invocation can be simplified' and the simplification shows the null-propagation that will be used.

Attached is my .editorconfig file.

---
### Original Comments

#### Visual Studio Feedback System on 6/18/2019 02:00 AM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>

#### Rui Zhang [MSFT] on 6/19/2019 01:55 AM: 

<p><strong>Thanks for your feedback! For us to investigate this further we need confirm more information with you: Did this issue only happen in your current project or happen in the new created simple project too? And did this issue only happen in a certain type of project(WPF App Windows Forms App etc)?</strong></p><p><strong>If this issue only happened in current one project and only happen in a certain type please check whether your team members received the same issue when they were working with this one application on their machines?</strong></p><p><strong>If develop the same project on other machines without this issue and there's no any specific step/operation will cause this issue in VS on your machine could you please provide us more information(your steps your sample project etc.) to do the further investigation?</strong></p><p><br></p>

#### Lee Silver on 6/19/2019 03:14 PM: 

I'm the only developer.<br><br>The Project is Platform:windows Project Type:Library.<br><br>I created a dummy Platform:windows Project Type:Console copied one of the offending files into it and got the same results -- RunDefaultCodeCleanup did not do the expected transform
#### Rui Zhang [MSFT] on 6/23/2019 08:10 PM: 

<p>Thank you for your feedback! For us to investigate this further could you please provide your sample app and detailed steps? we need to reproduce and analyze it. We look forward to hearing from you!</p>

#### Lee Silver on 6/24/2019 03:44 PM: 

Attached are ClassLibrary1.csproj and Class1.cs - you already have the .editorconfig file.<br><br>Click on<br><br>EventHandler eh = (EventHandler) Events [UIACanResizeChangedEvent];<br><br>and you will see a light-bulb offering to simplify the delegate invocation.<br>But run EditorContextMenus.FileHealthIndicator.RunCustomCodeCleanup and you will see that the code-sequence is not transformed when I believe it should be transformed to<br><br>((EventHandler)Events[UIACanResizeChangedEvent])?.Invoke(this e);<br><br>which is what happens when the light-bulb transform is clicked.<br>Note that the <br><br>int x;<br><br>statement is changed to<br><br>Int32 x;<br><br>showing that  RunCustomCodeCleanup ran.
#### Lee Silver on 7/4/2019 07:23 PM: 

Sorry for the delay - I somehow missed your request for additional info.<br><br>Attached is test.zip containing a new sample the demonstrates the problem.<br>
#### Rui Zhang [MSFT] on 6/27/2019 10:42 PM: 

<p>Thank you for your feedback! We cannot use the files(ClassLibrary1.csproj and Class1.cs) that you provided  to debug. For us to investigate this further could you please provide a compressed file of the entire project? We look forward to hearing from you!</p>

#### Lee Silver on 7/14/2019 03:46 PM: 

Just checking that you got the zip-file I sent on 7/5.
#### Rui Zhang [MSFT] on 7/16/2019 02:47 AM: 

<p>Thank you for your reply what is issue you received? Is clicking the light-bulb to rewrite the code?</p>

#### Lee Silver on 7/16/2019 03:03 PM: 

No clicking the light-bulb works just fine.<br><br>But as I stated when I reported the problem ""When I click on EditorContextMenus.FileHealthIndicator.RunDefultCodeCleanup statements that should be handled by ‘csharp_style_conditional_delegate_call = true:silent’ are not modified but the same statements have a light-bulb showing that they can be modified manually.""<br><br>In other words I believe the statement with the light-bulb should be rewritten by EditorContextMenus.FileHealthIndicator.RunDefultCodeCleanup because my .editorconfig-file contains ‘csharp_style_conditional_delegate_call = true:silent’ but it isn't. It is only rewritten when done via the light-bulb.
#### Lee Silver on 7/24/2019 07:18 PM: 

<p>hmmm - VS Report a Problem says this was updated by John Qiao on 7/25 but I can find no such comment.</p>

#### Visual Studio Feedback System on 7/25/2019 02:40 AM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>


---
### Original Solutions
(no solutions)",Area-IDE|Feature Request|Need Design Review,sharwell,5/09/2019 8:53,
38489,Fix typo 'paramereters' in IDE0060 FxCop analyzer rule,"**Version Used**: 

```xml
<PackageReference Include=""Microsoft.CodeAnalysis.FxCopAnalyzers"" Version=""2.9.4"">
```

**Steps to Reproduce**:

1. Use this rule and trigger IDE0060 by having an unused parameter
2. See typo in message
3. Or more simply use this GitHub search to see the typos: https://github.com/dotnet/roslyn/search?q=paramereters&unscoped_q=paramereters

**Expected Behavior**:
No typos.

**Actual Behavior**:
Tpyos.


Note: This typo was mentioned in https://github.com/dotnet/roslyn/issues/35063#issuecomment-496960792 but not addressed.","Fix typo 'paramereters' in IDE0060 FxCop analyzer rule **Version Used**: 

```xml
<PackageReference Include=""Microsoft.CodeAnalysis.FxCopAnalyzers"" Version=""2.9.4"">
```

**Steps to Reproduce**:

1. Use this rule and trigger IDE0060 by having an unused parameter
2. See typo in message
3. Or more simply use this GitHub search to see the typos: https://github.com/dotnet/roslyn/search?q=paramereters&unscoped_q=paramereters

**Expected Behavior**:
No typos.

**Actual Behavior**:
Tpyos.


Note: This typo was mentioned in https://github.com/dotnet/roslyn/issues/35063#issuecomment-496960792 but not addressed.",Area-IDE|Bug|IDE-CodeStyle|help wanted,chborl,,
38488,Add rename API for IWorkspaceProjectContext,"Add rename as a formal API. This is the first step towards allowing us to do more things on file rename like class or namespace fixes. It should also allow users to be more explicit about their intent instead of removing and adding files. 

https://github.com/dotnet/roslyn/issues/37243  

","Add rename API for IWorkspaceProjectContext Add rename as a formal API. This is the first step towards allowing us to do more things on file rename like class or namespace fixes. It should also allow users to be more explicit about their intent instead of removing and adding files. 

https://github.com/dotnet/roslyn/issues/37243  

",Area-IDE,vatsalyaagrawal|ryzngard|jmarolf|jasonmalinowski|davkean,5/09/2019 7:53,
38487,Intellisense ignores case sensitivity in case of enums and prefers wrong items,"Fixes https://github.com/dotnet/roslyn/issues/38297

When comparing completion items we ignore case sensitivity in the following scenario:

  ```
      void M(SampleEnumsampleEnum)
        {
            N($$
        }

        void N(SampleEnumsampleEnum) { }
        enum SampleEnum
        {
            One
            Two
        }
```
Type `s`.

**Expected**
The selected item is `sampleEnum`.

**Actual**
The selected item is `SampleEnum`.


","Intellisense ignores case sensitivity in case of enums and prefers wrong items Fixes https://github.com/dotnet/roslyn/issues/38297

When comparing completion items we ignore case sensitivity in the following scenario:

  ```
      void M(SampleEnumsampleEnum)
        {
            N($$
        }

        void N(SampleEnumsampleEnum) { }
        enum SampleEnum
        {
            One
            Two
        }
```
Type `s`.

**Expected**
The selected item is `sampleEnum`.

**Actual**
The selected item is `SampleEnum`.


",Area-IDE|IDE-IntelliSense,ivanbasov|CyrusNajmabadi|genlu,5/09/2019 6:26,
38486,Relaxed ordering for ref this does not check language version,"**Version Used**: Roslyn 2.7.0 or newer

**Steps to Reproduce**:

Run the following code:

```c#
using System;
using Microsoft.CodeAnalysis;
using Microsoft.CodeAnalysis.CSharp;

class Program
{
    static void Main()
    {
        string code = @""
struct S {}

static class Extensions
{
    static void M1(this ref S s) {}
    static void M2(ref this S s) {}
}"";

        var tree = SyntaxFactory.ParseSyntaxTree(code new CSharpParseOptions(LanguageVersion.CSharp7));

        var compilation = CSharpCompilation.Create(""a.dll"" options: new CSharpCompilationOptions(OutputKind.DynamicallyLinkedLibrary))
            .AddSyntaxTrees(tree)
            .AddReferences(MetadataReference.CreateFromFile(typeof(object).Assembly.Location));

        foreach (var diag in compilation.GetDiagnostics())
            Console.WriteLine(diag.ToString());
    }
}
```

**Expected Behavior**:

Both methods report an error saying that such code is not available in C# 7.0.

**Actual Behavior**:

Only `M2` reports an error:

> (720): error CS8107: Feature 'ref extension methods' is not available in C# 7.0. Please use language version 7.2 or greater.

I think this happens because when the ordering of modifiers on `ref` extension methods was relaxed in 2.7.0 a language version check wasn't added for the new syntax.

I think this isn't a serious problem and fixing it would be a breaking change so this might not be worth fixing but I thought it was worth reporting anyway.

This behavior was discovered in https://github.com/dotnet/docs/issues/13877.","Relaxed ordering for ref this does not check language version **Version Used**: Roslyn 2.7.0 or newer

**Steps to Reproduce**:

Run the following code:

```c#
using System;
using Microsoft.CodeAnalysis;
using Microsoft.CodeAnalysis.CSharp;

class Program
{
    static void Main()
    {
        string code = @""
struct S {}

static class Extensions
{
    static void M1(this ref S s) {}
    static void M2(ref this S s) {}
}"";

        var tree = SyntaxFactory.ParseSyntaxTree(code new CSharpParseOptions(LanguageVersion.CSharp7));

        var compilation = CSharpCompilation.Create(""a.dll"" options: new CSharpCompilationOptions(OutputKind.DynamicallyLinkedLibrary))
            .AddSyntaxTrees(tree)
            .AddReferences(MetadataReference.CreateFromFile(typeof(object).Assembly.Location));

        foreach (var diag in compilation.GetDiagnostics())
            Console.WriteLine(diag.ToString());
    }
}
```

**Expected Behavior**:

Both methods report an error saying that such code is not available in C# 7.0.

**Actual Behavior**:

Only `M2` reports an error:

> (720): error CS8107: Feature 'ref extension methods' is not available in C# 7.0. Please use language version 7.2 or greater.

I think this happens because when the ordering of modifiers on `ref` extension methods was relaxed in 2.7.0 a language version check wasn't added for the new syntax.

I think this isn't a serious problem and fixing it would be a breaking change so this might not be worth fixing but I thought it was worth reporting anyway.

This behavior was discovered in https://github.com/dotnet/docs/issues/13877.",Area-Compilers|Bug|Tenet-Compatibility|help wanted,RikkiGibson|gafter|jaredpar,5/09/2019 6:01,3/10/2019 8:56
38485,C# compiler fails to parse is operator with a recursive pattern using type parameters,"**Version Used**: master (31 Aug 2019) on SharpLab

**Steps to Reproduce**:
1.  Create a type with generic type parameters:
```cs
public readonly struct Box<T>
{
    public T Obj { get; }

    public Box(T obj)
    {
        this.Obj = obj;
    }
}
```
2. Attempt to use that type in an `is` expression with recursive pattern matching:
```cs
public static bool RecursiveIsBox<T>(object x)
{
    return x is Box<T> { Obj: T _ };
}
```
3. The following 5 errors are emitted:
```
error CS1525: Invalid expression term '{'
error CS1002: ; expected
error CS1002: ; expected
error CS0305: Using the generic type 'Box<T>' requires 1 type arguments
error CS0119: 'T' is a type which is not valid in the given context
```

p.s.: SharpLab sample [here](https://sharplab.io/#v2:EYLgtghgzgLgpgJwD4AEDMACBcIBMD2AdgDYCeGsCArgMYwYBC+AHgDwAqAfALABQA3nwzCM6DOwwB5YACsM/DAHM4MANwYAvnyEixTZgAoJ+WQEodwwbxE2MMABYBLKADppcgLwYTM1Rc18Wrx8YigAjABsogBMjHxWNqGRGMD4+MQYAJJQ+hycBj5wdBjM5tYiCbbCKADsJRjOjCx5KSwYAGTtrcxusg1Q4hgA+n7lwkE2/klRqekYAEpFVAhQjgBucNm5XAWyRfSl/pVVtfWN25zyUrIgg0OaozZBGkA=)

**Expected Behavior**:
The code is parsed and accepted and works in the same way as if the operations were done separately as in the following code:
```cs
public static bool IsBox<T>(object x)
{
    return x is Box<T> box && box.Obj is T _;
}
```

**Actual Behavior**:
The errors are emitted.","C# compiler fails to parse is operator with a recursive pattern using type parameters **Version Used**: master (31 Aug 2019) on SharpLab

**Steps to Reproduce**:
1.  Create a type with generic type parameters:
```cs
public readonly struct Box<T>
{
    public T Obj { get; }

    public Box(T obj)
    {
        this.Obj = obj;
    }
}
```
2. Attempt to use that type in an `is` expression with recursive pattern matching:
```cs
public static bool RecursiveIsBox<T>(object x)
{
    return x is Box<T> { Obj: T _ };
}
```
3. The following 5 errors are emitted:
```
error CS1525: Invalid expression term '{'
error CS1002: ; expected
error CS1002: ; expected
error CS0305: Using the generic type 'Box<T>' requires 1 type arguments
error CS0119: 'T' is a type which is not valid in the given context
```

p.s.: SharpLab sample [here](https://sharplab.io/#v2:EYLgtghgzgLgpgJwD4AEDMACBcIBMD2AdgDYCeGsCArgMYwYBC+AHgDwAqAfALABQA3nwzCM6DOwwB5YACsM/DAHM4MANwYAvnyEixTZgAoJ+WQEodwwbxE2MMABYBLKADppcgLwYTM1Rc18Wrx8YigAjABsogBMjHxWNqGRGMD4+MQYAJJQ+hycBj5wdBjM5tYiCbbCKADsJRjOjCx5KSwYAGTtrcxusg1Q4hgA+n7lwkE2/klRqekYAEpFVAhQjgBucNm5XAWyRfSl/pVVtfWN25zyUrIgg0OaozZBGkA=)

**Expected Behavior**:
The code is parsed and accepted and works in the same way as if the operations were done separately as in the following code:
```cs
public static bool IsBox<T>(object x)
{
    return x is Box<T> box && box.Obj is T _;
}
```

**Actual Behavior**:
The errors are emitted.",Area-Compilers|Bug|Resolution-Duplicate,gafter,,
38484,Move to next highlighted reference stops working if the current reference is incremented,"**Version Used**: VS 16.2

**Steps to Reproduce**:

- Move caret to the first `i` and wait for it to be highlighted
- Move to next highlighted reference once (`Ctrl+Shift+Down`) wait 1 sec
- Move to next highlighted reference once (`Ctrl+Shift+Down`) wait 1 sec
- Move to next highlighted reference once (`Ctrl+Shift+Down`) only now it won't work

```C#
namespace ConsoleApp18
{
    class Program
    {
        static void Main(string[] args)
        {
            int i = 0;
            if (i == 1) { }
            i++;
            _ = i;
        }
    }
}
```

**Expected Behavior**:

The reference is still highlighted even if it's incrementing its value (`i++`) so you can move to the next reference again.

**Actual Behavior**:

The reference isn't highlighted anymore (it takes ~0.5 secs)

I think this is a regression.","Move to next highlighted reference stops working if the current reference is incremented **Version Used**: VS 16.2

**Steps to Reproduce**:

- Move caret to the first `i` and wait for it to be highlighted
- Move to next highlighted reference once (`Ctrl+Shift+Down`) wait 1 sec
- Move to next highlighted reference once (`Ctrl+Shift+Down`) wait 1 sec
- Move to next highlighted reference once (`Ctrl+Shift+Down`) only now it won't work

```C#
namespace ConsoleApp18
{
    class Program
    {
        static void Main(string[] args)
        {
            int i = 0;
            if (i == 1) { }
            i++;
            _ = i;
        }
    }
}
```

**Expected Behavior**:

The reference is still highlighted even if it's incrementing its value (`i++`) so you can move to the next reference again.

**Actual Behavior**:

The reference isn't highlighted anymore (it takes ~0.5 secs)

I think this is a regression.",Area-IDE|Bug|IDE-Navigation|help wanted,jaredpar|vatsalyaagrawal|jinujoseph,5/09/2019 3:46,
38483,Duplicate PeekDefinition results for TS IGoToDefinitionService implementation,"https://devdiv.visualstudio.com/DevDiv/_git/TypeScript-VS?path=%2FVS%2FLanguageService%2FTypeScriptLanguageService%2FShared%2FFeatures%2FGoToDefinition%2FTypeScriptGoToDefinitionService.cs&version=GBmaster&line=39&lineStyle=plain&lineEnd=40&lineStartColumn=1&lineEndColumn=1

TS provides their own peek definition handling.  Roslyn also calls the IGoToDefinitionService for peek definition which results in duplicate results for TS when `FindDefinitionsAsync` is implemented on their side.

This causes issues in liveshare because now we have to use FAR for TS go to definition requests.

We need to do something to resolve the duplicate results for peek definition (flag prevent roslyn from handling it etc.) so we can re-implement IGoToDefinitionService for TS and use it in liveshare.
","Duplicate PeekDefinition results for TS IGoToDefinitionService implementation https://devdiv.visualstudio.com/DevDiv/_git/TypeScript-VS?path=%2FVS%2FLanguageService%2FTypeScriptLanguageService%2FShared%2FFeatures%2FGoToDefinition%2FTypeScriptGoToDefinitionService.cs&version=GBmaster&line=39&lineStyle=plain&lineEnd=40&lineStartColumn=1&lineEndColumn=1

TS provides their own peek definition handling.  Roslyn also calls the IGoToDefinitionService for peek definition which results in duplicate results for TS when `FindDefinitionsAsync` is implemented on their side.

This causes issues in liveshare because now we have to use FAR for TS go to definition requests.

We need to do something to resolve the duplicate results for peek definition (flag prevent roslyn from handling it etc.) so we can re-implement IGoToDefinitionService for TS and use it in liveshare.
",Area-IDE|Concept-Continuous Improvement,dibarbet,,
38482,Extend Introduce local for expression statement to handle unbounded LHS of assignment expr.,"**Steps to Reproduce**:
```csharp
$$unboundedIdentifier = 42;
```

**Expected Behavior**:
Introduce local offered & ->
```csharp
int unboundedIdentifier = 42;
```

**Actual Behavior**:
No refactoring offered as fixed by #38476","Extend Introduce local for expression statement to handle unbounded LHS of assignment expr. **Steps to Reproduce**:
```csharp
$$unboundedIdentifier = 42;
```

**Expected Behavior**:
Introduce local offered & ->
```csharp
int unboundedIdentifier = 42;
```

**Actual Behavior**:
No refactoring offered as fixed by #38476",Area-IDE|Feature Request|Need Design Review,petrroll|vatsalyaagrawal,5/09/2019 2:53,
38481,Move RemoveUnusedMembers diagnostic analyzer to IDE codestyle analyze…,"…r NuGet project

This is draft PR to aid/drive the design issues in https://github.com/dotnet/roslyn/issues/38480","Move RemoveUnusedMembers diagnostic analyzer to IDE codestyle analyze… …r NuGet project

This is draft PR to aid/drive the design issues in https://github.com/dotnet/roslyn/issues/38480",Area-IDE,mavasani,5/09/2019 0:50,
38480,Design issues around moving IDE code style analyzers to CodeStyle Analyzers NuGet package,"As part of https://github.com/dotnet/roslyn/issues/34907 we want to move as many IDE analyzers as possible into the CodeStyle analyzers NuGet package so the rules can be enforced on build/CI. We have already moved IDE0055 (Formatting analyzer) to this NuGet package and I tried to move an additional analyzer to the package (https://github.com/dotnet/roslyn/pull/38481) but ran into bunch of design questions/issues that need to be discussed.

1. **Diagnostic Analyzer:** This is the core piece that needs to be ported from IDE Features project to CodeStyle project. Design questions in this effort:
   1. **Should we re-use the same IDE diagnostic IDs for the ported analyzer?**
       Design Proposal: ""yes"" otherwise we run into issue about identical diagnostics with just a differing ID for each violation duplicate suppressions duplicate configuration (editorconfig/ruleset/nowarn entries) etc.
   2. **De-duping of diagnostics from different sources:** If we re-use the diagnostic IDs for the ported analyzer this will likely happen by default. We should confirm with @heejaechang. 
   3. **De-duping of diagnostic analyzers from different sources:** Given that the analyzer assembly containing these analyzers have different name (CodeStyle versus Features) there will be no automatic-deduping of analyzers and the analyzer from both these sources will execute. Do we care about the performance impact from duplicate analyzer execution? Should we add custom logic to IDE diagnostic service to not execute the IDE analyzer when there is an identical analyzer (say with same name and reporting same supported diagnostic IDs)?
   4. **Should we move the CodeStyle package to reference Microsoft.CodeAnalysis 3.x?** Currently the CodeStyle NuGet package targets Microsoft.CodeAnalysis 2.8.2 to enable running on Dev15 to promote dogfooding. However this prevents porting of bunch of analyzers which use APIs from Microsoft.CodeAnalysis 3.x. We can take couple of approaches here:
      1. Move to Microsoft.CodeAnalysis 3.x and officially state that newer CodeStyle NuGet packages are only supported with Dev16 and 3.x compiler toolset. Dev15 users can use prior CodeStyle packages.
      2. Stay on Microsoft.CodeAnalysis 2.8.2 and use Reflection based approach to light up analyzers using newer APIs if user is on Dev16.
      Personally I hate the reflection based approach and would strongly prefer just moving to Microsoft.CodeAnalysis 3.x.

2. **Code fixer:** This is likely the most controversial and tricky piece to port given that majority of our code fixers depend on internal IDE workspace and language services and extension methods which in turn use bunch of internal utilities helper utilities (for example symbol equivalence comparer) etc.
   1. **Should we port IDE code fixers to Code Style layer?** Theoretically speaking this is not required as code fixers never execute in CI. Following are the pros and cons of this porting effort:
      1. PROS:
         1. Code style layer can remain isolated from IDE and can be on par with other third party analyzer/fix packages. This can help us identify potential IDE internal APIs and utilities that should be made public.
         2. Protects us against breaking change in the analyzer where IDE code fixers do not need to handle all versions of analyzer (from different version of NuGet packages)
       2. CONS:
          1. Implementation cost: As mentioned above porting code fixers would likely be the most costly part of the port effort possibly also making this whole work item unfeasible and unrealistic.
          2. Unmaintainable code: The entire IDE Workspaces and Features layer would be filled with linked files #ifdefs based on code style preprocessor directive splitting of extension methods into two separate files one included in both Code Style and IDE layers and one only in IDE layer. IMO the code keeps getting pretty mess to work with and maintain.
           3. De-duping code fixers: We will end up showing duplicate identical code fixes from CodeStyle NuGet and IDE (need to confirm) which means we need to design a way to de-dupe code fixers and implement it. This would mean more work.

      **Design Proposal:** Given the extremely large number of highly impactful CONS and the overall implementation and maintenance cost likely being a deal breaker for this effort I would like to propose that we don't port the code fixers to code style layer. We should harden the code fixers so they gracefully bail out if the diagnostic location/properties is not as it expects so it can handle analyzer breaking changes gracefully and we can recommend customers to just upgrade to latest analyzer NuGet package to light-up the IDE code fixers again.

2. **Unit tests:** 
   1. **Should we port and/or clone unit tests for analyzers/fixers CodeStyle project?** We have following possible approaches each with its own PROS and CONS:
      1. **Clone unit test files into CodeStyle project:** This approach is only applicable if we decide that we are going to port the code fixers into CodeStyle NuGet layer otherwise the unit tests need to continue using IDE code fixers and hence cannot be moved to CodeStyle unit tests project. Formatting analyzer port did not port any existing formatting tests but added just a few additional formatting analyzer tests in the CodeStyle package for the ported analyzer. This approach will certainly not work for other analyzers as we want to run every authored analyzer/fixer unit test for both the IDE version of the analyzer and the ported analyzer in CodeStyle package. Creating cloned test files in CodeStyle unit test project will likely be impossible to maintain and keep them in sync with Features unit test project. Additionally if we decide not to re-use the IDE test framework and use the new Microsoft.CodeAnalysis testing library we will have to edit each and every ported unit test which will enormously increase the port and maintenance effort.
      2. **Link unit test files into CodeStyle project and continue using the IDE test framework:** This is comparatively much easier to implement and maintain compared to the prior approach. Again this approach is only applicable if we decide to port the code fixers into CodeStyle NuGet layer. I think this might be the most feasible approach if we decide to keep the CodeStyle package and its test project isolated from rest of Roslyn.sln.
      3. **Tweak the existing IDE test helpers in Features test project to test analyzers and/or fixers from both the Features and Code Style layer:** With this approach the core unit test helpers just have an additional test dimension where they run with CodeStyle analyzer and/or CodeStyle fixer (latter is needed if we decide to port the fixers). This would be similar to how our IDE analyzer/fixer tests run for both regular and script code kind by default. Each test file would just need to override a helper indicating additional analyzer/fixer against which to run all the tests. This approach would likely be minimal porting effort and also easiest to maintain.

**Overall Design Proposal:** I think we should try to keep a very good balance between ideal and practical aspects of the above approaches. I fear taking the ideal approach which would be to port analyzer code fixers and unit tests (also moving them to new analyzer/fixer test library) would make this effort almost impossible to complete.
IMO we should do the minimal implementation/maintenance cost approach which would be feasible and also gives end user value add: **port just the diagnostic analyzers and do not port the code fixers or unit tests** but just ensure that the code fixers are hardened against analyzer breaking changes and tweak existing IDE unit tests to also run with ported CodeStyle analyzers.

","Design issues around moving IDE code style analyzers to CodeStyle Analyzers NuGet package As part of https://github.com/dotnet/roslyn/issues/34907 we want to move as many IDE analyzers as possible into the CodeStyle analyzers NuGet package so the rules can be enforced on build/CI. We have already moved IDE0055 (Formatting analyzer) to this NuGet package and I tried to move an additional analyzer to the package (https://github.com/dotnet/roslyn/pull/38481) but ran into bunch of design questions/issues that need to be discussed.

1. **Diagnostic Analyzer:** This is the core piece that needs to be ported from IDE Features project to CodeStyle project. Design questions in this effort:
   1. **Should we re-use the same IDE diagnostic IDs for the ported analyzer?**
       Design Proposal: ""yes"" otherwise we run into issue about identical diagnostics with just a differing ID for each violation duplicate suppressions duplicate configuration (editorconfig/ruleset/nowarn entries) etc.
   2. **De-duping of diagnostics from different sources:** If we re-use the diagnostic IDs for the ported analyzer this will likely happen by default. We should confirm with @heejaechang. 
   3. **De-duping of diagnostic analyzers from different sources:** Given that the analyzer assembly containing these analyzers have different name (CodeStyle versus Features) there will be no automatic-deduping of analyzers and the analyzer from both these sources will execute. Do we care about the performance impact from duplicate analyzer execution? Should we add custom logic to IDE diagnostic service to not execute the IDE analyzer when there is an identical analyzer (say with same name and reporting same supported diagnostic IDs)?
   4. **Should we move the CodeStyle package to reference Microsoft.CodeAnalysis 3.x?** Currently the CodeStyle NuGet package targets Microsoft.CodeAnalysis 2.8.2 to enable running on Dev15 to promote dogfooding. However this prevents porting of bunch of analyzers which use APIs from Microsoft.CodeAnalysis 3.x. We can take couple of approaches here:
      1. Move to Microsoft.CodeAnalysis 3.x and officially state that newer CodeStyle NuGet packages are only supported with Dev16 and 3.x compiler toolset. Dev15 users can use prior CodeStyle packages.
      2. Stay on Microsoft.CodeAnalysis 2.8.2 and use Reflection based approach to light up analyzers using newer APIs if user is on Dev16.
      Personally I hate the reflection based approach and would strongly prefer just moving to Microsoft.CodeAnalysis 3.x.

2. **Code fixer:** This is likely the most controversial and tricky piece to port given that majority of our code fixers depend on internal IDE workspace and language services and extension methods which in turn use bunch of internal utilities helper utilities (for example symbol equivalence comparer) etc.
   1. **Should we port IDE code fixers to Code Style layer?** Theoretically speaking this is not required as code fixers never execute in CI. Following are the pros and cons of this porting effort:
      1. PROS:
         1. Code style layer can remain isolated from IDE and can be on par with other third party analyzer/fix packages. This can help us identify potential IDE internal APIs and utilities that should be made public.
         2. Protects us against breaking change in the analyzer where IDE code fixers do not need to handle all versions of analyzer (from different version of NuGet packages)
       2. CONS:
          1. Implementation cost: As mentioned above porting code fixers would likely be the most costly part of the port effort possibly also making this whole work item unfeasible and unrealistic.
          2. Unmaintainable code: The entire IDE Workspaces and Features layer would be filled with linked files #ifdefs based on code style preprocessor directive splitting of extension methods into two separate files one included in both Code Style and IDE layers and one only in IDE layer. IMO the code keeps getting pretty mess to work with and maintain.
           3. De-duping code fixers: We will end up showing duplicate identical code fixes from CodeStyle NuGet and IDE (need to confirm) which means we need to design a way to de-dupe code fixers and implement it. This would mean more work.

      **Design Proposal:** Given the extremely large number of highly impactful CONS and the overall implementation and maintenance cost likely being a deal breaker for this effort I would like to propose that we don't port the code fixers to code style layer. We should harden the code fixers so they gracefully bail out if the diagnostic location/properties is not as it expects so it can handle analyzer breaking changes gracefully and we can recommend customers to just upgrade to latest analyzer NuGet package to light-up the IDE code fixers again.

2. **Unit tests:** 
   1. **Should we port and/or clone unit tests for analyzers/fixers CodeStyle project?** We have following possible approaches each with its own PROS and CONS:
      1. **Clone unit test files into CodeStyle project:** This approach is only applicable if we decide that we are going to port the code fixers into CodeStyle NuGet layer otherwise the unit tests need to continue using IDE code fixers and hence cannot be moved to CodeStyle unit tests project. Formatting analyzer port did not port any existing formatting tests but added just a few additional formatting analyzer tests in the CodeStyle package for the ported analyzer. This approach will certainly not work for other analyzers as we want to run every authored analyzer/fixer unit test for both the IDE version of the analyzer and the ported analyzer in CodeStyle package. Creating cloned test files in CodeStyle unit test project will likely be impossible to maintain and keep them in sync with Features unit test project. Additionally if we decide not to re-use the IDE test framework and use the new Microsoft.CodeAnalysis testing library we will have to edit each and every ported unit test which will enormously increase the port and maintenance effort.
      2. **Link unit test files into CodeStyle project and continue using the IDE test framework:** This is comparatively much easier to implement and maintain compared to the prior approach. Again this approach is only applicable if we decide to port the code fixers into CodeStyle NuGet layer. I think this might be the most feasible approach if we decide to keep the CodeStyle package and its test project isolated from rest of Roslyn.sln.
      3. **Tweak the existing IDE test helpers in Features test project to test analyzers and/or fixers from both the Features and Code Style layer:** With this approach the core unit test helpers just have an additional test dimension where they run with CodeStyle analyzer and/or CodeStyle fixer (latter is needed if we decide to port the fixers). This would be similar to how our IDE analyzer/fixer tests run for both regular and script code kind by default. Each test file would just need to override a helper indicating additional analyzer/fixer against which to run all the tests. This approach would likely be minimal porting effort and also easiest to maintain.

**Overall Design Proposal:** I think we should try to keep a very good balance between ideal and practical aspects of the above approaches. I fear taking the ideal approach which would be to port analyzer code fixers and unit tests (also moving them to new analyzer/fixer test library) would make this effort almost impossible to complete.
IMO we should do the minimal implementation/maintenance cost approach which would be feasible and also gives end user value add: **port just the diagnostic analyzers and do not port the code fixers or unit tests** but just ensure that the code fixers are hardened against analyzer breaking changes and tweak existing IDE unit tests to also run with ported CodeStyle analyzers.

",Area-IDE|Feature Request,sharwell,,
38479,Visual Studio Profession 2019 Performance Issue.,"**Microsoft Visual Studio Profession 2019. Version 16.2.3. Window 10 with Lates updates**: 

**Main Issue**:
I have just opened two projects in two different VS IDE windows. The servicehub.host.clr.x86(32 bit) take 96% of CPU time for a minute and during this time IDE behaves very slow even IntelliSense are not show the suggestion very slow. I am not sure how to solve this issue either I have to switch back to VS Community 2017 or what.

**Expected Behavior**:
VS IDE should be smooth and.
**Actual Behavior**:
Very hight cpu utilization and 900 MB of RAM usage.","Visual Studio Profession 2019 Performance Issue. **Microsoft Visual Studio Profession 2019. Version 16.2.3. Window 10 with Lates updates**: 

**Main Issue**:
I have just opened two projects in two different VS IDE windows. The servicehub.host.clr.x86(32 bit) take 96% of CPU time for a minute and during this time IDE behaves very slow even IntelliSense are not show the suggestion very slow. I am not sure how to solve this issue either I have to switch back to VS Community 2017 or what.

**Expected Behavior**:
VS IDE should be smooth and.
**Actual Behavior**:
Very hight cpu utilization and 900 MB of RAM usage.",Area-IDE|Resolution-Answered,jaredpar|sharwell,4/09/2019 22:19,5/09/2019 8:28
38477,Liveshare FAR requires UI thread,"Currently liveshare FAR requires the UI thread as it calls into the [AbstractFindUsagesService](http://source.roslyn.io/#Microsoft.CodeAnalysis.EditorFeatures/FindUsages/AbstractFindUsagesService.csbc260059e380e9ca).  This requires the UI thread to get third party definitions (which in this case means XAML).  We need to remove UI thread dependencies (and editor dependencies) from the liveshare implementation in order to create a proper LSP version of FAR.

Known UI dependencies in FAR
1.  [XAML navigation](http://source.roslyn.io/#Microsoft.VisualStudio.LanguageServices/Implementation/Workspace/VisualStudioSymbolNavigationService.cs266)
    a.  Service provider
    b.  IVsHierarchy
    c.  IVsSymbolicNavigationNotify
2.  [Invisible editor](http://source.roslyn.io/#Microsoft.VisualStudio.LanguageServices/Implementation/FindReferences/VisualStudioDefinitionsAndReferencesFactory.cs66) (find source line)

For 1) we need to work with the XAML team to define a way to provide navigation in the new VS APIs as many of the concepts being used there may go away.

Generally the approach being considered is to move to the lower level data API SymbolFinder but we still need to figure out how to handle 1).","Liveshare FAR requires UI thread Currently liveshare FAR requires the UI thread as it calls into the [AbstractFindUsagesService](http://source.roslyn.io/#Microsoft.CodeAnalysis.EditorFeatures/FindUsages/AbstractFindUsagesService.csbc260059e380e9ca).  This requires the UI thread to get third party definitions (which in this case means XAML).  We need to remove UI thread dependencies (and editor dependencies) from the liveshare implementation in order to create a proper LSP version of FAR.

Known UI dependencies in FAR
1.  [XAML navigation](http://source.roslyn.io/#Microsoft.VisualStudio.LanguageServices/Implementation/Workspace/VisualStudioSymbolNavigationService.cs266)
    a.  Service provider
    b.  IVsHierarchy
    c.  IVsSymbolicNavigationNotify
2.  [Invisible editor](http://source.roslyn.io/#Microsoft.VisualStudio.LanguageServices/Implementation/FindReferences/VisualStudioDefinitionsAndReferencesFactory.cs66) (find source line)

For 1) we need to work with the XAML team to define a way to provide navigation in the new VS APIs as many of the concepts being used there may go away.

Generally the approach being considered is to move to the lower level data API SymbolFinder but we still need to figure out how to handle 1).",Area-IDE|Concept-Continuous Improvement,dibarbet,,
38476,Don't offer Introduce local for expression statement if expr. stm is assignment.,,Don't offer Introduce local for expression statement if expr. stm is assignment. ,Area-IDE,petrroll,4/09/2019 10:34,6/09/2019 4:40
38475,Merge master to master-vs-deps,"
This is an automatically generated pull request from master into master-vs-deps.

``` bash
git fetch --all
git checkout merges/master-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge master to master-vs-deps 
This is an automatically generated pull request from master into master-vs-deps.

``` bash
git fetch --all
git checkout merges/master-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|Auto-Merge If Tests Pass,dotnet-bot|JoeRobich,4/09/2019 10:02,5/09/2019 5:46
38474,Merge release/dev16.3 to release/dev16.3-vs-deps,"
This is an automatically generated pull request from release/dev16.3 into release/dev16.3-vs-deps.

``` bash
git fetch --all
git checkout merges/release/dev16.3-to-release/dev16.3-vs-deps
git reset --hard upstream/release/dev16.3-vs-deps
git merge upstream/release/dev16.3
# Fix merge conflicts
git commit
git push upstream merges/release/dev16.3-to-release/dev16.3-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge release/dev16.3 to release/dev16.3-vs-deps 
This is an automatically generated pull request from release/dev16.3 into release/dev16.3-vs-deps.

``` bash
git fetch --all
git checkout merges/release/dev16.3-to-release/dev16.3-vs-deps
git reset --hard upstream/release/dev16.3-vs-deps
git merge upstream/release/dev16.3
# Fix merge conflicts
git commit
git push upstream merges/release/dev16.3-to-release/dev16.3-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|Auto-Merge If Tests Pass,dotnet-bot|dotnet-automerge-bot,4/09/2019 10:01,5/09/2019 2:00
38473,Merge release/dev16.3 to master,"
This is an automatically generated pull request from release/dev16.3 into master.

``` bash
git fetch --all
git checkout merges/release/dev16.3-to-master
git reset --hard upstream/master
git merge upstream/release/dev16.3
# Fix merge conflicts
git commit
git push upstream merges/release/dev16.3-to-master --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge release/dev16.3 to master 
This is an automatically generated pull request from release/dev16.3 into master.

``` bash
git fetch --all
git checkout merges/release/dev16.3-to-master
git reset --hard upstream/master
git merge upstream/release/dev16.3
# Fix merge conflicts
git commit
git push upstream merges/release/dev16.3-to-master --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|Auto-Merge If Tests Pass,dotnet-bot|JoeRobich,4/09/2019 10:00,4/09/2019 23:58
38472,Update VS SDK to 16.3.2099,Fixes https://devdiv.visualstudio.com/DevDiv/_workitems/edit/970596,Update VS SDK to 16.3.2099 Fixes https://devdiv.visualstudio.com/DevDiv/_workitems/edit/970596,Area-Infrastructure,tmat|sharwell|vatsalyaagrawal|jinujoseph,4/09/2019 9:32,13/09/2019 3:17
38471,Address potential issues reported by VS SDK analyzer (warning VSSDK006),"Remove suppression of the warning from Settings.props.

The analyzer also throws so will need to be fixed before we can enable it:
```
CSC : error AD0001: Analyzer 'Microsoft.VisualStudio.SDK.Analyzers.VSSDK006CheckServicesExistAnalyzer' threw an exception of type 'System.ArgumentException' with message 'Syntax node is not within syntax tree'. [\src\VisualStudio\Core\Def\Microsoft
.VisualStudio.LanguageServices.csproj]
```","Address potential issues reported by VS SDK analyzer (warning VSSDK006) Remove suppression of the warning from Settings.props.

The analyzer also throws so will need to be fixed before we can enable it:
```
CSC : error AD0001: Analyzer 'Microsoft.VisualStudio.SDK.Analyzers.VSSDK006CheckServicesExistAnalyzer' threw an exception of type 'System.ArgumentException' with message 'Syntax node is not within syntax tree'. [\src\VisualStudio\Core\Def\Microsoft
.VisualStudio.LanguageServices.csproj]
```",Area-Infrastructure,tmat|jaredpar,4/09/2019 9:31,
38470,Collapse redundant types in the server part 2,"Follow up to #308411

This is probably best reviewed commit by commit. 

Note: I've intentionally avoided re-naming files because I want to keep the history diff as easy as possible. Once this is merged I will have one final PR which does all of the proper file renaming to match the new class names.","Collapse redundant types in the server part 2 Follow up to #308411

This is probably best reviewed commit by commit. 

Note: I've intentionally avoided re-naming files because I want to keep the history diff as easy as possible. Once this is merged I will have one final PR which does all of the proper file renaming to match the new class names.",Area-Compilers,jaredpar|agocke|333fred|gafter|RikkiGibson|VSadov|AlekseyTs|cston|jcouv|chsienki|fayrose,4/09/2019 9:17,6/09/2019 1:45
38469,Nested type is not found in a base interface when it is referenced in a type-or-namespace-only position.,"```
interface I100
{
    public class C100
    {
        public static void Test() { }
    }
}

interface I101 : I100
{
    private C100 Test1() => null; // error CS0246: The type or namespace name 'C100' could not be found (are you missing a using directive or an assembly reference?)

    static void Test2()
    {
        C100.Test();
    }
}
```

Observed:
```
private C100 Test1() => null; // error CS0246: The type or namespace name 'C100' could not be found (are you missing a using directive or an assembly reference?)
```

No error (the type is found in base interface) for: 
```
        C100.Test();
```

Expected: No errors the type should be found.

This is not a regression in C# 8. This code wasn't changed in the compiler for a long time. Note the ```(options & (LookupOptions.NamespaceAliasesOnly | LookupOptions.NamespacesOrTypesOnly)) == 0``` condition.
```
        // Lookup member in interface and any base interfaces.
        private static void LookupMembersInInterfaceOnly(
            LookupResult current
            NamedTypeSymbol type
            string name
            int arity
            ConsList<TypeSymbol> basesBeingResolved
            LookupOptions options
            Binder originalBinder
            TypeSymbol accessThroughType
            bool diagnose
            ref HashSet<DiagnosticInfo> useSiteDiagnostics)
        {
            Debug.Assert((object)type != null);
            Debug.Assert(type.IsInterface);

            LookupMembersWithoutInheritance(current type name arity options originalBinder accessThroughType diagnose ref useSiteDiagnostics basesBeingResolved);
            if ((options & (LookupOptions.NamespaceAliasesOnly | LookupOptions.NamespacesOrTypesOnly)) == 0 && !originalBinder.InCrefButNotParameterOrReturnType)
            {
                LookupMembersInInterfacesWithoutInheritance(current type.AllInterfacesWithDefinitionUseSiteDiagnostics(ref useSiteDiagnostics) name arity basesBeingResolved options originalBinder accessThroughType diagnose ref useSiteDiagnostics);
            }
        }
```

I think the check violates language specification however removing it might introduce a breaking change for existing code because types nested into interfaces were always supported by runtime and could be produced by other languages like VB etc. Removing the condition could resolve the identifier to a different type. For example if there was a type named C100 in the global namespace for the example above the C100 identifier in ```private C100 Test1() => null;``` would bind to that type. If we change lookup behavior to follow the spec it would silently find I100.C100 type instead.
```
 ","Nested type is not found in a base interface when it is referenced in a type-or-namespace-only position. ```
interface I100
{
    public class C100
    {
        public static void Test() { }
    }
}

interface I101 : I100
{
    private C100 Test1() => null; // error CS0246: The type or namespace name 'C100' could not be found (are you missing a using directive or an assembly reference?)

    static void Test2()
    {
        C100.Test();
    }
}
```

Observed:
```
private C100 Test1() => null; // error CS0246: The type or namespace name 'C100' could not be found (are you missing a using directive or an assembly reference?)
```

No error (the type is found in base interface) for: 
```
        C100.Test();
```

Expected: No errors the type should be found.

This is not a regression in C# 8. This code wasn't changed in the compiler for a long time. Note the ```(options & (LookupOptions.NamespaceAliasesOnly | LookupOptions.NamespacesOrTypesOnly)) == 0``` condition.
```
        // Lookup member in interface and any base interfaces.
        private static void LookupMembersInInterfaceOnly(
            LookupResult current
            NamedTypeSymbol type
            string name
            int arity
            ConsList<TypeSymbol> basesBeingResolved
            LookupOptions options
            Binder originalBinder
            TypeSymbol accessThroughType
            bool diagnose
            ref HashSet<DiagnosticInfo> useSiteDiagnostics)
        {
            Debug.Assert((object)type != null);
            Debug.Assert(type.IsInterface);

            LookupMembersWithoutInheritance(current type name arity options originalBinder accessThroughType diagnose ref useSiteDiagnostics basesBeingResolved);
            if ((options & (LookupOptions.NamespaceAliasesOnly | LookupOptions.NamespacesOrTypesOnly)) == 0 && !originalBinder.InCrefButNotParameterOrReturnType)
            {
                LookupMembersInInterfacesWithoutInheritance(current type.AllInterfacesWithDefinitionUseSiteDiagnostics(ref useSiteDiagnostics) name arity basesBeingResolved options originalBinder accessThroughType diagnose ref useSiteDiagnostics);
            }
        }
```

I think the check violates language specification however removing it might introduce a breaking change for existing code because types nested into interfaces were always supported by runtime and could be produced by other languages like VB etc. Removing the condition could resolve the identifier to a different type. For example if there was a type named C100 in the global namespace for the example above the C100 identifier in ```private C100 Test1() => null;``` would bind to that type. If we change lookup behavior to follow the spec it would silently find I100.C100 type instead.
```
 ",4 - In Review|Area-Compilers|Area-Language Design|Bug|Language-C#|New Language Feature - Default Interface Impl|Urgency-Soon,AlekseyTs,,
38468,VS 16.2.3 - IDE0044 CodeFix Removes Whitespace,"_This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/721116/vs-1623-ide0044-codefix-removes-whitespace.html)._

---
The codefix for IDE0044 'Make field readonly' removes whitespace.

Pre-codefix:
```
namespace IDE0044_CodeFix_Removes_Whitespace
{
    public class C
    {
        int x;

int y;

public C(int x int y)
        {
            this.x = x;
            this.y = y;
        }
    }
}
```

Post-codefix:
```
namespace IDE0044_CodeFix_Removes_Whitespace
{
    public class C
    {
        readonly int x;
        readonly int y;

public C(int x int y)
        {
            this.x = x;
            this.y = y;
        }
    }
}
```

Shouldn't it respect my whitespace and change the code to this?
```
namespace IDE0044_CodeFix_Removes_Whitespace
{
    public class C
    {
        readonly int x;
        
readonly int y;

public C(int x int y)
        {
            this.x = x;
            this.y = y;
        }
    }
}
```

---
### Original Comments
(no comments)

---
### Original Solutions
(no solutions)","VS 16.2.3 - IDE0044 CodeFix Removes Whitespace _This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/721116/vs-1623-ide0044-codefix-removes-whitespace.html)._

---
The codefix for IDE0044 'Make field readonly' removes whitespace.

Pre-codefix:
```
namespace IDE0044_CodeFix_Removes_Whitespace
{
    public class C
    {
        int x;

int y;

public C(int x int y)
        {
            this.x = x;
            this.y = y;
        }
    }
}
```

Post-codefix:
```
namespace IDE0044_CodeFix_Removes_Whitespace
{
    public class C
    {
        readonly int x;
        readonly int y;

public C(int x int y)
        {
            this.x = x;
            this.y = y;
        }
    }
}
```

Shouldn't it respect my whitespace and change the code to this?
```
namespace IDE0044_CodeFix_Removes_Whitespace
{
    public class C
    {
        readonly int x;
        
readonly int y;

public C(int x int y)
        {
            this.x = x;
            this.y = y;
        }
    }
}
```

---
### Original Comments
(no comments)

---
### Original Solutions
(no solutions)",Area-IDE|Concept-Continuous Improvement|Developer Community|IDE-CodeStyle|help wanted,sharwell,4/09/2019 8:29,
38467,Confusing error message when the target member cannot be located for an explicit interface implementation,"```
interface I100 { }

class C100 : I100
{
    object I100.M4() => null;
}
```

Observed:
```
 error CS0539: 'C100.M4()' in explicit interface declaration is not found among members of the interface that can be implemented
```

But C100 doesn't have member named M4.
","Confusing error message when the target member cannot be located for an explicit interface implementation ```
interface I100 { }

class C100 : I100
{
    object I100.M4() => null;
}
```

Observed:
```
 error CS0539: 'C100.M4()' in explicit interface declaration is not found among members of the interface that can be implemented
```

But C100 doesn't have member named M4.
",Area-Compilers|Bug|Concept-Diagnostic Clarity|Language-C#|help wanted,AlekseyTs|gafter,4/09/2019 8:25,
38466,(WIP) Remove the workspace IVT of SourceBasedTestDiscovery,"I plan to add all the workspace-level wrapper types for SourceBasedTestDiscovery.
Currently it contains just the part of SolutionCrawler.

@sharwell 
Could you check if everything here is correct? 
I'll add more wrapper then.","(WIP) Remove the workspace IVT of SourceBasedTestDiscovery I plan to add all the workspace-level wrapper types for SourceBasedTestDiscovery.
Currently it contains just the part of SolutionCrawler.

@sharwell 
Could you check if everything here is correct? 
I'll add more wrapper then.",Area-IDE,Cosifne|sharwell|vatsalyaagrawal,4/09/2019 8:04,
38465,find all references and navigate to not using caches,"our code used to work without persistent service and persistent service was an optional component. if persistent service doesn't exist or doesn't work for whatever reason we used to cache find all reference or go-to index in memory.

this seems changed now and at the same situation it looks like we don't cache at all and re-calculate everything from scratch every single time.

it might be okay for one-off FAR or go to time to time but when doing that many times it shows big performance degradation.

the most common case for this is when one opens multiple VS for same solution (same sln file). then 1 VS will use cache and the other VS won't use any cache making second one very slow on these operations.

another case is one doing FAR or go to (SymbolFinder) on MSBuildWorkspace or AdhocWorkspace or any custom Workspace. these workspace will never use persistent service by default. so always get worst performance.

also it is not possible for them to enable persistent service since it requires location service (to know where to save the persistent file) and that service is internal and can't provided by users.

it would be nice to put back the in memory cache so that people can get in memory cache by default at least.

","find all references and navigate to not using caches our code used to work without persistent service and persistent service was an optional component. if persistent service doesn't exist or doesn't work for whatever reason we used to cache find all reference or go-to index in memory.

this seems changed now and at the same situation it looks like we don't cache at all and re-calculate everything from scratch every single time.

it might be okay for one-off FAR or go to time to time but when doing that many times it shows big performance degradation.

the most common case for this is when one opens multiple VS for same solution (same sln file). then 1 VS will use cache and the other VS won't use any cache making second one very slow on these operations.

another case is one doing FAR or go to (SymbolFinder) on MSBuildWorkspace or AdhocWorkspace or any custom Workspace. these workspace will never use persistent service by default. so always get worst performance.

also it is not possible for them to enable persistent service since it requires location service (to know where to save the persistent file) and that service is internal and can't provided by users.

it would be nice to put back the in memory cache so that people can get in memory cache by default at least.

",Area-IDE|Concept-Continuous Improvement,vatsalyaagrawal|jinujoseph,4/09/2019 7:07,
38464,Flaky test `VisualBasic_FixupSpanDuringResolvableConflict_NonReferenceConflict`,"Failed in https://dev.azure.com/dnceng/public/_build/results?buildId=335629&view=ms.vss-test-web.build-test-results-tab&runId=9892310&resultId=100349&paneView=debug

```
Assert.Equal() Failure\r\nExpected: WhereSelectEnumerableIterator<TextSpan Span> [[143..146) [208..211)]\r\nActual: List<Span> [[143..146) [208..211) [208..211)]

   at Microsoft.CodeAnalysis.Editor.UnitTests.Rename.RenameTagProducerTests.VB$StateMachine_8_VerifyTaggedSpansCore.MoveNext() in /_/src/EditorFeatures/Test2/Rename/RenameTagProducerTests.vb:line 91
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.CodeAnalysis.Editor.UnitTests.Rename.RenameTagProducerTests.VB$StateMachine_2_VerifyTaggedSpans.MoveNext() in /_/src/EditorFeatures/Test2/Rename/RenameTagProducerTests.vb:line 26
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.CodeAnalysis.Editor.UnitTests.Rename.RenameTagProducerTests.VB$StateMachine_6_VerifySpansBeforeConflictResolution.MoveNext() in /_/src/EditorFeatures/Test2/Rename/RenameTagProducerTests.vb:line 61
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.CodeAnalysis.Editor.UnitTests.Rename.RenameTagProducerTests.VB$StateMachine_19_VisualBasic_FixupSpanDuringResolvableConflict_NonReferenceConflict.MoveNext() in /_/src/EditorFeatures/Test2/Rename/RenameTagProducerTests.vb:line 723
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
```
","Flaky test `VisualBasic_FixupSpanDuringResolvableConflict_NonReferenceConflict` Failed in https://dev.azure.com/dnceng/public/_build/results?buildId=335629&view=ms.vss-test-web.build-test-results-tab&runId=9892310&resultId=100349&paneView=debug

```
Assert.Equal() Failure\r\nExpected: WhereSelectEnumerableIterator<TextSpan Span> [[143..146) [208..211)]\r\nActual: List<Span> [[143..146) [208..211) [208..211)]

   at Microsoft.CodeAnalysis.Editor.UnitTests.Rename.RenameTagProducerTests.VB$StateMachine_8_VerifyTaggedSpansCore.MoveNext() in /_/src/EditorFeatures/Test2/Rename/RenameTagProducerTests.vb:line 91
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.CodeAnalysis.Editor.UnitTests.Rename.RenameTagProducerTests.VB$StateMachine_2_VerifyTaggedSpans.MoveNext() in /_/src/EditorFeatures/Test2/Rename/RenameTagProducerTests.vb:line 26
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.CodeAnalysis.Editor.UnitTests.Rename.RenameTagProducerTests.VB$StateMachine_6_VerifySpansBeforeConflictResolution.MoveNext() in /_/src/EditorFeatures/Test2/Rename/RenameTagProducerTests.vb:line 61
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.CodeAnalysis.Editor.UnitTests.Rename.RenameTagProducerTests.VB$StateMachine_19_VisualBasic_FixupSpanDuringResolvableConflict_NonReferenceConflict.MoveNext() in /_/src/EditorFeatures/Test2/Rename/RenameTagProducerTests.vb:line 723
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.CompilerServices.TaskAwaiter.ThrowForNonSuccess(Task task)
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
```
",Area-IDE|Resolution-Duplicate,gafter|sharwell,4/09/2019 6:54,4/09/2019 8:10
38463,Flaky test `CSharp_FixupSpanDuringResolvableConflict_NeedsEscaping`,"Failed at https://dev.azure.com/dnceng/public/_build/results?buildId=335585&view=ms.vss-test-web.build-test-results-tab&runId=9891168&resultId=100396&paneView=debug

``` none
Assert.Equal() Failure\r\nExpected: WhereSelectEnumerableIterator<TextSpan Span> [[46..49) [75..78)]\r\nActual: List<Span> [[46..49) [75..78) [75..78)]

   at Microsoft.CodeAnalysis.Editor.UnitTests.Rename.RenameTagProducerTests.VB$StateMachine_8_VerifyTaggedSpansCore.MoveNext() in /_/src/EditorFeatures/Test2/Rename/RenameTagProducerTests.vb:line 91
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.CodeAnalysis.Editor.UnitTests.Rename.RenameTagProducerTests.VB$StateMachine_2_VerifyTaggedSpans.MoveNext() in /_/src/EditorFeatures/Test2/Rename/RenameTagProducerTests.vb:line 26
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.CodeAnalysis.Editor.UnitTests.Rename.RenameTagProducerTests.VB$StateMachine_6_VerifySpansBeforeConflictResolution.MoveNext() in /_/src/EditorFeatures/Test2/Rename/RenameTagProducerTests.vb:line 61
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.CodeAnalysis.Editor.UnitTests.Rename.RenameTagProducerTests.VB$StateMachine_22_CSharp_FixupSpanDuringResolvableConflict_NeedsEscaping.MoveNext() in /_/src/EditorFeatures/Test2/Rename/RenameTagProducerTests.vb:line 935
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)

```
","Flaky test `CSharp_FixupSpanDuringResolvableConflict_NeedsEscaping` Failed at https://dev.azure.com/dnceng/public/_build/results?buildId=335585&view=ms.vss-test-web.build-test-results-tab&runId=9891168&resultId=100396&paneView=debug

``` none
Assert.Equal() Failure\r\nExpected: WhereSelectEnumerableIterator<TextSpan Span> [[46..49) [75..78)]\r\nActual: List<Span> [[46..49) [75..78) [75..78)]

   at Microsoft.CodeAnalysis.Editor.UnitTests.Rename.RenameTagProducerTests.VB$StateMachine_8_VerifyTaggedSpansCore.MoveNext() in /_/src/EditorFeatures/Test2/Rename/RenameTagProducerTests.vb:line 91
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.CodeAnalysis.Editor.UnitTests.Rename.RenameTagProducerTests.VB$StateMachine_2_VerifyTaggedSpans.MoveNext() in /_/src/EditorFeatures/Test2/Rename/RenameTagProducerTests.vb:line 26
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.CodeAnalysis.Editor.UnitTests.Rename.RenameTagProducerTests.VB$StateMachine_6_VerifySpansBeforeConflictResolution.MoveNext() in /_/src/EditorFeatures/Test2/Rename/RenameTagProducerTests.vb:line 61
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.CodeAnalysis.Editor.UnitTests.Rename.RenameTagProducerTests.VB$StateMachine_22_CSharp_FixupSpanDuringResolvableConflict_NeedsEscaping.MoveNext() in /_/src/EditorFeatures/Test2/Rename/RenameTagProducerTests.vb:line 935
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)

```
",Area-IDE|Resolution-Duplicate,gafter|sharwell,4/09/2019 6:50,4/09/2019 8:09
38462,Cache diagnostic ID strings in the AnalyzerConfigSet,"I'm not sure if this is exactly where we want to do the caching so I've
taken the opportunity to make all the non-core AnalyzerConfig APIs internal.
There are no existing consumers depending on them so this is not a breaking
change.

Fixes #38426","Cache diagnostic ID strings in the AnalyzerConfigSet I'm not sure if this is exactly where we want to do the caching so I've
taken the opportunity to make all the non-core AnalyzerConfig APIs internal.
There are no existing consumers depending on them so this is not a breaking
change.

Fixes #38426",Area-Compilers,agocke|jasonmalinowski|333fred|jaredpar,4/09/2019 6:34,5/09/2019 8:41
38461,Remove SourceBuild.sln and use ExcludeFromSourceBuild propert…,@tmat @jaredpar for review. @dseefeld @crummel what changes will this need on the source-build side to consume Roslyn.sln instead of SourceBuild.sln?,"Remove SourceBuild.sln, and use ExcludeFromSourceBuild propert… @tmat @jaredpar for review. @dseefeld @crummel what changes will this need on the source-build side to consume Roslyn.sln instead of SourceBuild.sln?",Area-Infrastructure,333fred|tmat|jaredpar,4/09/2019 6:29,10/09/2019 4:16
38460,Fix type inference issue with nullability,"Nullability should only introduce warnings but in a type inference scenario where two candidates differ only in nullability we were producing an error.

~~This PR introduces a breaking change which I'll confirm with compat council. Previously we would only warn for implementing the same interface twice with different nullabilities but it is more consistent with other checks to produce an error. Indirect duplicate implementations still just produce a warning.~~

Fixes https://github.com/dotnet/roslyn/issues/38168

While working on this I noticed that tuple name checks are there for interface implementations  but missing for type constraints (`... : I<(int a int b)> I<(int c int d)>). Filed https://github.com/dotnet/roslyn/issues/38427 for follow-up on that.","Fix type inference issue with nullability Nullability should only introduce warnings but in a type inference scenario where two candidates differ only in nullability we were producing an error.

~~This PR introduces a breaking change which I'll confirm with compat council. Previously we would only warn for implementing the same interface twice with different nullabilities but it is more consistent with other checks to produce an error. Indirect duplicate implementations still just produce a warning.~~

Fixes https://github.com/dotnet/roslyn/issues/38168

While working on this I noticed that tuple name checks are there for interface implementations  but missing for type constraints (`... : I<(int a int b)> I<(int c int d)>). Filed https://github.com/dotnet/roslyn/issues/38427 for follow-up on that.",Area-Compilers|New Language Feature - Nullable Reference Types,jcouv,,
38459,Better Peek Definition,"Customer request copying here:

**Version Used**: 
Visual Studio 2019

**Steps to Reproduce**:

1. Create a more narrow focus.
2.  Don't want to have to scroll up and down to get the documentation. 
3. Would like to have summary params returns (if any) remarks exceptions (if any). When looking for help on a given method no need to display how the method is implemented (can use Go To Definition for this) and should therefore show the actual documentation. 

**Expected Behavior**:
![ReSharperCtrlShiftF1](https://user-images.githubusercontent.com/46729679/64201895-a30ac200-ce44-11e9-96ee-94f808678101.png)

**Actual Behavior**:
![peekwindow](https://user-images.githubusercontent.com/46729679/64202519-3395d200-ce46-11e9-9f35-7c08f7303fd5.png)
","Better Peek Definition Customer request copying here:

**Version Used**: 
Visual Studio 2019

**Steps to Reproduce**:

1. Create a more narrow focus.
2.  Don't want to have to scroll up and down to get the documentation. 
3. Would like to have summary params returns (if any) remarks exceptions (if any). When looking for help on a given method no need to display how the method is implemented (can use Go To Definition for this) and should therefore show the actual documentation. 

**Expected Behavior**:
![ReSharperCtrlShiftF1](https://user-images.githubusercontent.com/46729679/64201895-a30ac200-ce44-11e9-96ee-94f808678101.png)

**Actual Behavior**:
![peekwindow](https://user-images.githubusercontent.com/46729679/64202519-3395d200-ce46-11e9-9f35-7c08f7303fd5.png)
",Area-IDE|Feature Request|IDE-IntelliSense|Need Design Review,gafter|vatsalyaagrawal,4/09/2019 5:27,
38457,Disable failing tests,"Related to #38454.

These tests fail in the CI runs for #38417 which adds translations for various resources. The problem is the test compares localized text with the original English text; this worked fine until now because the localized text wasn't yet translated and so just happened to be the same as the English.

The point of this change is to unblock #38417.","Disable failing tests Related to #38454.

These tests fail in the CI runs for #38417 which adds translations for various resources. The problem is the test compares localized text with the original English text; this worked fine until now because the localized text wasn't yet translated and so just happened to be the same as the English.

The point of this change is to unblock #38417.",Disabled Test,tmeschter|mavasani|vatsalyaagrawal,4/09/2019 4:23,6/09/2019 3:15
38456,Add a test for awaitable pattern with ref struct result,Closes #37712,Add a test for awaitable pattern with ref struct result Closes #37712,Area-Compilers|Auto-Merge If Tests Pass|Test,gafter,,
38455,completion leaking cancellation exception,"```
<entry>
<record>5061</record>
<time>2019/06/05 19:03:33.638</time>
<type>Error</type>
<source>Editor or Editor Extension</source>
<description>System.OperationCanceledException: The operation was canceled.
 at System.Threading.CancellationToken.ThrowOperationCanceledException()
 at System.Threading.Tasks.Task.Wait(Int32 millisecondsTimeout CancellationToken cancellationToken)
 at Roslyn.Utilities.TaskExtensions.WaitAndGetResult_CanCallOnBackground[T](Task`1 task CancellationToken cancellationToken)
 at Microsoft.CodeAnalysis.Editor.Implementation.IntelliSense.AsyncCompletion.CommitManager.Commit(Document document CompletionService completionService ITextView view ITextBuffer subjectBuffer CompletionItem roslynItem TextSpan completionListSpan Nullable`1 commitCharacter ITextSnapshot triggerSnapshot CompletionRules rules String filterText CancellationToken cancellationToken)
 at Microsoft.CodeAnalysis.Editor.Implementation.IntelliSense.AsyncCompletion.CommitManager.TryCommit(IAsyncCompletionSession session ITextBuffer subjectBuffer CompletionItem item Char typeChar CancellationToken cancellationToken)
 at Microsoft.VisualStudio.Language.Intellisense.AsyncCompletion.Implementation.AsyncCompletionSession.<>c__DisplayClass67_1.<CommitItem>b__0()
 at Microsoft.VisualStudio.Text.Utilities.GuardedOperations.CallExtensionPoint[T](Object errorSource Func`1 call T valueOnThrow)
 --- End of stack trace from previous location where exception was thrown ---
 at Microsoft.VisualStudio.Telemetry.WindowsErrorReporting.WatsonReport.GetClrWatsonExceptionInfo(Exception exceptionObject)</description>
</entry>
```","completion leaking cancellation exception ```
<entry>
<record>5061</record>
<time>2019/06/05 19:03:33.638</time>
<type>Error</type>
<source>Editor or Editor Extension</source>
<description>System.OperationCanceledException: The operation was canceled.
 at System.Threading.CancellationToken.ThrowOperationCanceledException()
 at System.Threading.Tasks.Task.Wait(Int32 millisecondsTimeout CancellationToken cancellationToken)
 at Roslyn.Utilities.TaskExtensions.WaitAndGetResult_CanCallOnBackground[T](Task`1 task CancellationToken cancellationToken)
 at Microsoft.CodeAnalysis.Editor.Implementation.IntelliSense.AsyncCompletion.CommitManager.Commit(Document document CompletionService completionService ITextView view ITextBuffer subjectBuffer CompletionItem roslynItem TextSpan completionListSpan Nullable`1 commitCharacter ITextSnapshot triggerSnapshot CompletionRules rules String filterText CancellationToken cancellationToken)
 at Microsoft.CodeAnalysis.Editor.Implementation.IntelliSense.AsyncCompletion.CommitManager.TryCommit(IAsyncCompletionSession session ITextBuffer subjectBuffer CompletionItem item Char typeChar CancellationToken cancellationToken)
 at Microsoft.VisualStudio.Language.Intellisense.AsyncCompletion.Implementation.AsyncCompletionSession.<>c__DisplayClass67_1.<CommitItem>b__0()
 at Microsoft.VisualStudio.Text.Utilities.GuardedOperations.CallExtensionPoint[T](Object errorSource Func`1 call T valueOnThrow)
 --- End of stack trace from previous location where exception was thrown ---
 at Microsoft.VisualStudio.Telemetry.WindowsErrorReporting.WatsonReport.GetClrWatsonExceptionInfo(Exception exceptionObject)</description>
</entry>
```",Area-IDE|Bug,ivanbasov,,
38454,Suppressed diagnostic unit tests fail on Spanish runs,"The following unit tests (both C# and VB variants) fail on Spanish CI runs:

- TestSuppression_CompilerWarningAsError
- TestSuppression_CompilerParserWarningAsError
- TestSuppression_AnalyzerWarning
- TestSuppression_CompilerWarning
- TestSuppression_CompilerSemanticWarning
- TestSuppression_CompilerSyntaxWarning

The tests force the compiler output to English but then they look up the expected text through `CodeAnalysisResources` which means they will get the Spanish version.

These tests will be disabled to unblock loc check-ins in release/dev16.3-vs-deps.","Suppressed diagnostic unit tests fail on Spanish runs The following unit tests (both C# and VB variants) fail on Spanish CI runs:

- TestSuppression_CompilerWarningAsError
- TestSuppression_CompilerParserWarningAsError
- TestSuppression_AnalyzerWarning
- TestSuppression_CompilerWarning
- TestSuppression_CompilerSemanticWarning
- TestSuppression_CompilerSyntaxWarning

The tests force the compiler output to English but then they look up the expected text through `CodeAnalysisResources` which means they will get the Spanish version.

These tests will be disabled to unblock loc check-ins in release/dev16.3-vs-deps.",Area-Compilers|Bug|Disabled Test,jaredpar,,
38453,Suggest import statement based on common usage,"**Version Used**:  VS 16.3 preview

**Steps to Reproduce**:

I have a project which references many nuget packages. As a result there are at least 4 ILogger interfaces defined.

I have a constructor that takes MyLogging.ILogger.

```csharp
public class C
{
    public C(ILogger logger){}
}
```

MyLogging isn't imported and so I get a code fix to add using statements. However the suggestions only show the top 3 results which don't include MyLogging.ILogger.

Given how many classes have a constructor accepting ILogger this is quite annoying.

Would it be possible to sort the using statements to add based on how frequently they're used in the project?
","Suggest import statement based on common usage **Version Used**:  VS 16.3 preview

**Steps to Reproduce**:

I have a project which references many nuget packages. As a result there are at least 4 ILogger interfaces defined.

I have a constructor that takes MyLogging.ILogger.

```csharp
public class C
{
    public C(ILogger logger){}
}
```

MyLogging isn't imported and so I get a code fix to add using statements. However the suggestions only show the top 3 results which don't include MyLogging.ILogger.

Given how many classes have a constructor accepting ILogger this is quite annoying.

Would it be possible to sort the using statements to add based on how frequently they're used in the project?
",Area-IDE|Concept-Continuous Improvement|Need Design Review,ivanbasov,,
38451,Adjust inconsistent accessibility checks to properly handle protected types declared within interfaces.,Fixes #38398.,Adjust inconsistent accessibility checks to properly handle protected types declared within interfaces. Fixes #38398.,Area-Compilers|New Language Feature - Default Interface Impl,jcouv,,
38449,SARIF: optionally include metadata for all rules,"Provide an option to include metadata for all rules in SARIF v2.1.0 logs. Enable it with the command line option qualifier `/errorlog:myfile.sarifversion=2allrules`.

Do not provide this support for SARIF v1 files.

Open question: Should the option apply to compiler diagnostics? To analyzer rules? To both? To either or both at user option (for example `...alldiagnosticsallanalyzerrules`)?","SARIF: optionally include metadata for all rules Provide an option to include metadata for all rules in SARIF v2.1.0 logs. Enable it with the command line option qualifier `/errorlog:myfile.sarifversion=2allrules`.

Do not provide this support for SARIF v1 files.

Open question: Should the option apply to compiler diagnostics? To analyzer rules? To both? To either or both at user option (for example `...alldiagnosticsallanalyzerrules`)?",Area-Compilers|Feature Request,gafter,4/09/2019 0:03,
38448,SARIF: Optionally include snippets,"Provide an option to include region snippets in SARIF v2.1.0 logs. (The SARIF v1 format does not support snippets.) Enable it with `/errorlog:myfile.sarifversion=2snippets`.

Should we also support a ""context region""? If so how wide? Proposal:
- Yes provide the option.
- Enable with command line option qualifier `/errorlog:myfile.sarifversion=2contextregion`
- Default width: 5 lines (2 lines before and after the error line).
- Modify with `/errorlog:myfile.sarifversion=2snippetscontextregioncontextwidth=<n>`.
- `contextregion` is only valid if `snippets` is set.
- `contextwidth` implies `contextregion` (and so again is only valid if `snippets` is set).","SARIF: Optionally include snippets Provide an option to include region snippets in SARIF v2.1.0 logs. (The SARIF v1 format does not support snippets.) Enable it with `/errorlog:myfile.sarifversion=2snippets`.

Should we also support a ""context region""? If so how wide? Proposal:
- Yes provide the option.
- Enable with command line option qualifier `/errorlog:myfile.sarifversion=2contextregion`
- Default width: 5 lines (2 lines before and after the error line).
- Modify with `/errorlog:myfile.sarifversion=2snippetscontextregioncontextwidth=<n>`.
- `contextregion` is only valid if `snippets` is set.
- `contextwidth` implies `contextregion` (and so again is only valid if `snippets` is set).",Area-Compilers|Feature Request,gafter,3/09/2019 23:58,
38447,Visual Studio crashes with FileNotFoundException in CompletionProvider if a NuGet package is used inside,"**Version Used**: 
2.9.0

**Steps to Reproduce**:

1. Create two projects (e.g. using ""code fix"" VS template): .NET Standard for custom CompletionProvider and .NET Framework for VSIX
2. Install 3rd party NuGet package to .NET Standard project and use it in the custom CompletionProvider (I tested on Microsoft.SqlServer.SqlManagementObjects).
3. Build the solution and run the VSIX. 

**Expected Behavior**:
All assemblies from the NuGet package are loaded correctly

**Actual Behavior**:
Visual Studio crashes with FileNotFound exception.
VSIX doesn't include assemblies from NuGet package at all.
If you try to install the same package to the VSIX project it is installed with .NET Framework as a target so Visual Studio is still not able to find the proper assembly.

**Supporting Information**:
A full example is available here:
https://github.com/dropsonic/DapperIntelliSense
To reproduce it open DapperIntelliSense.sln and run it in debug mode.
In the experimental VS instance open Samples/DapperTest.sln restore NuGet packages put the cursor to the end of `connection.Query<User>` and type `(""` to activate custom IntelliSense provider.","Visual Studio crashes with FileNotFoundException in CompletionProvider if a NuGet package is used inside **Version Used**: 
2.9.0

**Steps to Reproduce**:

1. Create two projects (e.g. using ""code fix"" VS template): .NET Standard for custom CompletionProvider and .NET Framework for VSIX
2. Install 3rd party NuGet package to .NET Standard project and use it in the custom CompletionProvider (I tested on Microsoft.SqlServer.SqlManagementObjects).
3. Build the solution and run the VSIX. 

**Expected Behavior**:
All assemblies from the NuGet package are loaded correctly

**Actual Behavior**:
Visual Studio crashes with FileNotFound exception.
VSIX doesn't include assemblies from NuGet package at all.
If you try to install the same package to the VSIX project it is installed with .NET Framework as a target so Visual Studio is still not able to find the proper assembly.

**Supporting Information**:
A full example is available here:
https://github.com/dropsonic/DapperIntelliSense
To reproduce it open DapperIntelliSense.sln and run it in debug mode.
In the experimental VS instance open Samples/DapperTest.sln restore NuGet packages put the cursor to the end of `connection.Query<User>` and type `(""` to activate custom IntelliSense provider.",Area-External|Bug|IDE-IntelliSense,gafter|vatsalyaagrawal|jinujoseph,3/09/2019 23:03,
38446,Provide special error message and/or code fix for when a variable is referenced on the same line that it's initialized.,"This is a proposal stemming from https://github.com/dotnet/csharplang/issues/2744 for if you want to see some additional discussion of it.

If you write the line
```csharp
Func<int int> factorial = n => n <= 1 ? 1 : n * factorial(n-1);
```
then you get the error `CS0165 Use of unassigned local variable 'factorial'`. The solution to this seems unclear at first but a lightbulb with a ""Use local function"" code fix pops up and that will of course resolve the issue.

However there are other situations where you won't be so lucky:
```csharp
class Foo : IFoo {
    public Func<IFoo> fooAction;
    public string fooString;
    public Foo (Func<IFoo> fooAction string fooString) {
        this.fooAction = fooAction;
        this.fooString = fooString;
    }
}

Foo obj = new Foo(() => obj ""Hello World!"");
```
Here the same error appears but no IDE assistance is provided to fix it leaving a programmer wondering how they can solve the issue. Of course simply initializing `obj` to another value (like `null`) before assigning it would work but the programmer wouldn't necessarily know that. I propose adding a special error message in this case for example `Use of unassigned local variable 'obj'. 'obj' must be initialized before it can be assigned in terms of itself.` or something like that (I'm not the greatest at writing good errors). Additionally I propose a code fix in this situation (possibly _only_ for when the variable is used in a lambda expression) to convert
```csharp
Foo obj = new Foo(() => obj ""Hello World!"");
```
to
```csharp
Foo obj = null; // or default
obj = new Foo(() => obj ""Hello World!"");
```","Provide special error message and/or code fix for when a variable is referenced on the same line that it's initialized. This is a proposal stemming from https://github.com/dotnet/csharplang/issues/2744 for if you want to see some additional discussion of it.

If you write the line
```csharp
Func<int int> factorial = n => n <= 1 ? 1 : n * factorial(n-1);
```
then you get the error `CS0165 Use of unassigned local variable 'factorial'`. The solution to this seems unclear at first but a lightbulb with a ""Use local function"" code fix pops up and that will of course resolve the issue.

However there are other situations where you won't be so lucky:
```csharp
class Foo : IFoo {
    public Func<IFoo> fooAction;
    public string fooString;
    public Foo (Func<IFoo> fooAction string fooString) {
        this.fooAction = fooAction;
        this.fooString = fooString;
    }
}

Foo obj = new Foo(() => obj ""Hello World!"");
```
Here the same error appears but no IDE assistance is provided to fix it leaving a programmer wondering how they can solve the issue. Of course simply initializing `obj` to another value (like `null`) before assigning it would work but the programmer wouldn't necessarily know that. I propose adding a special error message in this case for example `Use of unassigned local variable 'obj'. 'obj' must be initialized before it can be assigned in terms of itself.` or something like that (I'm not the greatest at writing good errors). Additionally I propose a code fix in this situation (possibly _only_ for when the variable is used in a lambda expression) to convert
```csharp
Foo obj = new Foo(() => obj ""Hello World!"");
```
to
```csharp
Foo obj = null; // or default
obj = new Foo(() => obj ""Hello World!"");
```",Area-IDE|Feature Request|Need Design Review,gafter|vatsalyaagrawal,3/09/2019 3:43,
38444,"Using /refout causes ""FATAL UNHANDLED EXCEPTION: System.Collections.Generic.KeyNotFoundException""","**Version Used**: 

Reproduces in the following versions:

2.10
3.1.1
3.2.1
3.3.0-beta2-final

**Steps to Reproduce**:

1. Download: [RefoutBug.zip](https://github.com/dotnet/roslyn/files/3565863/RefoutBug.zip)
2. Compile the assembly using `csc.exe @RefoutBug.rsp /noconfig`
3. Unhandled Exception error is emitting. See full exception stack trace in [UnhandledException.txt](https://github.com/dotnet/roslyn/files/3565867/UnhandledException.txt)

The unhandled exception is not thrown when removing `/refout:""ref-Unity.Postprocessing.Runtime.dll""` from `RefoutBug.rsp`

**Expected Behavior**:
No exception is thrown and the reference assembly is created.

**Actual Behavior**:
Exception is thrown and the reference assembly is not created.","Using /refout causes ""FATAL UNHANDLED EXCEPTION: System.Collections.Generic.KeyNotFoundException"" **Version Used**: 

Reproduces in the following versions:

2.10
3.1.1
3.2.1
3.3.0-beta2-final

**Steps to Reproduce**:

1. Download: [RefoutBug.zip](https://github.com/dotnet/roslyn/files/3565863/RefoutBug.zip)
2. Compile the assembly using `csc.exe @RefoutBug.rsp /noconfig`
3. Unhandled Exception error is emitting. See full exception stack trace in [UnhandledException.txt](https://github.com/dotnet/roslyn/files/3565867/UnhandledException.txt)

The unhandled exception is not thrown when removing `/refout:""ref-Unity.Postprocessing.Runtime.dll""` from `RefoutBug.rsp`

**Expected Behavior**:
No exception is thrown and the reference assembly is created.

**Actual Behavior**:
Exception is thrown and the reference assembly is not created.",Area-Compilers|Bug,gafter,2/09/2019 21:42,
38443,"Checking ""Enable nullable references analysis IDE features"" option crashes VS","**Version Used**: 
Version 16.3.0 Preview 3.0 [29230.54.d16.3]

**Steps to Reproduce**:
1. `git clone http://github.com/dotnet/project-system`
2. `cd project-system`
3. `git checkout 344a305681c5dc630f82f86880bc0a2e527fad1f`
4. `ProjectSystem.sln`
5. Tools -> Options -> Text Editor -> C# -> Advanced -> Enable nullable references analysis IDE features


```
Application: devenv.exe
Framework Version: v4.0.30319
Description: The application requested process termination through System.Environment.FailFast(string message).
Message: System.ArgumentException: '<Project852a3940-e0cd-4e7d-99e5-691190c256d9>' is not part of the workspace.
   at Microsoft.CodeAnalysis.Workspace.CheckProjectIsInCurrentSolution(ProjectId projectId)
   at Microsoft.CodeAnalysis.Workspace.HandleProjectChange(ProjectId projectId Func`2 getSolutionWithChangedProject)
   at Microsoft.CodeAnalysis.Workspace.OnParseOptionsChanged(ProjectId projectId ParseOptions options)
   at Microsoft.VisualStudio.LanguageServices.Implementation.ProjectSystem.VisualStudioProject.<>c__DisplayClass49_0.<set_ParseOptions>b__1(Workspace w)
   at Microsoft.VisualStudio.LanguageServices.Implementation.ProjectSystem.VisualStudioWorkspaceImpl.ApplyChangeToWorkspace(Action`1 action)
   at Microsoft.VisualStudio.LanguageServices.Implementation.ProjectSystem.VisualStudioProject.ChangeProjectProperty[T](T& field T newValue Func`2 withNewValue Action`1 changeValue)
   at Microsoft.VisualStudio.LanguageServices.Implementation.ProjectSystem.VisualStudioProject.set_ParseOptions(ParseOptions value)
   at Microsoft.VisualStudio.LanguageServices.Implementation.ProjectSystem.VisualStudioProjectOptionsProcessor.UpdateProjectOptions_NoLock()
   at Microsoft.VisualStudio.LanguageServices.Implementation.ProjectSystem.VisualStudioProjectOptionsProcessor.UpdateProjectForNewHostValues()
   at Microsoft.VisualStudio.LanguageServices.Implementation.ProjectSystem.VisualStudioProjectOptionsProcessor.OptionService_OptionChanged(Object sender OptionChangedEventArgs e)
   at Microsoft.CodeAnalysis.Options.OptionServiceFactory.OptionService.<>c__DisplayClass7_0.<OnGlobalOptionServiceOptionChanged>b__0()
   at Roslyn.Utilities.TaskExtensions.<>c__DisplayClass14_0.<ContinueWithAfterDelay>b__1(Task _)
   at Roslyn.Utilities.TaskExtensions.<>c__DisplayClass2_0.<SafeContinueWith>g__continuationFunction|0(Task antecedent)
   at Roslyn.Utilities.TaskExtensions.<>c__DisplayClass6_0`1.<SafeContinueWith>g__outerFunction|0(Task t)
Stack:
   at System.Environment.FailFast(System.String System.Exception)
   at Microsoft.CodeAnalysis.FailFast.OnFatalException(System.Exception)
   at Microsoft.CodeAnalysis.ErrorReporting.FatalError.Report(System.Exception System.Action`1<System.Exception>)
   at Microsoft.CodeAnalysis.ErrorReporting.FatalError.ReportUnlessCanceled(System.Exception)
   at Roslyn.Utilities.TaskExtensions+<>c__DisplayClass6_0`1[[System.Boolean mscorlib Version=4.0.0.0 Culture=neutral PublicKeyToken=b77a5c561934e089]].<SafeContinueWith>g__outerFunction|0(System.Threading.Tasks.Task)
   at Microsoft.CodeAnalysis.Workspace.CheckProjectIsInCurrentSolution(Microsoft.CodeAnalysis.ProjectId)
   at Microsoft.CodeAnalysis.Workspace.HandleProjectChange(Microsoft.CodeAnalysis.ProjectId System.Func`2<Microsoft.CodeAnalysis.SolutionMicrosoft.CodeAnalysis.Solution>)
   at Microsoft.CodeAnalysis.Workspace.OnParseOptionsChanged(Microsoft.CodeAnalysis.ProjectId Microsoft.CodeAnalysis.ParseOptions)
   at Microsoft.VisualStudio.LanguageServices.Implementation.ProjectSystem.VisualStudioProject+<>c__DisplayClass49_0.<set_ParseOptions>b__1(Microsoft.CodeAnalysis.Workspace)
   at Microsoft.VisualStudio.LanguageServices.Implementation.ProjectSystem.VisualStudioWorkspaceImpl.ApplyChangeToWorkspace(System.Action`1<Microsoft.CodeAnalysis.Workspace>)
   at Microsoft.VisualStudio.LanguageServices.Implementation.ProjectSystem.VisualStudioProject.ChangeProjectProperty[[System.__Canon mscorlib Version=4.0.0.0 Culture=neutral PublicKeyToken=b77a5c561934e089]](System.__Canon ByRef System.__Canon System.Func`2<Microsoft.CodeAnalysis.SolutionMicrosoft.CodeAnalysis.Solution> System.Action`1<Microsoft.CodeAnalysis.Workspace>)
   at Microsoft.VisualStudio.LanguageServices.Implementation.ProjectSystem.VisualStudioProject.set_ParseOptions(Microsoft.CodeAnalysis.ParseOptions)
   at Microsoft.VisualStudio.LanguageServices.Implementation.ProjectSystem.VisualStudioProjectOptionsProcessor.UpdateProjectOptions_NoLock()
   at Microsoft.VisualStudio.LanguageServices.Implementation.ProjectSystem.VisualStudioProjectOptionsProcessor.UpdateProjectForNewHostValues()
   at Microsoft.VisualStudio.LanguageServices.Implementation.ProjectSystem.VisualStudioProjectOptionsProcessor.OptionService_OptionChanged(System.Object Microsoft.CodeAnalysis.Options.OptionChangedEventArgs)
   at Microsoft.CodeAnalysis.Options.OptionServiceFactory+OptionService+<>c__DisplayClass7_0.<OnGlobalOptionServiceOptionChanged>b__0()
   at Roslyn.Utilities.TaskExtensions+<>c__DisplayClass14_0.<ContinueWithAfterDelay>b__1(System.Threading.Tasks.Task)
   at Roslyn.Utilities.TaskExtensions+<>c__DisplayClass2_0.<SafeContinueWith>g__continuationFunction|0(System.Threading.Tasks.Task)
   at Roslyn.Utilities.TaskExtensions+<>c__DisplayClass6_0`1[[System.Boolean mscorlib Version=4.0.0.0 Culture=neutral PublicKeyToken=b77a5c561934e089]].<SafeContinueWith>g__outerFunction|0(System.Threading.Tasks.Task)
   at System.Threading.Tasks.ContinuationResultTaskFromTask`1[[System.Boolean mscorlib Version=4.0.0.0 Culture=neutral PublicKeyToken=b77a5c561934e089]].InnerInvoke()
   at System.Threading.Tasks.Task.Execute()
   at System.Threading.Tasks.Task.ExecutionContextCallback(System.Object)
   at System.Threading.ExecutionContext.RunInternal(System.Threading.ExecutionContext System.Threading.ContextCallback System.Object Boolean)
   at System.Threading.ExecutionContext.Run(System.Threading.ExecutionContext System.Threading.ContextCallback System.Object Boolean)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(System.Threading.Tasks.Task ByRef)
   at System.Threading.Tasks.Task.ExecuteEntry(Boolean)
   at System.Threading.Tasks.TaskScheduler.TryExecuteTask(System.Threading.Tasks.Task)
   at Microsoft.VisualStudio.LanguageServices.Implementation.VisualStudioTaskSchedulerFactory+JoinableTaskFactoryTaskScheduler+<>c__DisplayClass5_0+<<QueueTask>b__0>d.MoveNext()
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore+MoveNextRunner.InvokeMoveNext(System.Object)
   at System.Threading.ExecutionContext.RunInternal(System.Threading.ExecutionContext System.Threading.ContextCallback System.Object Boolean)
   at System.Threading.ExecutionContext.Run(System.Threading.ExecutionContext System.Threading.ContextCallback System.Object Boolean)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore+MoveNextRunner.Run()
   at Microsoft.VisualStudio.Threading.JoinableTaskFactory+SingleExecuteProtector.TryExecute()
   at Microsoft.VisualStudio.Threading.JoinableTaskFactory+SingleExecuteProtector+<>c.<.cctor>b__20_0(System.Object)
   at System.Windows.Threading.ExceptionWrapper.InternalRealCall(System.Delegate System.Object Int32)
   at System.Windows.Threading.ExceptionWrapper.TryCatchWhen(System.Object System.Delegate System.Object Int32 System.Delegate)
   at System.Windows.Threading.DispatcherOperation.InvokeImpl()
   at System.Windows.Threading.DispatcherOperation.InvokeInSecurityContext(System.Object)
   at System.Windows.Threading.DispatcherOperation.Invoke()
   at System.Windows.Threading.Dispatcher.ProcessQueue()
   at System.Windows.Threading.Dispatcher.WndProcHook(IntPtr Int32 IntPtr IntPtr Boolean ByRef)
   at MS.Win32.HwndWrapper.WndProc(IntPtr Int32 IntPtr IntPtr Boolean ByRef)
   at MS.Win32.HwndSubclass.DispatcherCallbackOperation(System.Object)
   at System.Windows.Threading.ExceptionWrapper.InternalRealCall(System.Delegate System.Object Int32)
   at System.Windows.Threading.ExceptionWrapper.TryCatchWhen(System.Object System.Delegate System.Object Int32 System.Delegate)
   at System.Windows.Threading.Dispatcher.LegacyInvokeImpl(System.Windows.Threading.DispatcherPriority System.TimeSpan System.Delegate System.Object Int32)
   at MS.Win32.HwndSubclass.SubclassWndProc(IntPtr Int32 IntPtr IntPtr)
```","Checking ""Enable nullable references analysis IDE features"" option crashes VS **Version Used**: 
Version 16.3.0 Preview 3.0 [29230.54.d16.3]

**Steps to Reproduce**:
1. `git clone http://github.com/dotnet/project-system`
2. `cd project-system`
3. `git checkout 344a305681c5dc630f82f86880bc0a2e527fad1f`
4. `ProjectSystem.sln`
5. Tools -> Options -> Text Editor -> C# -> Advanced -> Enable nullable references analysis IDE features


```
Application: devenv.exe
Framework Version: v4.0.30319
Description: The application requested process termination through System.Environment.FailFast(string message).
Message: System.ArgumentException: '<Project852a3940-e0cd-4e7d-99e5-691190c256d9>' is not part of the workspace.
   at Microsoft.CodeAnalysis.Workspace.CheckProjectIsInCurrentSolution(ProjectId projectId)
   at Microsoft.CodeAnalysis.Workspace.HandleProjectChange(ProjectId projectId Func`2 getSolutionWithChangedProject)
   at Microsoft.CodeAnalysis.Workspace.OnParseOptionsChanged(ProjectId projectId ParseOptions options)
   at Microsoft.VisualStudio.LanguageServices.Implementation.ProjectSystem.VisualStudioProject.<>c__DisplayClass49_0.<set_ParseOptions>b__1(Workspace w)
   at Microsoft.VisualStudio.LanguageServices.Implementation.ProjectSystem.VisualStudioWorkspaceImpl.ApplyChangeToWorkspace(Action`1 action)
   at Microsoft.VisualStudio.LanguageServices.Implementation.ProjectSystem.VisualStudioProject.ChangeProjectProperty[T](T& field T newValue Func`2 withNewValue Action`1 changeValue)
   at Microsoft.VisualStudio.LanguageServices.Implementation.ProjectSystem.VisualStudioProject.set_ParseOptions(ParseOptions value)
   at Microsoft.VisualStudio.LanguageServices.Implementation.ProjectSystem.VisualStudioProjectOptionsProcessor.UpdateProjectOptions_NoLock()
   at Microsoft.VisualStudio.LanguageServices.Implementation.ProjectSystem.VisualStudioProjectOptionsProcessor.UpdateProjectForNewHostValues()
   at Microsoft.VisualStudio.LanguageServices.Implementation.ProjectSystem.VisualStudioProjectOptionsProcessor.OptionService_OptionChanged(Object sender OptionChangedEventArgs e)
   at Microsoft.CodeAnalysis.Options.OptionServiceFactory.OptionService.<>c__DisplayClass7_0.<OnGlobalOptionServiceOptionChanged>b__0()
   at Roslyn.Utilities.TaskExtensions.<>c__DisplayClass14_0.<ContinueWithAfterDelay>b__1(Task _)
   at Roslyn.Utilities.TaskExtensions.<>c__DisplayClass2_0.<SafeContinueWith>g__continuationFunction|0(Task antecedent)
   at Roslyn.Utilities.TaskExtensions.<>c__DisplayClass6_0`1.<SafeContinueWith>g__outerFunction|0(Task t)
Stack:
   at System.Environment.FailFast(System.String System.Exception)
   at Microsoft.CodeAnalysis.FailFast.OnFatalException(System.Exception)
   at Microsoft.CodeAnalysis.ErrorReporting.FatalError.Report(System.Exception System.Action`1<System.Exception>)
   at Microsoft.CodeAnalysis.ErrorReporting.FatalError.ReportUnlessCanceled(System.Exception)
   at Roslyn.Utilities.TaskExtensions+<>c__DisplayClass6_0`1[[System.Boolean mscorlib Version=4.0.0.0 Culture=neutral PublicKeyToken=b77a5c561934e089]].<SafeContinueWith>g__outerFunction|0(System.Threading.Tasks.Task)
   at Microsoft.CodeAnalysis.Workspace.CheckProjectIsInCurrentSolution(Microsoft.CodeAnalysis.ProjectId)
   at Microsoft.CodeAnalysis.Workspace.HandleProjectChange(Microsoft.CodeAnalysis.ProjectId System.Func`2<Microsoft.CodeAnalysis.SolutionMicrosoft.CodeAnalysis.Solution>)
   at Microsoft.CodeAnalysis.Workspace.OnParseOptionsChanged(Microsoft.CodeAnalysis.ProjectId Microsoft.CodeAnalysis.ParseOptions)
   at Microsoft.VisualStudio.LanguageServices.Implementation.ProjectSystem.VisualStudioProject+<>c__DisplayClass49_0.<set_ParseOptions>b__1(Microsoft.CodeAnalysis.Workspace)
   at Microsoft.VisualStudio.LanguageServices.Implementation.ProjectSystem.VisualStudioWorkspaceImpl.ApplyChangeToWorkspace(System.Action`1<Microsoft.CodeAnalysis.Workspace>)
   at Microsoft.VisualStudio.LanguageServices.Implementation.ProjectSystem.VisualStudioProject.ChangeProjectProperty[[System.__Canon mscorlib Version=4.0.0.0 Culture=neutral PublicKeyToken=b77a5c561934e089]](System.__Canon ByRef System.__Canon System.Func`2<Microsoft.CodeAnalysis.SolutionMicrosoft.CodeAnalysis.Solution> System.Action`1<Microsoft.CodeAnalysis.Workspace>)
   at Microsoft.VisualStudio.LanguageServices.Implementation.ProjectSystem.VisualStudioProject.set_ParseOptions(Microsoft.CodeAnalysis.ParseOptions)
   at Microsoft.VisualStudio.LanguageServices.Implementation.ProjectSystem.VisualStudioProjectOptionsProcessor.UpdateProjectOptions_NoLock()
   at Microsoft.VisualStudio.LanguageServices.Implementation.ProjectSystem.VisualStudioProjectOptionsProcessor.UpdateProjectForNewHostValues()
   at Microsoft.VisualStudio.LanguageServices.Implementation.ProjectSystem.VisualStudioProjectOptionsProcessor.OptionService_OptionChanged(System.Object Microsoft.CodeAnalysis.Options.OptionChangedEventArgs)
   at Microsoft.CodeAnalysis.Options.OptionServiceFactory+OptionService+<>c__DisplayClass7_0.<OnGlobalOptionServiceOptionChanged>b__0()
   at Roslyn.Utilities.TaskExtensions+<>c__DisplayClass14_0.<ContinueWithAfterDelay>b__1(System.Threading.Tasks.Task)
   at Roslyn.Utilities.TaskExtensions+<>c__DisplayClass2_0.<SafeContinueWith>g__continuationFunction|0(System.Threading.Tasks.Task)
   at Roslyn.Utilities.TaskExtensions+<>c__DisplayClass6_0`1[[System.Boolean mscorlib Version=4.0.0.0 Culture=neutral PublicKeyToken=b77a5c561934e089]].<SafeContinueWith>g__outerFunction|0(System.Threading.Tasks.Task)
   at System.Threading.Tasks.ContinuationResultTaskFromTask`1[[System.Boolean mscorlib Version=4.0.0.0 Culture=neutral PublicKeyToken=b77a5c561934e089]].InnerInvoke()
   at System.Threading.Tasks.Task.Execute()
   at System.Threading.Tasks.Task.ExecutionContextCallback(System.Object)
   at System.Threading.ExecutionContext.RunInternal(System.Threading.ExecutionContext System.Threading.ContextCallback System.Object Boolean)
   at System.Threading.ExecutionContext.Run(System.Threading.ExecutionContext System.Threading.ContextCallback System.Object Boolean)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(System.Threading.Tasks.Task ByRef)
   at System.Threading.Tasks.Task.ExecuteEntry(Boolean)
   at System.Threading.Tasks.TaskScheduler.TryExecuteTask(System.Threading.Tasks.Task)
   at Microsoft.VisualStudio.LanguageServices.Implementation.VisualStudioTaskSchedulerFactory+JoinableTaskFactoryTaskScheduler+<>c__DisplayClass5_0+<<QueueTask>b__0>d.MoveNext()
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore+MoveNextRunner.InvokeMoveNext(System.Object)
   at System.Threading.ExecutionContext.RunInternal(System.Threading.ExecutionContext System.Threading.ContextCallback System.Object Boolean)
   at System.Threading.ExecutionContext.Run(System.Threading.ExecutionContext System.Threading.ContextCallback System.Object Boolean)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore+MoveNextRunner.Run()
   at Microsoft.VisualStudio.Threading.JoinableTaskFactory+SingleExecuteProtector.TryExecute()
   at Microsoft.VisualStudio.Threading.JoinableTaskFactory+SingleExecuteProtector+<>c.<.cctor>b__20_0(System.Object)
   at System.Windows.Threading.ExceptionWrapper.InternalRealCall(System.Delegate System.Object Int32)
   at System.Windows.Threading.ExceptionWrapper.TryCatchWhen(System.Object System.Delegate System.Object Int32 System.Delegate)
   at System.Windows.Threading.DispatcherOperation.InvokeImpl()
   at System.Windows.Threading.DispatcherOperation.InvokeInSecurityContext(System.Object)
   at System.Windows.Threading.DispatcherOperation.Invoke()
   at System.Windows.Threading.Dispatcher.ProcessQueue()
   at System.Windows.Threading.Dispatcher.WndProcHook(IntPtr Int32 IntPtr IntPtr Boolean ByRef)
   at MS.Win32.HwndWrapper.WndProc(IntPtr Int32 IntPtr IntPtr Boolean ByRef)
   at MS.Win32.HwndSubclass.DispatcherCallbackOperation(System.Object)
   at System.Windows.Threading.ExceptionWrapper.InternalRealCall(System.Delegate System.Object Int32)
   at System.Windows.Threading.ExceptionWrapper.TryCatchWhen(System.Object System.Delegate System.Object Int32 System.Delegate)
   at System.Windows.Threading.Dispatcher.LegacyInvokeImpl(System.Windows.Threading.DispatcherPriority System.TimeSpan System.Delegate System.Object Int32)
   at MS.Win32.HwndSubclass.SubclassWndProc(IntPtr Int32 IntPtr IntPtr)
```",Area-IDE|Bug|Tenet-Reliability,jasonmalinowski,,
38442,DisposeObjectsBeforeLosingScopeDiagnosticAnalyzer: ArgumentOutOfRange in GetAnonymousFunctionControlFlowGraph,"**Version Used**: 
Roslyn 3.3

Seeing a first-chance ArgumentOutOfRangeException in DisposeObjectsBeforeLosingScopeDiagnosticAnalyzer on a pretty complicated type. I was unable to isolate a short repro. Long repro available upon request.

This could be a dupe of https://github.com/dotnet/roslyn/issues/29836 but I'm filing just in case.
The ArgumentOutOfRange is caught here:
https://github.com/dotnet/roslyn-analyzers/blob/3f44df7de96267a2b0bf7a4ba6a0086fc560fc18/src/Utilities/FlowAnalysis/FlowAnalysis/Framework/DataFlow/AbstractDataFlowAnalysisContext.cs#L134-L140

See also: https://github.com/dotnet/roslyn-analyzers/issues/1812

```
  | Microsoft.CodeAnalysis | Microsoft.CodeAnalysis.FlowAnalysis.ControlFlowGraph.GetAnonymousFunctionControlFlowGraph
-- | -- | --
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.AbstractDataFlowAnalysisContext`4.GetAnonymousFunctionControlFlowGraph
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.DataFlowOperationVisitor`4+<>c__DisplayClass216_0.<VisitInvocation_Lambda>g__getCfg\|0
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.DataFlowOperationVisitor`4.PerformInterproceduralAnalysis
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.DataFlowOperationVisitor`4.VisitInvocation_Lambda
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.PointsToAnalysis.PointsToAnalysis+PointsToDataFlowOperationVisitor.VisitInvocation_Lambda
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.DataFlowOperationVisitor`4+<>c__DisplayClass211_3.<VisitInvocation_LambdaOrDelegateOrLocalFunction>b__7
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.DataFlowOperationVisitor`4+<>c__DisplayClass211_0.<VisitInvocation_LambdaOrDelegateOrLocalFunction>g__AnalyzePossibleTargetInvocation\|5
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.DataFlowOperationVisitor`4+<>c__DisplayClass211_0.<VisitInvocation_LambdaOrDelegateOrLocalFunction>g__AnalyzePossibleTargetInvocations\|4
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.DataFlowOperationVisitor`4.VisitInvocation_LambdaOrDelegateOrLocalFunction
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.DataFlowOperationVisitor`4.VisitInvocation
  | Microsoft.CodeAnalysis | Microsoft.CodeAnalysis.Operations.BaseInvocationOperation.Accept
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.DataFlowOperationVisitor`4.VisitCore
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.DataFlowOperationVisitor`4.Visit
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.DataFlowOperationVisitor`4.FlowBranch
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.PointsToAnalysis.PointsToAnalysis+PointsToDataFlowOperationVisitor.FlowBranch
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.DataFlowAnalysis`5.RunCore
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.DataFlowAnalysis`5.Run
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.DataFlowAnalysis`5+<>c__DisplayClass8_0.<TryGetOrComputeResultCore>b__0
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Analyzer.Utilities.SingleThreadedConcurrentDictionary`2.GetOrAdd
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.DataFlowAnalysis`5.TryGetOrComputeResultCore
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.PointsToAnalysis.PointsToAnalysis.TryGetOrComputeResultForAnalysisContext
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.DataFlowOperationVisitor`4.PerformInterproceduralAnalysis
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.DataFlowOperationVisitor`4.VisitInvocation_NonLambdaOrDelegateOrLocalFunction
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.PointsToAnalysis.PointsToAnalysis+PointsToDataFlowOperationVisitor.VisitInvocation_NonLambdaOrDelegateOrLocalFunction
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.DataFlowOperationVisitor`4.VisitInvocation_NonLambdaOrDelegateOrLocalFunction
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.DataFlowOperationVisitor`4.VisitInvocation
  | Microsoft.CodeAnalysis | Microsoft.CodeAnalysis.Operations.BaseInvocationOperation.Accept
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.DataFlowOperationVisitor`4.VisitCore
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.DataFlowOperationVisitor`4.Visit
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.DataFlowOperationVisitor`4.VisitAssignmentOperation
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.PointsToAnalysis.PointsToAnalysis+PointsToDataFlowOperationVisitor.VisitAssignmentOperation
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.DataFlowOperationVisitor`4.VisitSimpleAssignment
  | Microsoft.CodeAnalysis | Microsoft.CodeAnalysis.Operations.BaseSimpleAssignmentOperation.Accept
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.DataFlowOperationVisitor`4.VisitCore
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.DataFlowOperationVisitor`4.Visit
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.DataFlowOperationVisitor`4.Flow
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.PointsToAnalysis.PointsToAnalysis+PointsToDataFlowOperationVisitor.Flow
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.DataFlowAnalysis`5.Flow
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.DataFlowAnalysis`5.RunCore
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.DataFlowAnalysis`5.Run
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.DataFlowAnalysis`5+<>c__DisplayClass8_0.<TryGetOrComputeResultCore>b__0
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Analyzer.Utilities.SingleThreadedConcurrentDictionary`2.GetOrAdd
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.DataFlowAnalysis`5.TryGetOrComputeResultCore
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.PointsToAnalysis.PointsToAnalysis.TryGetOrComputeResultForAnalysisContext
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.DataFlowOperationVisitor`4.PerformInterproceduralAnalysis
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.DataFlowOperationVisitor`4.VisitInvocation_NonLambdaOrDelegateOrLocalFunction
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.PointsToAnalysis.PointsToAnalysis+PointsToDataFlowOperationVisitor.VisitInvocation_NonLambdaOrDelegateOrLocalFunction
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.DataFlowOperationVisitor`4.VisitInvocation_NonLambdaOrDelegateOrLocalFunction
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.DataFlowOperationVisitor`4.VisitInvocation
  | Microsoft.CodeAnalysis | Microsoft.CodeAnalysis.Operations.BaseInvocationOperation.Accept
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.DataFlowOperationVisitor`4.VisitCore
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.DataFlowOperationVisitor`4.Visit
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.DataFlowOperationVisitor`4.VisitConversion
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.PointsToAnalysis.PointsToAnalysis+PointsToDataFlowOperationVisitor.VisitConversion
  | Microsoft.CodeAnalysis | Microsoft.CodeAnalysis.Operations.BaseConversionOperation.Accept
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.DataFlowOperationVisitor`4.VisitCore
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.DataFlowOperationVisitor`4.Visit
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.DataFlowOperationVisitor`4.VisitAssignmentOperation
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.PointsToAnalysis.PointsToAnalysis+PointsToDataFlowOperationVisitor.VisitAssignmentOperation
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.DataFlowOperationVisitor`4.VisitSimpleAssignment
  | Microsoft.CodeAnalysis | Microsoft.CodeAnalysis.Operations.BaseSimpleAssignmentOperation.Accept
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.DataFlowOperationVisitor`4.VisitCore
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.DataFlowOperationVisitor`4.Visit
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.DataFlowOperationVisitor`4.VisitArray
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.DataFlowOperationVisitor`4.DefaultVisit
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.PointsToAnalysis.PointsToAnalysis+PointsToDataFlowOperationVisitor.DefaultVisit
  | Microsoft.CodeAnalysis | Microsoft.CodeAnalysis.Operations.OperationVisitor`2.VisitExpressionStatement
  | Microsoft.CodeAnalysis | Microsoft.CodeAnalysis.Operations.BaseExpressionStatementOperation.Accept
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.DataFlowOperationVisitor`4.VisitCore
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.DataFlowOperationVisitor`4.Visit
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.DataFlowOperationVisitor`4.Flow
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.PointsToAnalysis.PointsToAnalysis+PointsToDataFlowOperationVisitor.Flow
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.DataFlowAnalysis`5.Flow
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.DataFlowAnalysis`5.RunCore
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.DataFlowAnalysis`5.Run
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.DataFlowAnalysis`5+<>c__DisplayClass8_0.<TryGetOrComputeResultCore>b__0
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Analyzer.Utilities.SingleThreadedConcurrentDictionary`2.GetOrAdd
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.DataFlowAnalysis`5.TryGetOrComputeResultCore
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.PointsToAnalysis.PointsToAnalysis.TryGetOrComputeResultForAnalysisContext
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.PointsToAnalysis.PointsToAnalysis.TryGetOrComputeResult
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.PointsToAnalysis.PointsToAnalysis.TryGetOrComputeResult
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.DisposeAnalysis.DisposeAnalysis.TryGetOrComputeResult
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.DisposeAnalysis.DisposeAnalysis.TryGetOrComputeResult
  | Microsoft.CodeAnalysis.Features | Microsoft.CodeAnalysis.DisposeAnalysis.DisposeAnalysisHelper.TryGetOrComputeResult
  | Microsoft.CodeAnalysis.Features | Microsoft.CodeAnalysis.DisposeAnalysis.DisposeObjectsBeforeLosingScopeDiagnosticAnalyzer.PerformFlowAnalysisOnOperationBlock
  | Microsoft.CodeAnalysis.Features | Microsoft.CodeAnalysis.DisposeAnalysis.DisposeObjectsBeforeLosingScopeDiagnosticAnalyzer.AnalyzeOperationBlock
  | Microsoft.CodeAnalysis.Features | Microsoft.CodeAnalysis.DisposeAnalysis.DisposeObjectsBeforeLosingScopeDiagnosticAnalyzer+<>c__DisplayClass4_0.<InitializeWorker>b__1
  | Microsoft.CodeAnalysis | Microsoft.CodeAnalysis.Diagnostics.AnalyzerExecutor+<>c__58`2.<ExecuteBlockActions>b__58_1
  | Microsoft.CodeAnalysis | Microsoft.CodeAnalysis.Diagnostics.AnalyzerExecutor.ExecuteAndCatchIfThrows_NoLock
  | Microsoft.CodeAnalysis | Microsoft.CodeAnalysis.Diagnostics.AnalyzerExecutor.ExecuteAndCatchIfThrows
  | Microsoft.CodeAnalysis | Microsoft.CodeAnalysis.Diagnostics.AnalyzerExecutor.ExecuteBlockActions
  | Microsoft.CodeAnalysis | Microsoft.CodeAnalysis.Diagnostics.AnalyzerExecutor.ExecuteBlockActionsCore
  | Microsoft.CodeAnalysis | Microsoft.CodeAnalysis.Diagnostics.AnalyzerExecutor.TryExecuteOperationBlockActions
  | Microsoft.CodeAnalysis | Microsoft.CodeAnalysis.Diagnostics.AnalyzerDriver`1+<>c__DisplayClass14_0.<TryExecuteDeclaringReferenceActions>g__executeOperationsBlockActions\|7
  | Microsoft.CodeAnalysis | Microsoft.CodeAnalysis.Diagnostics.AnalyzerDriver`1+<>c__DisplayClass14_0.<TryExecuteDeclaringReferenceActions>g__executeExecutableCodeActions\|3
  | Microsoft.CodeAnalysis | Microsoft.CodeAnalysis.Diagnostics.AnalyzerDriver`1.TryExecuteDeclaringReferenceActions
  | Microsoft.CodeAnalysis | Microsoft.CodeAnalysis.Diagnostics.AnalyzerDriver`1.TryExecuteDeclaringReferenceActions
  | Microsoft.CodeAnalysis | Microsoft.CodeAnalysis.Diagnostics.AnalyzerDriver+<TryProcessSymbolDeclaredAsync>d__96.MoveNext
  | mscorlib | System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.Start
  | Microsoft.CodeAnalysis | Microsoft.CodeAnalysis.Diagnostics.AnalyzerDriver.TryProcessSymbolDeclaredAsync
  | Microsoft.CodeAnalysis | Microsoft.CodeAnalysis.Diagnostics.AnalyzerDriver+<TryProcessEventCoreAsync>d__95.MoveNext
  | mscorlib | System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.Start
  | Microsoft.CodeAnalysis | Microsoft.CodeAnalysis.Diagnostics.AnalyzerDriver.TryProcessEventCoreAsync
  | Microsoft.CodeAnalysis | Microsoft.CodeAnalysis.Diagnostics.AnalyzerDriver+<ProcessEventAsync>d__93.MoveNext
  | mscorlib | System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start
  | Microsoft.CodeAnalysis | Microsoft.CodeAnalysis.Diagnostics.AnalyzerDriver.ProcessEventAsync
  | Microsoft.CodeAnalysis | Microsoft.CodeAnalysis.Diagnostics.AnalyzerDriver+<ProcessCompilationEventsCoreAsync>d__92.MoveNext
  | mscorlib | System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.Start
  | Microsoft.CodeAnalysis | Microsoft.CodeAnalysis.Diagnostics.AnalyzerDriver.ProcessCompilationEventsCoreAsync
  | Microsoft.CodeAnalysis | Microsoft.CodeAnalysis.Diagnostics.AnalyzerDriver+<ProcessCompilationEventsAsync>d__91.MoveNext
  | mscorlib | System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start
  | Microsoft.CodeAnalysis | Microsoft.CodeAnalysis.Diagnostics.AnalyzerDriver.ProcessCompilationEventsAsync
  | Microsoft.CodeAnalysis | Microsoft.CodeAnalysis.Diagnostics.AnalyzerDriver+<ExecutePrimaryAnalysisTaskAsync>d__64.MoveNext
  | mscorlib | System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start
  | Microsoft.CodeAnalysis | Microsoft.CodeAnalysis.Diagnostics.AnalyzerDriver.ExecutePrimaryAnalysisTaskAsync
  | Microsoft.CodeAnalysis | Microsoft.CodeAnalysis.Diagnostics.AnalyzerDriver+<AttachQueueAndProcessAllEventsAsync>d__62.MoveNext
  | mscorlib | System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start
  | Microsoft.CodeAnalysis | Microsoft.CodeAnalysis.Diagnostics.AnalyzerDriver.AttachQueueAndProcessAllEventsAsync
  | Microsoft.CodeAnalysis | Microsoft.CodeAnalysis.Diagnostics.CompilationWithAnalyzers+<ComputeAnalyzerDiagnosticsCoreAsync>d__64.MoveNext
  | mscorlib | System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start
  | Microsoft.CodeAnalysis | Microsoft.CodeAnalysis.Diagnostics.CompilationWithAnalyzers.ComputeAnalyzerDiagnosticsCoreAsync
  | Microsoft.CodeAnalysis | Microsoft.CodeAnalysis.Diagnostics.CompilationWithAnalyzers+<>c__DisplayClass57_1+<<ComputeAnalyzerDiagnosticsAsync>b__1>d.MoveNext
  | mscorlib | System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start
  | Microsoft.CodeAnalysis | Microsoft.CodeAnalysis.Diagnostics.CompilationWithAnalyzers+<>c__DisplayClass57_1.<ComputeAnalyzerDiagnosticsAsync>b__1
  | mscorlib | System.Threading.Tasks.Task`1.InnerInvoke
  | mscorlib | System.Threading.Tasks.Task.Execute
  | mscorlib | System.Threading.Tasks.Task.ExecutionContextCallback
  | mscorlib | System.Threading.ExecutionContext.RunInternal
  | mscorlib | System.Threading.ExecutionContext.Run
  | mscorlib | System.Threading.Tasks.Task.ExecuteWithThreadLocal
  | mscorlib | System.Threading.Tasks.Task.ExecuteEntry
  | mscorlib | System.Threading.Tasks.Task.System.Threading.IThreadPoolWorkItem.ExecuteWorkItem
  | mscorlib | System.Threading.ThreadPoolWorkQueue.Dispatch
  | mscorlib | System.Threading._ThreadPoolWaitCallback.PerformWaitCallback

```","DisposeObjectsBeforeLosingScopeDiagnosticAnalyzer: ArgumentOutOfRange in GetAnonymousFunctionControlFlowGraph **Version Used**: 
Roslyn 3.3

Seeing a first-chance ArgumentOutOfRangeException in DisposeObjectsBeforeLosingScopeDiagnosticAnalyzer on a pretty complicated type. I was unable to isolate a short repro. Long repro available upon request.

This could be a dupe of https://github.com/dotnet/roslyn/issues/29836 but I'm filing just in case.
The ArgumentOutOfRange is caught here:
https://github.com/dotnet/roslyn-analyzers/blob/3f44df7de96267a2b0bf7a4ba6a0086fc560fc18/src/Utilities/FlowAnalysis/FlowAnalysis/Framework/DataFlow/AbstractDataFlowAnalysisContext.cs#L134-L140

See also: https://github.com/dotnet/roslyn-analyzers/issues/1812

```
  | Microsoft.CodeAnalysis | Microsoft.CodeAnalysis.FlowAnalysis.ControlFlowGraph.GetAnonymousFunctionControlFlowGraph
-- | -- | --
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.AbstractDataFlowAnalysisContext`4.GetAnonymousFunctionControlFlowGraph
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.DataFlowOperationVisitor`4+<>c__DisplayClass216_0.<VisitInvocation_Lambda>g__getCfg\|0
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.DataFlowOperationVisitor`4.PerformInterproceduralAnalysis
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.DataFlowOperationVisitor`4.VisitInvocation_Lambda
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.PointsToAnalysis.PointsToAnalysis+PointsToDataFlowOperationVisitor.VisitInvocation_Lambda
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.DataFlowOperationVisitor`4+<>c__DisplayClass211_3.<VisitInvocation_LambdaOrDelegateOrLocalFunction>b__7
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.DataFlowOperationVisitor`4+<>c__DisplayClass211_0.<VisitInvocation_LambdaOrDelegateOrLocalFunction>g__AnalyzePossibleTargetInvocation\|5
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.DataFlowOperationVisitor`4+<>c__DisplayClass211_0.<VisitInvocation_LambdaOrDelegateOrLocalFunction>g__AnalyzePossibleTargetInvocations\|4
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.DataFlowOperationVisitor`4.VisitInvocation_LambdaOrDelegateOrLocalFunction
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.DataFlowOperationVisitor`4.VisitInvocation
  | Microsoft.CodeAnalysis | Microsoft.CodeAnalysis.Operations.BaseInvocationOperation.Accept
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.DataFlowOperationVisitor`4.VisitCore
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.DataFlowOperationVisitor`4.Visit
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.DataFlowOperationVisitor`4.FlowBranch
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.PointsToAnalysis.PointsToAnalysis+PointsToDataFlowOperationVisitor.FlowBranch
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.DataFlowAnalysis`5.RunCore
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.DataFlowAnalysis`5.Run
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.DataFlowAnalysis`5+<>c__DisplayClass8_0.<TryGetOrComputeResultCore>b__0
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Analyzer.Utilities.SingleThreadedConcurrentDictionary`2.GetOrAdd
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.DataFlowAnalysis`5.TryGetOrComputeResultCore
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.PointsToAnalysis.PointsToAnalysis.TryGetOrComputeResultForAnalysisContext
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.DataFlowOperationVisitor`4.PerformInterproceduralAnalysis
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.DataFlowOperationVisitor`4.VisitInvocation_NonLambdaOrDelegateOrLocalFunction
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.PointsToAnalysis.PointsToAnalysis+PointsToDataFlowOperationVisitor.VisitInvocation_NonLambdaOrDelegateOrLocalFunction
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.DataFlowOperationVisitor`4.VisitInvocation_NonLambdaOrDelegateOrLocalFunction
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.DataFlowOperationVisitor`4.VisitInvocation
  | Microsoft.CodeAnalysis | Microsoft.CodeAnalysis.Operations.BaseInvocationOperation.Accept
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.DataFlowOperationVisitor`4.VisitCore
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.DataFlowOperationVisitor`4.Visit
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.DataFlowOperationVisitor`4.VisitAssignmentOperation
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.PointsToAnalysis.PointsToAnalysis+PointsToDataFlowOperationVisitor.VisitAssignmentOperation
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.DataFlowOperationVisitor`4.VisitSimpleAssignment
  | Microsoft.CodeAnalysis | Microsoft.CodeAnalysis.Operations.BaseSimpleAssignmentOperation.Accept
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.DataFlowOperationVisitor`4.VisitCore
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.DataFlowOperationVisitor`4.Visit
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.DataFlowOperationVisitor`4.Flow
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.PointsToAnalysis.PointsToAnalysis+PointsToDataFlowOperationVisitor.Flow
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.DataFlowAnalysis`5.Flow
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.DataFlowAnalysis`5.RunCore
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.DataFlowAnalysis`5.Run
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.DataFlowAnalysis`5+<>c__DisplayClass8_0.<TryGetOrComputeResultCore>b__0
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Analyzer.Utilities.SingleThreadedConcurrentDictionary`2.GetOrAdd
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.DataFlowAnalysis`5.TryGetOrComputeResultCore
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.PointsToAnalysis.PointsToAnalysis.TryGetOrComputeResultForAnalysisContext
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.DataFlowOperationVisitor`4.PerformInterproceduralAnalysis
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.DataFlowOperationVisitor`4.VisitInvocation_NonLambdaOrDelegateOrLocalFunction
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.PointsToAnalysis.PointsToAnalysis+PointsToDataFlowOperationVisitor.VisitInvocation_NonLambdaOrDelegateOrLocalFunction
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.DataFlowOperationVisitor`4.VisitInvocation_NonLambdaOrDelegateOrLocalFunction
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.DataFlowOperationVisitor`4.VisitInvocation
  | Microsoft.CodeAnalysis | Microsoft.CodeAnalysis.Operations.BaseInvocationOperation.Accept
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.DataFlowOperationVisitor`4.VisitCore
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.DataFlowOperationVisitor`4.Visit
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.DataFlowOperationVisitor`4.VisitConversion
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.PointsToAnalysis.PointsToAnalysis+PointsToDataFlowOperationVisitor.VisitConversion
  | Microsoft.CodeAnalysis | Microsoft.CodeAnalysis.Operations.BaseConversionOperation.Accept
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.DataFlowOperationVisitor`4.VisitCore
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.DataFlowOperationVisitor`4.Visit
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.DataFlowOperationVisitor`4.VisitAssignmentOperation
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.PointsToAnalysis.PointsToAnalysis+PointsToDataFlowOperationVisitor.VisitAssignmentOperation
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.DataFlowOperationVisitor`4.VisitSimpleAssignment
  | Microsoft.CodeAnalysis | Microsoft.CodeAnalysis.Operations.BaseSimpleAssignmentOperation.Accept
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.DataFlowOperationVisitor`4.VisitCore
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.DataFlowOperationVisitor`4.Visit
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.DataFlowOperationVisitor`4.VisitArray
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.DataFlowOperationVisitor`4.DefaultVisit
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.PointsToAnalysis.PointsToAnalysis+PointsToDataFlowOperationVisitor.DefaultVisit
  | Microsoft.CodeAnalysis | Microsoft.CodeAnalysis.Operations.OperationVisitor`2.VisitExpressionStatement
  | Microsoft.CodeAnalysis | Microsoft.CodeAnalysis.Operations.BaseExpressionStatementOperation.Accept
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.DataFlowOperationVisitor`4.VisitCore
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.DataFlowOperationVisitor`4.Visit
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.DataFlowOperationVisitor`4.Flow
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.PointsToAnalysis.PointsToAnalysis+PointsToDataFlowOperationVisitor.Flow
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.DataFlowAnalysis`5.Flow
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.DataFlowAnalysis`5.RunCore
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.DataFlowAnalysis`5.Run
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.DataFlowAnalysis`5+<>c__DisplayClass8_0.<TryGetOrComputeResultCore>b__0
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Analyzer.Utilities.SingleThreadedConcurrentDictionary`2.GetOrAdd
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.DataFlowAnalysis`5.TryGetOrComputeResultCore
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.PointsToAnalysis.PointsToAnalysis.TryGetOrComputeResultForAnalysisContext
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.PointsToAnalysis.PointsToAnalysis.TryGetOrComputeResult
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.PointsToAnalysis.PointsToAnalysis.TryGetOrComputeResult
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.DisposeAnalysis.DisposeAnalysis.TryGetOrComputeResult
  | Microsoft.CodeAnalysis.FlowAnalysis.Utilities | Microsoft.CodeAnalysis.FlowAnalysis.DataFlow.DisposeAnalysis.DisposeAnalysis.TryGetOrComputeResult
  | Microsoft.CodeAnalysis.Features | Microsoft.CodeAnalysis.DisposeAnalysis.DisposeAnalysisHelper.TryGetOrComputeResult
  | Microsoft.CodeAnalysis.Features | Microsoft.CodeAnalysis.DisposeAnalysis.DisposeObjectsBeforeLosingScopeDiagnosticAnalyzer.PerformFlowAnalysisOnOperationBlock
  | Microsoft.CodeAnalysis.Features | Microsoft.CodeAnalysis.DisposeAnalysis.DisposeObjectsBeforeLosingScopeDiagnosticAnalyzer.AnalyzeOperationBlock
  | Microsoft.CodeAnalysis.Features | Microsoft.CodeAnalysis.DisposeAnalysis.DisposeObjectsBeforeLosingScopeDiagnosticAnalyzer+<>c__DisplayClass4_0.<InitializeWorker>b__1
  | Microsoft.CodeAnalysis | Microsoft.CodeAnalysis.Diagnostics.AnalyzerExecutor+<>c__58`2.<ExecuteBlockActions>b__58_1
  | Microsoft.CodeAnalysis | Microsoft.CodeAnalysis.Diagnostics.AnalyzerExecutor.ExecuteAndCatchIfThrows_NoLock
  | Microsoft.CodeAnalysis | Microsoft.CodeAnalysis.Diagnostics.AnalyzerExecutor.ExecuteAndCatchIfThrows
  | Microsoft.CodeAnalysis | Microsoft.CodeAnalysis.Diagnostics.AnalyzerExecutor.ExecuteBlockActions
  | Microsoft.CodeAnalysis | Microsoft.CodeAnalysis.Diagnostics.AnalyzerExecutor.ExecuteBlockActionsCore
  | Microsoft.CodeAnalysis | Microsoft.CodeAnalysis.Diagnostics.AnalyzerExecutor.TryExecuteOperationBlockActions
  | Microsoft.CodeAnalysis | Microsoft.CodeAnalysis.Diagnostics.AnalyzerDriver`1+<>c__DisplayClass14_0.<TryExecuteDeclaringReferenceActions>g__executeOperationsBlockActions\|7
  | Microsoft.CodeAnalysis | Microsoft.CodeAnalysis.Diagnostics.AnalyzerDriver`1+<>c__DisplayClass14_0.<TryExecuteDeclaringReferenceActions>g__executeExecutableCodeActions\|3
  | Microsoft.CodeAnalysis | Microsoft.CodeAnalysis.Diagnostics.AnalyzerDriver`1.TryExecuteDeclaringReferenceActions
  | Microsoft.CodeAnalysis | Microsoft.CodeAnalysis.Diagnostics.AnalyzerDriver`1.TryExecuteDeclaringReferenceActions
  | Microsoft.CodeAnalysis | Microsoft.CodeAnalysis.Diagnostics.AnalyzerDriver+<TryProcessSymbolDeclaredAsync>d__96.MoveNext
  | mscorlib | System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.Start
  | Microsoft.CodeAnalysis | Microsoft.CodeAnalysis.Diagnostics.AnalyzerDriver.TryProcessSymbolDeclaredAsync
  | Microsoft.CodeAnalysis | Microsoft.CodeAnalysis.Diagnostics.AnalyzerDriver+<TryProcessEventCoreAsync>d__95.MoveNext
  | mscorlib | System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.Start
  | Microsoft.CodeAnalysis | Microsoft.CodeAnalysis.Diagnostics.AnalyzerDriver.TryProcessEventCoreAsync
  | Microsoft.CodeAnalysis | Microsoft.CodeAnalysis.Diagnostics.AnalyzerDriver+<ProcessEventAsync>d__93.MoveNext
  | mscorlib | System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start
  | Microsoft.CodeAnalysis | Microsoft.CodeAnalysis.Diagnostics.AnalyzerDriver.ProcessEventAsync
  | Microsoft.CodeAnalysis | Microsoft.CodeAnalysis.Diagnostics.AnalyzerDriver+<ProcessCompilationEventsCoreAsync>d__92.MoveNext
  | mscorlib | System.Runtime.CompilerServices.AsyncTaskMethodBuilder`1.Start
  | Microsoft.CodeAnalysis | Microsoft.CodeAnalysis.Diagnostics.AnalyzerDriver.ProcessCompilationEventsCoreAsync
  | Microsoft.CodeAnalysis | Microsoft.CodeAnalysis.Diagnostics.AnalyzerDriver+<ProcessCompilationEventsAsync>d__91.MoveNext
  | mscorlib | System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start
  | Microsoft.CodeAnalysis | Microsoft.CodeAnalysis.Diagnostics.AnalyzerDriver.ProcessCompilationEventsAsync
  | Microsoft.CodeAnalysis | Microsoft.CodeAnalysis.Diagnostics.AnalyzerDriver+<ExecutePrimaryAnalysisTaskAsync>d__64.MoveNext
  | mscorlib | System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start
  | Microsoft.CodeAnalysis | Microsoft.CodeAnalysis.Diagnostics.AnalyzerDriver.ExecutePrimaryAnalysisTaskAsync
  | Microsoft.CodeAnalysis | Microsoft.CodeAnalysis.Diagnostics.AnalyzerDriver+<AttachQueueAndProcessAllEventsAsync>d__62.MoveNext
  | mscorlib | System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start
  | Microsoft.CodeAnalysis | Microsoft.CodeAnalysis.Diagnostics.AnalyzerDriver.AttachQueueAndProcessAllEventsAsync
  | Microsoft.CodeAnalysis | Microsoft.CodeAnalysis.Diagnostics.CompilationWithAnalyzers+<ComputeAnalyzerDiagnosticsCoreAsync>d__64.MoveNext
  | mscorlib | System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start
  | Microsoft.CodeAnalysis | Microsoft.CodeAnalysis.Diagnostics.CompilationWithAnalyzers.ComputeAnalyzerDiagnosticsCoreAsync
  | Microsoft.CodeAnalysis | Microsoft.CodeAnalysis.Diagnostics.CompilationWithAnalyzers+<>c__DisplayClass57_1+<<ComputeAnalyzerDiagnosticsAsync>b__1>d.MoveNext
  | mscorlib | System.Runtime.CompilerServices.AsyncTaskMethodBuilder.Start
  | Microsoft.CodeAnalysis | Microsoft.CodeAnalysis.Diagnostics.CompilationWithAnalyzers+<>c__DisplayClass57_1.<ComputeAnalyzerDiagnosticsAsync>b__1
  | mscorlib | System.Threading.Tasks.Task`1.InnerInvoke
  | mscorlib | System.Threading.Tasks.Task.Execute
  | mscorlib | System.Threading.Tasks.Task.ExecutionContextCallback
  | mscorlib | System.Threading.ExecutionContext.RunInternal
  | mscorlib | System.Threading.ExecutionContext.Run
  | mscorlib | System.Threading.Tasks.Task.ExecuteWithThreadLocal
  | mscorlib | System.Threading.Tasks.Task.ExecuteEntry
  | mscorlib | System.Threading.Tasks.Task.System.Threading.IThreadPoolWorkItem.ExecuteWorkItem
  | mscorlib | System.Threading.ThreadPoolWorkQueue.Dispatch
  | mscorlib | System.Threading._ThreadPoolWaitCallback.PerformWaitCallback

```",Area-IDE|Bug|IDE-CodeStyle|Resolution-Duplicate,mavasani,,
38441,Move to a newer FlowAnalysis utilities package,"This addresses the memory leak in #38330. The underlying memory leak was fixed in the FlowAnalysis utilities assembly with https://github.com/dotnet/roslyn-analyzers/pull/2795. This PR just moves Roslyn to newer Flow analysis utilities package reference with the fix.

Fixes #38330","Move to a newer FlowAnalysis utilities package This addresses the memory leak in #38330. The underlying memory leak was fixed in the FlowAnalysis utilities assembly with https://github.com/dotnet/roslyn-analyzers/pull/2795. This PR just moves Roslyn to newer Flow analysis utilities package reference with the fix.

Fixes #38330",Approved to merge|Area-IDE,mavasani|vatsalyaagrawal,2/09/2019 1:40,4/09/2019 9:16
38440,"Preserve ""unsafe"" when refactoring between properties and methods","Fixes https://github.com/dotnet/roslyn/issues/38379.

The problem is that `ISymbol` does not expose the `unsafe` modifier which is why `DeclarationModifiers.From(ISymbol)` did not preserve it.

This PR changes `DeclarationModifiers.From(ISymbol)` so that it adds `unsafe` when it's clear from the `ISymbol` that it's necessary and also adds code to the refactoring to make sure `unsafe` is preserved even in cases where it's not clear from the `ISymbol`.

A similar change is also made to the reverse refactoring.","Preserve ""unsafe"" when refactoring between properties and methods Fixes https://github.com/dotnet/roslyn/issues/38379.

The problem is that `ISymbol` does not expose the `unsafe` modifier which is why `DeclarationModifiers.From(ISymbol)` did not preserve it.

This PR changes `DeclarationModifiers.From(ISymbol)` so that it adds `unsafe` when it's clear from the `ISymbol` that it's necessary and also adds code to the refactoring to make sure `unsafe` is preserved even in cases where it's not clear from the `ISymbol`.

A similar change is also made to the reverse refactoring.",Area-IDE|Community,mavasani,,
38439,Expose DataFlowAnalysis.UnassignedVariables through public API,"This is a feature request to expose some form of this property through a public API:
https://github.com/dotnet/roslyn/blob/007022c37c6d21ee100728954bd75113e0dfe4bd/src/Compilers/VisualBasic/Portable/Analysis/FlowAnalysis/VisualBasicDataFlowAnalysis.vb#L56

### Implementation straw man suggestion

Perhaps add this to `DataFlowAnalysis`:
```csharp
    /// <summary>
    /// The set of local variables for which a value is always assigned inside
    /// a region before being read
    /// </summary>
    public abstract ImmutableArray<ISymbol> DefinitelyAssignedBeforeRead { get; }
```
The VisualBasicDataFlowAnalysis and CSharpDataFlowAnalysis both already have a private property which is a `HashSet<Symbol> UnassignedVariables`

Performance aside DefinitelyAssignedBeforeRead would be implemented as something like:
```csharp
DeclaredVariables.Where(v => !UnassignedVariables.Contains(v))
```
Obviously the way I've named it arguably you might also want to filter out variables that are never read - naming is tricky. You could instead expose it with the name `NotDefinitelyAssigned` but I don't like having negatives in names much.

### Why it's useful (for me)
I maintain a [VB <-> C# code converter](https://github.com/icsharpcode/CodeConverter). When converting VB -> C# I'd like to initialize only the locals in C# that need to be initialized. The solutions that come to mind are:
* Make use of existing DataFlowAnalysis options
  * Can't find a way to make it work: In particular I'd hoped that `DataFlowsIn` would be false when the variable was uninitialized. This was not the case when tested for integers therefore from a given usage I can't figure out whether it's the first read or not.
* Use the VB diagnostics to detect the warnings for unassigned variables
  * Doesn't work: VB doesn't warn about value types that aren't initialized but C# does care
* Never write out an initializer then detect diagnostic issues in a post-pass of the C# and add them in.
 * Could be made to work but expensive and messy: An extra pass on an intentionally broken compilation is reasonably expensive performance-wise and some of the useful type information will have been lost unless carefully stashed away.
* Using reflection to get the internal property
 * Works but perilous: I'm using this at the moment but obviously any future release could change or totally remove this property.

### Other possible solutions
In my case there's a property right there doing what I need so it's tempting to just ask for it. However the underlying information seems interesting and valuable and I wonder if it's worth exposing some of it.

* Exposing the information on an `IOperation` - providing a method call to get which variables it reads and writes. 
* Adding more information to the `SymbolFinder.FindReferencesAsync` result about whether the reference is a read/write
* Documenting more of the subtle cases on the existing properties if you know they can give me what I need
* Closing this issue because it seems like a rare use case
---
Thanks for all your continuing fantastic work on Roslyn.","Expose DataFlowAnalysis.UnassignedVariables through public API This is a feature request to expose some form of this property through a public API:
https://github.com/dotnet/roslyn/blob/007022c37c6d21ee100728954bd75113e0dfe4bd/src/Compilers/VisualBasic/Portable/Analysis/FlowAnalysis/VisualBasicDataFlowAnalysis.vb#L56

### Implementation straw man suggestion

Perhaps add this to `DataFlowAnalysis`:
```csharp
    /// <summary>
    /// The set of local variables for which a value is always assigned inside
    /// a region before being read
    /// </summary>
    public abstract ImmutableArray<ISymbol> DefinitelyAssignedBeforeRead { get; }
```
The VisualBasicDataFlowAnalysis and CSharpDataFlowAnalysis both already have a private property which is a `HashSet<Symbol> UnassignedVariables`

Performance aside DefinitelyAssignedBeforeRead would be implemented as something like:
```csharp
DeclaredVariables.Where(v => !UnassignedVariables.Contains(v))
```
Obviously the way I've named it arguably you might also want to filter out variables that are never read - naming is tricky. You could instead expose it with the name `NotDefinitelyAssigned` but I don't like having negatives in names much.

### Why it's useful (for me)
I maintain a [VB <-> C# code converter](https://github.com/icsharpcode/CodeConverter). When converting VB -> C# I'd like to initialize only the locals in C# that need to be initialized. The solutions that come to mind are:
* Make use of existing DataFlowAnalysis options
  * Can't find a way to make it work: In particular I'd hoped that `DataFlowsIn` would be false when the variable was uninitialized. This was not the case when tested for integers therefore from a given usage I can't figure out whether it's the first read or not.
* Use the VB diagnostics to detect the warnings for unassigned variables
  * Doesn't work: VB doesn't warn about value types that aren't initialized but C# does care
* Never write out an initializer then detect diagnostic issues in a post-pass of the C# and add them in.
 * Could be made to work but expensive and messy: An extra pass on an intentionally broken compilation is reasonably expensive performance-wise and some of the useful type information will have been lost unless carefully stashed away.
* Using reflection to get the internal property
 * Works but perilous: I'm using this at the moment but obviously any future release could change or totally remove this property.

### Other possible solutions
In my case there's a property right there doing what I need so it's tempting to just ask for it. However the underlying information seems interesting and valuable and I wonder if it's worth exposing some of it.

* Exposing the information on an `IOperation` - providing a method call to get which variables it reads and writes. 
* Adding more information to the `SymbolFinder.FindReferencesAsync` result about whether the reference is a read/write
* Documenting more of the subtle cases on the existing properties if you know they can give me what I need
* Closing this issue because it seems like a rare use case
---
Thanks for all your continuing fantastic work on Roslyn.",Area-Compilers|Concept-API|Feature Request,gafter,1/09/2019 2:39,
38436,Merge release/dev16.3 to release/dev16.3-vs-deps,"
This is an automatically generated pull request from release/dev16.3 into release/dev16.3-vs-deps.

``` bash
git fetch --all
git checkout merges/release/dev16.3-to-release/dev16.3-vs-deps
git reset --hard upstream/release/dev16.3-vs-deps
git merge upstream/release/dev16.3
# Fix merge conflicts
git commit
git push upstream merges/release/dev16.3-to-release/dev16.3-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge release/dev16.3 to release/dev16.3-vs-deps 
This is an automatically generated pull request from release/dev16.3 into release/dev16.3-vs-deps.

``` bash
git fetch --all
git checkout merges/release/dev16.3-to-release/dev16.3-vs-deps
git reset --hard upstream/release/dev16.3-vs-deps
git merge upstream/release/dev16.3
# Fix merge conflicts
git commit
git push upstream merges/release/dev16.3-to-release/dev16.3-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|Auto-Merge If Tests Pass,dotnet-bot|RikkiGibson,31/08/2019 10:01,4/09/2019 3:45
38435,Remove incorrect assertion,Fixes #37783,Remove incorrect assertion Fixes #37783,Area-Compilers,gafter,,
38434,Merge release/dev16.3 to master,"
This is an automatically generated pull request from release/dev16.3 into master.

``` bash
git fetch --all
git checkout merges/release/dev16.3-to-master
git reset --hard upstream/master
git merge upstream/release/dev16.3
# Fix merge conflicts
git commit
git push upstream merges/release/dev16.3-to-master --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge release/dev16.3 to master 
This is an automatically generated pull request from release/dev16.3 into master.

``` bash
git fetch --all
git checkout merges/release/dev16.3-to-master
git reset --hard upstream/master
git merge upstream/release/dev16.3
# Fix merge conflicts
git commit
git push upstream merges/release/dev16.3-to-master --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|Auto-Merge If Tests Pass,dotnet-bot|RikkiGibson,31/08/2019 10:00,4/09/2019 5:57
38433,Vbc Doesn't like DefineConstants with trailing or leading semicolons,"Add this to the bottom of Settings.props:

```xml
  <PropertyGroup Condition=""'$(DotNetBuildFromSource)' == 'true'"">
    <DefineConstants>DOTNET_BUILD_FROM_SOURCE;$(DefineConstants)</DefineConstants>
  </PropertyGroup>
```

Vbc fails to compile with:
```
vbc : error BC31030: Conditional compilation constant 'DOTNET_BUILD_FROM_SOURCE ^^ ^^ ' is not valid: Character is not  valid. [C:\Users\frsilb\Documents\git\roslyn\src\Compilers\VisualBasic\Portable\Microsoft.CodeAnalysis.VisualBasic.vbpr oj] 
```","Vbc Doesn't like DefineConstants with trailing or leading semicolons Add this to the bottom of Settings.props:

```xml
  <PropertyGroup Condition=""'$(DotNetBuildFromSource)' == 'true'"">
    <DefineConstants>DOTNET_BUILD_FROM_SOURCE;$(DefineConstants)</DefineConstants>
  </PropertyGroup>
```

Vbc fails to compile with:
```
vbc : error BC31030: Conditional compilation constant 'DOTNET_BUILD_FROM_SOURCE ^^ ^^ ' is not valid: Character is not  valid. [C:\Users\frsilb\Documents\git\roslyn\src\Compilers\VisualBasic\Portable\Microsoft.CodeAnalysis.VisualBasic.vbpr oj] 
```",Area-Compilers|Bug,333fred|gafter,31/08/2019 9:46,
38432,provide an option to log what IDE is doing somewher,"some long-running features provide a way to log its activity in some places such as output window or binlog and etc.

for example liveshare or live unit test or source-based discovery provides an option in the options page to log every activity it does in the output window.

project system provides MSBuild binlog to save all design-time build activity in bin log.

we should provide one for our BG workloads such as workspace events solution crawler events diagnostic events and etc.
","provide an option to log what IDE is doing somewher some long-running features provide a way to log its activity in some places such as output window or binlog and etc.

for example liveshare or live unit test or source-based discovery provides an option in the options page to log every activity it does in the output window.

project system provides MSBuild binlog to save all design-time build activity in bin log.

we should provide one for our BG workloads such as workspace events solution crawler events diagnostic events and etc.
",Area-IDE|Feature Request|Need Design Review,gafter|vatsalyaagrawal,31/08/2019 9:09,
38431,CodeActions light-bulb isn't stable,"**Version Used**: 
Current Int Preview

**Steps to Reproduce**:
```csharp

using System;

namespace ReordTest
{
    class Program
    {
        static void Main(string[] args)
        {
            var result = method($$arg);
        }
    }
}
```
1.  Hammer `Ctr`+`.` and `esc` at specified location
2.  Sometimes move caret elsewhere

> Note: Tried to find a reliable repro can't.

**Expected Behavior**:
The same lightbulb actions always show up.

**Actual Behavior**:
Sometimes one CodeActions is missing
![image](https://user-images.githubusercontent.com/1764721/64055194-d8ab6480-cb3f-11e9-91d6-248e92d1f6e5.png)
![image](https://user-images.githubusercontent.com/1764721/64055199-dba65500-cb3f-11e9-8e24-485b26d88821.png)
","CodeActions light-bulb isn't stable **Version Used**: 
Current Int Preview

**Steps to Reproduce**:
```csharp

using System;

namespace ReordTest
{
    class Program
    {
        static void Main(string[] args)
        {
            var result = method($$arg);
        }
    }
}
```
1.  Hammer `Ctr`+`.` and `esc` at specified location
2.  Sometimes move caret elsewhere

> Note: Tried to find a reliable repro can't.

**Expected Behavior**:
The same lightbulb actions always show up.

**Actual Behavior**:
Sometimes one CodeActions is missing
![image](https://user-images.githubusercontent.com/1764721/64055194-d8ab6480-cb3f-11e9-91d6-248e92d1f6e5.png)
![image](https://user-images.githubusercontent.com/1764721/64055199-dba65500-cb3f-11e9-8e24-485b26d88821.png)
",Area-IDE|Bug|help wanted,petrroll|vatsalyaagrawal|jinujoseph,31/08/2019 9:05,
38430,Formatter throws a exception where HostObjectValue is null,"Fixes https://devdiv.visualstudio.com/DevDiv/_workitems/edit/971364

Always check if HostObjectValue is null since any of these types might actually be a synthetic value as well.","Formatter throws a exception where HostObjectValue is null Fixes https://devdiv.visualstudio.com/DevDiv/_workitems/edit/971364

Always check if HostObjectValue is null since any of these types might actually be a synthetic value as well.",Area-Interactive|Interactive-Debugging,ivanbasov|cston|sharwell,31/08/2019 8:30,25/09/2019 2:41
38429,provide a power save mode,"we have been adding more and more features to IDE. it is long-tail features so it always helps some portion of our users. but there is also another portion of users who don't care that features or want to reduce noise or reduce system resource consumed from those features that they don't use much.

these people have been asking a way to disable those features altogether. and let those features only run when it is explicitly asked.

basically no solution crawler running no background compilation running and etc. 

it requires design meeting but similar to power save mode other IDE team provides for exactly same reason.","provide a power save mode we have been adding more and more features to IDE. it is long-tail features so it always helps some portion of our users. but there is also another portion of users who don't care that features or want to reduce noise or reduce system resource consumed from those features that they don't use much.

these people have been asking a way to disable those features altogether. and let those features only run when it is explicitly asked.

basically no solution crawler running no background compilation running and etc. 

it requires design meeting but similar to power save mode other IDE team provides for exactly same reason.",Area-IDE|Developer Community|Feature Request,mavasani,,
38428,"update build error more frequently when build + intellisense error filter is selected like when ""Build only"" is selected","right now when ""Build Only"" is selected in error list we update build errors as they come in.

![image](https://user-images.githubusercontent.com/1333179/64053135-ff649d80-cb35-11e9-8757-4d3b998491f8.png)

but when ""Build + intellisense"" is selected in error list we don't update build errors until whole build is done and relies on live errors (intellisense errors) during that time. and we do de-duplication when build is done with all errors build has reported again live errors.

![image](https://user-images.githubusercontent.com/1333179/64053151-0d1a2300-cb36-11e9-9313-bd446b5d915b.png)

we should try to improve ""build + intellisense"" case so that user can see build error update sooner like ""build only"" case.

","update build error more frequently when build + intellisense error filter is selected like when ""Build only"" is selected right now when ""Build Only"" is selected in error list we update build errors as they come in.

![image](https://user-images.githubusercontent.com/1333179/64053135-ff649d80-cb35-11e9-8757-4d3b998491f8.png)

but when ""Build + intellisense"" is selected in error list we don't update build errors until whole build is done and relies on live errors (intellisense errors) during that time. and we do de-duplication when build is done with all errors build has reported again live errors.

![image](https://user-images.githubusercontent.com/1333179/64053151-0d1a2300-cb36-11e9-9313-bd446b5d915b.png)

we should try to improve ""build + intellisense"" case so that user can see build error update sooner like ""build only"" case.

",Area-IDE|Concept-Continuous Improvement,gafter|vatsalyaagrawal,31/08/2019 7:55,
38427,Check for matching tuple names missing in type constraints,"`where T : I<(int a int b)> I<(int c int d)>` should produce an error just like `class C : I<(int a int b)> I<(int c int d)>` does.

I think this should also apply to indirect constraints such as `where T : I<(int a int b)> I2` with `interface I2 : I<(int c int d)>` out of consistency with implementation scenario (`class C : I<(int a int b)> I2 { }` produces an error).

Note: this would be a breaking change.","Check for matching tuple names missing in type constraints `where T : I<(int a int b)> I<(int c int d)>` should produce an error just like `class C : I<(int a int b)> I<(int c int d)>` does.

I think this should also apply to indirect constraints such as `where T : I<(int a int b)> I2` with `interface I2 : I<(int c int d)>` out of consistency with implementation scenario (`class C : I<(int a int b)> I2 { }` produces an error).

Note: this would be a breaking change.",Area-Compilers|Bug|New Language Feature - Tuples|Resolution-Fixed,jcouv|gafter,31/08/2019 7:53,26/09/2019 6:35
38426,.editorconfig is causing memory explosion in syntax trees,"(FYI: This may be one of the root causes of #38330 reported by @davkean.)

I have a solution which is made up of multiple copies of the project-system repo (~400 projects in total). Looking a dump of the managed heap nearly 10% of the managed heap (243mb of 2.3Gb) is consumed by duplicated strings held by `CSharpSyntaxTree.ParsedSyntaxTree`. The issue is that the project-system repo has an .editorconfig that turns diagnostics on/off and `Microsoft.CodeAnalysis.AnalyzerConfigSet.GetOptionsForSourcePath` does substring parsing of rules of the form ""dotnet_diagnostic.<diagnostic>.severity"". Since it does this _for each syntax tree in the solution_ (~6 million of them in this case) each substring parse is duplicated over and over and over again. It looks like if `AnalyzerConfig.Section` just did this substring parsing once and passed back the same string for everyone this would eliminate the duplication.",".editorconfig is causing memory explosion in syntax trees (FYI: This may be one of the root causes of #38330 reported by @davkean.)

I have a solution which is made up of multiple copies of the project-system repo (~400 projects in total). Looking a dump of the managed heap nearly 10% of the managed heap (243mb of 2.3Gb) is consumed by duplicated strings held by `CSharpSyntaxTree.ParsedSyntaxTree`. The issue is that the project-system repo has an .editorconfig that turns diagnostics on/off and `Microsoft.CodeAnalysis.AnalyzerConfigSet.GetOptionsForSourcePath` does substring parsing of rules of the form ""dotnet_diagnostic.<diagnostic>.severity"". Since it does this _for each syntax tree in the solution_ (~6 million of them in this case) each substring parse is duplicated over and over and over again. It looks like if `AnalyzerConfig.Section` just did this substring parsing once and passed back the same string for everyone this would eliminate the duplication.",Area-Analyzers|Concept-Continuous Improvement|Tenet-Performance,davkean|gafter|jasonmalinowski|agocke|vatsalyaagrawal|panopticoncentral,31/08/2019 7:50,5/10/2019 8:48
38425,Support building the workspaces layer in source-build,This requires conditionally excluding the SQLitePCLRawbundle_green dependency and conditionally excluding the code that depended on it. This code path was only used on Windows so we shouldn't be breaking any functionality source-build was depending on. To verify that we don't accidentally break source-build I've added a CI step that will run on linux and set the `DotNetBuildFromSource` flag.,Support building the workspaces layer in source-build This requires conditionally excluding the SQLitePCLRawbundle_green dependency and conditionally excluding the code that depended on it. This code path was only used on Windows so we shouldn't be breaking any functionality source-build was depending on. To verify that we don't accidentally break source-build I've added a CI step that will run on linux and set the `DotNetBuildFromSource` flag.,Approved to merge|Area-Infrastructure|Source-Build|tell-mode,333fred|jaredpar|heejaechang|tmat|agocke,31/08/2019 6:58,4/09/2019 2:51
38424,we should provide analyzer performance insight to users so that user can decide which analyzers they want to disable for a certain solution,"analyzers perf is very sensitive to how code is written. some analyzer runs cheap on a file but very expansive on other code. so just enabling all analyzers by default sometimes cause a problem for users.

internally we run this monitor to track bad analyzers (http://source.roslyn.io/#Microsoft.CodeAnalysis.Remote.Workspaces/Diagnostics/PerformanceTrackerService.cs19) and we have been running it for a while.

we should provide this information to users and let users to disable those reported bad analyzers for thier solution easily through UI.

with editorconfig work we did and work to change analyzer severity through LB I think now we have all the pieces to create analyzer blame UI and let users to control what analyzers run on what solution/project.","we should provide analyzer performance insight to users so that user can decide which analyzers they want to disable for a certain solution analyzers perf is very sensitive to how code is written. some analyzer runs cheap on a file but very expansive on other code. so just enabling all analyzers by default sometimes cause a problem for users.

internally we run this monitor to track bad analyzers (http://source.roslyn.io/#Microsoft.CodeAnalysis.Remote.Workspaces/Diagnostics/PerformanceTrackerService.cs19) and we have been running it for a while.

we should provide this information to users and let users to disable those reported bad analyzers for thier solution easily through UI.

with editorconfig work we did and work to change analyzer severity through LB I think now we have all the pieces to create analyzer blame UI and let users to control what analyzers run on what solution/project.",Area-IDE|Feature Request|Need Design Review,mavasani,,
38422,"""Option Explicit On"" does not report an error when there is an undeclared variable","_This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/681740/option-explicit-on-does-not-report-an-error-when-t.html)._

---
I always use &quot;Option Explicit On&quot; it always works very reliably!

But today in this case I do not see an error with the command &quot;For i = f.Count - 1 To 0 Step -1&quot; when the counter i has not been declared in one of my functions.

This is the first time I encountered this strange phenomenon. Please review and correct. Thank you very much!

Source code:

Private Function FMsys_to_List() As List(Of String)
        Dim f As List(Of String)
        f = New List(Of String)(File.ReadAllLines(FM_Sys encoding:=Encoding.Unicode))
        For i = f.Count - 1 To 0 Step -1
            f(i) = f(i). Trim
            ' Bo comment va dong trong
            ' Phai dung (Left1) ko duoc dung Chars(0) vi s.Chars(0) bao loi khi s=&quot;&quot;
            If f(i). Length = 0 Or Left(f(i) 1) = &quot;'&quot; Then f.RemoveAt(i)
        Next
        f.TrimExcess()
        Return f
    End Function ' FMsys_to_List

* Of course I have the &quot;Option Explicit On&quot; declaration at the top outside the Module
* The price that the Sub / Function name automatically notes right after End Sub / Function is too good. Extensive for everything else. Thanks!

---
### Original Comments

#### Visual Studio Feedback System on 8/8/2019 03:17 AM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>


---
### Original Solutions
(no solutions)","""Option Explicit On"" does not report an error when there is an undeclared variable _This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/681740/option-explicit-on-does-not-report-an-error-when-t.html)._

---
I always use &quot;Option Explicit On&quot; it always works very reliably!

But today in this case I do not see an error with the command &quot;For i = f.Count - 1 To 0 Step -1&quot; when the counter i has not been declared in one of my functions.

This is the first time I encountered this strange phenomenon. Please review and correct. Thank you very much!

Source code:

Private Function FMsys_to_List() As List(Of String)
        Dim f As List(Of String)
        f = New List(Of String)(File.ReadAllLines(FM_Sys encoding:=Encoding.Unicode))
        For i = f.Count - 1 To 0 Step -1
            f(i) = f(i). Trim
            ' Bo comment va dong trong
            ' Phai dung (Left1) ko duoc dung Chars(0) vi s.Chars(0) bao loi khi s=&quot;&quot;
            If f(i). Length = 0 Or Left(f(i) 1) = &quot;'&quot; Then f.RemoveAt(i)
        Next
        f.TrimExcess()
        Return f
    End Function ' FMsys_to_List

* Of course I have the &quot;Option Explicit On&quot; declaration at the top outside the Module
* The price that the Sub / Function name automatically notes right after End Sub / Function is too good. Extensive for everything else. Thanks!

---
### Original Comments

#### Visual Studio Feedback System on 8/8/2019 03:17 AM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>


---
### Original Solutions
(no solutions)",Area-Compilers|Language-VB|Need More Info,gafter|AlekseyTs,31/08/2019 3:48,17/09/2019 6:11
38421,Handle invalid local function parameter with default value in GetDeclaredSymbol,Avoids `ArgumentOutOfRangeException` in `CheckAndAdjustPosition`.,Handle invalid local function parameter with default value in GetDeclaredSymbol Avoids `ArgumentOutOfRangeException` in `CheckAndAdjustPosition`.,Area-Compilers,cston|AlekseyTs|jcouv,31/08/2019 2:54,31/08/2019 15:03
38420,Object synchronization method was called from an unsynchronized block of code,"**Version Used**: 
net core sdk version: 3.0.100-preview8-013656
os version: ubuntu 16.04.4 LTS x64

**Steps to Reproduce**:
clone this [project](https://github.com/Caskia/ENode-Infrastructure.git) 
checkout: ```git checkout netcoreapp3.0```
go to folder: test/ENode.Kafka.Tests
run ```dotnet build ""ENode.Kafka.Tests.csproj"" -c Release -o /app/build```

**Exception**
```
 You are using a preview version of .NET Core. See: https://aka.ms/dotnet-core-preview
/usr/share/dotnet/sdk/3.0.100-preview8-013656/Roslyn/Microsoft.CSharp.Core.targets(595): error MSB3883: Unexpected exception:  [/src/enode/src/ENode.Kafka/ENode.Kafka.csproj]
/usr/share/dotnet/sdk/3.0.100-preview8-013656/Roslyn/Microsoft.CSharp.Core.targets(595): error : System.AggregateException: One or more errors occurred. (Object synchronization method was called from an unsynchronized block of code.) [/src/enode/src/ENode.Kafka/ENode.Kafka.csproj]
/usr/share/dotnet/sdk/3.0.100-preview8-013656/Roslyn/Microsoft.CSharp.Core.targets(595): error : ---> System.ApplicationException: Object synchronization method was called from an unsynchronized block of code. [/src/enode/src/ENode.Kafka/ENode.Kafka.csproj]
/usr/share/dotnet/sdk/3.0.100-preview8-013656/Roslyn/Microsoft.CSharp.Core.targets(595): error : at System.Threading.Mutex.ReleaseMutex() [/src/enode/src/ENode.Kafka/ENode.Kafka.csproj]
/usr/share/dotnet/sdk/3.0.100-preview8-013656/Roslyn/Microsoft.CSharp.Core.targets(595): error : at Microsoft.CodeAnalysis.CommandLine.ServerNamedMutex.Dispose() [/src/enode/src/ENode.Kafka/ENode.Kafka.csproj]
/usr/share/dotnet/sdk/3.0.100-preview8-013656/Roslyn/Microsoft.CSharp.Core.targets(595): error : at Microsoft.CodeAnalysis.CommandLine.BuildServerConnection.RunServerCompilationCore(RequestLanguage language List`1 arguments BuildPathsAlt buildPaths String pipeName String keepAlive String libEnvVariable Nullable`1 timeoutOverride Func`3 tryCreateServerFunc CancellationToken cancellationToken) [/src/enode/src/ENode.Kafka/ENode.Kafka.csproj]
/usr/share/dotnet/sdk/3.0.100-preview8-013656/Roslyn/Microsoft.CSharp.Core.targets(595): error : --- End of inner exception stack trace --- [/src/enode/src/ENode.Kafka/ENode.Kafka.csproj]
/usr/share/dotnet/sdk/3.0.100-preview8-013656/Roslyn/Microsoft.CSharp.Core.targets(595): error : at System.Threading.Tasks.Task.Wait(Int32 millisecondsTimeout CancellationToken cancellationToken) [/src/enode/src/ENode.Kafka/ENode.Kafka.csproj]
/usr/share/dotnet/sdk/3.0.100-preview8-013656/Roslyn/Microsoft.CSharp.Core.targets(595): error : at System.Threading.Tasks.Task.Wait(CancellationToken cancellationToken) [/src/enode/src/ENode.Kafka/ENode.Kafka.csproj]
/usr/share/dotnet/sdk/3.0.100-preview8-013656/Roslyn/Microsoft.CSharp.Core.targets(595): error : at Microsoft.CodeAnalysis.BuildTasks.ManagedCompiler.ExecuteTool(String pathToTool String responseFileCommands String commandLineCommands) [/src/enode/src/ENode.Kafka/ENode.Kafka.csproj]
```
","Object synchronization method was called from an unsynchronized block of code **Version Used**: 
net core sdk version: 3.0.100-preview8-013656
os version: ubuntu 16.04.4 LTS x64

**Steps to Reproduce**:
clone this [project](https://github.com/Caskia/ENode-Infrastructure.git) 
checkout: ```git checkout netcoreapp3.0```
go to folder: test/ENode.Kafka.Tests
run ```dotnet build ""ENode.Kafka.Tests.csproj"" -c Release -o /app/build```

**Exception**
```
 You are using a preview version of .NET Core. See: https://aka.ms/dotnet-core-preview
/usr/share/dotnet/sdk/3.0.100-preview8-013656/Roslyn/Microsoft.CSharp.Core.targets(595): error MSB3883: Unexpected exception:  [/src/enode/src/ENode.Kafka/ENode.Kafka.csproj]
/usr/share/dotnet/sdk/3.0.100-preview8-013656/Roslyn/Microsoft.CSharp.Core.targets(595): error : System.AggregateException: One or more errors occurred. (Object synchronization method was called from an unsynchronized block of code.) [/src/enode/src/ENode.Kafka/ENode.Kafka.csproj]
/usr/share/dotnet/sdk/3.0.100-preview8-013656/Roslyn/Microsoft.CSharp.Core.targets(595): error : ---> System.ApplicationException: Object synchronization method was called from an unsynchronized block of code. [/src/enode/src/ENode.Kafka/ENode.Kafka.csproj]
/usr/share/dotnet/sdk/3.0.100-preview8-013656/Roslyn/Microsoft.CSharp.Core.targets(595): error : at System.Threading.Mutex.ReleaseMutex() [/src/enode/src/ENode.Kafka/ENode.Kafka.csproj]
/usr/share/dotnet/sdk/3.0.100-preview8-013656/Roslyn/Microsoft.CSharp.Core.targets(595): error : at Microsoft.CodeAnalysis.CommandLine.ServerNamedMutex.Dispose() [/src/enode/src/ENode.Kafka/ENode.Kafka.csproj]
/usr/share/dotnet/sdk/3.0.100-preview8-013656/Roslyn/Microsoft.CSharp.Core.targets(595): error : at Microsoft.CodeAnalysis.CommandLine.BuildServerConnection.RunServerCompilationCore(RequestLanguage language List`1 arguments BuildPathsAlt buildPaths String pipeName String keepAlive String libEnvVariable Nullable`1 timeoutOverride Func`3 tryCreateServerFunc CancellationToken cancellationToken) [/src/enode/src/ENode.Kafka/ENode.Kafka.csproj]
/usr/share/dotnet/sdk/3.0.100-preview8-013656/Roslyn/Microsoft.CSharp.Core.targets(595): error : --- End of inner exception stack trace --- [/src/enode/src/ENode.Kafka/ENode.Kafka.csproj]
/usr/share/dotnet/sdk/3.0.100-preview8-013656/Roslyn/Microsoft.CSharp.Core.targets(595): error : at System.Threading.Tasks.Task.Wait(Int32 millisecondsTimeout CancellationToken cancellationToken) [/src/enode/src/ENode.Kafka/ENode.Kafka.csproj]
/usr/share/dotnet/sdk/3.0.100-preview8-013656/Roslyn/Microsoft.CSharp.Core.targets(595): error : at System.Threading.Tasks.Task.Wait(CancellationToken cancellationToken) [/src/enode/src/ENode.Kafka/ENode.Kafka.csproj]
/usr/share/dotnet/sdk/3.0.100-preview8-013656/Roslyn/Microsoft.CSharp.Core.targets(595): error : at Microsoft.CodeAnalysis.BuildTasks.ManagedCompiler.ExecuteTool(String pathToTool String responseFileCommands String commandLineCommands) [/src/enode/src/ENode.Kafka/ENode.Kafka.csproj]
```
",Area-Compilers|Bug,gafter,30/08/2019 23:21,31/08/2019 1:31
38418,Merge master to master-vs-deps,"
This is an automatically generated pull request from master into master-vs-deps.

``` bash
git fetch --all
git checkout merges/master-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge master to master-vs-deps 
This is an automatically generated pull request from master into master-vs-deps.

``` bash
git fetch --all
git checkout merges/master-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|Auto-Merge If Tests Pass,dotnet-bot|jasonmalinowski|ivanbasov|dotnet-automerge-bot,30/08/2019 22:02,4/09/2019 5:30
38417,LOC CHECKIN | dotnet/roslyn release/dev16.3-vs-deps | 20190830,,LOC CHECKIN | dotnet/roslyn release/dev16.3-vs-deps | 20190830 ,Approved to merge|Area-Infrastructure|Auto-Merge If Tests Pass|ask-mode,v-zbsail|tmeschter|vatsalyaagrawal|jasonmalinowski|agocke|msftbot[bot],30/08/2019 19:58,7/09/2019 7:32
38416,Formatting removes newline before semicolon,"Fixes https://github.com/dotnet/roslyn/issues/38066.

This PR assumes that having a statement-ending semicolon at the start of a line is not a reasonable formatting so it's okay to reformat it.","Formatting removes newline before semicolon Fixes https://github.com/dotnet/roslyn/issues/38066.

This PR assumes that having a statement-ending semicolon at the start of a line is not a reasonable formatting so it's okay to reformat it.",Area-IDE|Community,JoeRobich,,
38415,Support compound operators with pattern Index/Range indexers,"When we added a pattern-based range compound operator lowering was
not updated to deal with the new node which it does pre-lowering since
some bound nodes (like indexers) have different code gen in the presence
of compound operators.

This change implements compound operator support for pattern Index/Range.

Fixes #37789","Support compound operators with pattern Index/Range indexers When we added a pattern-based range compound operator lowering was
not updated to deal with the new node which it does pre-lowering since
some bound nodes (like indexers) have different code gen in the presence
of compound operators.

This change implements compound operator support for pattern Index/Range.

Fixes #37789",Area-Compilers|New Language Feature - Range,agocke|jcouv|333fred|jaredpar|gafter|RikkiGibson|VSadov|AlekseyTs|cston|chsienki|fayrose,30/08/2019 17:20,12/09/2019 8:14
38414,disable unimported type in completion tests: not for merge,,disable unimported type in completion tests: not for merge ,PR For Personal Review Only,ivanbasov,30/08/2019 11:33,31/08/2019 3:05
38413,Increase Editor Completion Timeout for tests,,Increase Editor Completion Timeout for tests ,Area-IDE|IDE-IntelliSense|Test,ivanbasov|JoeRobich,30/08/2019 11:32,31/08/2019 5:21
38411,Collapse redundant types in the server,"The server has several instances of the following type hierarchy pattern:

```
interface IUtil { }
class Util : IUtil { }
class DesktopUtil : Util { } 
```

This was mostly done by myself for the following reasons:

1. At the time the compiler server only worked on desktop. It was believed that we'd need `CoreClrUtil` derivations to enable the same behavior on CoreClr. Luckily netstandard added all the types we needed hence we were able to use the `DesktopUtil` versions without modification.
1. There was a belief that we'd use an IPC mechanism other than named pipes on other operating systems. That is not the case as the named pipe implementation improved significantly and given a good deal of consistency across operating systems. 
1. Make it easier to test corner cases in the server. 

This change collapses many of the `DesktopUtil` types into the base `Util` type. 

There will likely be a few more of these changes. @agocke and I think the churn is worth the reduction in complexity and increase in code readability here. 

","Collapse redundant types in the server The server has several instances of the following type hierarchy pattern:

```
interface IUtil { }
class Util : IUtil { }
class DesktopUtil : Util { } 
```

This was mostly done by myself for the following reasons:

1. At the time the compiler server only worked on desktop. It was believed that we'd need `CoreClrUtil` derivations to enable the same behavior on CoreClr. Luckily netstandard added all the types we needed hence we were able to use the `DesktopUtil` versions without modification.
1. There was a belief that we'd use an IPC mechanism other than named pipes on other operating systems. That is not the case as the named pipe implementation improved significantly and given a good deal of consistency across operating systems. 
1. Make it easier to test corner cases in the server. 

This change collapses many of the `DesktopUtil` types into the base `Util` type. 

There will likely be a few more of these changes. @agocke and I think the churn is worth the reduction in complexity and increase in code readability here. 

",Area-Compilers,jaredpar|agocke|333fred|gafter|RikkiGibson|VSadov|AlekseyTs|cston|jcouv|chsienki|fayrose,30/08/2019 10:36,4/09/2019 6:25
38410,Use shim for c#/vb liveshare gotodef leave typescript as custom impl…,"…ementation requiring UI.

Split out the liveshare goto def into a shim and an implementation for typescript.  TS doesn't define a definition service so must use FAR which must be called on the UI thread.","Use shim for c#/vb liveshare gotodef, leave typescript as custom impl… …ementation requiring UI.

Split out the liveshare goto def into a shim and an implementation for typescript.  TS doesn't define a definition service so must use FAR which must be called on the UI thread.",Area-IDE,dibarbet|daytonellwanger|amcasey,30/08/2019 10:00,6/09/2019 5:53
38409,Fix underselection problem in invertlogical refactoring.,,Fix underselection problem in invertlogical refactoring. ,Area-IDE,petrroll,30/08/2019 9:55,6/09/2019 8:24
38408,Substituted symbol equality,,Substituted symbol equality ,PR For Personal Review Only,chsienki|AlekseyTs,30/08/2019 9:48,
38407,Merge master to master-vs-deps,"
This is an automatically generated pull request from master into master-vs-deps.
(created from a manual run of the PR generation tool)

``` bash
git fetch --all
git checkout merges/master-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge master to master-vs-deps 
This is an automatically generated pull request from master into master-vs-deps.
(created from a manual run of the PR generation tool)

``` bash
git fetch --all
git checkout merges/master-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/master
# Fix merge conflicts
git commit
git push upstream merges/master-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|Auto-Merge If Tests Pass,dotnet-bot|dotnet-automerge-bot,30/08/2019 9:36,30/08/2019 13:30
38406,Merge release/dev16.3-vs-deps to master-vs-deps,"
This is an automatically generated pull request from release/dev16.3-vs-deps into master-vs-deps.
(created from a manual run of the PR generation tool)

``` bash
git fetch --all
git checkout merges/release/dev16.3-vs-deps-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/release/dev16.3-vs-deps
# Fix merge conflicts
git commit
git push upstream merges/release/dev16.3-vs-deps-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.","Merge release/dev16.3-vs-deps to master-vs-deps 
This is an automatically generated pull request from release/dev16.3-vs-deps into master-vs-deps.
(created from a manual run of the PR generation tool)

``` bash
git fetch --all
git checkout merges/release/dev16.3-vs-deps-to-master-vs-deps
git reset --hard upstream/master-vs-deps
git merge upstream/release/dev16.3-vs-deps
# Fix merge conflicts
git commit
git push upstream merges/release/dev16.3-vs-deps-to-master-vs-deps --force
```

Once all conflicts are resolved and all the tests pass you are free to merge the pull request.",Area-Infrastructure|Auto-Merge If Tests Pass,dotnet-bot|RikkiGibson,30/08/2019 9:35,4/09/2019 5:56
38405,Global.Microsoft.VisualBasic.MyServices.Internal.ContextValue is not defined,"_This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/693419/globalmicrosoftvisualbasicmyservicesinternalcontex.html)._

---
Upgraded to Preview 2.0 and VB Core 3.0 applications no longer compile they are multiple errors and warnings.

---
### Original Comments

#### Visual Studio Feedback System on 8/14/2019 03:00 AM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>


---
### Original Solutions

#### James Mu solved on 8/13/2019 11:35 PM 0 votes: 

<p>I solved this problem by adding the following code to a new VB code file:</p><pre>Namespace Global.Microsoft.VisualBasic.MyServices.Internal
    Public Class ContextValue(Of T)
        Public Property Value As T
    End Class
End Namespace
</pre>
","Global.Microsoft.VisualBasic.MyServices.Internal.ContextValue is not defined _This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/693419/globalmicrosoftvisualbasicmyservicesinternalcontex.html)._

---
Upgraded to Preview 2.0 and VB Core 3.0 applications no longer compile they are multiple errors and warnings.

---
### Original Comments

#### Visual Studio Feedback System on 8/14/2019 03:00 AM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>


---
### Original Solutions

#### James Mu solved on 8/13/2019 11:35 PM 0 votes: 

<p>I solved this problem by adding the following code to a new VB code file:</p><pre>Namespace Global.Microsoft.VisualBasic.MyServices.Internal
    Public Class ContextValue(Of T)
        Public Property Value As T
    End Class
End Namespace
</pre>
",Resolution-Fixed,gafter,30/08/2019 9:27,31/08/2019 1:32
38404,CS8602 When using AutoMapper ForPath,"_This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/622380/cs8602-when-using-automapper-forpath.html)._

---
When using AutoMapper in dotnet core 3.0 and C# 8 will nullable reference types I'm receiving a CS8602 error when using the `ForPath` method.

If `d.LastModifiedBy` is marked as nullable I receieve a warning for the following code:

`.ForPath(d => d.LastModifiedBy.UserId x => x.MapFrom(s => s.Transaction.LastModifiedBy))`

There should be a way for developers like those who work on AutoMapper to mark parameters as being null-safe. During mapping with the `ForPath` method AutoMapper will create the `d.LastModifiedBy` object and an exception will not occur.

The workaround is to surround all my . ForPath methods with `#pragma warning disable CS8602 // Dereference of a possibly null reference.`

This workaround could lead to additional null reference exceptions occurring such as if `s.Transaction` was null.

---
### Original Comments

#### Visual Studio Feedback System on 6/26/2019 02:33 AM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>

#### Visual Studio Feedback System on 8/7/2019 06:34 PM: 

We want to let you know that this problem will likely be closed in 60 days. We set priority based on severity similar reports and the overall impact on users and scenarios. We've also learned that reports without fresh activity could indicate that the problem isn't a problem anymore. One of our goals is to give you more transparency around these decisions as resolving every problem that gets reported isn't always possible. Your feedback is essential for helping us decide what needs the most attention so please keep upvoting and commenting if you think that we need to make this a higher priority .

---
### Original Solutions
(no solutions)","CS8602 When using AutoMapper ForPath _This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/622380/cs8602-when-using-automapper-forpath.html)._

---
When using AutoMapper in dotnet core 3.0 and C# 8 will nullable reference types I'm receiving a CS8602 error when using the `ForPath` method.

If `d.LastModifiedBy` is marked as nullable I receieve a warning for the following code:

`.ForPath(d => d.LastModifiedBy.UserId x => x.MapFrom(s => s.Transaction.LastModifiedBy))`

There should be a way for developers like those who work on AutoMapper to mark parameters as being null-safe. During mapping with the `ForPath` method AutoMapper will create the `d.LastModifiedBy` object and an exception will not occur.

The workaround is to surround all my . ForPath methods with `#pragma warning disable CS8602 // Dereference of a possibly null reference.`

This workaround could lead to additional null reference exceptions occurring such as if `s.Transaction` was null.

---
### Original Comments

#### Visual Studio Feedback System on 6/26/2019 02:33 AM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>

#### Visual Studio Feedback System on 8/7/2019 06:34 PM: 

We want to let you know that this problem will likely be closed in 60 days. We set priority based on severity similar reports and the overall impact on users and scenarios. We've also learned that reports without fresh activity could indicate that the problem isn't a problem anymore. One of our goals is to give you more transparency around these decisions as resolving every problem that gets reported isn't always possible. Your feedback is essential for helping us decide what needs the most attention so please keep upvoting and commenting if you think that we need to make this a higher priority .

---
### Original Solutions
(no solutions)",Area-Compilers|Bug|New Language Feature - Nullable Reference Types,gafter|jaredpar,30/08/2019 9:25,
38403,Visual Studio 2019 (and preview) crashes when I paste this code into the editor,"_This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/703896/visual-studio-2019-and-preview-crashes-when-i-past.html)._

---
What steps will reproduce the problem?
1. Create a new .NET Core 3.0 (preview 7 or 8) Console Project in latest Visua Studio 2019 16.2 or preview 2.0 16.3.0 
2.  Just paste the following code below into the editor (replace the existing code)
3. Visual Studio just hangs and after a while just crash

What is the expected output? What do you see instead?

Editor shoudl not crash confirmed on a blank fresh installed Windows 10 with fresh install of latest VS2019 and .NET Core 3 preview.

Please provide any additional information below.

The code that I paste in (don't ask me why)  just copied from some website while exploring the non-nullable types feature.

```cs
#nullable enable
using System;
using System.Collections.Generic;
using System.Text;

public abstract class QueryAsserterBase
{
    public abstract void AssertQueryScalar<TItem1 TResult>(
        Func<IQueryable<TItem1> IQueryable<Nullable<TResult>>> actualQuery)
        where TResult : struct;
}

public class QueryAsserter<TContext> : QueryAsserterBase
{
    public override void AssertQueryScalar<TItem1 TResult>(
        Func<IQueryable<TItem1> IQueryable<TResult?>> actualQuery)
    {          
    }
}
```

---
### Original Comments

#### Fiona Niu[MSFT] on 8/22/2019 00:15 AM: 

<p>Thank you for taking the time to log this issue! Could you please provide more information via the Visual Studio Feedback Tool(Help -&gt; Send Feedback -&gt; Report A Problem)so that we can conduct further research?  The feedback tool  will ensure that we collect the needed information for you without worrying about what to provide (recording dump file or ETL trace).<br>
Since this issue is now marked as Need More Info that workflow is enabled in the Feedback Tool:</p>
<pre><code>• Open Visual Studio Feedback tool.
 
• Click the banner letting you know that you have problems requesting your attention.
 
• Click this problem from the list

• Click &quot;View their request and respond&quot; from the problem details banner

• Add a comment in the Attachments/Record: click Start Recording

• When the Steps Recorder tool appears perform the steps that reproduce the problem.

• When you're done choose the Stop Record button.
 
• Wait a few minutes for Visual Studio to collect and package the information that you recorded.

• Submit. You will be able to see the comment on Developer Community. For security reasons your files come directly to us and don't appear on Developer Community.
</code></pre>
<p>For the full instructions please see: <a target='_blank' href=""https://docs.microsoft.com/en-us/visualstudio/ide/how-to-report-a-problem-with-visual-studio-2017?view=vs-2017#when-further-information-is-needed-need-more-info"">https://docs.microsoft.com/en-us/visualstudio/ide/how-to-report-a-problem-with-visual-studio-2017?view=vs-2017#when-further-information-is-needed-need-more-info</a> . For information about what data is collected see <a target='_blank' href=""https://docs.microsoft.com/en-us/visualstudio/ide/developer-community-privacy?view=vs-2017#data-we-collect"">https://docs.microsoft.com/en-us/visualstudio/ide/developer-community-privacy?view=vs-2017#data-we-collect</a><br>
We look forward to hearing from you!</p>

#### visualstudio on 8/22/2019 00:28 AM: 

I just copy paste the code from the issue and bang the studio stops responding just crashes/dies after a while.  I can't type anything else after I paste the code into a new fresh console appliction.
#### Tore Nestenius on 8/22/2019 00:32 AM: 

<p>You got my recording?</p>

#### Fiona Niu[MSFT] on 8/22/2019 00:51 AM: 

<p>Thanks a lot for providing the information. We got your attachments. We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>

#### Greg Smith on 8/26/2019 08:53 AM: 

I also get this crash on the third paste of std::isfinite to replace _finite. Exactly as the OP reports VS goes unreponsive for a few seconds then restarts.

---
### Original Solutions
(no solutions)","Visual Studio 2019 (and preview) crashes when I paste this code into the editor _This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/703896/visual-studio-2019-and-preview-crashes-when-i-past.html)._

---
What steps will reproduce the problem?
1. Create a new .NET Core 3.0 (preview 7 or 8) Console Project in latest Visua Studio 2019 16.2 or preview 2.0 16.3.0 
2.  Just paste the following code below into the editor (replace the existing code)
3. Visual Studio just hangs and after a while just crash

What is the expected output? What do you see instead?

Editor shoudl not crash confirmed on a blank fresh installed Windows 10 with fresh install of latest VS2019 and .NET Core 3 preview.

Please provide any additional information below.

The code that I paste in (don't ask me why)  just copied from some website while exploring the non-nullable types feature.

```cs
#nullable enable
using System;
using System.Collections.Generic;
using System.Text;

public abstract class QueryAsserterBase
{
    public abstract void AssertQueryScalar<TItem1 TResult>(
        Func<IQueryable<TItem1> IQueryable<Nullable<TResult>>> actualQuery)
        where TResult : struct;
}

public class QueryAsserter<TContext> : QueryAsserterBase
{
    public override void AssertQueryScalar<TItem1 TResult>(
        Func<IQueryable<TItem1> IQueryable<TResult?>> actualQuery)
    {          
    }
}
```

---
### Original Comments

#### Fiona Niu[MSFT] on 8/22/2019 00:15 AM: 

<p>Thank you for taking the time to log this issue! Could you please provide more information via the Visual Studio Feedback Tool(Help -&gt; Send Feedback -&gt; Report A Problem)so that we can conduct further research?  The feedback tool  will ensure that we collect the needed information for you without worrying about what to provide (recording dump file or ETL trace).<br>
Since this issue is now marked as Need More Info that workflow is enabled in the Feedback Tool:</p>
<pre><code>• Open Visual Studio Feedback tool.
 
• Click the banner letting you know that you have problems requesting your attention.
 
• Click this problem from the list

• Click &quot;View their request and respond&quot; from the problem details banner

• Add a comment in the Attachments/Record: click Start Recording

• When the Steps Recorder tool appears perform the steps that reproduce the problem.

• When you're done choose the Stop Record button.
 
• Wait a few minutes for Visual Studio to collect and package the information that you recorded.

• Submit. You will be able to see the comment on Developer Community. For security reasons your files come directly to us and don't appear on Developer Community.
</code></pre>
<p>For the full instructions please see: <a target='_blank' href=""https://docs.microsoft.com/en-us/visualstudio/ide/how-to-report-a-problem-with-visual-studio-2017?view=vs-2017#when-further-information-is-needed-need-more-info"">https://docs.microsoft.com/en-us/visualstudio/ide/how-to-report-a-problem-with-visual-studio-2017?view=vs-2017#when-further-information-is-needed-need-more-info</a> . For information about what data is collected see <a target='_blank' href=""https://docs.microsoft.com/en-us/visualstudio/ide/developer-community-privacy?view=vs-2017#data-we-collect"">https://docs.microsoft.com/en-us/visualstudio/ide/developer-community-privacy?view=vs-2017#data-we-collect</a><br>
We look forward to hearing from you!</p>

#### visualstudio on 8/22/2019 00:28 AM: 

I just copy paste the code from the issue and bang the studio stops responding just crashes/dies after a while.  I can't type anything else after I paste the code into a new fresh console appliction.
#### Tore Nestenius on 8/22/2019 00:32 AM: 

<p>You got my recording?</p>

#### Fiona Niu[MSFT] on 8/22/2019 00:51 AM: 

<p>Thanks a lot for providing the information. We got your attachments. We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>

#### Greg Smith on 8/26/2019 08:53 AM: 

I also get this crash on the third paste of std::isfinite to replace _finite. Exactly as the OP reports VS goes unreponsive for a few seconds then restarts.

---
### Original Solutions
(no solutions)",4 - In Review|Area-Compilers|Bug|New Language Feature - Nullable Reference Types,AlekseyTs,,
38402,VS Pro 16.3.0 Preview 2 - complex expressions causing compiler to effectively hang suspect some exponential cost,"_This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/703709/vs-pro-1630-preview-2-complex-expressions-causing.html)._

---
<p>16.2.3 would compile our work code 16.3.0 Preview 2 seemed to hang forever.</p>
<p>It is hard to provide a stereotype of the problem without all prod code. Extracting the essence ended with a section of code that would take a disproportionately long time to compile; but would complete in about a minute.</p>
<p>I repeated the troublesome clause 4 more times which causes RAM usage to blow up into the 10s of gigabytes (I went up to 40 then shut it off).</p>
<p>Leaving this code up in the 2019 IDE will cause it to crash during analysis within a few minutes; but compiling even via the command line will consume all the machine’s ram (and never complete).</p>
<p>The attached CS file or the code below will cause all manner of mayhem. If you remove the indicated duplicates of the 4-line clauses compilation should complete but there will still be trouble with the IDE and it will still take way too long to compile for such a tiny program.</p>

```
using System;

namespace PreviewFail
{

    public sealed class A1<T>
    {

    }

    public sealed class O<T>
    {
        public R M<R>(Func<T R> w Func<R> wo) => throw new Exception(""Irrelevant"");
    }

    public sealed class WO<T>
    {
        private WO() { }
        public static WO<T> Build(A1<T> arr) => new WO<T>();

        public O<WO<T>> F(Func<T bool> filter) => new O<WO<T>>();
    }

    public static class WO
    {
        public static WO<T> Build<T>(A1<T> arr) => WO<T>.Build(arr);
        // public static WO<T> Build<T>(int a) => throw new Exception(""Irrelevant"");
    }

    public sealed class CO<T>
    {
        private CO()
        {

        }
        public static CO<T> FWO(WO<T> wo) => new CO<T>();
    }

    public static class CO
    {
        public static CO<T> FWO<T>(WO<T> wo) => CO<T>.FWO(wo);
        // public static CO<T> FWO<T>(int a) => throw new Exception(""Irrelevant"");
    }
    public sealed class CP
    {

    }

    // public sealed class W { }


    public static class CantCompile
    {
        
        public static U L<T U>(this T original Func<T U> transformed) => transformed(original);
        
        
        // Otherwise success.
        public static T L<T>(Func<T> get) => get();
        public static void L<T>(this T original Action<T> run) => run(original);

        public static void Doit()
        {

            // values don't matter
            A1<WD> aa = null;
            A1<WD> ab = null;

            Func<bool CP int> getTheChoice =
                WO.Build(aa).L(rw =>
                WO.Build(ab).L(uw =>
                CO.FWO(rw).L(rwc =>
                CO.FWO(uw).L(uwc =>

                rw.F(WD.FacetA.ISV).M(x => x () => throw new Exception("""")).L(CO.FWO).L(fa =>
                rw.F(WD.FacetB.ISV).M(x => x () => throw new Exception("""")).L(CO.FWO).L(fb =>
                    rw.F(WD.FacetC.ISV).M(x => x () => throw new Exception("""")).L(CO.FWO).L(fc =>

                    rw.F(WD.FacetD.ISV).M(x => x () => throw new Exception("""")).L(CO.FWO).L(fd =>
                    uw.F(WD.FacetA.ISV).M(x => x () => throw new Exception("""")).L(CO.FWO).L(fe =>
                    uw.F(WD.FacetB.ISV).M(x => x () => throw new Exception("""")).L(CO.FWO).L(ff =>
                    uw.F(WD.FacetC.ISV).M(x => x () => throw new Exception("""")).L(CO.FWO).L(fg =>


                    // Repeating this clause to drive up the problem. I think it's going geometric
                    rw.F(WD.FacetD.ISV).M(x => x () => throw new Exception("""")).L(CO.FWO).L(fd1 =>
                    uw.F(WD.FacetA.ISV).M(x => x () => throw new Exception("""")).L(CO.FWO).L(fe1 =>
                    uw.F(WD.FacetB.ISV).M(x => x () => throw new Exception("""")).L(CO.FWO).L(ff1 =>
                    uw.F(WD.FacetC.ISV).M(x => x () => throw new Exception("""")).L(CO.FWO).L(fg1 =>

                    rw.F(WD.FacetD.ISV).M(x => x () => throw new Exception("""")).L(CO.FWO).L(fd2 =>
                    uw.F(WD.FacetA.ISV).M(x => x () => throw new Exception("""")).L(CO.FWO).L(fe2 =>
                    uw.F(WD.FacetB.ISV).M(x => x () => throw new Exception("""")).L(CO.FWO).L(ff2 =>
                    uw.F(WD.FacetC.ISV).M(x => x () => throw new Exception("""")).L(CO.FWO).L(fg2 =>

                    rw.F(WD.FacetD.ISV).M(x => x () => throw new Exception("""")).L(CO.FWO).L(fd3 =>
                    uw.F(WD.FacetA.ISV).M(x => x () => throw new Exception("""")).L(CO.FWO).L(fe3 =>
                    uw.F(WD.FacetB.ISV).M(x => x () => throw new Exception("""")).L(CO.FWO).L(ff3 =>
                    uw.F(WD.FacetC.ISV).M(x => x () => throw new Exception("""")).L(CO.FWO).L(fg3 =>

                    rw.F(WD.FacetD.ISV).M(x => x () => throw new Exception("""")).L(CO.FWO).L(fd4 =>
                    uw.F(WD.FacetA.ISV).M(x => x () => throw new Exception("""")).L(CO.FWO).L(fe4 =>
                    uw.F(WD.FacetB.ISV).M(x => x () => throw new Exception("""")).L(CO.FWO).L(ff4 =>
                    uw.F(WD.FacetC.ISV).M(x => x () => throw new Exception("""")).L(CO.FWO).L(fg4 =>

                    new Func<bool CP int>(
                        (bool someBool CP cp) =>
                                1234
                                ))) )))) )))) )))) ))))

                 )))))))));
        }
    }

    public sealed class WD
    {
        public static readonly ST.AC<WD ED<long>> FacetA = null;
        public static readonly ST.AC<WD ED<int>> FacetB = null;
        public static readonly ST.AC<WD ED<long>> FacetC = null;
        public static readonly ST.AC<WD ED<int>> FacetD = null;

        public sealed class ED<T>
        {
        }
    }


    public static class ST
    {
        public sealed class AC<TOST TContained>
        {
            public Func<TOST bool> ISV => throw new Exception(""Irrelevant"");
        }
    }
}
```

---
### Original Comments

#### Visual Studio Feedback System on 8/22/2019 00:07 AM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>


---
### Original Solutions
(no solutions)","VS Pro 16.3.0 Preview 2 - complex expressions causing compiler to effectively hang, suspect some exponential cost _This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/703709/vs-pro-1630-preview-2-complex-expressions-causing.html)._

---
<p>16.2.3 would compile our work code 16.3.0 Preview 2 seemed to hang forever.</p>
<p>It is hard to provide a stereotype of the problem without all prod code. Extracting the essence ended with a section of code that would take a disproportionately long time to compile; but would complete in about a minute.</p>
<p>I repeated the troublesome clause 4 more times which causes RAM usage to blow up into the 10s of gigabytes (I went up to 40 then shut it off).</p>
<p>Leaving this code up in the 2019 IDE will cause it to crash during analysis within a few minutes; but compiling even via the command line will consume all the machine’s ram (and never complete).</p>
<p>The attached CS file or the code below will cause all manner of mayhem. If you remove the indicated duplicates of the 4-line clauses compilation should complete but there will still be trouble with the IDE and it will still take way too long to compile for such a tiny program.</p>

```
using System;

namespace PreviewFail
{

    public sealed class A1<T>
    {

    }

    public sealed class O<T>
    {
        public R M<R>(Func<T R> w Func<R> wo) => throw new Exception(""Irrelevant"");
    }

    public sealed class WO<T>
    {
        private WO() { }
        public static WO<T> Build(A1<T> arr) => new WO<T>();

        public O<WO<T>> F(Func<T bool> filter) => new O<WO<T>>();
    }

    public static class WO
    {
        public static WO<T> Build<T>(A1<T> arr) => WO<T>.Build(arr);
        // public static WO<T> Build<T>(int a) => throw new Exception(""Irrelevant"");
    }

    public sealed class CO<T>
    {
        private CO()
        {

        }
        public static CO<T> FWO(WO<T> wo) => new CO<T>();
    }

    public static class CO
    {
        public static CO<T> FWO<T>(WO<T> wo) => CO<T>.FWO(wo);
        // public static CO<T> FWO<T>(int a) => throw new Exception(""Irrelevant"");
    }
    public sealed class CP
    {

    }

    // public sealed class W { }


    public static class CantCompile
    {
        
        public static U L<T U>(this T original Func<T U> transformed) => transformed(original);
        
        
        // Otherwise success.
        public static T L<T>(Func<T> get) => get();
        public static void L<T>(this T original Action<T> run) => run(original);

        public static void Doit()
        {

            // values don't matter
            A1<WD> aa = null;
            A1<WD> ab = null;

            Func<bool CP int> getTheChoice =
                WO.Build(aa).L(rw =>
                WO.Build(ab).L(uw =>
                CO.FWO(rw).L(rwc =>
                CO.FWO(uw).L(uwc =>

                rw.F(WD.FacetA.ISV).M(x => x () => throw new Exception("""")).L(CO.FWO).L(fa =>
                rw.F(WD.FacetB.ISV).M(x => x () => throw new Exception("""")).L(CO.FWO).L(fb =>
                    rw.F(WD.FacetC.ISV).M(x => x () => throw new Exception("""")).L(CO.FWO).L(fc =>

                    rw.F(WD.FacetD.ISV).M(x => x () => throw new Exception("""")).L(CO.FWO).L(fd =>
                    uw.F(WD.FacetA.ISV).M(x => x () => throw new Exception("""")).L(CO.FWO).L(fe =>
                    uw.F(WD.FacetB.ISV).M(x => x () => throw new Exception("""")).L(CO.FWO).L(ff =>
                    uw.F(WD.FacetC.ISV).M(x => x () => throw new Exception("""")).L(CO.FWO).L(fg =>


                    // Repeating this clause to drive up the problem. I think it's going geometric
                    rw.F(WD.FacetD.ISV).M(x => x () => throw new Exception("""")).L(CO.FWO).L(fd1 =>
                    uw.F(WD.FacetA.ISV).M(x => x () => throw new Exception("""")).L(CO.FWO).L(fe1 =>
                    uw.F(WD.FacetB.ISV).M(x => x () => throw new Exception("""")).L(CO.FWO).L(ff1 =>
                    uw.F(WD.FacetC.ISV).M(x => x () => throw new Exception("""")).L(CO.FWO).L(fg1 =>

                    rw.F(WD.FacetD.ISV).M(x => x () => throw new Exception("""")).L(CO.FWO).L(fd2 =>
                    uw.F(WD.FacetA.ISV).M(x => x () => throw new Exception("""")).L(CO.FWO).L(fe2 =>
                    uw.F(WD.FacetB.ISV).M(x => x () => throw new Exception("""")).L(CO.FWO).L(ff2 =>
                    uw.F(WD.FacetC.ISV).M(x => x () => throw new Exception("""")).L(CO.FWO).L(fg2 =>

                    rw.F(WD.FacetD.ISV).M(x => x () => throw new Exception("""")).L(CO.FWO).L(fd3 =>
                    uw.F(WD.FacetA.ISV).M(x => x () => throw new Exception("""")).L(CO.FWO).L(fe3 =>
                    uw.F(WD.FacetB.ISV).M(x => x () => throw new Exception("""")).L(CO.FWO).L(ff3 =>
                    uw.F(WD.FacetC.ISV).M(x => x () => throw new Exception("""")).L(CO.FWO).L(fg3 =>

                    rw.F(WD.FacetD.ISV).M(x => x () => throw new Exception("""")).L(CO.FWO).L(fd4 =>
                    uw.F(WD.FacetA.ISV).M(x => x () => throw new Exception("""")).L(CO.FWO).L(fe4 =>
                    uw.F(WD.FacetB.ISV).M(x => x () => throw new Exception("""")).L(CO.FWO).L(ff4 =>
                    uw.F(WD.FacetC.ISV).M(x => x () => throw new Exception("""")).L(CO.FWO).L(fg4 =>

                    new Func<bool CP int>(
                        (bool someBool CP cp) =>
                                1234
                                ))) )))) )))) )))) ))))

                 )))))))));
        }
    }

    public sealed class WD
    {
        public static readonly ST.AC<WD ED<long>> FacetA = null;
        public static readonly ST.AC<WD ED<int>> FacetB = null;
        public static readonly ST.AC<WD ED<long>> FacetC = null;
        public static readonly ST.AC<WD ED<int>> FacetD = null;

        public sealed class ED<T>
        {
        }
    }


    public static class ST
    {
        public sealed class AC<TOST TContained>
        {
            public Func<TOST bool> ISV => throw new Exception(""Irrelevant"");
        }
    }
}
```

---
### Original Comments

#### Visual Studio Feedback System on 8/22/2019 00:07 AM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>


---
### Original Solutions
(no solutions)",Area-Compilers|Bug,jcouv,,
38401,CS1580 fired with a paramater that is generic and nullable (xml doc),"_This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/589446/cs1580-fired-with-a-paramater-that-is-generic-and.html)._

---
I'm using VS2019 16.1.1 (in VS2017 15.9.12 this does not happen)
The app is using .net core 2.2 and the analyzers Microsoft.CodeAnalysis.FxCopAnalyzers 2.9.2
StyleCop.Analyzers 1.1.118 

I have method with this definition:

```
public static bool HasValue&lt;T&gt;(this T? source) where T : struct
```

and in a xml doc I have this:

<pre>
/// &lt;summary&gt;
/// Internally uses &lt;see cref=&quot;TypeValidations.HasValue{T}(T?) &quot;/&gt;.
/// &lt;/summary&gt;
</pre>

In VS2019 this fires the error:

> Error	CS1580	Invalid type for parameter T? in XML comment cref attribute: 'TypeValidations.HasValue{T}(T?) '

If I change the documentation to `TypeValidations.HasValue{T}(Nullable{T})`  now I got an analyzer error (SA1125) telling me that I should use the shorthand notation for nullable types.

---
### Original Comments

#### Visual Studio Feedback System on 5/30/2019 07:14 PM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>

#### Visual Studio Feedback System on 6/10/2019 02:19 AM: 

<p>This issue is currently being investigated. Our team will get back to you if either more information is needed a workaround is available or the issue is resolved.</p>

#### Visual Studio Feedback System on 6/10/2019 04:13 AM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>


---
### Original Solutions
(no solutions)","CS1580 fired with a paramater that is generic and nullable (xml doc) _This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/problem/589446/cs1580-fired-with-a-paramater-that-is-generic-and.html)._

---
I'm using VS2019 16.1.1 (in VS2017 15.9.12 this does not happen)
The app is using .net core 2.2 and the analyzers Microsoft.CodeAnalysis.FxCopAnalyzers 2.9.2
StyleCop.Analyzers 1.1.118 

I have method with this definition:

```
public static bool HasValue&lt;T&gt;(this T? source) where T : struct
```

and in a xml doc I have this:

<pre>
/// &lt;summary&gt;
/// Internally uses &lt;see cref=&quot;TypeValidations.HasValue{T}(T?) &quot;/&gt;.
/// &lt;/summary&gt;
</pre>

In VS2019 this fires the error:

> Error	CS1580	Invalid type for parameter T? in XML comment cref attribute: 'TypeValidations.HasValue{T}(T?) '

If I change the documentation to `TypeValidations.HasValue{T}(Nullable{T})`  now I got an analyzer error (SA1125) telling me that I should use the shorthand notation for nullable types.

---
### Original Comments

#### Visual Studio Feedback System on 5/30/2019 07:14 PM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>

#### Visual Studio Feedback System on 6/10/2019 02:19 AM: 

<p>This issue is currently being investigated. Our team will get back to you if either more information is needed a workaround is available or the issue is resolved.</p>

#### Visual Studio Feedback System on 6/10/2019 04:13 AM: 

<p>We have directed your feedback to the appropriate engineering team for further evaluation. The team will review the feedback and notify you about the next steps.</p>


---
### Original Solutions
(no solutions)",Area-Compilers|Bug|New Language Feature - Nullable Reference Types|Resolution-Duplicate,jcouv,,
38400,Cleanup InitializeParameterCodeRefactoring.,Cleanup we've talked about with Shlomo but never got to do.,Cleanup InitializeParameterCodeRefactoring. Cleanup we've talked about with Shlomo but never got to do.,Area-IDE,petrroll,30/08/2019 9:09,31/08/2019 18:55
38399,Show Quick Info nullable analysis if the analysis is turned on globally,Fixes https://github.com/dotnet/roslyn/issues/38346,Show Quick Info nullable analysis if the analysis is turned on globally Fixes https://github.com/dotnet/roslyn/issues/38346,,jasonmalinowski,,
38398,Inconsistent accessibility checks  produce unexpected errors when types nested into interfaces are involved,"```
        [Fact]
        public void InconsistentAccessibility()
        {
            var source1 =
@""
    interface I1
    {
        protected interface I2
        {
        }
    }

    class C1
    {
        protected interface I2
        {
        }
    }

    interface I3 : I1
    {
        protected I1.I2 M1();
    }

    class C3 : I1
    {
        protected void M1(I1.I2 x) { }
    }

    class C33 : C1
    {
        protected void M1(C1.I2 x) { }
    }
"";
            var compilation1 = CreateCompilation(source1 options: TestOptions.DebugDll
                                                 parseOptions: TestOptions.Regular
                                                 targetFramework: TargetFramework.NetStandardLatest);
            compilation1.VerifyDiagnostics(
                // (1825): error CS0050: Inconsistent accessibility: return type 'I1.I2' is less accessible than method 'I3.M1()'
                //         protected I1.I2 M1();
                Diagnostic(ErrorCode.ERR_BadVisReturnType ""M1"").WithArguments(""I3.M1()"" ""I1.I2"").WithLocation(18 25)
                // (2324): error CS0051: Inconsistent accessibility: parameter type 'I1.I2' is less accessible than method 'C3.M1(I1.I2)'
                //         protected void M1(I1.I2 x) { }
                Diagnostic(ErrorCode.ERR_BadVisParamType ""M1"").WithArguments(""C3.M1(I1.I2)"" ""I1.I2"").WithLocation(23 24)
                );
        }
```

Expected: No errors. Note we don't produce the error for scenario when protected interface is nested into a class the C33 case. ","Inconsistent accessibility checks  produce unexpected errors when types nested into interfaces are involved ```
        [Fact]
        public void InconsistentAccessibility()
        {
            var source1 =
@""
    interface I1
    {
        protected interface I2
        {
        }
    }

    class C1
    {
        protected interface I2
        {
        }
    }

    interface I3 : I1
    {
        protected I1.I2 M1();
    }

    class C3 : I1
    {
        protected void M1(I1.I2 x) { }
    }

    class C33 : C1
    {
        protected void M1(C1.I2 x) { }
    }
"";
            var compilation1 = CreateCompilation(source1 options: TestOptions.DebugDll
                                                 parseOptions: TestOptions.Regular
                                                 targetFramework: TargetFramework.NetStandardLatest);
            compilation1.VerifyDiagnostics(
                // (1825): error CS0050: Inconsistent accessibility: return type 'I1.I2' is less accessible than method 'I3.M1()'
                //         protected I1.I2 M1();
                Diagnostic(ErrorCode.ERR_BadVisReturnType ""M1"").WithArguments(""I3.M1()"" ""I1.I2"").WithLocation(18 25)
                // (2324): error CS0051: Inconsistent accessibility: parameter type 'I1.I2' is less accessible than method 'C3.M1(I1.I2)'
                //         protected void M1(I1.I2 x) { }
                Diagnostic(ErrorCode.ERR_BadVisParamType ""M1"").WithArguments(""C3.M1(I1.I2)"" ""I1.I2"").WithLocation(23 24)
                );
        }
```

Expected: No errors. Note we don't produce the error for scenario when protected interface is nested into a class the C33 case. ",Area-Compilers|Bug|New Language Feature - Default Interface Impl,AlekseyTs,,
38397,Make only typescript handlers and run code actions switch to main thr…,"…ead.

Make the c#/vb handlers not require main thread execution.  

Left typescript and obsolete roslyn handler to request main thread (as it serves typescript as well).","Make only typescript handlers and run code actions switch to main thr… …ead.

Make the c#/vb handlers not require main thread execution.  

Left typescript and obsolete roslyn handler to request main thread (as it serves typescript as well).",Area-IDE,dibarbet,30/08/2019 7:57,30/08/2019 9:08
38396,Consider nullability when comparing IReference instances during emit (#38249),Port the fix for #38183 to 16.3.,Consider nullability when comparing IReference instances during emit (#38249) Port the fix for #38183 to 16.3.,Approved to merge|Area-Compilers|ask-mode,cston|jaredpar|agocke|333fred|gafter|RikkiGibson|VSadov|AlekseyTs|jcouv|chsienki|fayrose,30/08/2019 7:18,31/08/2019 6:05
38395,Call GetTextSynchronously when fetching in a synchronous way,"This code is trying to fetch the text of a single line but since it's responding to an API that's synchronous it must be synchronous. We were doing it with GetTextAsync + WaitAndGetResult which can be slow if the thread pool is busy.

Fixes https://devdiv.visualstudio.com/DevDiv/_workitems/edit/974884","Call GetTextSynchronously when fetching in a synchronous way This code is trying to fetch the text of a single line but since it's responding to an API that's synchronous it must be synchronous. We were doing it with GetTextAsync + WaitAndGetResult which can be slow if the thread pool is busy.

Fixes https://devdiv.visualstudio.com/DevDiv/_workitems/edit/974884",Area-Performance,jasonmalinowski,,
38394,Properly detect whether an explicit event implementation in an interface is a WinRT event.,"Fixes #36532.
Closes #34658.","Properly detect whether an explicit event implementation in an interface is a WinRT event. Fixes #36532.
Closes #34658.",Area-Compilers|Language-C#|New Language Feature - Default Interface Impl,jcouv,,
38393,Add an IDE test covering https://github.com/dotnet/roslyn/issues/36052,Now that https://github.com/dotnet/roslyn/issues/36052 is fixed let's have a test in the IDE too -- the generate method tests were previously only using parameters since it avoided the bug.,Add an IDE test covering https://github.com/dotnet/roslyn/issues/36052 Now that https://github.com/dotnet/roslyn/issues/36052 is fixed let's have a test in the IDE too -- the generate method tests were previously only using parameters since it avoided the bug.,Area-IDE,jasonmalinowski,,
38391,CS8603 shows up non-deterministically leading to broken cloud builds,"**Version Used**: 
VS 29229.7.master
SDK 3.0.100-preview8-013437

**Steps to Reproduce**:


```
git clone https://devdiv@dev.azure.com/devdiv/DevDiv/_git/VS.RPC.Contracts
cd VS.RPC.Contracts\src
git checkout b0cde86
dotnet build
```

**Expected Behavior**:

See a build warning:

> Utilities\DiscriminatedTypeJsonConverter`1.cs(19120): error CS8603: Possible null reference return. [E:\A\_work\177\s\src\Microsoft.VisualStudio.RpcContracts\Microsoft.VisualStudio.RpcContracts.csproj]

We want to see this consistently in local builds and in Azure Pipelines.

**Actual Behavior**:

No warning in local builds.

We only see the expected warning/error [on Azure Pipelines](https://dev.azure.com/devdiv/DevDiv/_build/results?buildId=2990053&view=logs&j=2d2b3007-3c5c-5840-9bb0-2b1ea49925f3&t=d10a53f4-5a49-5f45-ea34-c6bdb6011991&l=50).

Note we constrain the SDK version with a global.json file so we really should see consistent behavior in both places.","CS8603 shows up non-deterministically, leading to broken cloud builds **Version Used**: 
VS 29229.7.master
SDK 3.0.100-preview8-013437

**Steps to Reproduce**:


```
git clone https://devdiv@dev.azure.com/devdiv/DevDiv/_git/VS.RPC.Contracts
cd VS.RPC.Contracts\src
git checkout b0cde86
dotnet build
```

**Expected Behavior**:

See a build warning:

> Utilities\DiscriminatedTypeJsonConverter`1.cs(19120): error CS8603: Possible null reference return. [E:\A\_work\177\s\src\Microsoft.VisualStudio.RpcContracts\Microsoft.VisualStudio.RpcContracts.csproj]

We want to see this consistently in local builds and in Azure Pipelines.

**Actual Behavior**:

No warning in local builds.

We only see the expected warning/error [on Azure Pipelines](https://dev.azure.com/devdiv/DevDiv/_build/results?buildId=2990053&view=logs&j=2d2b3007-3c5c-5840-9bb0-2b1ea49925f3&t=d10a53f4-5a49-5f45-ea34-c6bdb6011991&l=50).

Note we constrain the SDK version with a global.json file so we really should see consistent behavior in both places.",Area-Compilers|Bug,cston,,
38389,Fix misspelling in FeaturesResources,,Fix misspelling in FeaturesResources ,Area-IDE|Community,jasonmalinowski,,
38388,syntax highlighting for custom keywords (like ViewBag ViewData etc.),"_This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/idea/429907/syntax-highlighting-for-custom-keywords-like-viewb.html)._

---
<p>Please add one feature that should allows us to define custom keywords and highlighting styles.<br>I
 really needed this for words like &quot;ViewBag&quot; which is now displays as 
normal text (black) but i really want to make it noticeable.<br>Thanks.</p>

---
### Original Comments

#### Jane Wu [MSFT] on 1/18/2019 00:04 AM: 

<p>Thank you for taking the time to provide your suggestion. We will do some preliminary checks to make sure we can proceed further.&nbsp;You will hear from us in about a week on our next steps.</p>
#### Cameron on 2/18/2019 01:02 PM: 

<p>Hi there</p><p>Was there a solution to this query? I would like to know how to do the same thing except with specific words in a csv file opened in VS code.</p><p>Thanks.</p>
","syntax highlighting for custom keywords (like ViewBag, ViewData etc.) _This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/idea/429907/syntax-highlighting-for-custom-keywords-like-viewb.html)._

---
<p>Please add one feature that should allows us to define custom keywords and highlighting styles.<br>I
 really needed this for words like &quot;ViewBag&quot; which is now displays as 
normal text (black) but i really want to make it noticeable.<br>Thanks.</p>

---
### Original Comments

#### Jane Wu [MSFT] on 1/18/2019 00:04 AM: 

<p>Thank you for taking the time to provide your suggestion. We will do some preliminary checks to make sure we can proceed further.&nbsp;You will hear from us in about a week on our next steps.</p>
#### Cameron on 2/18/2019 01:02 PM: 

<p>Hi there</p><p>Was there a solution to this query? I would like to know how to do the same thing except with specific words in a csv file opened in VS code.</p><p>Thanks.</p>
",Area-IDE|Developer Community|Feature Request|Need Design Review,gafter|vatsalyaagrawal,30/08/2019 4:17,
38387,"I hope to get option to insert ""#nullable enable"" when C# source code is created","_This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/idea/399522/i-hope-to-get-option-to-insert-nullable-enable-whe.html)._

---
<p>In Visual Studio 2019 and C# 8.0 I want to use &quot;#nullable enable&quot; by default. I request an option to insert &quot;#nullable enable&quot; in all source codes when created in Visual Studio 2019.</p>

---
### Original Comments

#### Jane Wu [MSFT] on 12/5/2018 06:54 PM: 

<p>Thank you for taking the time to provide your suggestion. We will do some preliminary checks to make sure we can proceed further.&nbsp;You will hear from us in about a week on our next steps.</p>","I hope to get option to insert ""#nullable enable"" when C# source code is created _This issue has been moved from [a ticket on Developer Community](https://developercommunity.visualstudio.com/content/idea/399522/i-hope-to-get-option-to-insert-nullable-enable-whe.html)._

---
<p>In Visual Studio 2019 and C# 8.0 I want to use &quot;#nullable enable&quot; by default. I request an option to insert &quot;#nullable enable&quot; in all source codes when created in Visual Studio 2019.</p>

---
### Original Comments

#### Jane Wu [MSFT] on 12/5/2018 06:54 PM: 

<p>Thank you for taking the time to provide your suggestion. We will do some preliminary checks to make sure we can proceed further.&nbsp;You will hear from us in about a week on our next steps.</p>",Area-IDE|Developer Community|Feature Request,gafter|vatsalyaagrawal,30/08/2019 4:09,
